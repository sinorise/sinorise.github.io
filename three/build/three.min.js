<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for three"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2020-12-16T05:34:22.876Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - three</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"three","packageVersion":"0.123.0","availableVersions":["0.54.0-dev","0.54.0","0.54.1-dev","0.54.2-dev","0.54.3-dev","0.54.4-dev","0.54.5-dev","0.54.6-dev","0.54.7-dev","0.54.8-dev","0.54.9-dev","0.54.10-dev","0.54.11-dev","0.54.12-dev","0.55.0","0.56.0","0.56.1","0.56.2","0.56.3","0.56.4","0.56.7","0.58.1","0.58.2","0.58.3","0.58.4","0.58.5","0.58.6","0.58.7","0.58.8","0.58.9","0.58.10","0.66.0","0.66.1","0.66.2","0.66.6","0.66.7","0.66.8","0.66.9","0.66.10","0.66.11","0.66.12","0.66.13","0.66.14","0.66.15","0.66.16","0.66.17","0.66.18","0.66.19","0.66.20","0.66.21","0.66.22","0.66.23","0.66.24","0.66.25","0.66.26","0.66.27","0.66.28","0.66.29","0.66.30","0.66.31","0.66.32-dev","0.66.35","0.66.36","0.66.37","0.66.38","0.66.39","0.66.40","0.66.41","0.66.42","0.66.43","0.66.45","0.66.46","0.66.47","0.66.48","0.66.49","0.66.50","0.66.51","0.66.52","0.66.53","0.66.54","0.66.55","0.66.56","0.66.57","0.66.58","0.66.59","0.66.60","0.66.61","0.66.62","0.66.63","0.66.64","0.66.65","0.66.66","0.66.67","0.66.68","0.66.69","0.66.70","0.66.71","0.66.72","0.66.73","0.66.74","0.66.75","0.66.76","0.66.77","0.66.78","0.66.79","0.66.80","0.66.81","0.66.82","0.66.83","0.66.84","0.66.85","0.66.86","0.66.87","0.66.88","0.66.89","0.66.90","0.66.91","0.66.92","0.66.93","0.66.94","0.66.95","0.66.96","0.66.97","0.67.0","0.68.0","0.68.86","0.68.87","0.69.0","0.70.0","0.70.1","0.71.0","0.71.1","0.72.0","0.73.0","0.73.1","0.73.2","0.74.0","0.75.0","0.76.1","0.77.0","0.77.1","0.78.0","0.79.0","0.80.0","0.80.1","0.81.0","0.81.1","0.81.2","0.82.0","0.82.1","0.83.0","0.84.0","0.85.0","0.85.1","0.85.2","0.86.0","0.87.0","0.87.1","0.88.0","0.89.0","0.90.0","0.91.0","0.92.0","0.93.0","0.94.0","0.95.0","0.96.0","0.97.0","0.98.0","0.99.0","0.100.0","0.101.0","0.101.1","0.102.0","0.102.1","0.103.0","0.104.0","0.105.0","0.105.1","0.105.2","0.106.0","0.106.1","0.106.2","0.107.0","0.108.0","0.109.0","0.110.0","0.111.0","0.112.0","0.112.1","0.113.0","0.113.1","0.113.2","0.114.0","0.115.0","0.116.0","0.116.1","0.117.0","0.117.1","0.118.0","0.118.1","0.118.2","0.118.3","0.119.0","0.119.1","0.120.0","0.120.1","0.121.0","0.121.1","0.122.0","0.123.0"],"filename":"/build/three.min.js","target":{"path":"/build/three.min.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-Zey5WOa8rpr7paItC3eiAwLrGdLz9T46Pc0b74Yag0V+73BgWBpx1xQqHoNEVJM/","language":"JavaScript","size":652698,"uri":null,"highlights":["<span class=\"code-comment\">// threejs.org/license</span>\n","!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?e(exports):<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define([<span class=\"code-string\">\"exports\"</span>],e):e((t=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> globalThis?globalThis:t||self).THREE={})}(<span class=\"code-keyword\">this</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-built_in\">Number</span>.EPSILON&amp;&amp;(<span class=\"code-built_in\">Number</span>.EPSILON=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">-52</span>)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-built_in\">Number</span>.isInteger&amp;&amp;(<span class=\"code-built_in\">Number</span>.isInteger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-built_in\">isFinite</span>(t)&amp;&amp;<span class=\"code-built_in\">Math</span>.floor(t)===t}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-built_in\">Math</span>.sign&amp;&amp;(<span class=\"code-built_in\">Math</span>.sign=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">-1</span>:t&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:+t}),<span class=\"code-string\">\"name\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">Function</span>.prototype==!<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-built_in\">Function</span>.prototype,<span class=\"code-string\">\"name\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.toString().match(<span class=\"code-regexp\">/^\\s*function\\s*([^\\(\\s]*)/</span>)[<span class=\"code-number\">1</span>]}}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-built_in\">Object</span>.assign&amp;&amp;(<span class=\"code-built_in\">Object</span>.assign=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>==t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Cannot convert undefined or null to object\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>(t),n=<span class=\"code-number\">1</span>;n&lt;<span class=\"code-built_in\">arguments</span>.length;n++){<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">arguments</span>[n];<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=r)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(r,i)&amp;&amp;(e[i]=r[i])}<span class=\"code-keyword\">return</span> e});<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">100</span>,n=<span class=\"code-number\">300</span>,r=<span class=\"code-number\">301</span>,i=<span class=\"code-number\">302</span>,a=<span class=\"code-number\">303</span>,o=<span class=\"code-number\">304</span>,s=<span class=\"code-number\">306</span>,c=<span class=\"code-number\">307</span>,l=<span class=\"code-number\">1e3</span>,u=<span class=\"code-number\">1001</span>,h=<span class=\"code-number\">1002</span>,d=<span class=\"code-number\">1003</span>,p=<span class=\"code-number\">1004</span>,f=<span class=\"code-number\">1005</span>,m=<span class=\"code-number\">1006</span>,v=<span class=\"code-number\">1007</span>,g=<span class=\"code-number\">1008</span>,y=<span class=\"code-number\">1009</span>,x=<span class=\"code-number\">1012</span>,_=<span class=\"code-number\">1014</span>,b=<span class=\"code-number\">1015</span>,w=<span class=\"code-number\">1016</span>,M=<span class=\"code-number\">1020</span>,S=<span class=\"code-number\">1022</span>,T=<span class=\"code-number\">1023</span>,E=<span class=\"code-number\">1026</span>,A=<span class=\"code-number\">1027</span>,L=<span class=\"code-number\">33776</span>,R=<span class=\"code-number\">33777</span>,C=<span class=\"code-number\">33778</span>,P=<span class=\"code-number\">33779</span>,I=<span class=\"code-number\">35840</span>,N=<span class=\"code-number\">35841</span>,D=<span class=\"code-number\">35842</span>,O=<span class=\"code-number\">35843</span>,B=<span class=\"code-number\">37492</span>,z=<span class=\"code-number\">37496</span>,U=<span class=\"code-number\">2300</span>,F=<span class=\"code-number\">2301</span>,G=<span class=\"code-number\">2302</span>,H=<span class=\"code-number\">2400</span>,k=<span class=\"code-number\">2401</span>,V=<span class=\"code-number\">2402</span>,W=<span class=\"code-number\">2500</span>,j=<span class=\"code-number\">2501</span>,q=<span class=\"code-number\">3e3</span>,X=<span class=\"code-number\">3001</span>,Y=<span class=\"code-number\">3007</span>,Z=<span class=\"code-number\">3002</span>,J=<span class=\"code-number\">3004</span>,Q=<span class=\"code-number\">3005</span>,K=<span class=\"code-number\">3006</span>,$=<span class=\"code-number\">7680</span>,tt=<span class=\"code-number\">35044</span>,et=<span class=\"code-number\">35048</span>,nt=<span class=\"code-string\">\"300 es\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rt</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-built_in\">Object</span>.assign(rt.prototype,{<span class=\"code-attr\">addEventListener</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._listeners&amp;&amp;(<span class=\"code-keyword\">this</span>._listeners={});<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._listeners;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[t]&amp;&amp;(n[t]=[]),<span class=\"code-number\">-1</span>===n[t].indexOf(e)&amp;&amp;n[t].push(e)},<span class=\"code-attr\">hasEventListener</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._listeners)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._listeners;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n[t]&amp;&amp;<span class=\"code-number\">-1</span>!==n[t].indexOf(e)},<span class=\"code-attr\">removeEventListener</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>._listeners){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._listeners[t];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n){<span class=\"code-keyword\">var</span> r=n.indexOf(e);<span class=\"code-number\">-1</span>!==r&amp;&amp;n.splice(r,<span class=\"code-number\">1</span>)}}},<span class=\"code-attr\">dispatchEvent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>._listeners){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._listeners[t.type];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e){t.target=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.slice(<span class=\"code-number\">0</span>),r=<span class=\"code-number\">0</span>,i=n.length;r&lt;i;r++)n[r].call(<span class=\"code-keyword\">this</span>,t)}}}});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> it=[],at=<span class=\"code-number\">0</span>;at&lt;<span class=\"code-number\">256</span>;at++)it[at]=(at&lt;<span class=\"code-number\">16</span>?<span class=\"code-string\">\"0\"</span>:<span class=\"code-string\">\"\"</span>)+at.toString(<span class=\"code-number\">16</span>);<span class=\"code-keyword\">var</span> ot=<span class=\"code-number\">1234567</span>,st={<span class=\"code-attr\">DEG2RAD</span>:<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">180</span>,<span class=\"code-attr\">RAD2DEG</span>:<span class=\"code-number\">180</span>/<span class=\"code-built_in\">Math</span>.PI,<span class=\"code-attr\">generateUUID</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">4294967295</span>*<span class=\"code-built_in\">Math</span>.random()|<span class=\"code-number\">0</span>,e=<span class=\"code-number\">4294967295</span>*<span class=\"code-built_in\">Math</span>.random()|<span class=\"code-number\">0</span>,n=<span class=\"code-number\">4294967295</span>*<span class=\"code-built_in\">Math</span>.random()|<span class=\"code-number\">0</span>,r=<span class=\"code-number\">4294967295</span>*<span class=\"code-built_in\">Math</span>.random()|<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>(it[<span class=\"code-number\">255</span>&amp;t]+it[t&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]+it[t&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]+it[t&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>]+<span class=\"code-string\">\"-\"</span>+it[<span class=\"code-number\">255</span>&amp;e]+it[e&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]+<span class=\"code-string\">\"-\"</span>+it[e&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">15</span>|<span class=\"code-number\">64</span>]+it[e&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>]+<span class=\"code-string\">\"-\"</span>+it[<span class=\"code-number\">63</span>&amp;n|<span class=\"code-number\">128</span>]+it[n&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]+<span class=\"code-string\">\"-\"</span>+it[n&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]+it[n&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>]+it[<span class=\"code-number\">255</span>&amp;r]+it[r&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]+it[r&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]+it[r&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>]).toUpperCase()},<span class=\"code-attr\">clamp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(e,<span class=\"code-built_in\">Math</span>.min(n,t))},<span class=\"code-attr\">euclideanModulo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(t%e+e)%e},<span class=\"code-attr\">mapLinear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span> r+(t-e)*(i-r)/(n-e)},<span class=\"code-attr\">lerp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-number\">1</span>-n)*t+n*e},<span class=\"code-attr\">smoothstep</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;=e?<span class=\"code-number\">0</span>:t&gt;=n?<span class=\"code-number\">1</span>:(t=(t-e)/(n-e))*t*(<span class=\"code-number\">3</span><span class=\"code-number\">-2</span>*t)},<span class=\"code-attr\">smootherstep</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;=e?<span class=\"code-number\">0</span>:t&gt;=n?<span class=\"code-number\">1</span>:(t=(t-e)/(n-e))*t*t*(t*(<span class=\"code-number\">6</span>*t<span class=\"code-number\">-15</span>)+<span class=\"code-number\">10</span>)},<span class=\"code-attr\">randInt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t+<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-built_in\">Math</span>.random()*(e-t+<span class=\"code-number\">1</span>))},<span class=\"code-attr\">randFloat</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t+<span class=\"code-built_in\">Math</span>.random()*(e-t)},<span class=\"code-attr\">randFloatSpread</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t*(<span class=\"code-number\">.5</span>-<span class=\"code-built_in\">Math</span>.random())},<span class=\"code-attr\">seededRandom</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;(ot=t%<span class=\"code-number\">2147483647</span>),((ot=<span class=\"code-number\">16807</span>*ot%<span class=\"code-number\">2147483647</span>)<span class=\"code-number\">-1</span>)/<span class=\"code-number\">2147483646</span>},<span class=\"code-attr\">degToRad</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t*st.DEG2RAD},<span class=\"code-attr\">radToDeg</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t*st.RAD2DEG},<span class=\"code-attr\">isPowerOfTwo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>==(t&amp;t<span class=\"code-number\">-1</span>)&amp;&amp;<span class=\"code-number\">0</span>!==t},<span class=\"code-attr\">ceilPowerOfTwo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-built_in\">Math</span>.log(t)/<span class=\"code-built_in\">Math</span>.LN2))},<span class=\"code-attr\">floorPowerOfTwo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-built_in\">Math</span>.log(t)/<span class=\"code-built_in\">Math</span>.LN2))},<span class=\"code-attr\">setQuaternionFromProperEuler</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Math</span>.cos,o=<span class=\"code-built_in\">Math</span>.sin,s=a(n/<span class=\"code-number\">2</span>),c=o(n/<span class=\"code-number\">2</span>),l=a((e+r)/<span class=\"code-number\">2</span>),u=o((e+r)/<span class=\"code-number\">2</span>),h=a((e-r)/<span class=\"code-number\">2</span>),d=o((e-r)/<span class=\"code-number\">2</span>),p=a((r-e)/<span class=\"code-number\">2</span>),f=o((r-e)/<span class=\"code-number\">2</span>);<span class=\"code-keyword\">switch</span>(i){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XYX\"</span>:t.set(s*u,c*h,c*d,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YZY\"</span>:t.set(c*d,s*u,c*h,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZXZ\"</span>:t.set(c*h,c*d,s*u,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XZX\"</span>:t.set(s*u,c*f,c*p,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YXY\"</span>:t.set(c*p,s*u,c*f,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZYZ\"</span>:t.set(c*f,c*p,s*u,s*l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: \"</span>+i)}}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ct</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;e.length;n++){<span class=\"code-keyword\">var</span> r=e[n];r.enumerable=r.enumerable||!<span class=\"code-number\">1</span>,r.configurable=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"value\"</span><span class=\"code-keyword\">in</span> r&amp;&amp;(r.writable=!<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(t,r.key,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lt</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;ct(t.prototype,e),n&amp;&amp;ct(t,n),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ut</span>(<span class=\"code-params\">t,e</span>)</span>{t.prototype=<span class=\"code-built_in\">Object</span>.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ht</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">ReferenceError</span>(<span class=\"code-string\">\"this hasn't been initialised - super() hasn't been called\"</span>);<span class=\"code-keyword\">return</span> t}<span class=\"code-keyword\">var</span> dt,pt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isVector2\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>},e.setScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>},e.setX=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>},e.setY=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>},e.setComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.x=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">this</span>.y=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.getComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x,<span class=\"code-keyword\">this</span>.y=t.y,<span class=\"code-keyword\">this</span>},e.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.addVectors(t,e)):(<span class=\"code-keyword\">this</span>.x+=t.x,<span class=\"code-keyword\">this</span>.y+=t.y,<span class=\"code-keyword\">this</span>)},e.addScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t,<span class=\"code-keyword\">this</span>.y+=t,<span class=\"code-keyword\">this</span>},e.addVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+e.x,<span class=\"code-keyword\">this</span>.y=t.y+e.y,<span class=\"code-keyword\">this</span>},e.addScaledVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t.x*e,<span class=\"code-keyword\">this</span>.y+=t.y*e,<span class=\"code-keyword\">this</span>},e.sub=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.subVectors(t,e)):(<span class=\"code-keyword\">this</span>.x-=t.x,<span class=\"code-keyword\">this</span>.y-=t.y,<span class=\"code-keyword\">this</span>)},e.subScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x-=t,<span class=\"code-keyword\">this</span>.y-=t,<span class=\"code-keyword\">this</span>},e.subVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x-e.x,<span class=\"code-keyword\">this</span>.y=t.y-e.y,<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*=t.x,<span class=\"code-keyword\">this</span>.y*=t.y,<span class=\"code-keyword\">this</span>},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*=t,<span class=\"code-keyword\">this</span>.y*=t,<span class=\"code-keyword\">this</span>},e.divide=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x/=t.x,<span class=\"code-keyword\">this</span>.y/=t.y,<span class=\"code-keyword\">this</span>},e.divideScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyScalar(<span class=\"code-number\">1</span>/t)},e.applyMatrix3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=r[<span class=\"code-number\">0</span>]*e+r[<span class=\"code-number\">3</span>]*n+r[<span class=\"code-number\">6</span>],<span class=\"code-keyword\">this</span>.y=r[<span class=\"code-number\">1</span>]*e+r[<span class=\"code-number\">4</span>]*n+r[<span class=\"code-number\">7</span>],<span class=\"code-keyword\">this</span>},e.min=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>},e.max=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>},e.clamp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t.x,<span class=\"code-built_in\">Math</span>.min(e.x,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t.y,<span class=\"code-built_in\">Math</span>.min(e.y,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>},e.clampScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>},e.clampLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.length();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(n||<span class=\"code-number\">1</span>).multiplyScalar(<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,n)))},e.floor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>},e.ceil=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>},e.round=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>},e.roundToZero=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-keyword\">this</span>.x&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-keyword\">this</span>.y&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>},e.negate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=-<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y=-<span class=\"code-keyword\">this</span>.y,<span class=\"code-keyword\">this</span>},e.dot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*t.x+<span class=\"code-keyword\">this</span>.y*t.y},e.cross=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*t.y-<span class=\"code-keyword\">this</span>.y*t.x},e.lengthSq=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y},e.length=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y)},e.manhattanLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y)},e.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(<span class=\"code-keyword\">this</span>.length()||<span class=\"code-number\">1</span>)},e.angle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">Math</span>.atan2(-<span class=\"code-keyword\">this</span>.y,-<span class=\"code-keyword\">this</span>.x)+<span class=\"code-built_in\">Math</span>.PI;<span class=\"code-keyword\">return</span> t},e.distanceTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.distanceToSquared(t))},e.distanceToSquared=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x-t.x,n=<span class=\"code-keyword\">this</span>.y-t.y;<span class=\"code-keyword\">return</span> e*e+n*n},e.manhattanDistanceTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x-t.x)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y-t.y)},e.setLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=(t.x-<span class=\"code-keyword\">this</span>.x)*e,<span class=\"code-keyword\">this</span>.y+=(t.y-<span class=\"code-keyword\">this</span>.y)*e,<span class=\"code-keyword\">this</span>},e.lerpVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+(e.x-t.x)*n,<span class=\"code-keyword\">this</span>.y=t.y+(e.y-t.y)*n,<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.x===<span class=\"code-keyword\">this</span>.x&amp;&amp;t.y===<span class=\"code-keyword\">this</span>.y},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.x=t[e],<span class=\"code-keyword\">this</span>.y=t[e+<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>.x,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>.y,t},e.fromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.x=t.getX(e),<span class=\"code-keyword\">this</span>.y=t.getY(e),<span class=\"code-keyword\">this</span>},e.rotateAround=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Math</span>.cos(e),r=<span class=\"code-built_in\">Math</span>.sin(e),i=<span class=\"code-keyword\">this</span>.x-t.x,a=<span class=\"code-keyword\">this</span>.y-t.y;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=i*n-a*r+t.x,<span class=\"code-keyword\">this</span>.y=i*r+a*n+t.y,<span class=\"code-keyword\">this</span>},e.random=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>},lt(t,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"width\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.x=t}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"height\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.y=t}}]),t}(),ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isMatrix3\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.elements=[<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>],<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\"</span>)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c</span>)</span>{<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> l[<span class=\"code-number\">0</span>]=t,l[<span class=\"code-number\">1</span>]=r,l[<span class=\"code-number\">2</span>]=o,l[<span class=\"code-number\">3</span>]=e,l[<span class=\"code-number\">4</span>]=i,l[<span class=\"code-number\">5</span>]=s,l[<span class=\"code-number\">6</span>]=n,l[<span class=\"code-number\">7</span>]=a,l[<span class=\"code-number\">8</span>]=c,<span class=\"code-keyword\">this</span>},e.identity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).fromArray(<span class=\"code-keyword\">this</span>.elements)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]=n[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>]=n[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">3</span>]=n[<span class=\"code-number\">3</span>],e[<span class=\"code-number\">4</span>]=n[<span class=\"code-number\">4</span>],e[<span class=\"code-number\">5</span>]=n[<span class=\"code-number\">5</span>],e[<span class=\"code-number\">6</span>]=n[<span class=\"code-number\">6</span>],e[<span class=\"code-number\">7</span>]=n[<span class=\"code-number\">7</span>],e[<span class=\"code-number\">8</span>]=n[<span class=\"code-number\">8</span>],<span class=\"code-keyword\">this</span>},e.extractBasis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t.setFromMatrix3Column(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">0</span>),e.setFromMatrix3Column(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">1</span>),n.setFromMatrix3Column(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>},e.setFromMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">4</span>],e[<span class=\"code-number\">8</span>],e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">5</span>],e[<span class=\"code-number\">9</span>],e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">6</span>],e[<span class=\"code-number\">10</span>]),<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyMatrices(<span class=\"code-keyword\">this</span>,t)},e.premultiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyMatrices(t,<span class=\"code-keyword\">this</span>)},e.multiplyMatrices=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.elements,r=e.elements,i=<span class=\"code-keyword\">this</span>.elements,a=n[<span class=\"code-number\">0</span>],o=n[<span class=\"code-number\">3</span>],s=n[<span class=\"code-number\">6</span>],c=n[<span class=\"code-number\">1</span>],l=n[<span class=\"code-number\">4</span>],u=n[<span class=\"code-number\">7</span>],h=n[<span class=\"code-number\">2</span>],d=n[<span class=\"code-number\">5</span>],p=n[<span class=\"code-number\">8</span>],f=r[<span class=\"code-number\">0</span>],m=r[<span class=\"code-number\">3</span>],v=r[<span class=\"code-number\">6</span>],g=r[<span class=\"code-number\">1</span>],y=r[<span class=\"code-number\">4</span>],x=r[<span class=\"code-number\">7</span>],_=r[<span class=\"code-number\">2</span>],b=r[<span class=\"code-number\">5</span>],w=r[<span class=\"code-number\">8</span>];<span class=\"code-keyword\">return</span> i[<span class=\"code-number\">0</span>]=a*f+o*g+s*_,i[<span class=\"code-number\">3</span>]=a*m+o*y+s*b,i[<span class=\"code-number\">6</span>]=a*v+o*x+s*w,i[<span class=\"code-number\">1</span>]=c*f+l*g+u*_,i[<span class=\"code-number\">4</span>]=c*m+l*y+u*b,i[<span class=\"code-number\">7</span>]=c*v+l*x+u*w,i[<span class=\"code-number\">2</span>]=h*f+d*g+p*_,i[<span class=\"code-number\">5</span>]=h*m+d*y+p*b,i[<span class=\"code-number\">8</span>]=h*v+d*x+p*w,<span class=\"code-keyword\">this</span>},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]*=t,e[<span class=\"code-number\">3</span>]*=t,e[<span class=\"code-number\">6</span>]*=t,e[<span class=\"code-number\">1</span>]*=t,e[<span class=\"code-number\">4</span>]*=t,e[<span class=\"code-number\">7</span>]*=t,e[<span class=\"code-number\">2</span>]*=t,e[<span class=\"code-number\">5</span>]*=t,e[<span class=\"code-number\">8</span>]*=t,<span class=\"code-keyword\">this</span>},e.determinant=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.elements,e=t[<span class=\"code-number\">0</span>],n=t[<span class=\"code-number\">1</span>],r=t[<span class=\"code-number\">2</span>],i=t[<span class=\"code-number\">3</span>],a=t[<span class=\"code-number\">4</span>],o=t[<span class=\"code-number\">5</span>],s=t[<span class=\"code-number\">6</span>],c=t[<span class=\"code-number\">7</span>],l=t[<span class=\"code-number\">8</span>];<span class=\"code-keyword\">return</span> e*a*l-e*o*c-n*i*l+n*o*s+r*i*c-r*a*s},e.invert=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.elements,e=t[<span class=\"code-number\">0</span>],n=t[<span class=\"code-number\">1</span>],r=t[<span class=\"code-number\">2</span>],i=t[<span class=\"code-number\">3</span>],a=t[<span class=\"code-number\">4</span>],o=t[<span class=\"code-number\">5</span>],s=t[<span class=\"code-number\">6</span>],c=t[<span class=\"code-number\">7</span>],l=t[<span class=\"code-number\">8</span>],u=l*a-o*c,h=o*s-l*i,d=c*i-a*s,p=e*u+n*h+r*d;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===p)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">1</span>/p;<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">0</span>]=u*f,t[<span class=\"code-number\">1</span>]=(r*c-l*n)*f,t[<span class=\"code-number\">2</span>]=(o*n-r*a)*f,t[<span class=\"code-number\">3</span>]=h*f,t[<span class=\"code-number\">4</span>]=(l*e-r*s)*f,t[<span class=\"code-number\">5</span>]=(r*i-o*e)*f,t[<span class=\"code-number\">6</span>]=d*f,t[<span class=\"code-number\">7</span>]=(n*s-c*e)*f,t[<span class=\"code-number\">8</span>]=(a*e-n*i)*f,<span class=\"code-keyword\">this</span>},e.transpose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,e=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t=e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">1</span>]=e[<span class=\"code-number\">3</span>],e[<span class=\"code-number\">3</span>]=t,t=e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">2</span>]=e[<span class=\"code-number\">6</span>],e[<span class=\"code-number\">6</span>]=t,t=e[<span class=\"code-number\">5</span>],e[<span class=\"code-number\">5</span>]=e[<span class=\"code-number\">7</span>],e[<span class=\"code-number\">7</span>]=t,<span class=\"code-keyword\">this</span>},e.getNormalMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromMatrix4(t).copy(<span class=\"code-keyword\">this</span>).invert().transpose()},e.transposeIntoArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">0</span>]=e[<span class=\"code-number\">0</span>],t[<span class=\"code-number\">1</span>]=e[<span class=\"code-number\">3</span>],t[<span class=\"code-number\">2</span>]=e[<span class=\"code-number\">6</span>],t[<span class=\"code-number\">3</span>]=e[<span class=\"code-number\">1</span>],t[<span class=\"code-number\">4</span>]=e[<span class=\"code-number\">4</span>],t[<span class=\"code-number\">5</span>]=e[<span class=\"code-number\">7</span>],t[<span class=\"code-number\">6</span>]=e[<span class=\"code-number\">2</span>],t[<span class=\"code-number\">7</span>]=e[<span class=\"code-number\">5</span>],t[<span class=\"code-number\">8</span>]=e[<span class=\"code-number\">8</span>],<span class=\"code-keyword\">this</span>},e.setUvTransform=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s=<span class=\"code-built_in\">Math</span>.cos(i),c=<span class=\"code-built_in\">Math</span>.sin(i);<span class=\"code-keyword\">this</span>.set(n*s,n*c,-n*(s*a+c*o)+a+t,-r*c,r*s,-r*(-c*a+s*o)+o+e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)},e.scale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> n[<span class=\"code-number\">0</span>]*=t,n[<span class=\"code-number\">3</span>]*=t,n[<span class=\"code-number\">6</span>]*=t,n[<span class=\"code-number\">1</span>]*=e,n[<span class=\"code-number\">4</span>]*=e,n[<span class=\"code-number\">7</span>]*=e,<span class=\"code-keyword\">this</span>},e.rotate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.cos(t),n=<span class=\"code-built_in\">Math</span>.sin(t),r=<span class=\"code-keyword\">this</span>.elements,i=r[<span class=\"code-number\">0</span>],a=r[<span class=\"code-number\">3</span>],o=r[<span class=\"code-number\">6</span>],s=r[<span class=\"code-number\">1</span>],c=r[<span class=\"code-number\">4</span>],l=r[<span class=\"code-number\">7</span>];<span class=\"code-keyword\">return</span> r[<span class=\"code-number\">0</span>]=e*i+n*s,r[<span class=\"code-number\">3</span>]=e*a+n*c,r[<span class=\"code-number\">6</span>]=e*o+n*l,r[<span class=\"code-number\">1</span>]=-n*i+e*s,r[<span class=\"code-number\">4</span>]=-n*a+e*c,r[<span class=\"code-number\">7</span>]=-n*o+e*l,<span class=\"code-keyword\">this</span>},e.translate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> n[<span class=\"code-number\">0</span>]+=t*n[<span class=\"code-number\">2</span>],n[<span class=\"code-number\">3</span>]+=t*n[<span class=\"code-number\">5</span>],n[<span class=\"code-number\">6</span>]+=t*n[<span class=\"code-number\">8</span>],n[<span class=\"code-number\">1</span>]+=e*n[<span class=\"code-number\">2</span>],n[<span class=\"code-number\">4</span>]+=e*n[<span class=\"code-number\">5</span>],n[<span class=\"code-number\">7</span>]+=e*n[<span class=\"code-number\">8</span>],<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements,r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">9</span>;r++)<span class=\"code-keyword\">if</span>(e[r]!==n[r])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">9</span>;n++)<span class=\"code-keyword\">this</span>.elements[n]=t[n+e];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t[e]=n[<span class=\"code-number\">0</span>],t[e+<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>],t[e+<span class=\"code-number\">2</span>]=n[<span class=\"code-number\">2</span>],t[e+<span class=\"code-number\">3</span>]=n[<span class=\"code-number\">3</span>],t[e+<span class=\"code-number\">4</span>]=n[<span class=\"code-number\">4</span>],t[e+<span class=\"code-number\">5</span>]=n[<span class=\"code-number\">5</span>],t[e+<span class=\"code-number\">6</span>]=n[<span class=\"code-number\">6</span>],t[e+<span class=\"code-number\">7</span>]=n[<span class=\"code-number\">7</span>],t[e+<span class=\"code-number\">8</span>]=n[<span class=\"code-number\">8</span>],t},t}(),mt={<span class=\"code-attr\">getDataURL</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^data:/i</span>.test(t.src))<span class=\"code-keyword\">return</span> t.src;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> HTMLCanvasElement)<span class=\"code-keyword\">return</span> t.src;<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">instanceof</span> HTMLCanvasElement)e=t;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===dt&amp;&amp;(dt=<span class=\"code-built_in\">document</span>.createElementNS(<span class=\"code-string\">\"http://www.w3.org/1999/xhtml\"</span>,<span class=\"code-string\">\"canvas\"</span>)),dt.width=t.width,dt.height=t.height;<span class=\"code-keyword\">var</span> n=dt.getContext(<span class=\"code-string\">\"2d\"</span>);t <span class=\"code-keyword\">instanceof</span> ImageData?n.putImageData(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):n.drawImage(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t.width,t.height),e=dt}<span class=\"code-keyword\">return</span> e.width&gt;<span class=\"code-number\">2048</span>||e.height&gt;<span class=\"code-number\">2048</span>?e.toDataURL(<span class=\"code-string\">\"image/jpeg\"</span>,<span class=\"code-number\">.6</span>):e.toDataURL(<span class=\"code-string\">\"image/png\"</span>)}},vt=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gt</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=gt.DEFAULT_IMAGE),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=gt.DEFAULT_MAPPING),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=u),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=u),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=m),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=g),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=T),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=y),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===c&amp;&amp;(c=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l&amp;&amp;(l=q),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">value</span>:vt++}),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.image=t,<span class=\"code-keyword\">this</span>.mipmaps=[],<span class=\"code-keyword\">this</span>.mapping=e,<span class=\"code-keyword\">this</span>.wrapS=n,<span class=\"code-keyword\">this</span>.wrapT=r,<span class=\"code-keyword\">this</span>.magFilter=i,<span class=\"code-keyword\">this</span>.minFilter=a,<span class=\"code-keyword\">this</span>.anisotropy=c,<span class=\"code-keyword\">this</span>.format=o,<span class=\"code-keyword\">this</span>.internalFormat=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.type=s,<span class=\"code-keyword\">this</span>.offset=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.repeat=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.center=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.rotation=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.matrixAutoUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.matrix=<span class=\"code-keyword\">new</span> ft,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.premultiplyAlpha=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.unpackAlignment=<span class=\"code-number\">4</span>,<span class=\"code-keyword\">this</span>.encoding=l,<span class=\"code-keyword\">this</span>.version=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.onUpdate=<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> HTMLImageElement&amp;&amp;t <span class=\"code-keyword\">instanceof</span> HTMLImageElement||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> HTMLCanvasElement&amp;&amp;t <span class=\"code-keyword\">instanceof</span> HTMLCanvasElement||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> ImageBitmap&amp;&amp;t <span class=\"code-keyword\">instanceof</span> ImageBitmap?mt.getDataURL(t):t.data?{<span class=\"code-attr\">data</span>:<span class=\"code-built_in\">Array</span>.prototype.slice.call(t.data),<span class=\"code-attr\">width</span>:t.width,<span class=\"code-attr\">height</span>:t.height,<span class=\"code-attr\">type</span>:t.data.constructor.name}:(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Texture: Unable to serialize Texture.\"</span>),{})}gt.DEFAULT_IMAGE=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,gt.DEFAULT_MAPPING=n,gt.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:gt,<span class=\"code-attr\">isTexture</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">updateMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.matrix.setUvTransform(<span class=\"code-keyword\">this</span>.offset.x,<span class=\"code-keyword\">this</span>.offset.y,<span class=\"code-keyword\">this</span>.repeat.x,<span class=\"code-keyword\">this</span>.repeat.y,<span class=\"code-keyword\">this</span>.rotation,<span class=\"code-keyword\">this</span>.center.x,<span class=\"code-keyword\">this</span>.center.y)},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name=t.name,<span class=\"code-keyword\">this</span>.image=t.image,<span class=\"code-keyword\">this</span>.mipmaps=t.mipmaps.slice(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.mapping=t.mapping,<span class=\"code-keyword\">this</span>.wrapS=t.wrapS,<span class=\"code-keyword\">this</span>.wrapT=t.wrapT,<span class=\"code-keyword\">this</span>.magFilter=t.magFilter,<span class=\"code-keyword\">this</span>.minFilter=t.minFilter,<span class=\"code-keyword\">this</span>.anisotropy=t.anisotropy,<span class=\"code-keyword\">this</span>.format=t.format,<span class=\"code-keyword\">this</span>.internalFormat=t.internalFormat,<span class=\"code-keyword\">this</span>.type=t.type,<span class=\"code-keyword\">this</span>.offset.copy(t.offset),<span class=\"code-keyword\">this</span>.repeat.copy(t.repeat),<span class=\"code-keyword\">this</span>.center.copy(t.center),<span class=\"code-keyword\">this</span>.rotation=t.rotation,<span class=\"code-keyword\">this</span>.matrixAutoUpdate=t.matrixAutoUpdate,<span class=\"code-keyword\">this</span>.matrix.copy(t.matrix),<span class=\"code-keyword\">this</span>.generateMipmaps=t.generateMipmaps,<span class=\"code-keyword\">this</span>.premultiplyAlpha=t.premultiplyAlpha,<span class=\"code-keyword\">this</span>.flipY=t.flipY,<span class=\"code-keyword\">this</span>.unpackAlignment=t.unpackAlignment,<span class=\"code-keyword\">this</span>.encoding=t.encoding,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t;<span class=\"code-keyword\">if</span>(!e&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.textures[<span class=\"code-keyword\">this</span>.uuid])<span class=\"code-keyword\">return</span> t.textures[<span class=\"code-keyword\">this</span>.uuid];<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Texture\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Texture.toJSON\"</span>},<span class=\"code-attr\">uuid</span>:<span class=\"code-keyword\">this</span>.uuid,<span class=\"code-attr\">name</span>:<span class=\"code-keyword\">this</span>.name,<span class=\"code-attr\">mapping</span>:<span class=\"code-keyword\">this</span>.mapping,<span class=\"code-attr\">repeat</span>:[<span class=\"code-keyword\">this</span>.repeat.x,<span class=\"code-keyword\">this</span>.repeat.y],<span class=\"code-attr\">offset</span>:[<span class=\"code-keyword\">this</span>.offset.x,<span class=\"code-keyword\">this</span>.offset.y],<span class=\"code-attr\">center</span>:[<span class=\"code-keyword\">this</span>.center.x,<span class=\"code-keyword\">this</span>.center.y],<span class=\"code-attr\">rotation</span>:<span class=\"code-keyword\">this</span>.rotation,<span class=\"code-attr\">wrap</span>:[<span class=\"code-keyword\">this</span>.wrapS,<span class=\"code-keyword\">this</span>.wrapT],<span class=\"code-attr\">format</span>:<span class=\"code-keyword\">this</span>.format,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.type,<span class=\"code-attr\">encoding</span>:<span class=\"code-keyword\">this</span>.encoding,<span class=\"code-attr\">minFilter</span>:<span class=\"code-keyword\">this</span>.minFilter,<span class=\"code-attr\">magFilter</span>:<span class=\"code-keyword\">this</span>.magFilter,<span class=\"code-attr\">anisotropy</span>:<span class=\"code-keyword\">this</span>.anisotropy,<span class=\"code-attr\">flipY</span>:<span class=\"code-keyword\">this</span>.flipY,<span class=\"code-attr\">premultiplyAlpha</span>:<span class=\"code-keyword\">this</span>.premultiplyAlpha,<span class=\"code-attr\">unpackAlignment</span>:<span class=\"code-keyword\">this</span>.unpackAlignment};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.image){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.image;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r.uuid&amp;&amp;(r.uuid=st.generateUUID()),!e&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.images[r.uuid]){<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(r)){i=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=r.length;a&lt;o;a++)r[a].isDataTexture?i.push(yt(r[a].image)):i.push(yt(r[a]))}<span class=\"code-keyword\">else</span> i=yt(r);t.images[r.uuid]={<span class=\"code-attr\">uuid</span>:r.uuid,<span class=\"code-attr\">url</span>:i}}n.image=r.uuid}<span class=\"code-keyword\">return</span> e||(t.textures[<span class=\"code-keyword\">this</span>.uuid]=n),n},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>})},<span class=\"code-attr\">transformUv</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.mapping!==n)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">if</span>(t.applyMatrix3(<span class=\"code-keyword\">this</span>.matrix),t.x&lt;<span class=\"code-number\">0</span>||t.x&gt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.wrapS){<span class=\"code-keyword\">case</span> l:t.x=t.x-<span class=\"code-built_in\">Math</span>.floor(t.x);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u:t.x=t.x&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> h:<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-built_in\">Math</span>.floor(t.x)%<span class=\"code-number\">2</span>)?t.x=<span class=\"code-built_in\">Math</span>.ceil(t.x)-t.x:t.x=t.x-<span class=\"code-built_in\">Math</span>.floor(t.x)}<span class=\"code-keyword\">if</span>(t.y&lt;<span class=\"code-number\">0</span>||t.y&gt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.wrapT){<span class=\"code-keyword\">case</span> l:t.y=t.y-<span class=\"code-built_in\">Math</span>.floor(t.y);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u:t.y=t.y&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> h:<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-built_in\">Math</span>.floor(t.y)%<span class=\"code-number\">2</span>)?t.y=<span class=\"code-built_in\">Math</span>.ceil(t.y)-t.y:t.y=t.y-<span class=\"code-built_in\">Math</span>.floor(t.y)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.flipY&amp;&amp;(t.y=<span class=\"code-number\">1</span>-t.y),t}}),<span class=\"code-built_in\">Object</span>.defineProperty(gt.prototype,<span class=\"code-string\">\"needsUpdate\"</span>,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.version++}});<span class=\"code-keyword\">var</span> xt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isVector4\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>.z=n,<span class=\"code-keyword\">this</span>.w=r}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>.z=n,<span class=\"code-keyword\">this</span>.w=r,<span class=\"code-keyword\">this</span>},e.setScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>.z=t,<span class=\"code-keyword\">this</span>.w=t,<span class=\"code-keyword\">this</span>},e.setX=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>},e.setY=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>},e.setZ=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.z=t,<span class=\"code-keyword\">this</span>},e.setW=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.w=t,<span class=\"code-keyword\">this</span>},e.setComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.x=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">this</span>.y=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">this</span>.z=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">this</span>.w=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.getComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.z;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.w;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y,<span class=\"code-keyword\">this</span>.z,<span class=\"code-keyword\">this</span>.w)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x,<span class=\"code-keyword\">this</span>.y=t.y,<span class=\"code-keyword\">this</span>.z=t.z,<span class=\"code-keyword\">this</span>.w=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.w?t.w:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},e.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.addVectors(t,e)):(<span class=\"code-keyword\">this</span>.x+=t.x,<span class=\"code-keyword\">this</span>.y+=t.y,<span class=\"code-keyword\">this</span>.z+=t.z,<span class=\"code-keyword\">this</span>.w+=t.w,<span class=\"code-keyword\">this</span>)},e.addScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t,<span class=\"code-keyword\">this</span>.y+=t,<span class=\"code-keyword\">this</span>.z+=t,<span class=\"code-keyword\">this</span>.w+=t,<span class=\"code-keyword\">this</span>},e.addVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+e.x,<span class=\"code-keyword\">this</span>.y=t.y+e.y,<span class=\"code-keyword\">this</span>.z=t.z+e.z,<span class=\"code-keyword\">this</span>.w=t.w+e.w,<span class=\"code-keyword\">this</span>},e.addScaledVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t.x*e,<span class=\"code-keyword\">this</span>.y+=t.y*e,<span class=\"code-keyword\">this</span>.z+=t.z*e,<span class=\"code-keyword\">this</span>.w+=t.w*e,<span class=\"code-keyword\">this</span>},e.sub=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.subVectors(t,e)):(<span class=\"code-keyword\">this</span>.x-=t.x,<span class=\"code-keyword\">this</span>.y-=t.y,<span class=\"code-keyword\">this</span>.z-=t.z,<span class=\"code-keyword\">this</span>.w-=t.w,<span class=\"code-keyword\">this</span>)},e.subScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x-=t,<span class=\"code-keyword\">this</span>.y-=t,<span class=\"code-keyword\">this</span>.z-=t,<span class=\"code-keyword\">this</span>.w-=t,<span class=\"code-keyword\">this</span>},e.subVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x-e.x,<span class=\"code-keyword\">this</span>.y=t.y-e.y,<span class=\"code-keyword\">this</span>.z=t.z-e.z,<span class=\"code-keyword\">this</span>.w=t.w-e.w,<span class=\"code-keyword\">this</span>},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*=t,<span class=\"code-keyword\">this</span>.y*=t,<span class=\"code-keyword\">this</span>.z*=t,<span class=\"code-keyword\">this</span>.w*=t,<span class=\"code-keyword\">this</span>},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=<span class=\"code-keyword\">this</span>.z,i=<span class=\"code-keyword\">this</span>.w,a=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=a[<span class=\"code-number\">0</span>]*e+a[<span class=\"code-number\">4</span>]*n+a[<span class=\"code-number\">8</span>]*r+a[<span class=\"code-number\">12</span>]*i,<span class=\"code-keyword\">this</span>.y=a[<span class=\"code-number\">1</span>]*e+a[<span class=\"code-number\">5</span>]*n+a[<span class=\"code-number\">9</span>]*r+a[<span class=\"code-number\">13</span>]*i,<span class=\"code-keyword\">this</span>.z=a[<span class=\"code-number\">2</span>]*e+a[<span class=\"code-number\">6</span>]*n+a[<span class=\"code-number\">10</span>]*r+a[<span class=\"code-number\">14</span>]*i,<span class=\"code-keyword\">this</span>.w=a[<span class=\"code-number\">3</span>]*e+a[<span class=\"code-number\">7</span>]*n+a[<span class=\"code-number\">11</span>]*r+a[<span class=\"code-number\">15</span>]*i,<span class=\"code-keyword\">this</span>},e.divideScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyScalar(<span class=\"code-number\">1</span>/t)},e.setAxisAngleFromQuaternion=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.w=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.acos(t.w);<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span>-t.w*t.w);<span class=\"code-keyword\">return</span> e&lt;<span class=\"code-number\">1e-4</span>?(<span class=\"code-keyword\">this</span>.x=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.y=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.z=<span class=\"code-number\">0</span>):(<span class=\"code-keyword\">this</span>.x=t.x/e,<span class=\"code-keyword\">this</span>.y=t.y/e,<span class=\"code-keyword\">this</span>.z=t.z/e),<span class=\"code-keyword\">this</span>},e.setAxisAngleFromRotationMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n,r,i,a=<span class=\"code-number\">.01</span>,o=<span class=\"code-number\">.1</span>,s=t.elements,c=s[<span class=\"code-number\">0</span>],l=s[<span class=\"code-number\">4</span>],u=s[<span class=\"code-number\">8</span>],h=s[<span class=\"code-number\">1</span>],d=s[<span class=\"code-number\">5</span>],p=s[<span class=\"code-number\">9</span>],f=s[<span class=\"code-number\">2</span>],m=s[<span class=\"code-number\">6</span>],v=s[<span class=\"code-number\">10</span>];<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Math</span>.abs(l-h)&lt;a&amp;&amp;<span class=\"code-built_in\">Math</span>.abs(u-f)&lt;a&amp;&amp;<span class=\"code-built_in\">Math</span>.abs(p-m)&lt;a){<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Math</span>.abs(l+h)&lt;o&amp;&amp;<span class=\"code-built_in\">Math</span>.abs(u+f)&lt;o&amp;&amp;<span class=\"code-built_in\">Math</span>.abs(p+m)&lt;o&amp;&amp;<span class=\"code-built_in\">Math</span>.abs(c+d+v<span class=\"code-number\">-3</span>)&lt;o)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>;e=<span class=\"code-built_in\">Math</span>.PI;<span class=\"code-keyword\">var</span> g=(c+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,y=(d+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,x=(v+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,_=(l+h)/<span class=\"code-number\">4</span>,b=(u+f)/<span class=\"code-number\">4</span>,w=(p+m)/<span class=\"code-number\">4</span>;<span class=\"code-keyword\">return</span> g&gt;y&amp;&amp;g&gt;x?g&lt;a?(n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">.707106781</span>,i=<span class=\"code-number\">.707106781</span>):(r=_/(n=<span class=\"code-built_in\">Math</span>.sqrt(g)),i=b/n):y&gt;x?y&lt;a?(n=<span class=\"code-number\">.707106781</span>,r=<span class=\"code-number\">0</span>,i=<span class=\"code-number\">.707106781</span>):(n=_/(r=<span class=\"code-built_in\">Math</span>.sqrt(y)),i=w/r):x&lt;a?(n=<span class=\"code-number\">.707106781</span>,r=<span class=\"code-number\">.707106781</span>,i=<span class=\"code-number\">0</span>):(n=b/(i=<span class=\"code-built_in\">Math</span>.sqrt(x)),r=w/i),<span class=\"code-keyword\">this</span>.set(n,r,i,e),<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> M=<span class=\"code-built_in\">Math</span>.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-l)*(h-l));<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(M)&lt;<span class=\"code-number\">.001</span>&amp;&amp;(M=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.x=(m-p)/M,<span class=\"code-keyword\">this</span>.y=(u-f)/M,<span class=\"code-keyword\">this</span>.z=(h-l)/M,<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.acos((c+d+v<span class=\"code-number\">-1</span>)/<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>},e.min=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.z,t.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.w,t.w),<span class=\"code-keyword\">this</span>},e.max=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.z,t.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.w,t.w),<span class=\"code-keyword\">this</span>},e.clamp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t.x,<span class=\"code-built_in\">Math</span>.min(e.x,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t.y,<span class=\"code-built_in\">Math</span>.min(e.y,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(t.z,<span class=\"code-built_in\">Math</span>.min(e.z,<span class=\"code-keyword\">this</span>.z)),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.max(t.w,<span class=\"code-built_in\">Math</span>.min(e.w,<span class=\"code-keyword\">this</span>.w)),<span class=\"code-keyword\">this</span>},e.clampScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.z)),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.w)),<span class=\"code-keyword\">this</span>},e.clampLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.length();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(n||<span class=\"code-number\">1</span>).multiplyScalar(<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,n)))},e.floor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.w),<span class=\"code-keyword\">this</span>},e.ceil=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.w),<span class=\"code-keyword\">this</span>},e.round=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.w),<span class=\"code-keyword\">this</span>},e.roundToZero=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-keyword\">this</span>.x&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-keyword\">this</span>.y&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-keyword\">this</span>.z&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.z):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>.w=<span class=\"code-keyword\">this</span>.w&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.w):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.w),<span class=\"code-keyword\">this</span>},e.negate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=-<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y=-<span class=\"code-keyword\">this</span>.y,<span class=\"code-keyword\">this</span>.z=-<span class=\"code-keyword\">this</span>.z,<span class=\"code-keyword\">this</span>.w=-<span class=\"code-keyword\">this</span>.w,<span class=\"code-keyword\">this</span>},e.dot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*t.x+<span class=\"code-keyword\">this</span>.y*t.y+<span class=\"code-keyword\">this</span>.z*t.z+<span class=\"code-keyword\">this</span>.w*t.w},e.lengthSq=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y+<span class=\"code-keyword\">this</span>.z*<span class=\"code-keyword\">this</span>.z+<span class=\"code-keyword\">this</span>.w*<span class=\"code-keyword\">this</span>.w},e.length=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y+<span class=\"code-keyword\">this</span>.z*<span class=\"code-keyword\">this</span>.z+<span class=\"code-keyword\">this</span>.w*<span class=\"code-keyword\">this</span>.w)},e.manhattanLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.z)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.w)},e.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(<span class=\"code-keyword\">this</span>.length()||<span class=\"code-number\">1</span>)},e.setLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=(t.x-<span class=\"code-keyword\">this</span>.x)*e,<span class=\"code-keyword\">this</span>.y+=(t.y-<span class=\"code-keyword\">this</span>.y)*e,<span class=\"code-keyword\">this</span>.z+=(t.z-<span class=\"code-keyword\">this</span>.z)*e,<span class=\"code-keyword\">this</span>.w+=(t.w-<span class=\"code-keyword\">this</span>.w)*e,<span class=\"code-keyword\">this</span>},e.lerpVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+(e.x-t.x)*n,<span class=\"code-keyword\">this</span>.y=t.y+(e.y-t.y)*n,<span class=\"code-keyword\">this</span>.z=t.z+(e.z-t.z)*n,<span class=\"code-keyword\">this</span>.w=t.w+(e.w-t.w)*n,<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.x===<span class=\"code-keyword\">this</span>.x&amp;&amp;t.y===<span class=\"code-keyword\">this</span>.y&amp;&amp;t.z===<span class=\"code-keyword\">this</span>.z&amp;&amp;t.w===<span class=\"code-keyword\">this</span>.w},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.x=t[e],<span class=\"code-keyword\">this</span>.y=t[e+<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>.z=t[e+<span class=\"code-number\">2</span>],<span class=\"code-keyword\">this</span>.w=t[e+<span class=\"code-number\">3</span>],<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>.x,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>.y,t[e+<span class=\"code-number\">2</span>]=<span class=\"code-keyword\">this</span>.z,t[e+<span class=\"code-number\">3</span>]=<span class=\"code-keyword\">this</span>.w,t},e.fromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.x=t.getX(e),<span class=\"code-keyword\">this</span>.y=t.getY(e),<span class=\"code-keyword\">this</span>.z=t.getZ(e),<span class=\"code-keyword\">this</span>.w=t.getW(e),<span class=\"code-keyword\">this</span>},e.random=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.w=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>},lt(t,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"width\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.z},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.z=t}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"height\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.w},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.w=t}}]),t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.width=t,<span class=\"code-keyword\">this</span>.height=e,<span class=\"code-keyword\">this</span>.scissor=<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e),<span class=\"code-keyword\">this</span>.scissorTest=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.viewport=<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e),n=n||{},<span class=\"code-keyword\">this</span>.texture=<span class=\"code-keyword\">new</span> gt(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),<span class=\"code-keyword\">this</span>.texture.image={},<span class=\"code-keyword\">this</span>.texture.image.width=t,<span class=\"code-keyword\">this</span>.texture.image.height=e,<span class=\"code-keyword\">this</span>.texture.generateMipmaps=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.generateMipmaps&amp;&amp;n.generateMipmaps,<span class=\"code-keyword\">this</span>.texture.minFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.minFilter?n.minFilter:m,<span class=\"code-keyword\">this</span>.depthBuffer=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.depthBuffer||n.depthBuffer,<span class=\"code-keyword\">this</span>.stencilBuffer=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.stencilBuffer&amp;&amp;n.stencilBuffer,<span class=\"code-keyword\">this</span>.depthTexture=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.depthTexture?n.depthTexture:<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bt</span>(<span class=\"code-params\">t,e,n</span>)</span>{_t.call(<span class=\"code-keyword\">this</span>,t,e,n),<span class=\"code-keyword\">this</span>.samples=<span class=\"code-number\">4</span>}_t.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:_t,<span class=\"code-attr\">isWebGLRenderTarget</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">setSize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.width===t&amp;&amp;<span class=\"code-keyword\">this</span>.height===e||(<span class=\"code-keyword\">this</span>.width=t,<span class=\"code-keyword\">this</span>.height=e,<span class=\"code-keyword\">this</span>.texture.image.width=t,<span class=\"code-keyword\">this</span>.texture.image.height=e,<span class=\"code-keyword\">this</span>.dispose()),<span class=\"code-keyword\">this</span>.viewport.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e),<span class=\"code-keyword\">this</span>.scissor.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e)},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.width=t.width,<span class=\"code-keyword\">this</span>.height=t.height,<span class=\"code-keyword\">this</span>.viewport.copy(t.viewport),<span class=\"code-keyword\">this</span>.texture=t.texture.clone(),<span class=\"code-keyword\">this</span>.depthBuffer=t.depthBuffer,<span class=\"code-keyword\">this</span>.stencilBuffer=t.stencilBuffer,<span class=\"code-keyword\">this</span>.depthTexture=t.depthTexture,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>})}}),bt.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(_t.prototype),{<span class=\"code-attr\">constructor</span>:bt,<span class=\"code-attr\">isWebGLMultisampleRenderTarget</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> _t.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.samples=t.samples,<span class=\"code-keyword\">this</span>}});<span class=\"code-keyword\">var</span> wt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isQuaternion\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>._x=t,<span class=\"code-keyword\">this</span>._y=e,<span class=\"code-keyword\">this</span>._z=n,<span class=\"code-keyword\">this</span>._w=r}t.slerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> n.copy(t).slerp(e,r)},t.slerpFlat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s=n[r+<span class=\"code-number\">0</span>],c=n[r+<span class=\"code-number\">1</span>],l=n[r+<span class=\"code-number\">2</span>],u=n[r+<span class=\"code-number\">3</span>],h=i[a+<span class=\"code-number\">0</span>],d=i[a+<span class=\"code-number\">1</span>],p=i[a+<span class=\"code-number\">2</span>],f=i[a+<span class=\"code-number\">3</span>];<span class=\"code-keyword\">if</span>(u!==f||s!==h||c!==d||l!==p){<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">1</span>-o,v=s*h+c*d+l*p+u*f,g=v&gt;=<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,y=<span class=\"code-number\">1</span>-v*v;<span class=\"code-keyword\">if</span>(y&gt;<span class=\"code-built_in\">Number</span>.EPSILON){<span class=\"code-keyword\">var</span> x=<span class=\"code-built_in\">Math</span>.sqrt(y),_=<span class=\"code-built_in\">Math</span>.atan2(x,v*g);m=<span class=\"code-built_in\">Math</span>.sin(m*_)/x,o=<span class=\"code-built_in\">Math</span>.sin(o*_)/x}<span class=\"code-keyword\">var</span> b=o*g;<span class=\"code-keyword\">if</span>(s=s*m+h*b,c=c*m+d*b,l=l*m+p*b,u=u*m+f*b,m===<span class=\"code-number\">1</span>-o){<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">1</span>/<span class=\"code-built_in\">Math</span>.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}t[e]=s,t[e+<span class=\"code-number\">1</span>]=c,t[e+<span class=\"code-number\">2</span>]=l,t[e+<span class=\"code-number\">3</span>]=u},t.multiplyQuaternionsFlat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=n[r],s=n[r+<span class=\"code-number\">1</span>],c=n[r+<span class=\"code-number\">2</span>],l=n[r+<span class=\"code-number\">3</span>],u=i[a],h=i[a+<span class=\"code-number\">1</span>],d=i[a+<span class=\"code-number\">2</span>],p=i[a+<span class=\"code-number\">3</span>];<span class=\"code-keyword\">return</span> t[e]=o*p+l*u+s*d-c*h,t[e+<span class=\"code-number\">1</span>]=s*p+l*h+c*u-o*d,t[e+<span class=\"code-number\">2</span>]=c*p+l*d+o*h-s*u,t[e+<span class=\"code-number\">3</span>]=l*p-o*u-s*h-c*d,t};<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t,<span class=\"code-keyword\">this</span>._y=e,<span class=\"code-keyword\">this</span>._z=n,<span class=\"code-keyword\">this</span>._w=r,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>._x,<span class=\"code-keyword\">this</span>._y,<span class=\"code-keyword\">this</span>._z,<span class=\"code-keyword\">this</span>._w)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t.x,<span class=\"code-keyword\">this</span>._y=t.y,<span class=\"code-keyword\">this</span>._z=t.z,<span class=\"code-keyword\">this</span>._w=t.w,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromEuler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!t||!t.isEuler)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\"</span>);<span class=\"code-keyword\">var</span> n=t._x,r=t._y,i=t._z,a=t._order,o=<span class=\"code-built_in\">Math</span>.cos,s=<span class=\"code-built_in\">Math</span>.sin,c=o(n/<span class=\"code-number\">2</span>),l=o(r/<span class=\"code-number\">2</span>),u=o(i/<span class=\"code-number\">2</span>),h=s(n/<span class=\"code-number\">2</span>),d=s(r/<span class=\"code-number\">2</span>),p=s(i/<span class=\"code-number\">2</span>);<span class=\"code-keyword\">switch</span>(a){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XYZ\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u+c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u-h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p+h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u-h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YXZ\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u+c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u-h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p-h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u+h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZXY\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u-c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u+h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p+h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u-h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZYX\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u-c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u+h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p-h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u+h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YZX\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u+c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u+h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p-h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u-h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XZY\"</span>:<span class=\"code-keyword\">this</span>._x=h*l*u-c*d*p,<span class=\"code-keyword\">this</span>._y=c*d*u-h*l*p,<span class=\"code-keyword\">this</span>._z=c*l*p+h*d*u,<span class=\"code-keyword\">this</span>._w=c*l*u+h*d*p;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Quaternion: .setFromEuler() encountered an unknown order: \"</span>+a)}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>!==e&amp;&amp;<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromAxisAngle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=e/<span class=\"code-number\">2</span>,r=<span class=\"code-built_in\">Math</span>.sin(n);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t.x*r,<span class=\"code-keyword\">this</span>._y=t.y*r,<span class=\"code-keyword\">this</span>._z=t.z*r,<span class=\"code-keyword\">this</span>._w=<span class=\"code-built_in\">Math</span>.cos(n),<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromRotationMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.elements,n=e[<span class=\"code-number\">0</span>],r=e[<span class=\"code-number\">4</span>],i=e[<span class=\"code-number\">8</span>],a=e[<span class=\"code-number\">1</span>],o=e[<span class=\"code-number\">5</span>],s=e[<span class=\"code-number\">9</span>],c=e[<span class=\"code-number\">2</span>],l=e[<span class=\"code-number\">6</span>],u=e[<span class=\"code-number\">10</span>],h=n+o+u;<span class=\"code-keyword\">if</span>(h&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">.5</span>/<span class=\"code-built_in\">Math</span>.sqrt(h+<span class=\"code-number\">1</span>);<span class=\"code-keyword\">this</span>._w=<span class=\"code-number\">.25</span>/d,<span class=\"code-keyword\">this</span>._x=(l-s)*d,<span class=\"code-keyword\">this</span>._y=(i-c)*d,<span class=\"code-keyword\">this</span>._z=(a-r)*d}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n&gt;o&amp;&amp;n&gt;u){<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span>+n-o-u);<span class=\"code-keyword\">this</span>._w=(l-s)/p,<span class=\"code-keyword\">this</span>._x=<span class=\"code-number\">.25</span>*p,<span class=\"code-keyword\">this</span>._y=(r+a)/p,<span class=\"code-keyword\">this</span>._z=(i+c)/p}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(o&gt;u){<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span>+o-n-u);<span class=\"code-keyword\">this</span>._w=(i-c)/f,<span class=\"code-keyword\">this</span>._x=(r+a)/f,<span class=\"code-keyword\">this</span>._y=<span class=\"code-number\">.25</span>*f,<span class=\"code-keyword\">this</span>._z=(s+l)/f}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">1</span>+u-n-o);<span class=\"code-keyword\">this</span>._w=(a-r)/m,<span class=\"code-keyword\">this</span>._x=(i+c)/m,<span class=\"code-keyword\">this</span>._y=(s+l)/m,<span class=\"code-keyword\">this</span>._z=<span class=\"code-number\">.25</span>*m}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromUnitVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.dot(e)+<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> n&lt;<span class=\"code-number\">1e-6</span>?(n=<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.abs(t.x)&gt;<span class=\"code-built_in\">Math</span>.abs(t.z)?(<span class=\"code-keyword\">this</span>._x=-t.y,<span class=\"code-keyword\">this</span>._y=t.x,<span class=\"code-keyword\">this</span>._z=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._w=n):(<span class=\"code-keyword\">this</span>._x=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._y=-t.z,<span class=\"code-keyword\">this</span>._z=t.y,<span class=\"code-keyword\">this</span>._w=n)):(<span class=\"code-keyword\">this</span>._x=t.y*e.z-t.z*e.y,<span class=\"code-keyword\">this</span>._y=t.z*e.x-t.x*e.z,<span class=\"code-keyword\">this</span>._z=t.x*e.y-t.y*e.x,<span class=\"code-keyword\">this</span>._w=n),<span class=\"code-keyword\">this</span>.normalize()},e.angleTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.acos(<span class=\"code-built_in\">Math</span>.abs(st.clamp(<span class=\"code-keyword\">this</span>.dot(t),<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)))},e.rotateTowards=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.angleTo(t);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===n)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1</span>,e/n);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.slerp(t,r),<span class=\"code-keyword\">this</span>},e.identity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)},e.invert=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.conjugate()},e.conjugate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x*=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>._y*=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>._z*=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.dot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x*t._x+<span class=\"code-keyword\">this</span>._y*t._y+<span class=\"code-keyword\">this</span>._z*t._z+<span class=\"code-keyword\">this</span>._w*t._w},e.lengthSq=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x*<span class=\"code-keyword\">this</span>._x+<span class=\"code-keyword\">this</span>._y*<span class=\"code-keyword\">this</span>._y+<span class=\"code-keyword\">this</span>._z*<span class=\"code-keyword\">this</span>._z+<span class=\"code-keyword\">this</span>._w*<span class=\"code-keyword\">this</span>._w},e.length=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>._x*<span class=\"code-keyword\">this</span>._x+<span class=\"code-keyword\">this</span>._y*<span class=\"code-keyword\">this</span>._y+<span class=\"code-keyword\">this</span>._z*<span class=\"code-keyword\">this</span>._z+<span class=\"code-keyword\">this</span>._w*<span class=\"code-keyword\">this</span>._w)},e.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.length();<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===t?(<span class=\"code-keyword\">this</span>._x=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._y=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._z=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._w=<span class=\"code-number\">1</span>):(t=<span class=\"code-number\">1</span>/t,<span class=\"code-keyword\">this</span>._x=<span class=\"code-keyword\">this</span>._x*t,<span class=\"code-keyword\">this</span>._y=<span class=\"code-keyword\">this</span>._y*t,<span class=\"code-keyword\">this</span>._z=<span class=\"code-keyword\">this</span>._z*t,<span class=\"code-keyword\">this</span>._w=<span class=\"code-keyword\">this</span>._w*t),<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.multiplyQuaternions(t,e)):<span class=\"code-keyword\">this</span>.multiplyQuaternions(<span class=\"code-keyword\">this</span>,t)},e.premultiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyQuaternions(t,<span class=\"code-keyword\">this</span>)},e.multiplyQuaternions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,c=e._z,l=e._w;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=n*l+a*o+r*c-i*s,<span class=\"code-keyword\">this</span>._y=r*l+a*s+i*o-n*c,<span class=\"code-keyword\">this</span>._z=i*l+a*c+n*s-r*o,<span class=\"code-keyword\">this</span>._w=a*l-n*o-r*s-i*c,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.slerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copy(t);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._x,r=<span class=\"code-keyword\">this</span>._y,i=<span class=\"code-keyword\">this</span>._z,a=<span class=\"code-keyword\">this</span>._w,o=a*t._w+n*t._x+r*t._y+i*t._z;<span class=\"code-keyword\">if</span>(o&lt;<span class=\"code-number\">0</span>?(<span class=\"code-keyword\">this</span>._w=-t._w,<span class=\"code-keyword\">this</span>._x=-t._x,<span class=\"code-keyword\">this</span>._y=-t._y,<span class=\"code-keyword\">this</span>._z=-t._z,o=-o):<span class=\"code-keyword\">this</span>.copy(t),o&gt;=<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._w=a,<span class=\"code-keyword\">this</span>._x=n,<span class=\"code-keyword\">this</span>._y=r,<span class=\"code-keyword\">this</span>._z=i,<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">1</span>-o*o;<span class=\"code-keyword\">if</span>(s&lt;=<span class=\"code-built_in\">Number</span>.EPSILON){<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">1</span>-e;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._w=c*a+e*<span class=\"code-keyword\">this</span>._w,<span class=\"code-keyword\">this</span>._x=c*n+e*<span class=\"code-keyword\">this</span>._x,<span class=\"code-keyword\">this</span>._y=c*r+e*<span class=\"code-keyword\">this</span>._y,<span class=\"code-keyword\">this</span>._z=c*i+e*<span class=\"code-keyword\">this</span>._z,<span class=\"code-keyword\">this</span>.normalize(),<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> l=<span class=\"code-built_in\">Math</span>.sqrt(s),u=<span class=\"code-built_in\">Math</span>.atan2(l,o),h=<span class=\"code-built_in\">Math</span>.sin((<span class=\"code-number\">1</span>-e)*u)/l,d=<span class=\"code-built_in\">Math</span>.sin(e*u)/l;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._w=a*h+<span class=\"code-keyword\">this</span>._w*d,<span class=\"code-keyword\">this</span>._x=n*h+<span class=\"code-keyword\">this</span>._x*d,<span class=\"code-keyword\">this</span>._y=r*h+<span class=\"code-keyword\">this</span>._y*d,<span class=\"code-keyword\">this</span>._z=i*h+<span class=\"code-keyword\">this</span>._z*d,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._x===<span class=\"code-keyword\">this</span>._x&amp;&amp;t._y===<span class=\"code-keyword\">this</span>._y&amp;&amp;t._z===<span class=\"code-keyword\">this</span>._z&amp;&amp;t._w===<span class=\"code-keyword\">this</span>._w},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._x=t[e],<span class=\"code-keyword\">this</span>._y=t[e+<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>._z=t[e+<span class=\"code-number\">2</span>],<span class=\"code-keyword\">this</span>._w=t[e+<span class=\"code-number\">3</span>],<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>._x,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>._y,t[e+<span class=\"code-number\">2</span>]=<span class=\"code-keyword\">this</span>._z,t[e+<span class=\"code-number\">3</span>]=<span class=\"code-keyword\">this</span>._w,t},e.fromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t.getX(e),<span class=\"code-keyword\">this</span>._y=t.getY(e),<span class=\"code-keyword\">this</span>._z=t.getZ(e),<span class=\"code-keyword\">this</span>._w=t.getW(e),<span class=\"code-keyword\">this</span>},e._onChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._onChangeCallback=t,<span class=\"code-keyword\">this</span>},e._onChangeCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},lt(t,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"x\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._x=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"y\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._y},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._y=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"z\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._z},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._z=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"w\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._w},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._w=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}}]),t}(),Mt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isVector3\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>.z=n}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>.z=n,<span class=\"code-keyword\">this</span>},e.setScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>.z=t,<span class=\"code-keyword\">this</span>},e.setX=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t,<span class=\"code-keyword\">this</span>},e.setY=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y=t,<span class=\"code-keyword\">this</span>},e.setZ=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.z=t,<span class=\"code-keyword\">this</span>},e.setComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.x=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">this</span>.y=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">this</span>.z=e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.getComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.y;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.z;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"index is out of range: \"</span>+t)}},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y,<span class=\"code-keyword\">this</span>.z)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x,<span class=\"code-keyword\">this</span>.y=t.y,<span class=\"code-keyword\">this</span>.z=t.z,<span class=\"code-keyword\">this</span>},e.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.addVectors(t,e)):(<span class=\"code-keyword\">this</span>.x+=t.x,<span class=\"code-keyword\">this</span>.y+=t.y,<span class=\"code-keyword\">this</span>.z+=t.z,<span class=\"code-keyword\">this</span>)},e.addScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t,<span class=\"code-keyword\">this</span>.y+=t,<span class=\"code-keyword\">this</span>.z+=t,<span class=\"code-keyword\">this</span>},e.addVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+e.x,<span class=\"code-keyword\">this</span>.y=t.y+e.y,<span class=\"code-keyword\">this</span>.z=t.z+e.z,<span class=\"code-keyword\">this</span>},e.addScaledVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=t.x*e,<span class=\"code-keyword\">this</span>.y+=t.y*e,<span class=\"code-keyword\">this</span>.z+=t.z*e,<span class=\"code-keyword\">this</span>},e.sub=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.subVectors(t,e)):(<span class=\"code-keyword\">this</span>.x-=t.x,<span class=\"code-keyword\">this</span>.y-=t.y,<span class=\"code-keyword\">this</span>.z-=t.z,<span class=\"code-keyword\">this</span>)},e.subScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x-=t,<span class=\"code-keyword\">this</span>.y-=t,<span class=\"code-keyword\">this</span>.z-=t,<span class=\"code-keyword\">this</span>},e.subVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x-e.x,<span class=\"code-keyword\">this</span>.y=t.y-e.y,<span class=\"code-keyword\">this</span>.z=t.z-e.z,<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.multiplyVectors(t,e)):(<span class=\"code-keyword\">this</span>.x*=t.x,<span class=\"code-keyword\">this</span>.y*=t.y,<span class=\"code-keyword\">this</span>.z*=t.z,<span class=\"code-keyword\">this</span>)},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*=t,<span class=\"code-keyword\">this</span>.y*=t,<span class=\"code-keyword\">this</span>.z*=t,<span class=\"code-keyword\">this</span>},e.multiplyVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x*e.x,<span class=\"code-keyword\">this</span>.y=t.y*e.y,<span class=\"code-keyword\">this</span>.z=t.z*e.z,<span class=\"code-keyword\">this</span>},e.applyEuler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.isEuler||<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"</span>),<span class=\"code-keyword\">this</span>.applyQuaternion(Tt.setFromEuler(t))},e.applyAxisAngle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.applyQuaternion(Tt.setFromAxisAngle(t,e))},e.applyMatrix3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=<span class=\"code-keyword\">this</span>.z,i=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=i[<span class=\"code-number\">0</span>]*e+i[<span class=\"code-number\">3</span>]*n+i[<span class=\"code-number\">6</span>]*r,<span class=\"code-keyword\">this</span>.y=i[<span class=\"code-number\">1</span>]*e+i[<span class=\"code-number\">4</span>]*n+i[<span class=\"code-number\">7</span>]*r,<span class=\"code-keyword\">this</span>.z=i[<span class=\"code-number\">2</span>]*e+i[<span class=\"code-number\">5</span>]*n+i[<span class=\"code-number\">8</span>]*r,<span class=\"code-keyword\">this</span>},e.applyNormalMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.applyMatrix3(t).normalize()},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=<span class=\"code-keyword\">this</span>.z,i=t.elements,a=<span class=\"code-number\">1</span>/(i[<span class=\"code-number\">3</span>]*e+i[<span class=\"code-number\">7</span>]*n+i[<span class=\"code-number\">11</span>]*r+i[<span class=\"code-number\">15</span>]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=(i[<span class=\"code-number\">0</span>]*e+i[<span class=\"code-number\">4</span>]*n+i[<span class=\"code-number\">8</span>]*r+i[<span class=\"code-number\">12</span>])*a,<span class=\"code-keyword\">this</span>.y=(i[<span class=\"code-number\">1</span>]*e+i[<span class=\"code-number\">5</span>]*n+i[<span class=\"code-number\">9</span>]*r+i[<span class=\"code-number\">13</span>])*a,<span class=\"code-keyword\">this</span>.z=(i[<span class=\"code-number\">2</span>]*e+i[<span class=\"code-number\">6</span>]*n+i[<span class=\"code-number\">10</span>]*r+i[<span class=\"code-number\">14</span>])*a,<span class=\"code-keyword\">this</span>},e.applyQuaternion=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=<span class=\"code-keyword\">this</span>.z,i=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*r-o*n,l=s*n+o*e-i*r,u=s*r+i*n-a*e,h=-i*e-a*n-o*r;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=c*s+h*-i+l*-o-u*-a,<span class=\"code-keyword\">this</span>.y=l*s+h*-a+u*-i-c*-o,<span class=\"code-keyword\">this</span>.z=u*s+h*-o+c*-a-l*-i,<span class=\"code-keyword\">this</span>},e.project=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},e.unproject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},e.transformDirection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x,n=<span class=\"code-keyword\">this</span>.y,r=<span class=\"code-keyword\">this</span>.z,i=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=i[<span class=\"code-number\">0</span>]*e+i[<span class=\"code-number\">4</span>]*n+i[<span class=\"code-number\">8</span>]*r,<span class=\"code-keyword\">this</span>.y=i[<span class=\"code-number\">1</span>]*e+i[<span class=\"code-number\">5</span>]*n+i[<span class=\"code-number\">9</span>]*r,<span class=\"code-keyword\">this</span>.z=i[<span class=\"code-number\">2</span>]*e+i[<span class=\"code-number\">6</span>]*n+i[<span class=\"code-number\">10</span>]*r,<span class=\"code-keyword\">this</span>.normalize()},e.divide=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x/=t.x,<span class=\"code-keyword\">this</span>.y/=t.y,<span class=\"code-keyword\">this</span>.z/=t.z,<span class=\"code-keyword\">this</span>},e.divideScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyScalar(<span class=\"code-number\">1</span>/t)},e.min=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.z,t.z),<span class=\"code-keyword\">this</span>},e.max=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.x,t.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.y,t.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.z,t.z),<span class=\"code-keyword\">this</span>},e.clamp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t.x,<span class=\"code-built_in\">Math</span>.min(e.x,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t.y,<span class=\"code-built_in\">Math</span>.min(e.y,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(t.z,<span class=\"code-built_in\">Math</span>.min(e.z,<span class=\"code-keyword\">this</span>.z)),<span class=\"code-keyword\">this</span>},e.clampScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.x)),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.y)),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,<span class=\"code-keyword\">this</span>.z)),<span class=\"code-keyword\">this</span>},e.clampLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.length();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(n||<span class=\"code-number\">1</span>).multiplyScalar(<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(e,n)))},e.floor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>},e.ceil=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>},e.round=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>},e.roundToZero=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-keyword\">this</span>.x&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.x):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.x),<span class=\"code-keyword\">this</span>.y=<span class=\"code-keyword\">this</span>.y&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.y):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.y),<span class=\"code-keyword\">this</span>.z=<span class=\"code-keyword\">this</span>.z&lt;<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-keyword\">this</span>.z):<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.z),<span class=\"code-keyword\">this</span>},e.negate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=-<span class=\"code-keyword\">this</span>.x,<span class=\"code-keyword\">this</span>.y=-<span class=\"code-keyword\">this</span>.y,<span class=\"code-keyword\">this</span>.z=-<span class=\"code-keyword\">this</span>.z,<span class=\"code-keyword\">this</span>},e.dot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*t.x+<span class=\"code-keyword\">this</span>.y*t.y+<span class=\"code-keyword\">this</span>.z*t.z},e.lengthSq=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y+<span class=\"code-keyword\">this</span>.z*<span class=\"code-keyword\">this</span>.z},e.length=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.x*<span class=\"code-keyword\">this</span>.x+<span class=\"code-keyword\">this</span>.y*<span class=\"code-keyword\">this</span>.y+<span class=\"code-keyword\">this</span>.z*<span class=\"code-keyword\">this</span>.z)},e.manhattanLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.z)},e.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.divideScalar(<span class=\"code-keyword\">this</span>.length()||<span class=\"code-number\">1</span>)},e.setLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x+=(t.x-<span class=\"code-keyword\">this</span>.x)*e,<span class=\"code-keyword\">this</span>.y+=(t.y-<span class=\"code-keyword\">this</span>.y)*e,<span class=\"code-keyword\">this</span>.z+=(t.z-<span class=\"code-keyword\">this</span>.z)*e,<span class=\"code-keyword\">this</span>},e.lerpVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t.x+(e.x-t.x)*n,<span class=\"code-keyword\">this</span>.y=t.y+(e.y-t.y)*n,<span class=\"code-keyword\">this</span>.z=t.z+(e.z-t.z)*n,<span class=\"code-keyword\">this</span>},e.cross=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.crossVectors(t,e)):<span class=\"code-keyword\">this</span>.crossVectors(<span class=\"code-keyword\">this</span>,t)},e.crossVectors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=r*s-i*o,<span class=\"code-keyword\">this</span>.y=i*a-n*s,<span class=\"code-keyword\">this</span>.z=n*o-r*a,<span class=\"code-keyword\">this</span>},e.projectOnVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.lengthSq();<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=t.dot(<span class=\"code-keyword\">this</span>)/e;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copy(t).multiplyScalar(n)},e.projectOnPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> St.copy(<span class=\"code-keyword\">this</span>).projectOnVector(t),<span class=\"code-keyword\">this</span>.sub(St)},e.reflect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.sub(St.copy(t).multiplyScalar(<span class=\"code-number\">2</span>*<span class=\"code-keyword\">this</span>.dot(t)))},e.angleTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.lengthSq()*t.lengthSq());<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">2</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.dot(t)/e;<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.acos(st.clamp(n,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>))},e.distanceTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.distanceToSquared(t))},e.distanceToSquared=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.x-t.x,n=<span class=\"code-keyword\">this</span>.y-t.y,r=<span class=\"code-keyword\">this</span>.z-t.z;<span class=\"code-keyword\">return</span> e*e+n*n+r*r},e.manhattanDistanceTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.x-t.x)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.y-t.y)+<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.z-t.z)},e.setFromSpherical=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromSphericalCoords(t.radius,t.phi,t.theta)},e.setFromSphericalCoords=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.sin(e)*t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=r*<span class=\"code-built_in\">Math</span>.sin(n),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.cos(e)*t,<span class=\"code-keyword\">this</span>.z=r*<span class=\"code-built_in\">Math</span>.cos(n),<span class=\"code-keyword\">this</span>},e.setFromCylindrical=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromCylindricalCoords(t.radius,t.theta,t.y)},e.setFromCylindricalCoords=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=t*<span class=\"code-built_in\">Math</span>.sin(e),<span class=\"code-keyword\">this</span>.y=n,<span class=\"code-keyword\">this</span>.z=t*<span class=\"code-built_in\">Math</span>.cos(e),<span class=\"code-keyword\">this</span>},e.setFromMatrixPosition=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.elements;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=e[<span class=\"code-number\">12</span>],<span class=\"code-keyword\">this</span>.y=e[<span class=\"code-number\">13</span>],<span class=\"code-keyword\">this</span>.z=e[<span class=\"code-number\">14</span>],<span class=\"code-keyword\">this</span>},e.setFromMatrixScale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.setFromMatrixColumn(t,<span class=\"code-number\">0</span>).length(),n=<span class=\"code-keyword\">this</span>.setFromMatrixColumn(t,<span class=\"code-number\">1</span>).length(),r=<span class=\"code-keyword\">this</span>.setFromMatrixColumn(t,<span class=\"code-number\">2</span>).length();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=e,<span class=\"code-keyword\">this</span>.y=n,<span class=\"code-keyword\">this</span>.z=r,<span class=\"code-keyword\">this</span>},e.setFromMatrixColumn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fromArray(t.elements,<span class=\"code-number\">4</span>*e)},e.setFromMatrix3Column=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fromArray(t.elements,<span class=\"code-number\">3</span>*e)},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.x===<span class=\"code-keyword\">this</span>.x&amp;&amp;t.y===<span class=\"code-keyword\">this</span>.y&amp;&amp;t.z===<span class=\"code-keyword\">this</span>.z},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.x=t[e],<span class=\"code-keyword\">this</span>.y=t[e+<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>.z=t[e+<span class=\"code-number\">2</span>],<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>.x,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>.y,t[e+<span class=\"code-number\">2</span>]=<span class=\"code-keyword\">this</span>.z,t},e.fromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.x=t.getX(e),<span class=\"code-keyword\">this</span>.y=t.getY(e),<span class=\"code-keyword\">this</span>.z=t.getZ(e),<span class=\"code-keyword\">this</span>},e.random=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.x=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.y=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>.z=<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-keyword\">this</span>},t}(),St=<span class=\"code-keyword\">new</span> Mt,Tt=<span class=\"code-keyword\">new</span> wt,Et=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isBox3\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.min=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.max=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t),<span class=\"code-keyword\">this</span>.max.copy(e),<span class=\"code-keyword\">this</span>},e.setFromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,n=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,r=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,i=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,a=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,o=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>,c=t.length;s&lt;c;s+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> l=t[s],u=t[s+<span class=\"code-number\">1</span>],h=t[s+<span class=\"code-number\">2</span>];l&lt;e&amp;&amp;(e=l),u&lt;n&amp;&amp;(n=u),h&lt;r&amp;&amp;(r=h),l&gt;i&amp;&amp;(i=l),u&gt;a&amp;&amp;(a=u),h&gt;o&amp;&amp;(o=h)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.set(e,n,r),<span class=\"code-keyword\">this</span>.max.set(i,a,o),<span class=\"code-keyword\">this</span>},e.setFromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,n=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,r=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,i=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,a=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,o=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>,c=t.count;s&lt;c;s++){<span class=\"code-keyword\">var</span> l=t.getX(s),u=t.getY(s),h=t.getZ(s);l&lt;e&amp;&amp;(e=l),u&lt;n&amp;&amp;(n=u),h&lt;r&amp;&amp;(r=h),l&gt;i&amp;&amp;(i=l),u&gt;a&amp;&amp;(a=u),h&gt;o&amp;&amp;(o=h)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.set(e,n,r),<span class=\"code-keyword\">this</span>.max.set(i,a,o),<span class=\"code-keyword\">this</span>},e.setFromPoints=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.makeEmpty();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.length;e&lt;n;e++)<span class=\"code-keyword\">this</span>.expandByPoint(t[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.setFromCenterAndSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Rt.copy(e).multiplyScalar(<span class=\"code-number\">.5</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t).sub(n),<span class=\"code-keyword\">this</span>.max.copy(t).add(n),<span class=\"code-keyword\">this</span>},e.setFromObject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.makeEmpty(),<span class=\"code-keyword\">this</span>.expandByObject(t)},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t.min),<span class=\"code-keyword\">this</span>.max.copy(t.max),<span class=\"code-keyword\">this</span>},e.makeEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.x=<span class=\"code-keyword\">this</span>.min.y=<span class=\"code-keyword\">this</span>.min.z=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.max.x=<span class=\"code-keyword\">this</span>.max.y=<span class=\"code-keyword\">this</span>.max.z=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},e.isEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.max.x&lt;<span class=\"code-keyword\">this</span>.min.x||<span class=\"code-keyword\">this</span>.max.y&lt;<span class=\"code-keyword\">this</span>.min.y||<span class=\"code-keyword\">this</span>.max.z&lt;<span class=\"code-keyword\">this</span>.min.z},e.getCenter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .getCenter() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.isEmpty()?t.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):t.addVectors(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max).multiplyScalar(<span class=\"code-number\">.5</span>)},e.getSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .getSize() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.isEmpty()?t.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):t.subVectors(<span class=\"code-keyword\">this</span>.max,<span class=\"code-keyword\">this</span>.min)},e.expandByPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.min(t),<span class=\"code-keyword\">this</span>.max.max(t),<span class=\"code-keyword\">this</span>},e.expandByVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.sub(t),<span class=\"code-keyword\">this</span>.max.add(t),<span class=\"code-keyword\">this</span>},e.expandByScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.addScalar(-t),<span class=\"code-keyword\">this</span>.max.addScalar(t),<span class=\"code-keyword\">this</span>},e.expandByObject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.updateWorldMatrix(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> e=t.geometry;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(<span class=\"code-literal\">null</span>===e.boundingBox&amp;&amp;e.computeBoundingBox(),Ct.copy(e.boundingBox),Ct.applyMatrix4(t.matrixWorld),<span class=\"code-keyword\">this</span>.union(Ct));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=t.children,r=<span class=\"code-number\">0</span>,i=n.length;r&lt;i;r++)<span class=\"code-keyword\">this</span>.expandByObject(n[r]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(t.x&lt;<span class=\"code-keyword\">this</span>.min.x||t.x&gt;<span class=\"code-keyword\">this</span>.max.x||t.y&lt;<span class=\"code-keyword\">this</span>.min.y||t.y&gt;<span class=\"code-keyword\">this</span>.max.y||t.z&lt;<span class=\"code-keyword\">this</span>.min.z||t.z&gt;<span class=\"code-keyword\">this</span>.max.z)},e.containsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=<span class=\"code-keyword\">this</span>.max.x&amp;&amp;<span class=\"code-keyword\">this</span>.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=<span class=\"code-keyword\">this</span>.max.y&amp;&amp;<span class=\"code-keyword\">this</span>.min.z&lt;=t.min.z&amp;&amp;t.max.z&lt;=<span class=\"code-keyword\">this</span>.max.z},e.getParameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .getParameter() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.set((t.x-<span class=\"code-keyword\">this</span>.min.x)/(<span class=\"code-keyword\">this</span>.max.x-<span class=\"code-keyword\">this</span>.min.x),(t.y-<span class=\"code-keyword\">this</span>.min.y)/(<span class=\"code-keyword\">this</span>.max.y-<span class=\"code-keyword\">this</span>.min.y),(t.z-<span class=\"code-keyword\">this</span>.min.z)/(<span class=\"code-keyword\">this</span>.max.z-<span class=\"code-keyword\">this</span>.min.z))},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(t.max.x&lt;<span class=\"code-keyword\">this</span>.min.x||t.min.x&gt;<span class=\"code-keyword\">this</span>.max.x||t.max.y&lt;<span class=\"code-keyword\">this</span>.min.y||t.min.y&gt;<span class=\"code-keyword\">this</span>.max.y||t.max.z&lt;<span class=\"code-keyword\">this</span>.min.z||t.min.z&gt;<span class=\"code-keyword\">this</span>.max.z)},e.intersectsSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clampPoint(t.center,Rt),Rt.distanceToSquared(t.center)&lt;=t.radius*t.radius},e.intersectsPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n;<span class=\"code-keyword\">return</span> t.normal.x&gt;<span class=\"code-number\">0</span>?(e=t.normal.x*<span class=\"code-keyword\">this</span>.min.x,n=t.normal.x*<span class=\"code-keyword\">this</span>.max.x):(e=t.normal.x*<span class=\"code-keyword\">this</span>.max.x,n=t.normal.x*<span class=\"code-keyword\">this</span>.min.x),t.normal.y&gt;<span class=\"code-number\">0</span>?(e+=t.normal.y*<span class=\"code-keyword\">this</span>.min.y,n+=t.normal.y*<span class=\"code-keyword\">this</span>.max.y):(e+=t.normal.y*<span class=\"code-keyword\">this</span>.max.y,n+=t.normal.y*<span class=\"code-keyword\">this</span>.min.y),t.normal.z&gt;<span class=\"code-number\">0</span>?(e+=t.normal.z*<span class=\"code-keyword\">this</span>.min.z,n+=t.normal.z*<span class=\"code-keyword\">this</span>.max.z):(e+=t.normal.z*<span class=\"code-keyword\">this</span>.max.z,n+=t.normal.z*<span class=\"code-keyword\">this</span>.min.z),e&lt;=-t.constant&amp;&amp;n&gt;=-t.constant},e.intersectsTriangle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.isEmpty())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.getCenter(zt),Ut.subVectors(<span class=\"code-keyword\">this</span>.max,zt),Pt.subVectors(t.a,zt),It.subVectors(t.b,zt),Nt.subVectors(t.c,zt),Dt.subVectors(It,Pt),Ot.subVectors(Nt,It),Bt.subVectors(Pt,Nt);<span class=\"code-keyword\">var</span> e=[<span class=\"code-number\">0</span>,-Dt.z,Dt.y,<span class=\"code-number\">0</span>,-Ot.z,Ot.y,<span class=\"code-number\">0</span>,-Bt.z,Bt.y,Dt.z,<span class=\"code-number\">0</span>,-Dt.x,Ot.z,<span class=\"code-number\">0</span>,-Ot.x,Bt.z,<span class=\"code-number\">0</span>,-Bt.x,-Dt.y,Dt.x,<span class=\"code-number\">0</span>,-Ot.y,Ot.x,<span class=\"code-number\">0</span>,-Bt.y,Bt.x,<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span>!!At(e,Pt,It,Nt,Ut)&amp;&amp;(!!At(e=[<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>],Pt,It,Nt,Ut)&amp;&amp;(Ft.crossVectors(Dt,Ot),At(e=[Ft.x,Ft.y,Ft.z],Pt,It,Nt,Ut)))},e.clampPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .clampPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.copy(t).clamp(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max)},e.distanceToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Rt.copy(t).clamp(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max).sub(t).length()},e.getBoundingSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Box3: .getBoundingSphere() target is now required\"</span>),<span class=\"code-keyword\">this</span>.getCenter(t.center),t.radius=<span class=\"code-number\">.5</span>*<span class=\"code-keyword\">this</span>.getSize(Rt).length(),t},e.intersect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.max(t.min),<span class=\"code-keyword\">this</span>.max.min(t.max),<span class=\"code-keyword\">this</span>.isEmpty()&amp;&amp;<span class=\"code-keyword\">this</span>.makeEmpty(),<span class=\"code-keyword\">this</span>},e.union=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.min(t.min),<span class=\"code-keyword\">this</span>.max.max(t.max),<span class=\"code-keyword\">this</span>},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isEmpty()||(Lt[<span class=\"code-number\">0</span>].set(<span class=\"code-keyword\">this</span>.min.x,<span class=\"code-keyword\">this</span>.min.y,<span class=\"code-keyword\">this</span>.min.z).applyMatrix4(t),Lt[<span class=\"code-number\">1</span>].set(<span class=\"code-keyword\">this</span>.min.x,<span class=\"code-keyword\">this</span>.min.y,<span class=\"code-keyword\">this</span>.max.z).applyMatrix4(t),Lt[<span class=\"code-number\">2</span>].set(<span class=\"code-keyword\">this</span>.min.x,<span class=\"code-keyword\">this</span>.max.y,<span class=\"code-keyword\">this</span>.min.z).applyMatrix4(t),Lt[<span class=\"code-number\">3</span>].set(<span class=\"code-keyword\">this</span>.min.x,<span class=\"code-keyword\">this</span>.max.y,<span class=\"code-keyword\">this</span>.max.z).applyMatrix4(t),Lt[<span class=\"code-number\">4</span>].set(<span class=\"code-keyword\">this</span>.max.x,<span class=\"code-keyword\">this</span>.min.y,<span class=\"code-keyword\">this</span>.min.z).applyMatrix4(t),Lt[<span class=\"code-number\">5</span>].set(<span class=\"code-keyword\">this</span>.max.x,<span class=\"code-keyword\">this</span>.min.y,<span class=\"code-keyword\">this</span>.max.z).applyMatrix4(t),Lt[<span class=\"code-number\">6</span>].set(<span class=\"code-keyword\">this</span>.max.x,<span class=\"code-keyword\">this</span>.max.y,<span class=\"code-keyword\">this</span>.min.z).applyMatrix4(t),Lt[<span class=\"code-number\">7</span>].set(<span class=\"code-keyword\">this</span>.max.x,<span class=\"code-keyword\">this</span>.max.y,<span class=\"code-keyword\">this</span>.max.z).applyMatrix4(t),<span class=\"code-keyword\">this</span>.setFromPoints(Lt)),<span class=\"code-keyword\">this</span>},e.translate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.add(t),<span class=\"code-keyword\">this</span>.max.add(t),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.min.equals(<span class=\"code-keyword\">this</span>.min)&amp;&amp;t.max.equals(<span class=\"code-keyword\">this</span>.max)},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">At</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=t.length<span class=\"code-number\">-3</span>;a&lt;=o;a+=<span class=\"code-number\">3</span>){Gt.fromArray(t,a);<span class=\"code-keyword\">var</span> s=i.x*<span class=\"code-built_in\">Math</span>.abs(Gt.x)+i.y*<span class=\"code-built_in\">Math</span>.abs(Gt.y)+i.z*<span class=\"code-built_in\">Math</span>.abs(Gt.z),c=e.dot(Gt),l=n.dot(Gt),u=r.dot(Gt);<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Math</span>.max(-<span class=\"code-built_in\">Math</span>.max(c,l,u),<span class=\"code-built_in\">Math</span>.min(c,l,u))&gt;s)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> Lt=[<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">new</span> Mt],Rt=<span class=\"code-keyword\">new</span> Mt,Ct=<span class=\"code-keyword\">new</span> Et,Pt=<span class=\"code-keyword\">new</span> Mt,It=<span class=\"code-keyword\">new</span> Mt,Nt=<span class=\"code-keyword\">new</span> Mt,Dt=<span class=\"code-keyword\">new</span> Mt,Ot=<span class=\"code-keyword\">new</span> Mt,Bt=<span class=\"code-keyword\">new</span> Mt,zt=<span class=\"code-keyword\">new</span> Mt,Ut=<span class=\"code-keyword\">new</span> Mt,Ft=<span class=\"code-keyword\">new</span> Mt,Gt=<span class=\"code-keyword\">new</span> Mt,Ht=<span class=\"code-keyword\">new</span> Et,kt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.center=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.radius=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.center.copy(t),<span class=\"code-keyword\">this</span>.radius=e,<span class=\"code-keyword\">this</span>},e.setFromPoints=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.center;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?n.copy(e):Ht.setFromPoints(t).getCenter(n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++)r=<span class=\"code-built_in\">Math</span>.max(r,n.distanceToSquared(t[i]));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=<span class=\"code-built_in\">Math</span>.sqrt(r),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.center.copy(t.center),<span class=\"code-keyword\">this</span>.radius=t.radius,<span class=\"code-keyword\">this</span>},e.isEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius&lt;<span class=\"code-number\">0</span>},e.makeEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.center.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.radius=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>},e.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.distanceToSquared(<span class=\"code-keyword\">this</span>.center)&lt;=<span class=\"code-keyword\">this</span>.radius*<span class=\"code-keyword\">this</span>.radius},e.distanceToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.distanceTo(<span class=\"code-keyword\">this</span>.center)-<span class=\"code-keyword\">this</span>.radius},e.intersectsSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.radius+t.radius;<span class=\"code-keyword\">return</span> t.center.distanceToSquared(<span class=\"code-keyword\">this</span>.center)&lt;=e*e},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.intersectsSphere(<span class=\"code-keyword\">this</span>)},e.intersectsPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(t.distanceToPoint(<span class=\"code-keyword\">this</span>.center))&lt;=<span class=\"code-keyword\">this</span>.radius},e.clampPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.center.distanceToSquared(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Sphere: .clampPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.copy(t),n&gt;<span class=\"code-keyword\">this</span>.radius*<span class=\"code-keyword\">this</span>.radius&amp;&amp;(e.sub(<span class=\"code-keyword\">this</span>.center).normalize(),e.multiplyScalar(<span class=\"code-keyword\">this</span>.radius).add(<span class=\"code-keyword\">this</span>.center)),e},e.getBoundingBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Sphere: .getBoundingBox() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Et),<span class=\"code-keyword\">this</span>.isEmpty()?(t.makeEmpty(),t):(t.set(<span class=\"code-keyword\">this</span>.center,<span class=\"code-keyword\">this</span>.center),t.expandByScalar(<span class=\"code-keyword\">this</span>.radius),t)},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.center.applyMatrix4(t),<span class=\"code-keyword\">this</span>.radius=<span class=\"code-keyword\">this</span>.radius*t.getMaxScaleOnAxis(),<span class=\"code-keyword\">this</span>},e.translate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.center.add(t),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.center.equals(<span class=\"code-keyword\">this</span>.center)&amp;&amp;t.radius===<span class=\"code-keyword\">this</span>.radius},t}(),Vt=<span class=\"code-keyword\">new</span> Mt,Wt=<span class=\"code-keyword\">new</span> Mt,jt=<span class=\"code-keyword\">new</span> Mt,qt=<span class=\"code-keyword\">new</span> Mt,Xt=<span class=\"code-keyword\">new</span> Mt,Yt=<span class=\"code-keyword\">new</span> Mt,Zt=<span class=\"code-keyword\">new</span> Mt,Jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.origin=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.direction=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.origin.copy(t),<span class=\"code-keyword\">this</span>.direction.copy(e),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.origin.copy(t.origin),<span class=\"code-keyword\">this</span>.direction.copy(t.direction),<span class=\"code-keyword\">this</span>},e.at=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Ray: .at() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.copy(<span class=\"code-keyword\">this</span>.direction).multiplyScalar(t).add(<span class=\"code-keyword\">this</span>.origin)},e.lookAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.direction.copy(t).sub(<span class=\"code-keyword\">this</span>.origin).normalize(),<span class=\"code-keyword\">this</span>},e.recast=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.origin.copy(<span class=\"code-keyword\">this</span>.at(t,Vt)),<span class=\"code-keyword\">this</span>},e.closestPointToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Ray: .closestPointToPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.subVectors(t,<span class=\"code-keyword\">this</span>.origin);<span class=\"code-keyword\">var</span> n=e.dot(<span class=\"code-keyword\">this</span>.direction);<span class=\"code-keyword\">return</span> n&lt;<span class=\"code-number\">0</span>?e.copy(<span class=\"code-keyword\">this</span>.origin):e.copy(<span class=\"code-keyword\">this</span>.direction).multiplyScalar(n).add(<span class=\"code-keyword\">this</span>.origin)},e.distanceToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-keyword\">this</span>.distanceSqToPoint(t))},e.distanceSqToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Vt.subVectors(t,<span class=\"code-keyword\">this</span>.origin).dot(<span class=\"code-keyword\">this</span>.direction);<span class=\"code-keyword\">return</span> e&lt;<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.origin.distanceToSquared(t):(Vt.copy(<span class=\"code-keyword\">this</span>.direction).multiplyScalar(e).add(<span class=\"code-keyword\">this</span>.origin),Vt.distanceToSquared(t))},e.distanceSqToSegment=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{Wt.copy(t).add(e).multiplyScalar(<span class=\"code-number\">.5</span>),jt.copy(e).sub(t).normalize(),qt.copy(<span class=\"code-keyword\">this</span>.origin).sub(Wt);<span class=\"code-keyword\">var</span> i,a,o,s,c=<span class=\"code-number\">.5</span>*t.distanceTo(e),l=-<span class=\"code-keyword\">this</span>.direction.dot(jt),u=qt.dot(<span class=\"code-keyword\">this</span>.direction),h=-qt.dot(jt),d=qt.lengthSq(),p=<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-number\">1</span>-l*l);<span class=\"code-keyword\">if</span>(p&gt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">if</span>(a=l*u-h,s=c*p,(i=l*h-u)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">if</span>(a&gt;=-s)<span class=\"code-keyword\">if</span>(a&lt;=s){<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">1</span>/p;o=(i*=f)*(i+l*(a*=f)+<span class=\"code-number\">2</span>*u)+a*(l*i+a+<span class=\"code-number\">2</span>*h)+d}<span class=\"code-keyword\">else</span> a=c,o=-(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,-(l*a+u)))*i+a*(a+<span class=\"code-number\">2</span>*h)+d;<span class=\"code-keyword\">else</span> a=-c,o=-(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,-(l*a+u)))*i+a*(a+<span class=\"code-number\">2</span>*h)+d;<span class=\"code-keyword\">else</span> a&lt;=-s?o=-(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,-(-l*c+u)))*i+(a=i&gt;<span class=\"code-number\">0</span>?-c:<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(-c,-h),c))*(a+<span class=\"code-number\">2</span>*h)+d:a&lt;=s?(i=<span class=\"code-number\">0</span>,o=(a=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(-c,-h),c))*(a+<span class=\"code-number\">2</span>*h)+d):o=-(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,-(l*c+u)))*i+(a=i&gt;<span class=\"code-number\">0</span>?c:<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(-c,-h),c))*(a+<span class=\"code-number\">2</span>*h)+d;<span class=\"code-keyword\">else</span> a=l&gt;<span class=\"code-number\">0</span>?-c:c,o=-(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,-(l*a+u)))*i+a*(a+<span class=\"code-number\">2</span>*h)+d;<span class=\"code-keyword\">return</span> n&amp;&amp;n.copy(<span class=\"code-keyword\">this</span>.direction).multiplyScalar(i).add(<span class=\"code-keyword\">this</span>.origin),r&amp;&amp;r.copy(jt).multiplyScalar(a).add(Wt),o},e.intersectSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{Vt.subVectors(t.center,<span class=\"code-keyword\">this</span>.origin);<span class=\"code-keyword\">var</span> n=Vt.dot(<span class=\"code-keyword\">this</span>.direction),r=Vt.dot(Vt)-n*n,i=t.radius*t.radius;<span class=\"code-keyword\">if</span>(r&gt;i)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Math</span>.sqrt(i-r),o=n-a,s=n+a;<span class=\"code-keyword\">return</span> o&lt;<span class=\"code-number\">0</span>&amp;&amp;s&lt;<span class=\"code-number\">0</span>?<span class=\"code-literal\">null</span>:o&lt;<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.at(s,e):<span class=\"code-keyword\">this</span>.at(o,e)},e.intersectsSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.distanceSqToPoint(t.center)&lt;=t.radius*t.radius},e.distanceToPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.normal.dot(<span class=\"code-keyword\">this</span>.direction);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===t.distanceToPoint(<span class=\"code-keyword\">this</span>.origin)?<span class=\"code-number\">0</span>:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> n=-(<span class=\"code-keyword\">this</span>.origin.dot(t.normal)+t.constant)/e;<span class=\"code-keyword\">return</span> n&gt;=<span class=\"code-number\">0</span>?n:<span class=\"code-literal\">null</span>},e.intersectPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.distanceToPlane(t);<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===n?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.at(n,e)},e.intersectsPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.distanceToPoint(<span class=\"code-keyword\">this</span>.origin);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e||t.normal.dot(<span class=\"code-keyword\">this</span>.direction)*e&lt;<span class=\"code-number\">0</span>},e.intersectBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r,i,a,o,s,c=<span class=\"code-number\">1</span>/<span class=\"code-keyword\">this</span>.direction.x,l=<span class=\"code-number\">1</span>/<span class=\"code-keyword\">this</span>.direction.y,u=<span class=\"code-number\">1</span>/<span class=\"code-keyword\">this</span>.direction.z,h=<span class=\"code-keyword\">this</span>.origin;<span class=\"code-keyword\">return</span> c&gt;=<span class=\"code-number\">0</span>?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),l&gt;=<span class=\"code-number\">0</span>?(i=(t.min.y-h.y)*l,a=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,a=(t.min.y-h.y)*l),n&gt;a||i&gt;r?<span class=\"code-literal\">null</span>:((i&gt;n||n!=n)&amp;&amp;(n=i),(a&lt;r||r!=r)&amp;&amp;(r=a),u&gt;=<span class=\"code-number\">0</span>?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n&gt;s||o&gt;r?<span class=\"code-literal\">null</span>:((o&gt;n||n!=n)&amp;&amp;(n=o),(s&lt;r||r!=r)&amp;&amp;(r=s),r&lt;<span class=\"code-number\">0</span>?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.at(n&gt;=<span class=\"code-number\">0</span>?n:r,e)))},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.intersectBox(t,Vt)},e.intersectTriangle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{Xt.subVectors(e,t),Yt.subVectors(n,t),Zt.crossVectors(Xt,Yt);<span class=\"code-keyword\">var</span> a,o=<span class=\"code-keyword\">this</span>.direction.dot(Zt);<span class=\"code-keyword\">if</span>(o&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;a=<span class=\"code-number\">1</span>}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(o&lt;<span class=\"code-number\">0</span>))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;a=<span class=\"code-number\">-1</span>,o=-o}qt.subVectors(<span class=\"code-keyword\">this</span>.origin,t);<span class=\"code-keyword\">var</span> s=a*<span class=\"code-keyword\">this</span>.direction.dot(Yt.crossVectors(qt,Yt));<span class=\"code-keyword\">if</span>(s&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> c=a*<span class=\"code-keyword\">this</span>.direction.dot(Xt.cross(qt));<span class=\"code-keyword\">if</span>(c&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(s+c&gt;o)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> l=-a*qt.dot(Zt);<span class=\"code-keyword\">return</span> l&lt;<span class=\"code-number\">0</span>?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.at(l/o,i)},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.origin.applyMatrix4(t),<span class=\"code-keyword\">this</span>.direction.transformDirection(t),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.origin.equals(<span class=\"code-keyword\">this</span>.origin)&amp;&amp;t.direction.equals(<span class=\"code-keyword\">this</span>.direction)},t}(),Qt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isMatrix4\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.elements=[<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>],<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\"</span>)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l,u,h,d,p,f,m</span>)</span>{<span class=\"code-keyword\">var</span> v=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> v[<span class=\"code-number\">0</span>]=t,v[<span class=\"code-number\">4</span>]=e,v[<span class=\"code-number\">8</span>]=n,v[<span class=\"code-number\">12</span>]=r,v[<span class=\"code-number\">1</span>]=i,v[<span class=\"code-number\">5</span>]=a,v[<span class=\"code-number\">9</span>]=o,v[<span class=\"code-number\">13</span>]=s,v[<span class=\"code-number\">2</span>]=c,v[<span class=\"code-number\">6</span>]=l,v[<span class=\"code-number\">10</span>]=u,v[<span class=\"code-number\">14</span>]=h,v[<span class=\"code-number\">3</span>]=d,v[<span class=\"code-number\">7</span>]=p,v[<span class=\"code-number\">11</span>]=f,v[<span class=\"code-number\">15</span>]=m,<span class=\"code-keyword\">this</span>},e.identity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> t).fromArray(<span class=\"code-keyword\">this</span>.elements)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]=n[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>]=n[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">3</span>]=n[<span class=\"code-number\">3</span>],e[<span class=\"code-number\">4</span>]=n[<span class=\"code-number\">4</span>],e[<span class=\"code-number\">5</span>]=n[<span class=\"code-number\">5</span>],e[<span class=\"code-number\">6</span>]=n[<span class=\"code-number\">6</span>],e[<span class=\"code-number\">7</span>]=n[<span class=\"code-number\">7</span>],e[<span class=\"code-number\">8</span>]=n[<span class=\"code-number\">8</span>],e[<span class=\"code-number\">9</span>]=n[<span class=\"code-number\">9</span>],e[<span class=\"code-number\">10</span>]=n[<span class=\"code-number\">10</span>],e[<span class=\"code-number\">11</span>]=n[<span class=\"code-number\">11</span>],e[<span class=\"code-number\">12</span>]=n[<span class=\"code-number\">12</span>],e[<span class=\"code-number\">13</span>]=n[<span class=\"code-number\">13</span>],e[<span class=\"code-number\">14</span>]=n[<span class=\"code-number\">14</span>],e[<span class=\"code-number\">15</span>]=n[<span class=\"code-number\">15</span>],<span class=\"code-keyword\">this</span>},e.copyPosition=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">12</span>]=n[<span class=\"code-number\">12</span>],e[<span class=\"code-number\">13</span>]=n[<span class=\"code-number\">13</span>],e[<span class=\"code-number\">14</span>]=n[<span class=\"code-number\">14</span>],<span class=\"code-keyword\">this</span>},e.extractBasis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t.setFromMatrixColumn(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">0</span>),e.setFromMatrixColumn(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">1</span>),n.setFromMatrixColumn(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>},e.makeBasis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(t.x,e.x,n.x,<span class=\"code-number\">0</span>,t.y,e.y,n.y,<span class=\"code-number\">0</span>,t.z,e.z,n.z,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.extractRotation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements,r=<span class=\"code-number\">1</span>/Kt.setFromMatrixColumn(t,<span class=\"code-number\">0</span>).length(),i=<span class=\"code-number\">1</span>/Kt.setFromMatrixColumn(t,<span class=\"code-number\">1</span>).length(),a=<span class=\"code-number\">1</span>/Kt.setFromMatrixColumn(t,<span class=\"code-number\">2</span>).length();<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]=n[<span class=\"code-number\">0</span>]*r,e[<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>]*r,e[<span class=\"code-number\">2</span>]=n[<span class=\"code-number\">2</span>]*r,e[<span class=\"code-number\">3</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">4</span>]=n[<span class=\"code-number\">4</span>]*i,e[<span class=\"code-number\">5</span>]=n[<span class=\"code-number\">5</span>]*i,e[<span class=\"code-number\">6</span>]=n[<span class=\"code-number\">6</span>]*i,e[<span class=\"code-number\">7</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">8</span>]=n[<span class=\"code-number\">8</span>]*a,e[<span class=\"code-number\">9</span>]=n[<span class=\"code-number\">9</span>]*a,e[<span class=\"code-number\">10</span>]=n[<span class=\"code-number\">10</span>]*a,e[<span class=\"code-number\">11</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">12</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">13</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">14</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">15</span>]=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},e.makeRotationFromEuler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t&amp;&amp;t.isEuler||<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.x,r=t.y,i=t.z,a=<span class=\"code-built_in\">Math</span>.cos(n),o=<span class=\"code-built_in\">Math</span>.sin(n),s=<span class=\"code-built_in\">Math</span>.cos(r),c=<span class=\"code-built_in\">Math</span>.sin(r),l=<span class=\"code-built_in\">Math</span>.cos(i),u=<span class=\"code-built_in\">Math</span>.sin(i);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"XYZ\"</span>===t.order){<span class=\"code-keyword\">var</span> h=a*l,d=a*u,p=o*l,f=o*u;e[<span class=\"code-number\">0</span>]=s*l,e[<span class=\"code-number\">4</span>]=-s*u,e[<span class=\"code-number\">8</span>]=c,e[<span class=\"code-number\">1</span>]=d+p*c,e[<span class=\"code-number\">5</span>]=h-f*c,e[<span class=\"code-number\">9</span>]=-o*s,e[<span class=\"code-number\">2</span>]=f-h*c,e[<span class=\"code-number\">6</span>]=p+d*c,e[<span class=\"code-number\">10</span>]=a*s}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"YXZ\"</span>===t.order){<span class=\"code-keyword\">var</span> m=s*l,v=s*u,g=c*l,y=c*u;e[<span class=\"code-number\">0</span>]=m+y*o,e[<span class=\"code-number\">4</span>]=g*o-v,e[<span class=\"code-number\">8</span>]=a*c,e[<span class=\"code-number\">1</span>]=a*u,e[<span class=\"code-number\">5</span>]=a*l,e[<span class=\"code-number\">9</span>]=-o,e[<span class=\"code-number\">2</span>]=v*o-g,e[<span class=\"code-number\">6</span>]=y+m*o,e[<span class=\"code-number\">10</span>]=a*s}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"ZXY\"</span>===t.order){<span class=\"code-keyword\">var</span> x=s*l,_=s*u,b=c*l,w=c*u;e[<span class=\"code-number\">0</span>]=x-w*o,e[<span class=\"code-number\">4</span>]=-a*u,e[<span class=\"code-number\">8</span>]=b+_*o,e[<span class=\"code-number\">1</span>]=_+b*o,e[<span class=\"code-number\">5</span>]=a*l,e[<span class=\"code-number\">9</span>]=w-x*o,e[<span class=\"code-number\">2</span>]=-a*c,e[<span class=\"code-number\">6</span>]=o,e[<span class=\"code-number\">10</span>]=a*s}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"ZYX\"</span>===t.order){<span class=\"code-keyword\">var</span> M=a*l,S=a*u,T=o*l,E=o*u;e[<span class=\"code-number\">0</span>]=s*l,e[<span class=\"code-number\">4</span>]=T*c-S,e[<span class=\"code-number\">8</span>]=M*c+E,e[<span class=\"code-number\">1</span>]=s*u,e[<span class=\"code-number\">5</span>]=E*c+M,e[<span class=\"code-number\">9</span>]=S*c-T,e[<span class=\"code-number\">2</span>]=-c,e[<span class=\"code-number\">6</span>]=o*s,e[<span class=\"code-number\">10</span>]=a*s}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"YZX\"</span>===t.order){<span class=\"code-keyword\">var</span> A=a*s,L=a*c,R=o*s,C=o*c;e[<span class=\"code-number\">0</span>]=s*l,e[<span class=\"code-number\">4</span>]=C-A*u,e[<span class=\"code-number\">8</span>]=R*u+L,e[<span class=\"code-number\">1</span>]=u,e[<span class=\"code-number\">5</span>]=a*l,e[<span class=\"code-number\">9</span>]=-o*l,e[<span class=\"code-number\">2</span>]=-c*l,e[<span class=\"code-number\">6</span>]=L*u+R,e[<span class=\"code-number\">10</span>]=A-C*u}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"XZY\"</span>===t.order){<span class=\"code-keyword\">var</span> P=a*s,I=a*c,N=o*s,D=o*c;e[<span class=\"code-number\">0</span>]=s*l,e[<span class=\"code-number\">4</span>]=-u,e[<span class=\"code-number\">8</span>]=c*l,e[<span class=\"code-number\">1</span>]=P*u+D,e[<span class=\"code-number\">5</span>]=a*l,e[<span class=\"code-number\">9</span>]=I*u-N,e[<span class=\"code-number\">2</span>]=N*u-I,e[<span class=\"code-number\">6</span>]=o*l,e[<span class=\"code-number\">10</span>]=D*u+P}<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">3</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">7</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">11</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">12</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">13</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">14</span>]=<span class=\"code-number\">0</span>,e[<span class=\"code-number\">15</span>]=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},e.makeRotationFromQuaternion=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.compose(te,t,ee)},e.lookAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> ie.subVectors(t,e),<span class=\"code-number\">0</span>===ie.lengthSq()&amp;&amp;(ie.z=<span class=\"code-number\">1</span>),ie.normalize(),ne.crossVectors(n,ie),<span class=\"code-number\">0</span>===ne.lengthSq()&amp;&amp;(<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Math</span>.abs(n.z)?ie.x+=<span class=\"code-number\">1e-4</span>:ie.z+=<span class=\"code-number\">1e-4</span>,ie.normalize(),ne.crossVectors(n,ie)),ne.normalize(),re.crossVectors(ie,ne),r[<span class=\"code-number\">0</span>]=ne.x,r[<span class=\"code-number\">4</span>]=re.x,r[<span class=\"code-number\">8</span>]=ie.x,r[<span class=\"code-number\">1</span>]=ne.y,r[<span class=\"code-number\">5</span>]=re.y,r[<span class=\"code-number\">9</span>]=ie.y,r[<span class=\"code-number\">2</span>]=ne.z,r[<span class=\"code-number\">6</span>]=re.z,r[<span class=\"code-number\">10</span>]=ie.z,<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"</span>),<span class=\"code-keyword\">this</span>.multiplyMatrices(t,e)):<span class=\"code-keyword\">this</span>.multiplyMatrices(<span class=\"code-keyword\">this</span>,t)},e.premultiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.multiplyMatrices(t,<span class=\"code-keyword\">this</span>)},e.multiplyMatrices=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.elements,r=e.elements,i=<span class=\"code-keyword\">this</span>.elements,a=n[<span class=\"code-number\">0</span>],o=n[<span class=\"code-number\">4</span>],s=n[<span class=\"code-number\">8</span>],c=n[<span class=\"code-number\">12</span>],l=n[<span class=\"code-number\">1</span>],u=n[<span class=\"code-number\">5</span>],h=n[<span class=\"code-number\">9</span>],d=n[<span class=\"code-number\">13</span>],p=n[<span class=\"code-number\">2</span>],f=n[<span class=\"code-number\">6</span>],m=n[<span class=\"code-number\">10</span>],v=n[<span class=\"code-number\">14</span>],g=n[<span class=\"code-number\">3</span>],y=n[<span class=\"code-number\">7</span>],x=n[<span class=\"code-number\">11</span>],_=n[<span class=\"code-number\">15</span>],b=r[<span class=\"code-number\">0</span>],w=r[<span class=\"code-number\">4</span>],M=r[<span class=\"code-number\">8</span>],S=r[<span class=\"code-number\">12</span>],T=r[<span class=\"code-number\">1</span>],E=r[<span class=\"code-number\">5</span>],A=r[<span class=\"code-number\">9</span>],L=r[<span class=\"code-number\">13</span>],R=r[<span class=\"code-number\">2</span>],C=r[<span class=\"code-number\">6</span>],P=r[<span class=\"code-number\">10</span>],I=r[<span class=\"code-number\">14</span>],N=r[<span class=\"code-number\">3</span>],D=r[<span class=\"code-number\">7</span>],O=r[<span class=\"code-number\">11</span>],B=r[<span class=\"code-number\">15</span>];<span class=\"code-keyword\">return</span> i[<span class=\"code-number\">0</span>]=a*b+o*T+s*R+c*N,i[<span class=\"code-number\">4</span>]=a*w+o*E+s*C+c*D,i[<span class=\"code-number\">8</span>]=a*M+o*A+s*P+c*O,i[<span class=\"code-number\">12</span>]=a*S+o*L+s*I+c*B,i[<span class=\"code-number\">1</span>]=l*b+u*T+h*R+d*N,i[<span class=\"code-number\">5</span>]=l*w+u*E+h*C+d*D,i[<span class=\"code-number\">9</span>]=l*M+u*A+h*P+d*O,i[<span class=\"code-number\">13</span>]=l*S+u*L+h*I+d*B,i[<span class=\"code-number\">2</span>]=p*b+f*T+m*R+v*N,i[<span class=\"code-number\">6</span>]=p*w+f*E+m*C+v*D,i[<span class=\"code-number\">10</span>]=p*M+f*A+m*P+v*O,i[<span class=\"code-number\">14</span>]=p*S+f*L+m*I+v*B,i[<span class=\"code-number\">3</span>]=g*b+y*T+x*R+_*N,i[<span class=\"code-number\">7</span>]=g*w+y*E+x*C+_*D,i[<span class=\"code-number\">11</span>]=g*M+y*A+x*P+_*O,i[<span class=\"code-number\">15</span>]=g*S+y*L+x*I+_*B,<span class=\"code-keyword\">this</span>},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]*=t,e[<span class=\"code-number\">4</span>]*=t,e[<span class=\"code-number\">8</span>]*=t,e[<span class=\"code-number\">12</span>]*=t,e[<span class=\"code-number\">1</span>]*=t,e[<span class=\"code-number\">5</span>]*=t,e[<span class=\"code-number\">9</span>]*=t,e[<span class=\"code-number\">13</span>]*=t,e[<span class=\"code-number\">2</span>]*=t,e[<span class=\"code-number\">6</span>]*=t,e[<span class=\"code-number\">10</span>]*=t,e[<span class=\"code-number\">14</span>]*=t,e[<span class=\"code-number\">3</span>]*=t,e[<span class=\"code-number\">7</span>]*=t,e[<span class=\"code-number\">11</span>]*=t,e[<span class=\"code-number\">15</span>]*=t,<span class=\"code-keyword\">this</span>},e.determinant=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.elements,e=t[<span class=\"code-number\">0</span>],n=t[<span class=\"code-number\">4</span>],r=t[<span class=\"code-number\">8</span>],i=t[<span class=\"code-number\">12</span>],a=t[<span class=\"code-number\">1</span>],o=t[<span class=\"code-number\">5</span>],s=t[<span class=\"code-number\">9</span>],c=t[<span class=\"code-number\">13</span>],l=t[<span class=\"code-number\">2</span>],u=t[<span class=\"code-number\">6</span>],h=t[<span class=\"code-number\">10</span>],d=t[<span class=\"code-number\">14</span>];<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">3</span>]*(+i*s*u-r*c*u-i*o*h+n*c*h+r*o*d-n*s*d)+t[<span class=\"code-number\">7</span>]*(+e*s*d-e*c*h+i*a*h-r*a*d+r*c*l-i*s*l)+t[<span class=\"code-number\">11</span>]*(+e*c*u-e*o*d-i*a*u+n*a*d+i*o*l-n*c*l)+t[<span class=\"code-number\">15</span>]*(-r*o*l-e*s*u+e*o*h+r*a*u-n*a*h+n*s*l)},e.transpose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,e=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t=e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">1</span>]=e[<span class=\"code-number\">4</span>],e[<span class=\"code-number\">4</span>]=t,t=e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">2</span>]=e[<span class=\"code-number\">8</span>],e[<span class=\"code-number\">8</span>]=t,t=e[<span class=\"code-number\">6</span>],e[<span class=\"code-number\">6</span>]=e[<span class=\"code-number\">9</span>],e[<span class=\"code-number\">9</span>]=t,t=e[<span class=\"code-number\">3</span>],e[<span class=\"code-number\">3</span>]=e[<span class=\"code-number\">12</span>],e[<span class=\"code-number\">12</span>]=t,t=e[<span class=\"code-number\">7</span>],e[<span class=\"code-number\">7</span>]=e[<span class=\"code-number\">13</span>],e[<span class=\"code-number\">13</span>]=t,t=e[<span class=\"code-number\">11</span>],e[<span class=\"code-number\">11</span>]=e[<span class=\"code-number\">14</span>],e[<span class=\"code-number\">14</span>]=t,<span class=\"code-keyword\">this</span>},e.setPosition=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t.isVector3?(r[<span class=\"code-number\">12</span>]=t.x,r[<span class=\"code-number\">13</span>]=t.y,r[<span class=\"code-number\">14</span>]=t.z):(r[<span class=\"code-number\">12</span>]=t,r[<span class=\"code-number\">13</span>]=e,r[<span class=\"code-number\">14</span>]=n),<span class=\"code-keyword\">this</span>},e.invert=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.elements,e=t[<span class=\"code-number\">0</span>],n=t[<span class=\"code-number\">1</span>],r=t[<span class=\"code-number\">2</span>],i=t[<span class=\"code-number\">3</span>],a=t[<span class=\"code-number\">4</span>],o=t[<span class=\"code-number\">5</span>],s=t[<span class=\"code-number\">6</span>],c=t[<span class=\"code-number\">7</span>],l=t[<span class=\"code-number\">8</span>],u=t[<span class=\"code-number\">9</span>],h=t[<span class=\"code-number\">10</span>],d=t[<span class=\"code-number\">11</span>],p=t[<span class=\"code-number\">12</span>],f=t[<span class=\"code-number\">13</span>],m=t[<span class=\"code-number\">14</span>],v=t[<span class=\"code-number\">15</span>],g=u*m*c-f*h*c+f*s*d-o*m*d-u*s*v+o*h*v,y=p*h*c-l*m*c-p*s*d+a*m*d+l*s*v-a*h*v,x=l*f*c-p*u*c+p*o*d-a*f*d-l*o*v+a*u*v,_=p*u*s-l*f*s-p*o*h+a*f*h+l*o*m-a*u*m,b=e*g+n*y+r*x+i*_;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===b)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">1</span>/b;<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">0</span>]=g*w,t[<span class=\"code-number\">1</span>]=(f*h*i-u*m*i-f*r*d+n*m*d+u*r*v-n*h*v)*w,t[<span class=\"code-number\">2</span>]=(o*m*i-f*s*i+f*r*c-n*m*c-o*r*v+n*s*v)*w,t[<span class=\"code-number\">3</span>]=(u*s*i-o*h*i-u*r*c+n*h*c+o*r*d-n*s*d)*w,t[<span class=\"code-number\">4</span>]=y*w,t[<span class=\"code-number\">5</span>]=(l*m*i-p*h*i+p*r*d-e*m*d-l*r*v+e*h*v)*w,t[<span class=\"code-number\">6</span>]=(p*s*i-a*m*i-p*r*c+e*m*c+a*r*v-e*s*v)*w,t[<span class=\"code-number\">7</span>]=(a*h*i-l*s*i+l*r*c-e*h*c-a*r*d+e*s*d)*w,t[<span class=\"code-number\">8</span>]=x*w,t[<span class=\"code-number\">9</span>]=(p*u*i-l*f*i-p*n*d+e*f*d+l*n*v-e*u*v)*w,t[<span class=\"code-number\">10</span>]=(a*f*i-p*o*i+p*n*c-e*f*c-a*n*v+e*o*v)*w,t[<span class=\"code-number\">11</span>]=(l*o*i-a*u*i-l*n*c+e*u*c+a*n*d-e*o*d)*w,t[<span class=\"code-number\">12</span>]=_*w,t[<span class=\"code-number\">13</span>]=(l*f*r-p*u*r+p*n*h-e*f*h-l*n*m+e*u*m)*w,t[<span class=\"code-number\">14</span>]=(p*o*r-a*f*r-p*n*s+e*f*s+a*n*m-e*o*m)*w,t[<span class=\"code-number\">15</span>]=(a*u*r-l*o*r+l*n*s-e*u*s-a*n*h+e*o*h)*w,<span class=\"code-keyword\">this</span>},e.scale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.x,r=t.y,i=t.z;<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]*=n,e[<span class=\"code-number\">4</span>]*=r,e[<span class=\"code-number\">8</span>]*=i,e[<span class=\"code-number\">1</span>]*=n,e[<span class=\"code-number\">5</span>]*=r,e[<span class=\"code-number\">9</span>]*=i,e[<span class=\"code-number\">2</span>]*=n,e[<span class=\"code-number\">6</span>]*=r,e[<span class=\"code-number\">10</span>]*=i,e[<span class=\"code-number\">3</span>]*=n,e[<span class=\"code-number\">7</span>]*=r,e[<span class=\"code-number\">11</span>]*=i,<span class=\"code-keyword\">this</span>},e.getMaxScaleOnAxis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.elements,e=t[<span class=\"code-number\">0</span>]*t[<span class=\"code-number\">0</span>]+t[<span class=\"code-number\">1</span>]*t[<span class=\"code-number\">1</span>]+t[<span class=\"code-number\">2</span>]*t[<span class=\"code-number\">2</span>],n=t[<span class=\"code-number\">4</span>]*t[<span class=\"code-number\">4</span>]+t[<span class=\"code-number\">5</span>]*t[<span class=\"code-number\">5</span>]+t[<span class=\"code-number\">6</span>]*t[<span class=\"code-number\">6</span>],r=t[<span class=\"code-number\">8</span>]*t[<span class=\"code-number\">8</span>]+t[<span class=\"code-number\">9</span>]*t[<span class=\"code-number\">9</span>]+t[<span class=\"code-number\">10</span>]*t[<span class=\"code-number\">10</span>];<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-built_in\">Math</span>.max(e,n,r))},e.makeTranslation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeRotationX=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.cos(t),n=<span class=\"code-built_in\">Math</span>.sin(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e,-n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeRotationY=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.cos(t),n=<span class=\"code-built_in\">Math</span>.sin(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(e,<span class=\"code-number\">0</span>,n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,-n,<span class=\"code-number\">0</span>,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeRotationZ=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.cos(t),n=<span class=\"code-built_in\">Math</span>.sin(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(e,-n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeRotationAxis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Math</span>.cos(e),r=<span class=\"code-built_in\">Math</span>.sin(e),i=<span class=\"code-number\">1</span>-n,a=t.x,o=t.y,s=t.z,c=i*a,l=i*o;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(c*a+n,c*o-r*s,c*s+r*o,<span class=\"code-number\">0</span>,c*o+r*s,l*o+n,l*s-r*a,<span class=\"code-number\">0</span>,c*s-r*o,l*s+r*a,i*s*s+n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeScale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.makeShear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(<span class=\"code-number\">1</span>,e,n,<span class=\"code-number\">0</span>,t,<span class=\"code-number\">1</span>,n,<span class=\"code-number\">0</span>,t,e,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},e.compose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.elements,i=e._x,a=e._y,o=e._z,s=e._w,c=i+i,l=a+a,u=o+o,h=i*c,d=i*l,p=i*u,f=a*l,m=a*u,v=o*u,g=s*c,y=s*l,x=s*u,_=n.x,b=n.y,w=n.z;<span class=\"code-keyword\">return</span> r[<span class=\"code-number\">0</span>]=(<span class=\"code-number\">1</span>-(f+v))*_,r[<span class=\"code-number\">1</span>]=(d+x)*_,r[<span class=\"code-number\">2</span>]=(p-y)*_,r[<span class=\"code-number\">3</span>]=<span class=\"code-number\">0</span>,r[<span class=\"code-number\">4</span>]=(d-x)*b,r[<span class=\"code-number\">5</span>]=(<span class=\"code-number\">1</span>-(h+v))*b,r[<span class=\"code-number\">6</span>]=(m+g)*b,r[<span class=\"code-number\">7</span>]=<span class=\"code-number\">0</span>,r[<span class=\"code-number\">8</span>]=(p+y)*w,r[<span class=\"code-number\">9</span>]=(m-g)*w,r[<span class=\"code-number\">10</span>]=(<span class=\"code-number\">1</span>-(h+f))*w,r[<span class=\"code-number\">11</span>]=<span class=\"code-number\">0</span>,r[<span class=\"code-number\">12</span>]=t.x,r[<span class=\"code-number\">13</span>]=t.y,r[<span class=\"code-number\">14</span>]=t.z,r[<span class=\"code-number\">15</span>]=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},e.decompose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.elements,i=Kt.set(r[<span class=\"code-number\">0</span>],r[<span class=\"code-number\">1</span>],r[<span class=\"code-number\">2</span>]).length(),a=Kt.set(r[<span class=\"code-number\">4</span>],r[<span class=\"code-number\">5</span>],r[<span class=\"code-number\">6</span>]).length(),o=Kt.set(r[<span class=\"code-number\">8</span>],r[<span class=\"code-number\">9</span>],r[<span class=\"code-number\">10</span>]).length();<span class=\"code-keyword\">this</span>.determinant()&lt;<span class=\"code-number\">0</span>&amp;&amp;(i=-i),t.x=r[<span class=\"code-number\">12</span>],t.y=r[<span class=\"code-number\">13</span>],t.z=r[<span class=\"code-number\">14</span>],$t.copy(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">1</span>/i,c=<span class=\"code-number\">1</span>/a,l=<span class=\"code-number\">1</span>/o;<span class=\"code-keyword\">return</span> $t.elements[<span class=\"code-number\">0</span>]*=s,$t.elements[<span class=\"code-number\">1</span>]*=s,$t.elements[<span class=\"code-number\">2</span>]*=s,$t.elements[<span class=\"code-number\">4</span>]*=c,$t.elements[<span class=\"code-number\">5</span>]*=c,$t.elements[<span class=\"code-number\">6</span>]*=c,$t.elements[<span class=\"code-number\">8</span>]*=l,$t.elements[<span class=\"code-number\">9</span>]*=l,$t.elements[<span class=\"code-number\">10</span>]*=l,e.setFromRotationMatrix($t),n.x=i,n.y=a,n.z=o,<span class=\"code-keyword\">this</span>},e.makePerspective=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\"</span>);<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.elements,s=<span class=\"code-number\">2</span>*i/(e-t),c=<span class=\"code-number\">2</span>*i/(n-r),l=(e+t)/(e-t),u=(n+r)/(n-r),h=-(a+i)/(a-i),d=<span class=\"code-number\">-2</span>*a*i/(a-i);<span class=\"code-keyword\">return</span> o[<span class=\"code-number\">0</span>]=s,o[<span class=\"code-number\">4</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">8</span>]=l,o[<span class=\"code-number\">12</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">1</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">5</span>]=c,o[<span class=\"code-number\">9</span>]=u,o[<span class=\"code-number\">13</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">2</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">6</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">10</span>]=h,o[<span class=\"code-number\">14</span>]=d,o[<span class=\"code-number\">3</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">7</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">11</span>]=<span class=\"code-number\">-1</span>,o[<span class=\"code-number\">15</span>]=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},e.makeOrthographic=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.elements,s=<span class=\"code-number\">1</span>/(e-t),c=<span class=\"code-number\">1</span>/(n-r),l=<span class=\"code-number\">1</span>/(a-i),u=(e+t)*s,h=(n+r)*c,d=(a+i)*l;<span class=\"code-keyword\">return</span> o[<span class=\"code-number\">0</span>]=<span class=\"code-number\">2</span>*s,o[<span class=\"code-number\">4</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">8</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">12</span>]=-u,o[<span class=\"code-number\">1</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">5</span>]=<span class=\"code-number\">2</span>*c,o[<span class=\"code-number\">9</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">13</span>]=-h,o[<span class=\"code-number\">2</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">6</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">10</span>]=<span class=\"code-number\">-2</span>*l,o[<span class=\"code-number\">14</span>]=-d,o[<span class=\"code-number\">3</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">7</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">11</span>]=<span class=\"code-number\">0</span>,o[<span class=\"code-number\">15</span>]=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.elements,n=t.elements,r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">16</span>;r++)<span class=\"code-keyword\">if</span>(e[r]!==n[r])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">16</span>;n++)<span class=\"code-keyword\">this</span>.elements[n]=t[n+e];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.elements;<span class=\"code-keyword\">return</span> t[e]=n[<span class=\"code-number\">0</span>],t[e+<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>],t[e+<span class=\"code-number\">2</span>]=n[<span class=\"code-number\">2</span>],t[e+<span class=\"code-number\">3</span>]=n[<span class=\"code-number\">3</span>],t[e+<span class=\"code-number\">4</span>]=n[<span class=\"code-number\">4</span>],t[e+<span class=\"code-number\">5</span>]=n[<span class=\"code-number\">5</span>],t[e+<span class=\"code-number\">6</span>]=n[<span class=\"code-number\">6</span>],t[e+<span class=\"code-number\">7</span>]=n[<span class=\"code-number\">7</span>],t[e+<span class=\"code-number\">8</span>]=n[<span class=\"code-number\">8</span>],t[e+<span class=\"code-number\">9</span>]=n[<span class=\"code-number\">9</span>],t[e+<span class=\"code-number\">10</span>]=n[<span class=\"code-number\">10</span>],t[e+<span class=\"code-number\">11</span>]=n[<span class=\"code-number\">11</span>],t[e+<span class=\"code-number\">12</span>]=n[<span class=\"code-number\">12</span>],t[e+<span class=\"code-number\">13</span>]=n[<span class=\"code-number\">13</span>],t[e+<span class=\"code-number\">14</span>]=n[<span class=\"code-number\">14</span>],t[e+<span class=\"code-number\">15</span>]=n[<span class=\"code-number\">15</span>],t},t}(),Kt=<span class=\"code-keyword\">new</span> Mt,$t=<span class=\"code-keyword\">new</span> Qt,te=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),ee=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),ne=<span class=\"code-keyword\">new</span> Mt,re=<span class=\"code-keyword\">new</span> Mt,ie=<span class=\"code-keyword\">new</span> Mt,ae=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=t.DefaultOrder),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isEuler\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>._x=e,<span class=\"code-keyword\">this</span>._y=n,<span class=\"code-keyword\">this</span>._z=r,<span class=\"code-keyword\">this</span>._order=i}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t,<span class=\"code-keyword\">this</span>._y=e,<span class=\"code-keyword\">this</span>._z=n,<span class=\"code-keyword\">this</span>._order=r||<span class=\"code-keyword\">this</span>._order,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>._x,<span class=\"code-keyword\">this</span>._y,<span class=\"code-keyword\">this</span>._z,<span class=\"code-keyword\">this</span>._order)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t._x,<span class=\"code-keyword\">this</span>._y=t._y,<span class=\"code-keyword\">this</span>._z=t._z,<span class=\"code-keyword\">this</span>._order=t._order,<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromRotationMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=st.clamp,i=t.elements,a=i[<span class=\"code-number\">0</span>],o=i[<span class=\"code-number\">4</span>],s=i[<span class=\"code-number\">8</span>],c=i[<span class=\"code-number\">1</span>],l=i[<span class=\"code-number\">5</span>],u=i[<span class=\"code-number\">9</span>],h=i[<span class=\"code-number\">2</span>],d=i[<span class=\"code-number\">6</span>],p=i[<span class=\"code-number\">10</span>];<span class=\"code-keyword\">switch</span>(e=e||<span class=\"code-keyword\">this</span>._order){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XYZ\"</span>:<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.asin(r(s,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(s)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(-u,p),<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(-o,a)):(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(d,l),<span class=\"code-keyword\">this</span>._z=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YXZ\"</span>:<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.asin(-r(u,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(u)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(s,p),<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(c,l)):(<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(-h,a),<span class=\"code-keyword\">this</span>._z=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZXY\"</span>:<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.asin(r(d,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(d)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(-h,p),<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(-o,l)):(<span class=\"code-keyword\">this</span>._y=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(c,a));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ZYX\"</span>:<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.asin(-r(h,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(h)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(d,p),<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(c,a)):(<span class=\"code-keyword\">this</span>._x=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.atan2(-o,l));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"YZX\"</span>:<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.asin(r(c,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(c)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(-u,l),<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(-h,a)):(<span class=\"code-keyword\">this</span>._x=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(s,p));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"XZY\"</span>:<span class=\"code-keyword\">this</span>._z=<span class=\"code-built_in\">Math</span>.asin(-r(o,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>)),<span class=\"code-built_in\">Math</span>.abs(o)&lt;<span class=\"code-number\">.9999999</span>?(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(d,l),<span class=\"code-keyword\">this</span>._y=<span class=\"code-built_in\">Math</span>.atan2(s,a)):(<span class=\"code-keyword\">this</span>._x=<span class=\"code-built_in\">Math</span>.atan2(-u,p),<span class=\"code-keyword\">this</span>._y=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Euler: .setFromRotationMatrix() encountered an unknown order: \"</span>+e)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._order=e,!<span class=\"code-number\">1</span>!==n&amp;&amp;<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.setFromQuaternion=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> oe.makeRotationFromQuaternion(t),<span class=\"code-keyword\">this</span>.setFromRotationMatrix(oe,e,n)},e.setFromVector3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(t.x,t.y,t.z,e||<span class=\"code-keyword\">this</span>._order)},e.reorder=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> se.setFromEuler(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.setFromQuaternion(se,t)},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t._x===<span class=\"code-keyword\">this</span>._x&amp;&amp;t._y===<span class=\"code-keyword\">this</span>._y&amp;&amp;t._z===<span class=\"code-keyword\">this</span>._z&amp;&amp;t._order===<span class=\"code-keyword\">this</span>._order},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x=t[<span class=\"code-number\">0</span>],<span class=\"code-keyword\">this</span>._y=t[<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>._z=t[<span class=\"code-number\">2</span>],<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t[<span class=\"code-number\">3</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>._order=t[<span class=\"code-number\">3</span>]),<span class=\"code-keyword\">this</span>._onChangeCallback(),<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>._x,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>._y,t[e+<span class=\"code-number\">2</span>]=<span class=\"code-keyword\">this</span>._z,t[e+<span class=\"code-number\">3</span>]=<span class=\"code-keyword\">this</span>._order,t},e.toVector3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t?t.set(<span class=\"code-keyword\">this</span>._x,<span class=\"code-keyword\">this</span>._y,<span class=\"code-keyword\">this</span>._z):<span class=\"code-keyword\">new</span> Mt(<span class=\"code-keyword\">this</span>._x,<span class=\"code-keyword\">this</span>._y,<span class=\"code-keyword\">this</span>._z)},e._onChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._onChangeCallback=t,<span class=\"code-keyword\">this</span>},e._onChangeCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},lt(t,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"x\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._x},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._x=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"y\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._y},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._y=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"z\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._z},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._z=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"order\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._order},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._order=t,<span class=\"code-keyword\">this</span>._onChangeCallback()}}]),t}();ae.DefaultOrder=<span class=\"code-string\">\"XYZ\"</span>,ae.RotationOrders=[<span class=\"code-string\">\"XYZ\"</span>,<span class=\"code-string\">\"YZX\"</span>,<span class=\"code-string\">\"ZXY\"</span>,<span class=\"code-string\">\"XZY\"</span>,<span class=\"code-string\">\"YXZ\"</span>,<span class=\"code-string\">\"ZYX\"</span>];<span class=\"code-keyword\">var</span> oe=<span class=\"code-keyword\">new</span> Qt,se=<span class=\"code-keyword\">new</span> wt,ce=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mask=<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.mask=<span class=\"code-number\">1</span>&lt;&lt;t|<span class=\"code-number\">0</span>},e.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.mask|=<span class=\"code-number\">1</span>&lt;&lt;t|<span class=\"code-number\">0</span>},e.enableAll=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mask=<span class=\"code-number\">-1</span>},e.toggle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.mask^=<span class=\"code-number\">1</span>&lt;&lt;t|<span class=\"code-number\">0</span>},e.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.mask&amp;=~(<span class=\"code-number\">1</span>&lt;&lt;t|<span class=\"code-number\">0</span>)},e.disableAll=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mask=<span class=\"code-number\">0</span>},e.test=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!=(<span class=\"code-keyword\">this</span>.mask&amp;t.mask)},t}(),le=<span class=\"code-number\">0</span>,ue=<span class=\"code-keyword\">new</span> Mt,he=<span class=\"code-keyword\">new</span> wt,de=<span class=\"code-keyword\">new</span> Qt,pe=<span class=\"code-keyword\">new</span> Mt,fe=<span class=\"code-keyword\">new</span> Mt,me=<span class=\"code-keyword\">new</span> Mt,ve=<span class=\"code-keyword\">new</span> wt,ge=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),ye=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),xe=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),_e={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"added\"</span>},be={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"removed\"</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">we</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">value</span>:le++}),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Object3D\"</span>,<span class=\"code-keyword\">this</span>.parent=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.children=[],<span class=\"code-keyword\">this</span>.up=we.DefaultUp.clone();<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Mt,e=<span class=\"code-keyword\">new</span> ae,n=<span class=\"code-keyword\">new</span> wt,r=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>);e._onChange((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.setFromEuler(e,!<span class=\"code-number\">1</span>)})),n._onChange((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.setFromQuaternion(n,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>)})),<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">position</span>:{<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:t},<span class=\"code-attr\">rotation</span>:{<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:e},<span class=\"code-attr\">quaternion</span>:{<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:n},<span class=\"code-attr\">scale</span>:{<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:r},<span class=\"code-attr\">modelViewMatrix</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> Qt},<span class=\"code-attr\">normalMatrix</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft}}),<span class=\"code-keyword\">this</span>.matrix=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.matrixWorld=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.matrixAutoUpdate=we.DefaultMatrixAutoUpdate,<span class=\"code-keyword\">this</span>.matrixWorldNeedsUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.layers=<span class=\"code-keyword\">new</span> ce,<span class=\"code-keyword\">this</span>.visible=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.castShadow=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.receiveShadow=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.frustumCulled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.renderOrder=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.animations=[],<span class=\"code-keyword\">this</span>.userData={}}we.DefaultUp=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),we.DefaultMatrixAutoUpdate=!<span class=\"code-number\">0</span>,we.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:we,<span class=\"code-attr\">isObject3D</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">onBeforeRender</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">onAfterRender</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">applyMatrix4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.matrixAutoUpdate&amp;&amp;<span class=\"code-keyword\">this</span>.updateMatrix(),<span class=\"code-keyword\">this</span>.matrix.premultiply(t),<span class=\"code-keyword\">this</span>.matrix.decompose(<span class=\"code-keyword\">this</span>.position,<span class=\"code-keyword\">this</span>.quaternion,<span class=\"code-keyword\">this</span>.scale)},<span class=\"code-attr\">applyQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.quaternion.premultiply(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setRotationFromAxisAngle</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.quaternion.setFromAxisAngle(t,e)},<span class=\"code-attr\">setRotationFromEuler</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.quaternion.setFromEuler(t,!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">setRotationFromMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.quaternion.setFromRotationMatrix(t)},<span class=\"code-attr\">setRotationFromQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.quaternion.copy(t)},<span class=\"code-attr\">rotateOnAxis</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> he.setFromAxisAngle(t,e),<span class=\"code-keyword\">this</span>.quaternion.multiply(he),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateOnWorldAxis</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> he.setFromAxisAngle(t,e),<span class=\"code-keyword\">this</span>.quaternion.premultiply(he),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.rotateOnAxis(ge,t)},<span class=\"code-attr\">rotateY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.rotateOnAxis(ye,t)},<span class=\"code-attr\">rotateZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.rotateOnAxis(xe,t)},<span class=\"code-attr\">translateOnAxis</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> ue.copy(t).applyQuaternion(<span class=\"code-keyword\">this</span>.quaternion),<span class=\"code-keyword\">this</span>.position.add(ue.multiplyScalar(e)),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">translateX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.translateOnAxis(ge,t)},<span class=\"code-attr\">translateY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.translateOnAxis(ye,t)},<span class=\"code-attr\">translateZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.translateOnAxis(xe,t)},<span class=\"code-attr\">localToWorld</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld)},<span class=\"code-attr\">worldToLocal</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.applyMatrix4(de.copy(<span class=\"code-keyword\">this</span>.matrixWorld).invert())},<span class=\"code-attr\">lookAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{t.isVector3?pe.copy(t):pe.set(t,e,n);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.parent;<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),fe.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.matrixWorld),<span class=\"code-keyword\">this</span>.isCamera||<span class=\"code-keyword\">this</span>.isLight?de.lookAt(fe,pe,<span class=\"code-keyword\">this</span>.up):de.lookAt(pe,fe,<span class=\"code-keyword\">this</span>.up),<span class=\"code-keyword\">this</span>.quaternion.setFromRotationMatrix(de),r&amp;&amp;(de.extractRotation(r.matrixWorld),he.setFromRotationMatrix(de),<span class=\"code-keyword\">this</span>.quaternion.premultiply(he.invert()))},<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)<span class=\"code-keyword\">this</span>.add(<span class=\"code-built_in\">arguments</span>[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> t===<span class=\"code-keyword\">this</span>?(<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Object3D.add: object can't be added as a child of itself.\"</span>,t),<span class=\"code-keyword\">this</span>):(t&amp;&amp;t.isObject3D?(<span class=\"code-literal\">null</span>!==t.parent&amp;&amp;t.parent.remove(t),t.parent=<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.children.push(t),t.dispatchEvent(_e)):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Object3D.add: object not an instance of THREE.Object3D.\"</span>,t),<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">remove</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-built_in\">arguments</span>.length;e++)<span class=\"code-keyword\">this</span>.remove(<span class=\"code-built_in\">arguments</span>[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.children.indexOf(t);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==n&amp;&amp;(t.parent=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.children.splice(n,<span class=\"code-number\">1</span>),t.dispatchEvent(be)),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-keyword\">this</span>.children.length;t++){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.children[t];e.parent=<span class=\"code-literal\">null</span>,e.dispatchEvent(be)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.children.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">attach</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),de.copy(<span class=\"code-keyword\">this</span>.matrixWorld).invert(),<span class=\"code-literal\">null</span>!==t.parent&amp;&amp;(t.parent.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),de.multiply(t.parent.matrixWorld)),t.applyMatrix4(de),t.updateWorldMatrix(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.add(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getObjectById</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getObjectByProperty(<span class=\"code-string\">\"id\"</span>,t)},<span class=\"code-attr\">getObjectByName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getObjectByProperty(<span class=\"code-string\">\"name\"</span>,t)},<span class=\"code-attr\">getObjectByProperty</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>[t]===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.children.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.children[n].getObjectByProperty(t,e);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i)<span class=\"code-keyword\">return</span> i}},<span class=\"code-attr\">getWorldPosition</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .getWorldPosition() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),t.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.matrixWorld)},<span class=\"code-attr\">getWorldQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .getWorldQuaternion() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> wt),<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.matrixWorld.decompose(fe,t,me),t},<span class=\"code-attr\">getWorldScale</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .getWorldScale() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.matrixWorld.decompose(fe,ve,t),t},<span class=\"code-attr\">getWorldDirection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .getWorldDirection() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.matrixWorld.elements;<span class=\"code-keyword\">return</span> t.set(e[<span class=\"code-number\">8</span>],e[<span class=\"code-number\">9</span>],e[<span class=\"code-number\">10</span>]).normalize()},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">traverse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.children,n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++)e[n].traverse(t)},<span class=\"code-attr\">traverseVisible</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.visible){t(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.children,n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++)e[n].traverseVisible(t)}},<span class=\"code-attr\">traverseAncestors</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.parent;<span class=\"code-literal\">null</span>!==e&amp;&amp;(t(e),e.traverseAncestors(t))},<span class=\"code-attr\">updateMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.matrix.compose(<span class=\"code-keyword\">this</span>.position,<span class=\"code-keyword\">this</span>.quaternion,<span class=\"code-keyword\">this</span>.scale),<span class=\"code-keyword\">this</span>.matrixWorldNeedsUpdate=!<span class=\"code-number\">0</span>},<span class=\"code-attr\">updateMatrixWorld</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.matrixAutoUpdate&amp;&amp;<span class=\"code-keyword\">this</span>.updateMatrix(),(<span class=\"code-keyword\">this</span>.matrixWorldNeedsUpdate||t)&amp;&amp;(<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.parent?<span class=\"code-keyword\">this</span>.matrixWorld.copy(<span class=\"code-keyword\">this</span>.matrix):<span class=\"code-keyword\">this</span>.matrixWorld.multiplyMatrices(<span class=\"code-keyword\">this</span>.parent.matrixWorld,<span class=\"code-keyword\">this</span>.matrix),<span class=\"code-keyword\">this</span>.matrixWorldNeedsUpdate=!<span class=\"code-number\">1</span>,t=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.children,n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++)e[n].updateMatrixWorld(t)},<span class=\"code-attr\">updateWorldMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.parent;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-literal\">null</span>!==n&amp;&amp;n.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.matrixAutoUpdate&amp;&amp;<span class=\"code-keyword\">this</span>.updateMatrix(),<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.parent?<span class=\"code-keyword\">this</span>.matrixWorld.copy(<span class=\"code-keyword\">this</span>.matrix):<span class=\"code-keyword\">this</span>.matrixWorld.multiplyMatrices(<span class=\"code-keyword\">this</span>.parent.matrixWorld,<span class=\"code-keyword\">this</span>.matrix),!<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.children,i=<span class=\"code-number\">0</span>,a=r.length;i&lt;a;i++)r[i].updateWorldMatrix(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t,n={};e&amp;&amp;(t={<span class=\"code-attr\">geometries</span>:{},<span class=\"code-attr\">materials</span>:{},<span class=\"code-attr\">textures</span>:{},<span class=\"code-attr\">images</span>:{},<span class=\"code-attr\">shapes</span>:{},<span class=\"code-attr\">skeletons</span>:{},<span class=\"code-attr\">animations</span>:{}},n.metadata={<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Object\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Object3D.toJSON\"</span>});<span class=\"code-keyword\">var</span> r={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e[n.uuid]&amp;&amp;(e[n.uuid]=n.toJSON(t)),n.uuid}<span class=\"code-keyword\">if</span>(r.uuid=<span class=\"code-keyword\">this</span>.uuid,r.type=<span class=\"code-keyword\">this</span>.type,<span class=\"code-string\">\"\"</span>!==<span class=\"code-keyword\">this</span>.name&amp;&amp;(r.name=<span class=\"code-keyword\">this</span>.name),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.castShadow&amp;&amp;(r.castShadow=!<span class=\"code-number\">0</span>),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.receiveShadow&amp;&amp;(r.receiveShadow=!<span class=\"code-number\">0</span>),!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.visible&amp;&amp;(r.visible=!<span class=\"code-number\">1</span>),!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.frustumCulled&amp;&amp;(r.frustumCulled=!<span class=\"code-number\">1</span>),<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.renderOrder&amp;&amp;(r.renderOrder=<span class=\"code-keyword\">this</span>.renderOrder),<span class=\"code-string\">\"{}\"</span>!==<span class=\"code-built_in\">JSON</span>.stringify(<span class=\"code-keyword\">this</span>.userData)&amp;&amp;(r.userData=<span class=\"code-keyword\">this</span>.userData),r.layers=<span class=\"code-keyword\">this</span>.layers.mask,r.matrix=<span class=\"code-keyword\">this</span>.matrix.toArray(),!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.matrixAutoUpdate&amp;&amp;(r.matrixAutoUpdate=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.isInstancedMesh&amp;&amp;(r.type=<span class=\"code-string\">\"InstancedMesh\"</span>,r.count=<span class=\"code-keyword\">this</span>.count,r.instanceMatrix=<span class=\"code-keyword\">this</span>.instanceMatrix.toJSON()),<span class=\"code-keyword\">this</span>.isMesh||<span class=\"code-keyword\">this</span>.isLine||<span class=\"code-keyword\">this</span>.isPoints){r.geometry=i(t.geometries,<span class=\"code-keyword\">this</span>.geometry);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.geometry.parameters;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a.shapes){<span class=\"code-keyword\">var</span> o=a.shapes;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(o))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>,c=o.length;s&lt;c;s++){<span class=\"code-keyword\">var</span> l=o[s];i(t.shapes,l)}<span class=\"code-keyword\">else</span> i(t.shapes,o)}}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.isSkinnedMesh&amp;&amp;(r.bindMode=<span class=\"code-keyword\">this</span>.bindMode,r.bindMatrix=<span class=\"code-keyword\">this</span>.bindMatrix.toArray(),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.skeleton&amp;&amp;(i(t.skeletons,<span class=\"code-keyword\">this</span>.skeleton),r.skeleton=<span class=\"code-keyword\">this</span>.skeleton.uuid)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.material)<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(<span class=\"code-keyword\">this</span>.material)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=[],h=<span class=\"code-number\">0</span>,d=<span class=\"code-keyword\">this</span>.material.length;h&lt;d;h++)u.push(i(t.materials,<span class=\"code-keyword\">this</span>.material[h]));r.material=u}<span class=\"code-keyword\">else</span> r.material=i(t.materials,<span class=\"code-keyword\">this</span>.material);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.children.length&gt;<span class=\"code-number\">0</span>){r.children=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>;p&lt;<span class=\"code-keyword\">this</span>.children.length;p++)r.children.push(<span class=\"code-keyword\">this</span>.children[p].toJSON(t).object)}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.animations.length&gt;<span class=\"code-number\">0</span>){r.animations=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-keyword\">this</span>.animations.length;f++){<span class=\"code-keyword\">var</span> m=<span class=\"code-keyword\">this</span>.animations[f];r.animations.push(i(t.animations,m))}}<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> v=M(t.geometries),g=M(t.materials),y=M(t.textures),x=M(t.images),_=M(t.shapes),b=M(t.skeletons),w=M(t.animations);v.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.geometries=v),g.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.materials=g),y.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.textures=y),x.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.images=x),_.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.shapes=_),b.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.skeletons=b),w.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.animations=w)}<span class=\"code-keyword\">return</span> n.object=r,n;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">M</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">var</span> r=t[n];<span class=\"code-keyword\">delete</span> r.metadata,e.push(r)}<span class=\"code-keyword\">return</span> e}},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>,t)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.name=t.name,<span class=\"code-keyword\">this</span>.up.copy(t.up),<span class=\"code-keyword\">this</span>.position.copy(t.position),<span class=\"code-keyword\">this</span>.rotation.order=t.rotation.order,<span class=\"code-keyword\">this</span>.quaternion.copy(t.quaternion),<span class=\"code-keyword\">this</span>.scale.copy(t.scale),<span class=\"code-keyword\">this</span>.matrix.copy(t.matrix),<span class=\"code-keyword\">this</span>.matrixWorld.copy(t.matrixWorld),<span class=\"code-keyword\">this</span>.matrixAutoUpdate=t.matrixAutoUpdate,<span class=\"code-keyword\">this</span>.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,<span class=\"code-keyword\">this</span>.layers.mask=t.layers.mask,<span class=\"code-keyword\">this</span>.visible=t.visible,<span class=\"code-keyword\">this</span>.castShadow=t.castShadow,<span class=\"code-keyword\">this</span>.receiveShadow=t.receiveShadow,<span class=\"code-keyword\">this</span>.frustumCulled=t.frustumCulled,<span class=\"code-keyword\">this</span>.renderOrder=t.renderOrder,<span class=\"code-keyword\">this</span>.userData=<span class=\"code-built_in\">JSON</span>.parse(<span class=\"code-built_in\">JSON</span>.stringify(t.userData)),!<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.children.length;n++){<span class=\"code-keyword\">var</span> r=t.children[n];<span class=\"code-keyword\">this</span>.add(r.clone())}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}});<span class=\"code-keyword\">var</span> Me=<span class=\"code-keyword\">new</span> Mt,Se=<span class=\"code-keyword\">new</span> Mt,Te=<span class=\"code-keyword\">new</span> ft,Ee=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isPlane\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.normal=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.constant=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.copy(t),<span class=\"code-keyword\">this</span>.constant=e,<span class=\"code-keyword\">this</span>},e.setComponents=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.set(t,e,n),<span class=\"code-keyword\">this</span>.constant=r,<span class=\"code-keyword\">this</span>},e.setFromNormalAndCoplanarPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.copy(t),<span class=\"code-keyword\">this</span>.constant=-e.dot(<span class=\"code-keyword\">this</span>.normal),<span class=\"code-keyword\">this</span>},e.setFromCoplanarPoints=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=Me.subVectors(n,e).cross(Se.subVectors(t,e)).normalize();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromNormalAndCoplanarPoint(r,t),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.copy(t.normal),<span class=\"code-keyword\">this</span>.constant=t.constant,<span class=\"code-keyword\">this</span>},e.normalize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>/<span class=\"code-keyword\">this</span>.normal.length();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.multiplyScalar(t),<span class=\"code-keyword\">this</span>.constant*=t,<span class=\"code-keyword\">this</span>},e.negate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constant*=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.normal.negate(),<span class=\"code-keyword\">this</span>},e.distanceToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.normal.dot(t)+<span class=\"code-keyword\">this</span>.constant},e.distanceToSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.distanceToPoint(t.center)-t.radius},e.projectPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Plane: .projectPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),e.copy(<span class=\"code-keyword\">this</span>.normal).multiplyScalar(-<span class=\"code-keyword\">this</span>.distanceToPoint(t)).add(t)},e.intersectLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Plane: .intersectLine() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n=t.delta(Me),r=<span class=\"code-keyword\">this</span>.normal.dot(n);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===r)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.distanceToPoint(t.start)?e.copy(t.start):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=-(t.start.dot(<span class=\"code-keyword\">this</span>.normal)+<span class=\"code-keyword\">this</span>.constant)/r;<span class=\"code-keyword\">return</span> i&lt;<span class=\"code-number\">0</span>||i&gt;<span class=\"code-number\">1</span>?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:e.copy(n).multiplyScalar(i).add(t.start)},e.intersectsLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.distanceToPoint(t.start),n=<span class=\"code-keyword\">this</span>.distanceToPoint(t.end);<span class=\"code-keyword\">return</span> e&lt;<span class=\"code-number\">0</span>&amp;&amp;n&gt;<span class=\"code-number\">0</span>||n&lt;<span class=\"code-number\">0</span>&amp;&amp;e&gt;<span class=\"code-number\">0</span>},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.intersectsPlane(<span class=\"code-keyword\">this</span>)},e.intersectsSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.intersectsPlane(<span class=\"code-keyword\">this</span>)},e.coplanarPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Plane: .coplanarPoint() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),t.copy(<span class=\"code-keyword\">this</span>.normal).multiplyScalar(-<span class=\"code-keyword\">this</span>.constant)},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=e||Te.getNormalMatrix(t),r=<span class=\"code-keyword\">this</span>.coplanarPoint(Me).applyMatrix4(t),i=<span class=\"code-keyword\">this</span>.normal.applyMatrix3(n).normalize();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constant=-r.dot(i),<span class=\"code-keyword\">this</span>},e.translate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constant-=t.dot(<span class=\"code-keyword\">this</span>.normal),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.normal.equals(<span class=\"code-keyword\">this</span>.normal)&amp;&amp;t.constant===<span class=\"code-keyword\">this</span>.constant},t}(),Ae=<span class=\"code-keyword\">new</span> Mt,Le=<span class=\"code-keyword\">new</span> Mt,Re=<span class=\"code-keyword\">new</span> Mt,Ce=<span class=\"code-keyword\">new</span> Mt,Pe=<span class=\"code-keyword\">new</span> Mt,Ie=<span class=\"code-keyword\">new</span> Mt,Ne=<span class=\"code-keyword\">new</span> Mt,De=<span class=\"code-keyword\">new</span> Mt,Oe=<span class=\"code-keyword\">new</span> Mt,Be=<span class=\"code-keyword\">new</span> Mt,ze=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.a=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.b=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.c=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-keyword\">new</span> Mt}t.getNormal=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .getNormal() target is now required\"</span>),r=<span class=\"code-keyword\">new</span> Mt),r.subVectors(n,e),Ae.subVectors(t,e),r.cross(Ae);<span class=\"code-keyword\">var</span> i=r.lengthSq();<span class=\"code-keyword\">return</span> i&gt;<span class=\"code-number\">0</span>?r.multiplyScalar(<span class=\"code-number\">1</span>/<span class=\"code-built_in\">Math</span>.sqrt(i)):r.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)},t.getBarycoord=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{Ae.subVectors(r,e),Le.subVectors(n,e),Re.subVectors(t,e);<span class=\"code-keyword\">var</span> a=Ae.dot(Ae),o=Ae.dot(Le),s=Ae.dot(Re),c=Le.dot(Le),l=Le.dot(Re),u=a*c-o*o;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .getBarycoord() target is now required\"</span>),i=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-number\">0</span>===u)<span class=\"code-keyword\">return</span> i.set(<span class=\"code-number\">-2</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">1</span>/u,d=(c*s-o*l)*h,p=(a*l-o*s)*h;<span class=\"code-keyword\">return</span> i.set(<span class=\"code-number\">1</span>-d-p,p,d)},t.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getBarycoord(t,e,n,r,Ce),Ce.x&gt;=<span class=\"code-number\">0</span>&amp;&amp;Ce.y&gt;=<span class=\"code-number\">0</span>&amp;&amp;Ce.x+Ce.y&lt;=<span class=\"code-number\">1</span>},t.getUV=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getBarycoord(t,e,n,r,Ce),s.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),s.addScaledVector(i,Ce.x),s.addScaledVector(a,Ce.y),s.addScaledVector(o,Ce.z),s},t.isFrontFacing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> Ae.subVectors(n,e),Le.subVectors(t,e),Ae.cross(Le).dot(r)&lt;<span class=\"code-number\">0</span>};<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.a.copy(t),<span class=\"code-keyword\">this</span>.b.copy(e),<span class=\"code-keyword\">this</span>.c.copy(n),<span class=\"code-keyword\">this</span>},e.setFromPointsAndIndices=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.a.copy(t[e]),<span class=\"code-keyword\">this</span>.b.copy(t[n]),<span class=\"code-keyword\">this</span>.c.copy(t[r]),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.a.copy(t.a),<span class=\"code-keyword\">this</span>.b.copy(t.b),<span class=\"code-keyword\">this</span>.c.copy(t.c),<span class=\"code-keyword\">this</span>},e.getArea=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Ae.subVectors(<span class=\"code-keyword\">this</span>.c,<span class=\"code-keyword\">this</span>.b),Le.subVectors(<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b),<span class=\"code-number\">.5</span>*Ae.cross(Le).length()},e.getMidpoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .getMidpoint() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),t.addVectors(<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b).add(<span class=\"code-keyword\">this</span>.c).multiplyScalar(<span class=\"code-number\">1</span>/<span class=\"code-number\">3</span>)},e.getNormal=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.getNormal(<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c,e)},e.getPlane=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .getPlane() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Ee),t.setFromCoplanarPoints(<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c)},e.getBarycoord=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">return</span> t.getBarycoord(e,<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c,n)},e.getUV=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">return</span> t.getUV(e,<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c,n,r,i,a)},e.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.containsPoint(e,<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c)},e.isFrontFacing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.isFrontFacing(<span class=\"code-keyword\">this</span>.a,<span class=\"code-keyword\">this</span>.b,<span class=\"code-keyword\">this</span>.c,e)},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.intersectsTriangle(<span class=\"code-keyword\">this</span>)},e.closestPointToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .closestPointToPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n,r,i=<span class=\"code-keyword\">this</span>.a,a=<span class=\"code-keyword\">this</span>.b,o=<span class=\"code-keyword\">this</span>.c;Pe.subVectors(a,i),Ie.subVectors(o,i),De.subVectors(t,i);<span class=\"code-keyword\">var</span> s=Pe.dot(De),c=Ie.dot(De);<span class=\"code-keyword\">if</span>(s&lt;=<span class=\"code-number\">0</span>&amp;&amp;c&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> e.copy(i);Oe.subVectors(t,a);<span class=\"code-keyword\">var</span> l=Pe.dot(Oe),u=Ie.dot(Oe);<span class=\"code-keyword\">if</span>(l&gt;=<span class=\"code-number\">0</span>&amp;&amp;u&lt;=l)<span class=\"code-keyword\">return</span> e.copy(a);<span class=\"code-keyword\">var</span> h=s*u-l*c;<span class=\"code-keyword\">if</span>(h&lt;=<span class=\"code-number\">0</span>&amp;&amp;s&gt;=<span class=\"code-number\">0</span>&amp;&amp;l&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> n=s/(s-l),e.copy(i).addScaledVector(Pe,n);Be.subVectors(t,o);<span class=\"code-keyword\">var</span> d=Pe.dot(Be),p=Ie.dot(Be);<span class=\"code-keyword\">if</span>(p&gt;=<span class=\"code-number\">0</span>&amp;&amp;d&lt;=p)<span class=\"code-keyword\">return</span> e.copy(o);<span class=\"code-keyword\">var</span> f=d*c-s*p;<span class=\"code-keyword\">if</span>(f&lt;=<span class=\"code-number\">0</span>&amp;&amp;c&gt;=<span class=\"code-number\">0</span>&amp;&amp;p&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> r=c/(c-p),e.copy(i).addScaledVector(Ie,r);<span class=\"code-keyword\">var</span> m=l*p-d*u;<span class=\"code-keyword\">if</span>(m&lt;=<span class=\"code-number\">0</span>&amp;&amp;u-l&gt;=<span class=\"code-number\">0</span>&amp;&amp;d-p&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> Ne.subVectors(o,a),r=(u-l)/(u-l+(d-p)),e.copy(a).addScaledVector(Ne,r);<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">1</span>/(m+f+h);<span class=\"code-keyword\">return</span> n=f*v,r=h*v,e.copy(i).addScaledVector(Pe,n).addScaledVector(Ie,r)},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.a.equals(<span class=\"code-keyword\">this</span>.a)&amp;&amp;t.b.equals(<span class=\"code-keyword\">this</span>.b)&amp;&amp;t.c.equals(<span class=\"code-keyword\">this</span>.c)},t}(),Ue={<span class=\"code-attr\">aliceblue</span>:<span class=\"code-number\">15792383</span>,<span class=\"code-attr\">antiquewhite</span>:<span class=\"code-number\">16444375</span>,<span class=\"code-attr\">aqua</span>:<span class=\"code-number\">65535</span>,<span class=\"code-attr\">aquamarine</span>:<span class=\"code-number\">8388564</span>,<span class=\"code-attr\">azure</span>:<span class=\"code-number\">15794175</span>,<span class=\"code-attr\">beige</span>:<span class=\"code-number\">16119260</span>,<span class=\"code-attr\">bisque</span>:<span class=\"code-number\">16770244</span>,<span class=\"code-attr\">black</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">blanchedalmond</span>:<span class=\"code-number\">16772045</span>,<span class=\"code-attr\">blue</span>:<span class=\"code-number\">255</span>,<span class=\"code-attr\">blueviolet</span>:<span class=\"code-number\">9055202</span>,<span class=\"code-attr\">brown</span>:<span class=\"code-number\">10824234</span>,<span class=\"code-attr\">burlywood</span>:<span class=\"code-number\">14596231</span>,<span class=\"code-attr\">cadetblue</span>:<span class=\"code-number\">6266528</span>,<span class=\"code-attr\">chartreuse</span>:<span class=\"code-number\">8388352</span>,<span class=\"code-attr\">chocolate</span>:<span class=\"code-number\">13789470</span>,<span class=\"code-attr\">coral</span>:<span class=\"code-number\">16744272</span>,<span class=\"code-attr\">cornflowerblue</span>:<span class=\"code-number\">6591981</span>,<span class=\"code-attr\">cornsilk</span>:<span class=\"code-number\">16775388</span>,<span class=\"code-attr\">crimson</span>:<span class=\"code-number\">14423100</span>,<span class=\"code-attr\">cyan</span>:<span class=\"code-number\">65535</span>,<span class=\"code-attr\">darkblue</span>:<span class=\"code-number\">139</span>,<span class=\"code-attr\">darkcyan</span>:<span class=\"code-number\">35723</span>,<span class=\"code-attr\">darkgoldenrod</span>:<span class=\"code-number\">12092939</span>,<span class=\"code-attr\">darkgray</span>:<span class=\"code-number\">11119017</span>,<span class=\"code-attr\">darkgreen</span>:<span class=\"code-number\">25600</span>,<span class=\"code-attr\">darkgrey</span>:<span class=\"code-number\">11119017</span>,<span class=\"code-attr\">darkkhaki</span>:<span class=\"code-number\">12433259</span>,<span class=\"code-attr\">darkmagenta</span>:<span class=\"code-number\">9109643</span>,<span class=\"code-attr\">darkolivegreen</span>:<span class=\"code-number\">5597999</span>,<span class=\"code-attr\">darkorange</span>:<span class=\"code-number\">16747520</span>,<span class=\"code-attr\">darkorchid</span>:<span class=\"code-number\">10040012</span>,<span class=\"code-attr\">darkred</span>:<span class=\"code-number\">9109504</span>,<span class=\"code-attr\">darksalmon</span>:<span class=\"code-number\">15308410</span>,<span class=\"code-attr\">darkseagreen</span>:<span class=\"code-number\">9419919</span>,<span class=\"code-attr\">darkslateblue</span>:<span class=\"code-number\">4734347</span>,<span class=\"code-attr\">darkslategray</span>:<span class=\"code-number\">3100495</span>,<span class=\"code-attr\">darkslategrey</span>:<span class=\"code-number\">3100495</span>,<span class=\"code-attr\">darkturquoise</span>:<span class=\"code-number\">52945</span>,<span class=\"code-attr\">darkviolet</span>:<span class=\"code-number\">9699539</span>,<span class=\"code-attr\">deeppink</span>:<span class=\"code-number\">16716947</span>,<span class=\"code-attr\">deepskyblue</span>:<span class=\"code-number\">49151</span>,<span class=\"code-attr\">dimgray</span>:<span class=\"code-number\">6908265</span>,<span class=\"code-attr\">dimgrey</span>:<span class=\"code-number\">6908265</span>,<span class=\"code-attr\">dodgerblue</span>:<span class=\"code-number\">2003199</span>,<span class=\"code-attr\">firebrick</span>:<span class=\"code-number\">11674146</span>,<span class=\"code-attr\">floralwhite</span>:<span class=\"code-number\">16775920</span>,<span class=\"code-attr\">forestgreen</span>:<span class=\"code-number\">2263842</span>,<span class=\"code-attr\">fuchsia</span>:<span class=\"code-number\">16711935</span>,<span class=\"code-attr\">gainsboro</span>:<span class=\"code-number\">14474460</span>,<span class=\"code-attr\">ghostwhite</span>:<span class=\"code-number\">16316671</span>,<span class=\"code-attr\">gold</span>:<span class=\"code-number\">16766720</span>,<span class=\"code-attr\">goldenrod</span>:<span class=\"code-number\">14329120</span>,<span class=\"code-attr\">gray</span>:<span class=\"code-number\">8421504</span>,<span class=\"code-attr\">green</span>:<span class=\"code-number\">32768</span>,<span class=\"code-attr\">greenyellow</span>:<span class=\"code-number\">11403055</span>,<span class=\"code-attr\">grey</span>:<span class=\"code-number\">8421504</span>,<span class=\"code-attr\">honeydew</span>:<span class=\"code-number\">15794160</span>,<span class=\"code-attr\">hotpink</span>:<span class=\"code-number\">16738740</span>,<span class=\"code-attr\">indianred</span>:<span class=\"code-number\">13458524</span>,<span class=\"code-attr\">indigo</span>:<span class=\"code-number\">4915330</span>,<span class=\"code-attr\">ivory</span>:<span class=\"code-number\">16777200</span>,<span class=\"code-attr\">khaki</span>:<span class=\"code-number\">15787660</span>,<span class=\"code-attr\">lavender</span>:<span class=\"code-number\">15132410</span>,<span class=\"code-attr\">lavenderblush</span>:<span class=\"code-number\">16773365</span>,<span class=\"code-attr\">lawngreen</span>:<span class=\"code-number\">8190976</span>,<span class=\"code-attr\">lemonchiffon</span>:<span class=\"code-number\">16775885</span>,<span class=\"code-attr\">lightblue</span>:<span class=\"code-number\">11393254</span>,<span class=\"code-attr\">lightcoral</span>:<span class=\"code-number\">15761536</span>,<span class=\"code-attr\">lightcyan</span>:<span class=\"code-number\">14745599</span>,<span class=\"code-attr\">lightgoldenrodyellow</span>:<span class=\"code-number\">16448210</span>,<span class=\"code-attr\">lightgray</span>:<span class=\"code-number\">13882323</span>,<span class=\"code-attr\">lightgreen</span>:<span class=\"code-number\">9498256</span>,<span class=\"code-attr\">lightgrey</span>:<span class=\"code-number\">13882323</span>,<span class=\"code-attr\">lightpink</span>:<span class=\"code-number\">16758465</span>,<span class=\"code-attr\">lightsalmon</span>:<span class=\"code-number\">16752762</span>,<span class=\"code-attr\">lightseagreen</span>:<span class=\"code-number\">2142890</span>,<span class=\"code-attr\">lightskyblue</span>:<span class=\"code-number\">8900346</span>,<span class=\"code-attr\">lightslategray</span>:<span class=\"code-number\">7833753</span>,<span class=\"code-attr\">lightslategrey</span>:<span class=\"code-number\">7833753</span>,<span class=\"code-attr\">lightsteelblue</span>:<span class=\"code-number\">11584734</span>,<span class=\"code-attr\">lightyellow</span>:<span class=\"code-number\">16777184</span>,<span class=\"code-attr\">lime</span>:<span class=\"code-number\">65280</span>,<span class=\"code-attr\">limegreen</span>:<span class=\"code-number\">3329330</span>,<span class=\"code-attr\">linen</span>:<span class=\"code-number\">16445670</span>,<span class=\"code-attr\">magenta</span>:<span class=\"code-number\">16711935</span>,<span class=\"code-attr\">maroon</span>:<span class=\"code-number\">8388608</span>,<span class=\"code-attr\">mediumaquamarine</span>:<span class=\"code-number\">6737322</span>,<span class=\"code-attr\">mediumblue</span>:<span class=\"code-number\">205</span>,<span class=\"code-attr\">mediumorchid</span>:<span class=\"code-number\">12211667</span>,<span class=\"code-attr\">mediumpurple</span>:<span class=\"code-number\">9662683</span>,<span class=\"code-attr\">mediumseagreen</span>:<span class=\"code-number\">3978097</span>,<span class=\"code-attr\">mediumslateblue</span>:<span class=\"code-number\">8087790</span>,<span class=\"code-attr\">mediumspringgreen</span>:<span class=\"code-number\">64154</span>,<span class=\"code-attr\">mediumturquoise</span>:<span class=\"code-number\">4772300</span>,<span class=\"code-attr\">mediumvioletred</span>:<span class=\"code-number\">13047173</span>,<span class=\"code-attr\">midnightblue</span>:<span class=\"code-number\">1644912</span>,<span class=\"code-attr\">mintcream</span>:<span class=\"code-number\">16121850</span>,<span class=\"code-attr\">mistyrose</span>:<span class=\"code-number\">16770273</span>,<span class=\"code-attr\">moccasin</span>:<span class=\"code-number\">16770229</span>,<span class=\"code-attr\">navajowhite</span>:<span class=\"code-number\">16768685</span>,<span class=\"code-attr\">navy</span>:<span class=\"code-number\">128</span>,<span class=\"code-attr\">oldlace</span>:<span class=\"code-number\">16643558</span>,<span class=\"code-attr\">olive</span>:<span class=\"code-number\">8421376</span>,<span class=\"code-attr\">olivedrab</span>:<span class=\"code-number\">7048739</span>,<span class=\"code-attr\">orange</span>:<span class=\"code-number\">16753920</span>,<span class=\"code-attr\">orangered</span>:<span class=\"code-number\">16729344</span>,<span class=\"code-attr\">orchid</span>:<span class=\"code-number\">14315734</span>,<span class=\"code-attr\">palegoldenrod</span>:<span class=\"code-number\">15657130</span>,<span class=\"code-attr\">palegreen</span>:<span class=\"code-number\">10025880</span>,<span class=\"code-attr\">paleturquoise</span>:<span class=\"code-number\">11529966</span>,<span class=\"code-attr\">palevioletred</span>:<span class=\"code-number\">14381203</span>,<span class=\"code-attr\">papayawhip</span>:<span class=\"code-number\">16773077</span>,<span class=\"code-attr\">peachpuff</span>:<span class=\"code-number\">16767673</span>,<span class=\"code-attr\">peru</span>:<span class=\"code-number\">13468991</span>,<span class=\"code-attr\">pink</span>:<span class=\"code-number\">16761035</span>,<span class=\"code-attr\">plum</span>:<span class=\"code-number\">14524637</span>,<span class=\"code-attr\">powderblue</span>:<span class=\"code-number\">11591910</span>,<span class=\"code-attr\">purple</span>:<span class=\"code-number\">8388736</span>,<span class=\"code-attr\">rebeccapurple</span>:<span class=\"code-number\">6697881</span>,<span class=\"code-attr\">red</span>:<span class=\"code-number\">16711680</span>,<span class=\"code-attr\">rosybrown</span>:<span class=\"code-number\">12357519</span>,<span class=\"code-attr\">royalblue</span>:<span class=\"code-number\">4286945</span>,<span class=\"code-attr\">saddlebrown</span>:<span class=\"code-number\">9127187</span>,<span class=\"code-attr\">salmon</span>:<span class=\"code-number\">16416882</span>,<span class=\"code-attr\">sandybrown</span>:<span class=\"code-number\">16032864</span>,<span class=\"code-attr\">seagreen</span>:<span class=\"code-number\">3050327</span>,<span class=\"code-attr\">seashell</span>:<span class=\"code-number\">16774638</span>,<span class=\"code-attr\">sienna</span>:<span class=\"code-number\">10506797</span>,<span class=\"code-attr\">silver</span>:<span class=\"code-number\">12632256</span>,<span class=\"code-attr\">skyblue</span>:<span class=\"code-number\">8900331</span>,<span class=\"code-attr\">slateblue</span>:<span class=\"code-number\">6970061</span>,<span class=\"code-attr\">slategray</span>:<span class=\"code-number\">7372944</span>,<span class=\"code-attr\">slategrey</span>:<span class=\"code-number\">7372944</span>,<span class=\"code-attr\">snow</span>:<span class=\"code-number\">16775930</span>,<span class=\"code-attr\">springgreen</span>:<span class=\"code-number\">65407</span>,<span class=\"code-attr\">steelblue</span>:<span class=\"code-number\">4620980</span>,<span class=\"code-attr\">tan</span>:<span class=\"code-number\">13808780</span>,<span class=\"code-attr\">teal</span>:<span class=\"code-number\">32896</span>,<span class=\"code-attr\">thistle</span>:<span class=\"code-number\">14204888</span>,<span class=\"code-attr\">tomato</span>:<span class=\"code-number\">16737095</span>,<span class=\"code-attr\">turquoise</span>:<span class=\"code-number\">4251856</span>,<span class=\"code-attr\">violet</span>:<span class=\"code-number\">15631086</span>,<span class=\"code-attr\">wheat</span>:<span class=\"code-number\">16113331</span>,<span class=\"code-attr\">white</span>:<span class=\"code-number\">16777215</span>,<span class=\"code-attr\">whitesmoke</span>:<span class=\"code-number\">16119285</span>,<span class=\"code-attr\">yellow</span>:<span class=\"code-number\">16776960</span>,<span class=\"code-attr\">yellowgreen</span>:<span class=\"code-number\">10145074</span>},Fe={<span class=\"code-attr\">h</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">s</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">l</span>:<span class=\"code-number\">0</span>},Ge={<span class=\"code-attr\">h</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">s</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">l</span>:<span class=\"code-number\">0</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">He</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> n&lt;<span class=\"code-number\">0</span>&amp;&amp;(n+=<span class=\"code-number\">1</span>),n&gt;<span class=\"code-number\">1</span>&amp;&amp;(n-=<span class=\"code-number\">1</span>),n&lt;<span class=\"code-number\">1</span>/<span class=\"code-number\">6</span>?t+<span class=\"code-number\">6</span>*(e-t)*n:n&lt;<span class=\"code-number\">.5</span>?e:n&lt;<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span>?t+<span class=\"code-number\">6</span>*(e-t)*(<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span>-n):t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ke</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-number\">.04045</span>?<span class=\"code-number\">.0773993808</span>*t:<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">.9478672986</span>*t+<span class=\"code-number\">.0521327014</span>,<span class=\"code-number\">2.4</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ve</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-number\">.0031308</span>?<span class=\"code-number\">12.92</span>*t:<span class=\"code-number\">1.055</span>*<span class=\"code-built_in\">Math</span>.pow(t,<span class=\"code-number\">.41666</span>)<span class=\"code-number\">-.055</span>}<span class=\"code-keyword\">var</span> We=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isColor\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-keyword\">this</span>.set(t):<span class=\"code-keyword\">this</span>.setRGB(t,e,n)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.isColor?<span class=\"code-keyword\">this</span>.copy(t):<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t?<span class=\"code-keyword\">this</span>.setHex(t):<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-keyword\">this</span>.setStyle(t),<span class=\"code-keyword\">this</span>},e.setScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=t,<span class=\"code-keyword\">this</span>.g=t,<span class=\"code-keyword\">this</span>.b=t,<span class=\"code-keyword\">this</span>},e.setHex=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t=<span class=\"code-built_in\">Math</span>.floor(t),<span class=\"code-keyword\">this</span>.r=(t&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.g=(t&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.b=(<span class=\"code-number\">255</span>&amp;t)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>},e.setRGB=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=t,<span class=\"code-keyword\">this</span>.g=e,<span class=\"code-keyword\">this</span>.b=n,<span class=\"code-keyword\">this</span>},e.setHSL=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(t=st.euclideanModulo(t,<span class=\"code-number\">1</span>),e=st.clamp(e,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),n=st.clamp(n,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">this</span>.r=<span class=\"code-keyword\">this</span>.g=<span class=\"code-keyword\">this</span>.b=n;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> r=n&lt;=<span class=\"code-number\">.5</span>?n*(<span class=\"code-number\">1</span>+e):n+e-n*e,i=<span class=\"code-number\">2</span>*n-r;<span class=\"code-keyword\">this</span>.r=He(i,r,t+<span class=\"code-number\">1</span>/<span class=\"code-number\">3</span>),<span class=\"code-keyword\">this</span>.g=He(i,r,t),<span class=\"code-keyword\">this</span>.b=He(i,r,t<span class=\"code-number\">-1</span>/<span class=\"code-number\">3</span>)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.setStyle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;<span class=\"code-built_in\">parseFloat</span>(e)&lt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Color: Alpha component of \"</span>+t+<span class=\"code-string\">\" will be ignored.\"</span>)}<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">if</span>(n=<span class=\"code-regexp\">/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/</span>.exec(t)){<span class=\"code-keyword\">var</span> r,i=n[<span class=\"code-number\">1</span>],a=n[<span class=\"code-number\">2</span>];<span class=\"code-keyword\">switch</span>(i){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"rgb\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"rgba\"</span>:<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/</span>.exec(a))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">255</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">255</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">255</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">3</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">255</span>,e(r[<span class=\"code-number\">5</span>]),<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/</span>.exec(a))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">100</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">100</span>,<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">100</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">100</span>,<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">100</span>,<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">3</span>],<span class=\"code-number\">10</span>))/<span class=\"code-number\">100</span>,e(r[<span class=\"code-number\">5</span>]),<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"hsl\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"hsla\"</span>:<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/</span>.exec(a)){<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">parseFloat</span>(r[<span class=\"code-number\">1</span>])/<span class=\"code-number\">360</span>,s=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span>)/<span class=\"code-number\">100</span>,c=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">3</span>],<span class=\"code-number\">10</span>)/<span class=\"code-number\">100</span>;<span class=\"code-keyword\">return</span> e(r[<span class=\"code-number\">5</span>]),<span class=\"code-keyword\">this</span>.setHSL(o,s,c)}}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n=<span class=\"code-regexp\">/^\\#([A-Fa-f0-9]+)$/</span>.exec(t)){<span class=\"code-keyword\">var</span> l=n[<span class=\"code-number\">1</span>],u=l.length;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===u)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">0</span>)+l.charAt(<span class=\"code-number\">0</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">1</span>)+l.charAt(<span class=\"code-number\">1</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">2</span>)+l.charAt(<span class=\"code-number\">2</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">6</span>===u)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">0</span>)+l.charAt(<span class=\"code-number\">1</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">2</span>)+l.charAt(<span class=\"code-number\">3</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">parseInt</span>(l.charAt(<span class=\"code-number\">4</span>)+l.charAt(<span class=\"code-number\">5</span>),<span class=\"code-number\">16</span>)/<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> t&amp;&amp;t.length&gt;<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.setColorName(t):<span class=\"code-keyword\">this</span>},e.setColorName=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Ue[t];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?<span class=\"code-keyword\">this</span>.setHex(e):<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Color: Unknown color \"</span>+t),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.r,<span class=\"code-keyword\">this</span>.g,<span class=\"code-keyword\">this</span>.b)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=t.r,<span class=\"code-keyword\">this</span>.g=t.g,<span class=\"code-keyword\">this</span>.b=t.b,<span class=\"code-keyword\">this</span>},e.copyGammaToLinear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">Math</span>.pow(t.r,e),<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">Math</span>.pow(t.g,e),<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">Math</span>.pow(t.b,e),<span class=\"code-keyword\">this</span>},e.copyLinearToGamma=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">2</span>);<span class=\"code-keyword\">var</span> n=e&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>/e:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">Math</span>.pow(t.r,n),<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">Math</span>.pow(t.g,n),<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">Math</span>.pow(t.b,n),<span class=\"code-keyword\">this</span>},e.convertGammaToLinear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copyGammaToLinear(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>},e.convertLinearToGamma=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copyLinearToGamma(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>},e.copySRGBToLinear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=ke(t.r),<span class=\"code-keyword\">this</span>.g=ke(t.g),<span class=\"code-keyword\">this</span>.b=ke(t.b),<span class=\"code-keyword\">this</span>},e.copyLinearToSRGB=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=Ve(t.r),<span class=\"code-keyword\">this</span>.g=Ve(t.g),<span class=\"code-keyword\">this</span>.b=Ve(t.b),<span class=\"code-keyword\">this</span>},e.convertSRGBToLinear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copySRGBToLinear(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>},e.convertLinearToSRGB=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copyLinearToSRGB(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>},e.getHex=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.r&lt;&lt;<span class=\"code-number\">16</span>^<span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.g&lt;&lt;<span class=\"code-number\">8</span>^<span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.b&lt;&lt;<span class=\"code-number\">0</span>},e.getHexString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-string\">\"000000\"</span>+<span class=\"code-keyword\">this</span>.getHex().toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-6</span>)},e.getHSL=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Color: .getHSL() target is now required\"</span>),t={<span class=\"code-attr\">h</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">s</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">l</span>:<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> e,n,r=<span class=\"code-keyword\">this</span>.r,i=<span class=\"code-keyword\">this</span>.g,a=<span class=\"code-keyword\">this</span>.b,o=<span class=\"code-built_in\">Math</span>.max(r,i,a),s=<span class=\"code-built_in\">Math</span>.min(r,i,a),c=(s+o)/<span class=\"code-number\">2</span>;<span class=\"code-keyword\">if</span>(s===o)e=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> l=o-s;<span class=\"code-keyword\">switch</span>(n=c&lt;=<span class=\"code-number\">.5</span>?l/(o+s):l/(<span class=\"code-number\">2</span>-o-s),o){<span class=\"code-keyword\">case</span> r:e=(i-a)/l+(i&lt;a?<span class=\"code-number\">6</span>:<span class=\"code-number\">0</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> i:e=(a-r)/l+<span class=\"code-number\">2</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> a:e=(r-i)/l+<span class=\"code-number\">4</span>}e/=<span class=\"code-number\">6</span>}<span class=\"code-keyword\">return</span> t.h=e,t.s=n,t.l=c,t},e.getStyle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"rgb(\"</span>+(<span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.r|<span class=\"code-number\">0</span>)+<span class=\"code-string\">\",\"</span>+(<span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.g|<span class=\"code-number\">0</span>)+<span class=\"code-string\">\",\"</span>+(<span class=\"code-number\">255</span>*<span class=\"code-keyword\">this</span>.b|<span class=\"code-number\">0</span>)+<span class=\"code-string\">\")\"</span>},e.offsetHSL=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getHSL(Fe),Fe.h+=t,Fe.s+=e,Fe.l+=n,<span class=\"code-keyword\">this</span>.setHSL(Fe.h,Fe.s,Fe.l),<span class=\"code-keyword\">this</span>},e.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r+=t.r,<span class=\"code-keyword\">this</span>.g+=t.g,<span class=\"code-keyword\">this</span>.b+=t.b,<span class=\"code-keyword\">this</span>},e.addColors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=t.r+e.r,<span class=\"code-keyword\">this</span>.g=t.g+e.g,<span class=\"code-keyword\">this</span>.b=t.b+e.b,<span class=\"code-keyword\">this</span>},e.addScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r+=t,<span class=\"code-keyword\">this</span>.g+=t,<span class=\"code-keyword\">this</span>.b+=t,<span class=\"code-keyword\">this</span>},e.sub=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.r-t.r),<span class=\"code-keyword\">this</span>.g=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.g-t.g),<span class=\"code-keyword\">this</span>.b=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.b-t.b),<span class=\"code-keyword\">this</span>},e.multiply=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r*=t.r,<span class=\"code-keyword\">this</span>.g*=t.g,<span class=\"code-keyword\">this</span>.b*=t.b,<span class=\"code-keyword\">this</span>},e.multiplyScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r*=t,<span class=\"code-keyword\">this</span>.g*=t,<span class=\"code-keyword\">this</span>.b*=t,<span class=\"code-keyword\">this</span>},e.lerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r+=(t.r-<span class=\"code-keyword\">this</span>.r)*e,<span class=\"code-keyword\">this</span>.g+=(t.g-<span class=\"code-keyword\">this</span>.g)*e,<span class=\"code-keyword\">this</span>.b+=(t.b-<span class=\"code-keyword\">this</span>.b)*e,<span class=\"code-keyword\">this</span>},e.lerpHSL=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.getHSL(Fe),t.getHSL(Ge);<span class=\"code-keyword\">var</span> n=st.lerp(Fe.h,Ge.h,e),r=st.lerp(Fe.s,Ge.s,e),i=st.lerp(Fe.l,Ge.l,e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setHSL(n,r,i),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.r===<span class=\"code-keyword\">this</span>.r&amp;&amp;t.g===<span class=\"code-keyword\">this</span>.g&amp;&amp;t.b===<span class=\"code-keyword\">this</span>.b},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.r=t[e],<span class=\"code-keyword\">this</span>.g=t[e+<span class=\"code-number\">1</span>],<span class=\"code-keyword\">this</span>.b=t[e+<span class=\"code-number\">2</span>],<span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),t[e]=<span class=\"code-keyword\">this</span>.r,t[e+<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">this</span>.g,t[e+<span class=\"code-number\">2</span>]=<span class=\"code-keyword\">this</span>.b,t},e.fromBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.r=t.getX(e),<span class=\"code-keyword\">this</span>.g=t.getY(e),<span class=\"code-keyword\">this</span>.b=t.getZ(e),!<span class=\"code-number\">0</span>===t.normalized&amp;&amp;(<span class=\"code-keyword\">this</span>.r/=<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.g/=<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.b/=<span class=\"code-number\">255</span>),<span class=\"code-keyword\">this</span>},e.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getHex()},t}();We.NAMES=Ue,We.prototype.r=<span class=\"code-number\">1</span>,We.prototype.g=<span class=\"code-number\">1</span>,We.prototype.b=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> je=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.a=t,<span class=\"code-keyword\">this</span>.b=e,<span class=\"code-keyword\">this</span>.c=n,<span class=\"code-keyword\">this</span>.normal=r&amp;&amp;r.isVector3?r:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.vertexNormals=<span class=\"code-built_in\">Array</span>.isArray(r)?r:[],<span class=\"code-keyword\">this</span>.color=i&amp;&amp;i.isColor?i:<span class=\"code-keyword\">new</span> We,<span class=\"code-keyword\">this</span>.vertexColors=<span class=\"code-built_in\">Array</span>.isArray(i)?i:[],<span class=\"code-keyword\">this</span>.materialIndex=a}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.a=t.a,<span class=\"code-keyword\">this</span>.b=t.b,<span class=\"code-keyword\">this</span>.c=t.c,<span class=\"code-keyword\">this</span>.normal.copy(t.normal),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.materialIndex=t.materialIndex;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.vertexNormals.length;e&lt;n;e++)<span class=\"code-keyword\">this</span>.vertexNormals[e]=t.vertexNormals[e].clone();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=t.vertexColors.length;r&lt;i;r++)<span class=\"code-keyword\">this</span>.vertexColors[r]=t.vertexColors[r].clone();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},t}(),qe=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xe</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">value</span>:qe++}),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Material\"</span>,<span class=\"code-keyword\">this</span>.fog=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.blending=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.side=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.flatShading=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.vertexColors=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.opacity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.transparent=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.blendSrc=<span class=\"code-number\">204</span>,<span class=\"code-keyword\">this</span>.blendDst=<span class=\"code-number\">205</span>,<span class=\"code-keyword\">this</span>.blendEquation=e,<span class=\"code-keyword\">this</span>.blendSrcAlpha=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.blendDstAlpha=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.blendEquationAlpha=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.depthFunc=<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>.depthTest=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.depthWrite=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.stencilWriteMask=<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.stencilFunc=<span class=\"code-number\">519</span>,<span class=\"code-keyword\">this</span>.stencilRef=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.stencilFuncMask=<span class=\"code-number\">255</span>,<span class=\"code-keyword\">this</span>.stencilFail=$,<span class=\"code-keyword\">this</span>.stencilZFail=$,<span class=\"code-keyword\">this</span>.stencilZPass=$,<span class=\"code-keyword\">this</span>.stencilWrite=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.clippingPlanes=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.clipIntersection=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.clipShadows=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.shadowSide=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.colorWrite=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.precision=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.polygonOffset=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.polygonOffsetFactor=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.polygonOffsetUnits=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.dithering=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.alphaTest=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.premultipliedAlpha=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.visible=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.toneMapped=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.userData={},<span class=\"code-keyword\">this</span>.version=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ye</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshBasicMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aoMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.aoMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.specularMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.envMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.combine=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.reflectivity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.refractionRatio=<span class=\"code-number\">.98</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.wireframeLinejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}Xe.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:Xe,<span class=\"code-attr\">isMaterial</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">onBeforeCompile</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">customProgramCacheKey</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.onBeforeCompile.toString()},<span class=\"code-attr\">setValues</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">var</span> n=t[e];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"shading\"</span>!==e){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r&amp;&amp;r.isColor?r.set(n):r&amp;&amp;r.isVector3&amp;&amp;n&amp;&amp;n.isVector3?r.copy(n):<span class=\"code-keyword\">this</span>[e]=n:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": '\"</span>+e+<span class=\"code-string\">\"' is not a property of this material.\"</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": .shading has been removed. Use the boolean .flatShading instead.\"</span>),<span class=\"code-keyword\">this</span>.flatShading=<span class=\"code-number\">1</span>===n;<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: '\"</span>+e+<span class=\"code-string\">\"' parameter is undefined.\"</span>)}},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t;e&amp;&amp;(t={<span class=\"code-attr\">textures</span>:{},<span class=\"code-attr\">images</span>:{}});<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Material\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Material.toJSON\"</span>}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">var</span> r=t[n];<span class=\"code-keyword\">delete</span> r.metadata,e.push(r)}<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">if</span>(n.uuid=<span class=\"code-keyword\">this</span>.uuid,n.type=<span class=\"code-keyword\">this</span>.type,<span class=\"code-string\">\"\"</span>!==<span class=\"code-keyword\">this</span>.name&amp;&amp;(n.name=<span class=\"code-keyword\">this</span>.name),<span class=\"code-keyword\">this</span>.color&amp;&amp;<span class=\"code-keyword\">this</span>.color.isColor&amp;&amp;(n.color=<span class=\"code-keyword\">this</span>.color.getHex()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.roughness&amp;&amp;(n.roughness=<span class=\"code-keyword\">this</span>.roughness),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.metalness&amp;&amp;(n.metalness=<span class=\"code-keyword\">this</span>.metalness),<span class=\"code-keyword\">this</span>.sheen&amp;&amp;<span class=\"code-keyword\">this</span>.sheen.isColor&amp;&amp;(n.sheen=<span class=\"code-keyword\">this</span>.sheen.getHex()),<span class=\"code-keyword\">this</span>.emissive&amp;&amp;<span class=\"code-keyword\">this</span>.emissive.isColor&amp;&amp;(n.emissive=<span class=\"code-keyword\">this</span>.emissive.getHex()),<span class=\"code-keyword\">this</span>.emissiveIntensity&amp;&amp;<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.emissiveIntensity&amp;&amp;(n.emissiveIntensity=<span class=\"code-keyword\">this</span>.emissiveIntensity),<span class=\"code-keyword\">this</span>.specular&amp;&amp;<span class=\"code-keyword\">this</span>.specular.isColor&amp;&amp;(n.specular=<span class=\"code-keyword\">this</span>.specular.getHex()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.shininess&amp;&amp;(n.shininess=<span class=\"code-keyword\">this</span>.shininess),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.clearcoat&amp;&amp;(n.clearcoat=<span class=\"code-keyword\">this</span>.clearcoat),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.clearcoatRoughness&amp;&amp;(n.clearcoatRoughness=<span class=\"code-keyword\">this</span>.clearcoatRoughness),<span class=\"code-keyword\">this</span>.clearcoatMap&amp;&amp;<span class=\"code-keyword\">this</span>.clearcoatMap.isTexture&amp;&amp;(n.clearcoatMap=<span class=\"code-keyword\">this</span>.clearcoatMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.clearcoatRoughnessMap&amp;&amp;<span class=\"code-keyword\">this</span>.clearcoatRoughnessMap.isTexture&amp;&amp;(n.clearcoatRoughnessMap=<span class=\"code-keyword\">this</span>.clearcoatRoughnessMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.clearcoatNormalMap&amp;&amp;<span class=\"code-keyword\">this</span>.clearcoatNormalMap.isTexture&amp;&amp;(n.clearcoatNormalMap=<span class=\"code-keyword\">this</span>.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=<span class=\"code-keyword\">this</span>.clearcoatNormalScale.toArray()),<span class=\"code-keyword\">this</span>.map&amp;&amp;<span class=\"code-keyword\">this</span>.map.isTexture&amp;&amp;(n.map=<span class=\"code-keyword\">this</span>.map.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.matcap&amp;&amp;<span class=\"code-keyword\">this</span>.matcap.isTexture&amp;&amp;(n.matcap=<span class=\"code-keyword\">this</span>.matcap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.alphaMap&amp;&amp;<span class=\"code-keyword\">this</span>.alphaMap.isTexture&amp;&amp;(n.alphaMap=<span class=\"code-keyword\">this</span>.alphaMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.lightMap&amp;&amp;<span class=\"code-keyword\">this</span>.lightMap.isTexture&amp;&amp;(n.lightMap=<span class=\"code-keyword\">this</span>.lightMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.aoMap&amp;&amp;<span class=\"code-keyword\">this</span>.aoMap.isTexture&amp;&amp;(n.aoMap=<span class=\"code-keyword\">this</span>.aoMap.toJSON(t).uuid,n.aoMapIntensity=<span class=\"code-keyword\">this</span>.aoMapIntensity),<span class=\"code-keyword\">this</span>.bumpMap&amp;&amp;<span class=\"code-keyword\">this</span>.bumpMap.isTexture&amp;&amp;(n.bumpMap=<span class=\"code-keyword\">this</span>.bumpMap.toJSON(t).uuid,n.bumpScale=<span class=\"code-keyword\">this</span>.bumpScale),<span class=\"code-keyword\">this</span>.normalMap&amp;&amp;<span class=\"code-keyword\">this</span>.normalMap.isTexture&amp;&amp;(n.normalMap=<span class=\"code-keyword\">this</span>.normalMap.toJSON(t).uuid,n.normalMapType=<span class=\"code-keyword\">this</span>.normalMapType,n.normalScale=<span class=\"code-keyword\">this</span>.normalScale.toArray()),<span class=\"code-keyword\">this</span>.displacementMap&amp;&amp;<span class=\"code-keyword\">this</span>.displacementMap.isTexture&amp;&amp;(n.displacementMap=<span class=\"code-keyword\">this</span>.displacementMap.toJSON(t).uuid,n.displacementScale=<span class=\"code-keyword\">this</span>.displacementScale,n.displacementBias=<span class=\"code-keyword\">this</span>.displacementBias),<span class=\"code-keyword\">this</span>.roughnessMap&amp;&amp;<span class=\"code-keyword\">this</span>.roughnessMap.isTexture&amp;&amp;(n.roughnessMap=<span class=\"code-keyword\">this</span>.roughnessMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.metalnessMap&amp;&amp;<span class=\"code-keyword\">this</span>.metalnessMap.isTexture&amp;&amp;(n.metalnessMap=<span class=\"code-keyword\">this</span>.metalnessMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.emissiveMap&amp;&amp;<span class=\"code-keyword\">this</span>.emissiveMap.isTexture&amp;&amp;(n.emissiveMap=<span class=\"code-keyword\">this</span>.emissiveMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.specularMap&amp;&amp;<span class=\"code-keyword\">this</span>.specularMap.isTexture&amp;&amp;(n.specularMap=<span class=\"code-keyword\">this</span>.specularMap.toJSON(t).uuid),<span class=\"code-keyword\">this</span>.envMap&amp;&amp;<span class=\"code-keyword\">this</span>.envMap.isTexture&amp;&amp;(n.envMap=<span class=\"code-keyword\">this</span>.envMap.toJSON(t).uuid,n.reflectivity=<span class=\"code-keyword\">this</span>.reflectivity,n.refractionRatio=<span class=\"code-keyword\">this</span>.refractionRatio,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.combine&amp;&amp;(n.combine=<span class=\"code-keyword\">this</span>.combine),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.envMapIntensity&amp;&amp;(n.envMapIntensity=<span class=\"code-keyword\">this</span>.envMapIntensity)),<span class=\"code-keyword\">this</span>.gradientMap&amp;&amp;<span class=\"code-keyword\">this</span>.gradientMap.isTexture&amp;&amp;(n.gradientMap=<span class=\"code-keyword\">this</span>.gradientMap.toJSON(t).uuid),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.size&amp;&amp;(n.size=<span class=\"code-keyword\">this</span>.size),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.sizeAttenuation&amp;&amp;(n.sizeAttenuation=<span class=\"code-keyword\">this</span>.sizeAttenuation),<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.blending&amp;&amp;(n.blending=<span class=\"code-keyword\">this</span>.blending),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.flatShading&amp;&amp;(n.flatShading=<span class=\"code-keyword\">this</span>.flatShading),<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.side&amp;&amp;(n.side=<span class=\"code-keyword\">this</span>.side),<span class=\"code-keyword\">this</span>.vertexColors&amp;&amp;(n.vertexColors=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.opacity&lt;<span class=\"code-number\">1</span>&amp;&amp;(n.opacity=<span class=\"code-keyword\">this</span>.opacity),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.transparent&amp;&amp;(n.transparent=<span class=\"code-keyword\">this</span>.transparent),n.depthFunc=<span class=\"code-keyword\">this</span>.depthFunc,n.depthTest=<span class=\"code-keyword\">this</span>.depthTest,n.depthWrite=<span class=\"code-keyword\">this</span>.depthWrite,n.stencilWrite=<span class=\"code-keyword\">this</span>.stencilWrite,n.stencilWriteMask=<span class=\"code-keyword\">this</span>.stencilWriteMask,n.stencilFunc=<span class=\"code-keyword\">this</span>.stencilFunc,n.stencilRef=<span class=\"code-keyword\">this</span>.stencilRef,n.stencilFuncMask=<span class=\"code-keyword\">this</span>.stencilFuncMask,n.stencilFail=<span class=\"code-keyword\">this</span>.stencilFail,n.stencilZFail=<span class=\"code-keyword\">this</span>.stencilZFail,n.stencilZPass=<span class=\"code-keyword\">this</span>.stencilZPass,<span class=\"code-keyword\">this</span>.rotation&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.rotation&amp;&amp;(n.rotation=<span class=\"code-keyword\">this</span>.rotation),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.polygonOffset&amp;&amp;(n.polygonOffset=!<span class=\"code-number\">0</span>),<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.polygonOffsetFactor&amp;&amp;(n.polygonOffsetFactor=<span class=\"code-keyword\">this</span>.polygonOffsetFactor),<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.polygonOffsetUnits&amp;&amp;(n.polygonOffsetUnits=<span class=\"code-keyword\">this</span>.polygonOffsetUnits),<span class=\"code-keyword\">this</span>.linewidth&amp;&amp;<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.linewidth&amp;&amp;(n.linewidth=<span class=\"code-keyword\">this</span>.linewidth),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.dashSize&amp;&amp;(n.dashSize=<span class=\"code-keyword\">this</span>.dashSize),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.gapSize&amp;&amp;(n.gapSize=<span class=\"code-keyword\">this</span>.gapSize),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.scale&amp;&amp;(n.scale=<span class=\"code-keyword\">this</span>.scale),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.dithering&amp;&amp;(n.dithering=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.alphaTest&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.alphaTest=<span class=\"code-keyword\">this</span>.alphaTest),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.premultipliedAlpha&amp;&amp;(n.premultipliedAlpha=<span class=\"code-keyword\">this</span>.premultipliedAlpha),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.wireframe&amp;&amp;(n.wireframe=<span class=\"code-keyword\">this</span>.wireframe),<span class=\"code-keyword\">this</span>.wireframeLinewidth&gt;<span class=\"code-number\">1</span>&amp;&amp;(n.wireframeLinewidth=<span class=\"code-keyword\">this</span>.wireframeLinewidth),<span class=\"code-string\">\"round\"</span>!==<span class=\"code-keyword\">this</span>.wireframeLinecap&amp;&amp;(n.wireframeLinecap=<span class=\"code-keyword\">this</span>.wireframeLinecap),<span class=\"code-string\">\"round\"</span>!==<span class=\"code-keyword\">this</span>.wireframeLinejoin&amp;&amp;(n.wireframeLinejoin=<span class=\"code-keyword\">this</span>.wireframeLinejoin),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.morphTargets&amp;&amp;(n.morphTargets=!<span class=\"code-number\">0</span>),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.morphNormals&amp;&amp;(n.morphNormals=!<span class=\"code-number\">0</span>),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.skinning&amp;&amp;(n.skinning=!<span class=\"code-number\">0</span>),!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.visible&amp;&amp;(n.visible=!<span class=\"code-number\">1</span>),!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.toneMapped&amp;&amp;(n.toneMapped=!<span class=\"code-number\">1</span>),<span class=\"code-string\">\"{}\"</span>!==<span class=\"code-built_in\">JSON</span>.stringify(<span class=\"code-keyword\">this</span>.userData)&amp;&amp;(n.userData=<span class=\"code-keyword\">this</span>.userData),e){<span class=\"code-keyword\">var</span> i=r(t.textures),a=r(t.images);i.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.textures=i),a.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(n.images=a)}<span class=\"code-keyword\">return</span> n},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.name=t.name,<span class=\"code-keyword\">this</span>.fog=t.fog,<span class=\"code-keyword\">this</span>.blending=t.blending,<span class=\"code-keyword\">this</span>.side=t.side,<span class=\"code-keyword\">this</span>.flatShading=t.flatShading,<span class=\"code-keyword\">this</span>.vertexColors=t.vertexColors,<span class=\"code-keyword\">this</span>.opacity=t.opacity,<span class=\"code-keyword\">this</span>.transparent=t.transparent,<span class=\"code-keyword\">this</span>.blendSrc=t.blendSrc,<span class=\"code-keyword\">this</span>.blendDst=t.blendDst,<span class=\"code-keyword\">this</span>.blendEquation=t.blendEquation,<span class=\"code-keyword\">this</span>.blendSrcAlpha=t.blendSrcAlpha,<span class=\"code-keyword\">this</span>.blendDstAlpha=t.blendDstAlpha,<span class=\"code-keyword\">this</span>.blendEquationAlpha=t.blendEquationAlpha,<span class=\"code-keyword\">this</span>.depthFunc=t.depthFunc,<span class=\"code-keyword\">this</span>.depthTest=t.depthTest,<span class=\"code-keyword\">this</span>.depthWrite=t.depthWrite,<span class=\"code-keyword\">this</span>.stencilWriteMask=t.stencilWriteMask,<span class=\"code-keyword\">this</span>.stencilFunc=t.stencilFunc,<span class=\"code-keyword\">this</span>.stencilRef=t.stencilRef,<span class=\"code-keyword\">this</span>.stencilFuncMask=t.stencilFuncMask,<span class=\"code-keyword\">this</span>.stencilFail=t.stencilFail,<span class=\"code-keyword\">this</span>.stencilZFail=t.stencilZFail,<span class=\"code-keyword\">this</span>.stencilZPass=t.stencilZPass,<span class=\"code-keyword\">this</span>.stencilWrite=t.stencilWrite;<span class=\"code-keyword\">var</span> e=t.clippingPlanes,n=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==e){<span class=\"code-keyword\">var</span> r=e.length;n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(r);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i!==r;++i)n[i]=e[i].clone()}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.clippingPlanes=n,<span class=\"code-keyword\">this</span>.clipIntersection=t.clipIntersection,<span class=\"code-keyword\">this</span>.clipShadows=t.clipShadows,<span class=\"code-keyword\">this</span>.shadowSide=t.shadowSide,<span class=\"code-keyword\">this</span>.colorWrite=t.colorWrite,<span class=\"code-keyword\">this</span>.precision=t.precision,<span class=\"code-keyword\">this</span>.polygonOffset=t.polygonOffset,<span class=\"code-keyword\">this</span>.polygonOffsetFactor=t.polygonOffsetFactor,<span class=\"code-keyword\">this</span>.polygonOffsetUnits=t.polygonOffsetUnits,<span class=\"code-keyword\">this</span>.dithering=t.dithering,<span class=\"code-keyword\">this</span>.alphaTest=t.alphaTest,<span class=\"code-keyword\">this</span>.premultipliedAlpha=t.premultipliedAlpha,<span class=\"code-keyword\">this</span>.visible=t.visible,<span class=\"code-keyword\">this</span>.toneMapped=t.toneMapped,<span class=\"code-keyword\">this</span>.userData=<span class=\"code-built_in\">JSON</span>.parse(<span class=\"code-built_in\">JSON</span>.stringify(t.userData)),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>})}}),<span class=\"code-built_in\">Object</span>.defineProperty(Xe.prototype,<span class=\"code-string\">\"needsUpdate\"</span>,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.version++}}),Ye.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshBasicMaterial=!<span class=\"code-number\">0</span>,Ye.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.lightMap=t.lightMap,<span class=\"code-keyword\">this</span>.lightMapIntensity=t.lightMapIntensity,<span class=\"code-keyword\">this</span>.aoMap=t.aoMap,<span class=\"code-keyword\">this</span>.aoMapIntensity=t.aoMapIntensity,<span class=\"code-keyword\">this</span>.specularMap=t.specularMap,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.envMap=t.envMap,<span class=\"code-keyword\">this</span>.combine=t.combine,<span class=\"code-keyword\">this</span>.reflectivity=t.reflectivity,<span class=\"code-keyword\">this</span>.refractionRatio=t.refractionRatio,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.wireframeLinecap=t.wireframeLinecap,<span class=\"code-keyword\">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> Ze=<span class=\"code-keyword\">new</span> Mt,Je=<span class=\"code-keyword\">new</span> pt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qe</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"THREE.BufferAttribute: array should be a Typed Array.\"</span>);<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.array=t,<span class=\"code-keyword\">this</span>.itemSize=e,<span class=\"code-keyword\">this</span>.count=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t.length/e:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalized=!<span class=\"code-number\">0</span>===n,<span class=\"code-keyword\">this</span>.usage=tt,<span class=\"code-keyword\">this</span>.updateRange={<span class=\"code-attr\">offset</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:<span class=\"code-number\">-1</span>},<span class=\"code-keyword\">this</span>.version=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ke</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int8Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$e</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tn</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8ClampedArray</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">en</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int16Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nn</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint16Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rn</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">an</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">on</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint16Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sn</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(t),e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cn</span>(<span class=\"code-params\">t,e,n</span>)</span>{Qe.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float64Array</span>(t),e,n)}<span class=\"code-built_in\">Object</span>.defineProperty(Qe.prototype,<span class=\"code-string\">\"needsUpdate\"</span>,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.version++}}),<span class=\"code-built_in\">Object</span>.assign(Qe.prototype,{<span class=\"code-attr\">isBufferAttribute</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">onUploadCallback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">setUsage</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.usage=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name=t.name,<span class=\"code-keyword\">this</span>.array=<span class=\"code-keyword\">new</span> t.array.constructor(t.array),<span class=\"code-keyword\">this</span>.itemSize=t.itemSize,<span class=\"code-keyword\">this</span>.count=t.count,<span class=\"code-keyword\">this</span>.normalized=t.normalized,<span class=\"code-keyword\">this</span>.usage=t.usage,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{t*=<span class=\"code-keyword\">this</span>.itemSize,n*=e.itemSize;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.itemSize;r&lt;i;r++)<span class=\"code-keyword\">this</span>.array[t+r]=e.array[n+r];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array.set(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyColorsArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.array,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute.copyColorsArray(): color is undefined\"</span>,r),a=<span class=\"code-keyword\">new</span> We),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyVector2sArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.array,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\"</span>,r),a=<span class=\"code-keyword\">new</span> pt),e[n++]=a.x,e[n++]=a.y}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyVector3sArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.array,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\"</span>,r),a=<span class=\"code-keyword\">new</span> Mt),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyVector4sArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.array,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\"</span>,r),a=<span class=\"code-keyword\">new</span> xt),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">applyMatrix3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2</span>===<span class=\"code-keyword\">this</span>.itemSize)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.count;e&lt;n;e++)Je.fromBufferAttribute(<span class=\"code-keyword\">this</span>,e),Je.applyMatrix3(t),<span class=\"code-keyword\">this</span>.setXY(e,Je.x,Je.y);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===<span class=\"code-keyword\">this</span>.itemSize)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.count;r&lt;i;r++)Ze.fromBufferAttribute(<span class=\"code-keyword\">this</span>,r),Ze.applyMatrix3(t),<span class=\"code-keyword\">this</span>.setXYZ(r,Ze.x,Ze.y,Ze.z);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">applyMatrix4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.count;e&lt;n;e++)Ze.x=<span class=\"code-keyword\">this</span>.getX(e),Ze.y=<span class=\"code-keyword\">this</span>.getY(e),Ze.z=<span class=\"code-keyword\">this</span>.getZ(e),Ze.applyMatrix4(t),<span class=\"code-keyword\">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">applyNormalMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.count;e&lt;n;e++)Ze.x=<span class=\"code-keyword\">this</span>.getX(e),Ze.y=<span class=\"code-keyword\">this</span>.getY(e),Ze.z=<span class=\"code-keyword\">this</span>.getZ(e),Ze.applyNormalMatrix(t),<span class=\"code-keyword\">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">transformDirection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.count;e&lt;n;e++)Ze.x=<span class=\"code-keyword\">this</span>.getX(e),Ze.y=<span class=\"code-keyword\">this</span>.getY(e),Ze.z=<span class=\"code-keyword\">this</span>.getZ(e),Ze.transformDirection(t),<span class=\"code-keyword\">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.array.set(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize]},<span class=\"code-attr\">setX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">1</span>]},<span class=\"code-attr\">setY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">1</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">2</span>]},<span class=\"code-attr\">setZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">2</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">3</span>]},<span class=\"code-attr\">setW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array[t*<span class=\"code-keyword\">this</span>.itemSize+<span class=\"code-number\">3</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setXY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t*=<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setXYZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> t*=<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">2</span>]=r,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setXYZW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span> t*=<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">2</span>]=r,<span class=\"code-keyword\">this</span>.array[t+<span class=\"code-number\">3</span>]=i,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">onUpload</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.onUploadCallback=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.array,<span class=\"code-keyword\">this</span>.itemSize).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">itemSize</span>:<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.array.constructor.name,<span class=\"code-attr\">array</span>:<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-keyword\">this</span>.array),<span class=\"code-attr\">normalized</span>:<span class=\"code-keyword\">this</span>.normalized}}}),Ke.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),Ke.prototype.constructor=Ke,$e.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),$e.prototype.constructor=$e,tn.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),tn.prototype.constructor=tn,en.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),en.prototype.constructor=en,nn.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),nn.prototype.constructor=nn,rn.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),rn.prototype.constructor=rn,an.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),an.prototype.constructor=an,on.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),on.prototype.constructor=on,on.prototype.isFloat16BufferAttribute=!<span class=\"code-number\">0</span>,sn.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),sn.prototype.constructor=sn,cn.prototype=<span class=\"code-built_in\">Object</span>.create(Qe.prototype),cn.prototype.constructor=cn;<span class=\"code-keyword\">var</span> ln=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.vertices=[],<span class=\"code-keyword\">this</span>.normals=[],<span class=\"code-keyword\">this</span>.colors=[],<span class=\"code-keyword\">this</span>.uvs=[],<span class=\"code-keyword\">this</span>.uvs2=[],<span class=\"code-keyword\">this</span>.groups=[],<span class=\"code-keyword\">this</span>.morphTargets={},<span class=\"code-keyword\">this</span>.skinWeights=[],<span class=\"code-keyword\">this</span>.skinIndices=[],<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.verticesNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.colorsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.uvsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.groupsNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.computeGroups=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n,r=[],i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,a=t.faces;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;a.length;n++){<span class=\"code-keyword\">var</span> o=a[n];o.materialIndex!==i&amp;&amp;(i=o.materialIndex,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(e.count=<span class=\"code-number\">3</span>*n-e.start,r.push(e)),e={<span class=\"code-attr\">start</span>:<span class=\"code-number\">3</span>*n,<span class=\"code-attr\">materialIndex</span>:i})}<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(e.count=<span class=\"code-number\">3</span>*n-e.start,r.push(e)),<span class=\"code-keyword\">this</span>.groups=r},e.fromGeometry=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[<span class=\"code-number\">0</span>]&amp;&amp;i[<span class=\"code-number\">0</span>].length&gt;<span class=\"code-number\">0</span>,o=i[<span class=\"code-number\">1</span>]&amp;&amp;i[<span class=\"code-number\">1</span>].length&gt;<span class=\"code-number\">0</span>,s=t.morphTargets,c=s.length;<span class=\"code-keyword\">if</span>(c&gt;<span class=\"code-number\">0</span>){e=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;c;l++)e[l]={<span class=\"code-attr\">name</span>:s[l].name,<span class=\"code-attr\">data</span>:[]};<span class=\"code-keyword\">this</span>.morphTargets.position=e}<span class=\"code-keyword\">var</span> u,h=t.morphNormals,d=h.length;<span class=\"code-keyword\">if</span>(d&gt;<span class=\"code-number\">0</span>){u=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>;p&lt;d;p++)u[p]={<span class=\"code-attr\">name</span>:h[p].name,<span class=\"code-attr\">data</span>:[]};<span class=\"code-keyword\">this</span>.morphTargets.normal=u}<span class=\"code-keyword\">var</span> f=t.skinIndices,m=t.skinWeights,v=f.length===r.length,g=m.length===r.length;r.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-number\">0</span>===n.length&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.DirectGeometry: Faceless geometries are not supported.\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;n.length;y++){<span class=\"code-keyword\">var</span> x=n[y];<span class=\"code-keyword\">this</span>.vertices.push(r[x.a],r[x.b],r[x.c]);<span class=\"code-keyword\">var</span> _=x.vertexNormals;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===_.length)<span class=\"code-keyword\">this</span>.normals.push(_[<span class=\"code-number\">0</span>],_[<span class=\"code-number\">1</span>],_[<span class=\"code-number\">2</span>]);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> b=x.normal;<span class=\"code-keyword\">this</span>.normals.push(b,b,b)}<span class=\"code-keyword\">var</span> w=x.vertexColors;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===w.length)<span class=\"code-keyword\">this</span>.colors.push(w[<span class=\"code-number\">0</span>],w[<span class=\"code-number\">1</span>],w[<span class=\"code-number\">2</span>]);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> M=x.color;<span class=\"code-keyword\">this</span>.colors.push(M,M,M)}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===a){<span class=\"code-keyword\">var</span> S=i[<span class=\"code-number\">0</span>][y];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==S?<span class=\"code-keyword\">this</span>.uvs.push(S[<span class=\"code-number\">0</span>],S[<span class=\"code-number\">1</span>],S[<span class=\"code-number\">2</span>]):(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \"</span>,y),<span class=\"code-keyword\">this</span>.uvs.push(<span class=\"code-keyword\">new</span> pt,<span class=\"code-keyword\">new</span> pt,<span class=\"code-keyword\">new</span> pt))}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===o){<span class=\"code-keyword\">var</span> T=i[<span class=\"code-number\">1</span>][y];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==T?<span class=\"code-keyword\">this</span>.uvs2.push(T[<span class=\"code-number\">0</span>],T[<span class=\"code-number\">1</span>],T[<span class=\"code-number\">2</span>]):(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \"</span>,y),<span class=\"code-keyword\">this</span>.uvs2.push(<span class=\"code-keyword\">new</span> pt,<span class=\"code-keyword\">new</span> pt,<span class=\"code-keyword\">new</span> pt))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">0</span>;E&lt;c;E++){<span class=\"code-keyword\">var</span> A=s[E].vertices;e[E].data.push(A[x.a],A[x.b],A[x.c])}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>;L&lt;d;L++){<span class=\"code-keyword\">var</span> R=h[L].vertexNormals[y];u[L].data.push(R.a,R.b,R.c)}v&amp;&amp;<span class=\"code-keyword\">this</span>.skinIndices.push(f[x.a],f[x.b],f[x.c]),g&amp;&amp;<span class=\"code-keyword\">this</span>.skinWeights.push(m[x.a],m[x.b],m[x.c])}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.computeGroups(t),<span class=\"code-keyword\">this</span>.verticesNeedUpdate=t.verticesNeedUpdate,<span class=\"code-keyword\">this</span>.normalsNeedUpdate=t.normalsNeedUpdate,<span class=\"code-keyword\">this</span>.colorsNeedUpdate=t.colorsNeedUpdate,<span class=\"code-keyword\">this</span>.uvsNeedUpdate=t.uvsNeedUpdate,<span class=\"code-keyword\">this</span>.groupsNeedUpdate=t.groupsNeedUpdate,<span class=\"code-literal\">null</span>!==t.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=t.boundingSphere.clone()),<span class=\"code-literal\">null</span>!==t.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=t.boundingBox.clone()),<span class=\"code-keyword\">this</span>},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">un</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===t.length)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t[<span class=\"code-number\">0</span>],n=<span class=\"code-number\">1</span>,r=t.length;n&lt;r;++n)t[n]&gt;e&amp;&amp;(e=t[n]);<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">var</span> hn={<span class=\"code-attr\">Int8Array</span>:<span class=\"code-built_in\">Int8Array</span>,<span class=\"code-attr\">Uint8Array</span>:<span class=\"code-built_in\">Uint8Array</span>,<span class=\"code-attr\">Uint8ClampedArray</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Uint8ClampedArray</span>?<span class=\"code-built_in\">Uint8ClampedArray</span>:<span class=\"code-built_in\">Uint8Array</span>,<span class=\"code-attr\">Int16Array</span>:<span class=\"code-built_in\">Int16Array</span>,<span class=\"code-attr\">Uint16Array</span>:<span class=\"code-built_in\">Uint16Array</span>,<span class=\"code-attr\">Int32Array</span>:<span class=\"code-built_in\">Int32Array</span>,<span class=\"code-attr\">Uint32Array</span>:<span class=\"code-built_in\">Uint32Array</span>,<span class=\"code-attr\">Float32Array</span>:<span class=\"code-built_in\">Float32Array</span>,<span class=\"code-attr\">Float64Array</span>:<span class=\"code-built_in\">Float64Array</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dn</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> hn[t](e)}<span class=\"code-keyword\">var</span> pn=<span class=\"code-number\">1</span>,fn=<span class=\"code-keyword\">new</span> Qt,mn=<span class=\"code-keyword\">new</span> we,vn=<span class=\"code-keyword\">new</span> Mt,gn=<span class=\"code-keyword\">new</span> Et,yn=<span class=\"code-keyword\">new</span> Et,xn=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">value</span>:pn+=<span class=\"code-number\">2</span>}),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"BufferGeometry\"</span>,<span class=\"code-keyword\">this</span>.index=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.attributes={},<span class=\"code-keyword\">this</span>.morphAttributes={},<span class=\"code-keyword\">this</span>.morphTargetsRelative=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.groups=[],<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.drawRange={<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.userData={}}_n.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:_n,<span class=\"code-attr\">isBufferGeometry</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">getIndex</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index},<span class=\"code-attr\">setIndex</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.isArray(t)?<span class=\"code-keyword\">this</span>.index=<span class=\"code-keyword\">new</span>(un(t)&gt;<span class=\"code-number\">65535</span>?an:nn)(t,<span class=\"code-number\">1</span>):<span class=\"code-keyword\">this</span>.index=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes[t]},<span class=\"code-attr\">setAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes[t]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">deleteAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.attributes[t],<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">hasAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.attributes[t]},<span class=\"code-attr\">addGroup</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.groups.push({<span class=\"code-attr\">start</span>:t,<span class=\"code-attr\">count</span>:e,<span class=\"code-attr\">materialIndex</span>:n})},<span class=\"code-attr\">clearGroups</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.groups=[]},<span class=\"code-attr\">setDrawRange</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.drawRange.start=t,<span class=\"code-keyword\">this</span>.drawRange.count=e},<span class=\"code-attr\">applyMatrix4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.attributes.position;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(e.applyMatrix4(t),e.needsUpdate=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.attributes.normal;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n){<span class=\"code-keyword\">var</span> r=(<span class=\"code-keyword\">new</span> ft).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.attributes.tangent;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(i.transformDirection(t),i.needsUpdate=!<span class=\"code-number\">0</span>),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.boundingBox&amp;&amp;<span class=\"code-keyword\">this</span>.computeBoundingBox(),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.boundingSphere&amp;&amp;<span class=\"code-keyword\">this</span>.computeBoundingSphere(),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> fn.makeRotationX(t),<span class=\"code-keyword\">this</span>.applyMatrix4(fn),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> fn.makeRotationY(t),<span class=\"code-keyword\">this</span>.applyMatrix4(fn),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> fn.makeRotationZ(t),<span class=\"code-keyword\">this</span>.applyMatrix4(fn),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">translate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> fn.makeTranslation(t,e,n),<span class=\"code-keyword\">this</span>.applyMatrix4(fn),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">scale</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> fn.makeScale(t,e,n),<span class=\"code-keyword\">this</span>.applyMatrix4(fn),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">lookAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> mn.lookAt(t),mn.updateMatrix(),<span class=\"code-keyword\">this</span>.applyMatrix4(mn.matrix),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">center</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.computeBoundingBox(),<span class=\"code-keyword\">this</span>.boundingBox.getCenter(vn).negate(),<span class=\"code-keyword\">this</span>.translate(vn.x,vn.y,vn.z),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setFromObject</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.geometry;<span class=\"code-keyword\">if</span>(t.isPoints||t.isLine){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> sn(<span class=\"code-number\">3</span>*e.vertices.length,<span class=\"code-number\">3</span>),r=<span class=\"code-keyword\">new</span> sn(<span class=\"code-number\">3</span>*e.colors.length,<span class=\"code-number\">3</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"position\"</span>,n.copyVector3sArray(e.vertices)),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"color\"</span>,r.copyColorsArray(e.colors)),e.lineDistances&amp;&amp;e.lineDistances.length===e.vertices.length){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> sn(e.lineDistances.length,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"lineDistance\"</span>,i.copyArray(e.lineDistances))}<span class=\"code-literal\">null</span>!==e.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=e.boundingSphere.clone()),<span class=\"code-literal\">null</span>!==e.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=e.boundingBox.clone())}<span class=\"code-keyword\">else</span> t.isMesh&amp;&amp;e&amp;&amp;e.isGeometry&amp;&amp;<span class=\"code-keyword\">this</span>.fromGeometry(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setFromPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t[n];e.push(i.x,i.y,i.z||<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(e,<span class=\"code-number\">3</span>)),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">updateFromObject</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.geometry;<span class=\"code-keyword\">if</span>(t.isMesh){<span class=\"code-keyword\">var</span> n=e.__directGeometry;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e.elementsNeedUpdate&amp;&amp;(n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.elementsNeedUpdate=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!<span class=\"code-number\">1</span>,e.normalsNeedUpdate=!<span class=\"code-number\">1</span>,e.colorsNeedUpdate=!<span class=\"code-number\">1</span>,e.uvsNeedUpdate=!<span class=\"code-number\">1</span>,e.groupsNeedUpdate=!<span class=\"code-number\">1</span>,e=n}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e.verticesNeedUpdate){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.attributes.position;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;(r.copyVector3sArray(e.vertices),r.needsUpdate=!<span class=\"code-number\">0</span>),e.verticesNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e.normalsNeedUpdate){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.attributes.normal;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(i.copyVector3sArray(e.normals),i.needsUpdate=!<span class=\"code-number\">0</span>),e.normalsNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e.colorsNeedUpdate){<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.attributes.color;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a&amp;&amp;(a.copyColorsArray(e.colors),a.needsUpdate=!<span class=\"code-number\">0</span>),e.colorsNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(e.uvsNeedUpdate){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.attributes.uv;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;(o.copyVector2sArray(e.uvs),o.needsUpdate=!<span class=\"code-number\">0</span>),e.uvsNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(e.lineDistancesNeedUpdate){<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.attributes.lineDistance;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;(s.copyArray(e.lineDistances),s.needsUpdate=!<span class=\"code-number\">0</span>),e.lineDistancesNeedUpdate=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span> e.groupsNeedUpdate&amp;&amp;(e.computeGroups(t.geometry),<span class=\"code-keyword\">this</span>.groups=e.groups,e.groupsNeedUpdate=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">fromGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.__directGeometry=(<span class=\"code-keyword\">new</span> ln).fromGeometry(t),<span class=\"code-keyword\">this</span>.fromDirectGeometry(t.__directGeometry)},<span class=\"code-attr\">fromDirectGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*t.vertices.length);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> Qe(e,<span class=\"code-number\">3</span>).copyVector3sArray(t.vertices)),t.normals.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*t.normals.length);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> Qe(n,<span class=\"code-number\">3</span>).copyVector3sArray(t.normals))}<span class=\"code-keyword\">if</span>(t.colors.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*t.colors.length);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> Qe(r,<span class=\"code-number\">3</span>).copyColorsArray(t.colors))}<span class=\"code-keyword\">if</span>(t.uvs.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">2</span>*t.uvs.length);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> Qe(i,<span class=\"code-number\">2</span>).copyVector2sArray(t.uvs))}<span class=\"code-keyword\">if</span>(t.uvs2.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">2</span>*t.uvs2.length);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"uv2\"</span>,<span class=\"code-keyword\">new</span> Qe(a,<span class=\"code-number\">2</span>).copyVector2sArray(t.uvs2))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.groups=t.groups,t.morphTargets){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=[],c=t.morphTargets[o],l=<span class=\"code-number\">0</span>,u=c.length;l&lt;u;l++){<span class=\"code-keyword\">var</span> h=c[l],d=<span class=\"code-keyword\">new</span> sn(<span class=\"code-number\">3</span>*h.data.length,<span class=\"code-number\">3</span>);d.name=h.name,s.push(d.copyVector3sArray(h.data))}<span class=\"code-keyword\">this</span>.morphAttributes[o]=s}<span class=\"code-keyword\">if</span>(t.skinIndices.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> p=<span class=\"code-keyword\">new</span> sn(<span class=\"code-number\">4</span>*t.skinIndices.length,<span class=\"code-number\">4</span>);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"skinIndex\"</span>,p.copyVector4sArray(t.skinIndices))}<span class=\"code-keyword\">if</span>(t.skinWeights.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">new</span> sn(<span class=\"code-number\">4</span>*t.skinWeights.length,<span class=\"code-number\">4</span>);<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"skinWeight\"</span>,f.copyVector4sArray(t.skinWeights))}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==t.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=t.boundingSphere.clone()),<span class=\"code-literal\">null</span>!==t.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=t.boundingBox.clone()),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">computeBoundingBox</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-keyword\">new</span> Et);<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.attributes.position,e=<span class=\"code-keyword\">this</span>.morphAttributes.position;<span class=\"code-keyword\">if</span>(t&amp;&amp;t.isGLBufferAttribute)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".'</span>,<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.boundingBox.set(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>));<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.boundingBox.setFromBufferAttribute(t),e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=e[n];gn.setFromBufferAttribute(i),<span class=\"code-keyword\">this</span>.morphTargetsRelative?(xn.addVectors(<span class=\"code-keyword\">this</span>.boundingBox.min,gn.min),<span class=\"code-keyword\">this</span>.boundingBox.expandByPoint(xn),xn.addVectors(<span class=\"code-keyword\">this</span>.boundingBox.max,gn.max),<span class=\"code-keyword\">this</span>.boundingBox.expandByPoint(xn)):(<span class=\"code-keyword\">this</span>.boundingBox.expandByPoint(gn.min),<span class=\"code-keyword\">this</span>.boundingBox.expandByPoint(gn.max))}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.boundingBox.makeEmpty();(<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.boundingBox.min.x)||<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.boundingBox.min.y)||<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.boundingBox.min.z))&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.'</span>,<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">computeBoundingSphere</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-keyword\">new</span> kt);<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.attributes.position,e=<span class=\"code-keyword\">this</span>.morphAttributes.position;<span class=\"code-keyword\">if</span>(t&amp;&amp;t.isGLBufferAttribute)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".'</span>,<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.boundingSphere.set(<span class=\"code-keyword\">new</span> Mt,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.boundingSphere.center;<span class=\"code-keyword\">if</span>(gn.setFromBufferAttribute(t),e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=e.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=e[r];yn.setFromBufferAttribute(a),<span class=\"code-keyword\">this</span>.morphTargetsRelative?(xn.addVectors(gn.min,yn.min),gn.expandByPoint(xn),xn.addVectors(gn.max,yn.max),gn.expandByPoint(xn)):(gn.expandByPoint(yn.min),gn.expandByPoint(yn.max))}gn.getCenter(n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>,c=t.count;s&lt;c;s++)xn.fromBufferAttribute(t,s),o=<span class=\"code-built_in\">Math</span>.max(o,n.distanceToSquared(xn));<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>,u=e.length;l&lt;u;l++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=e[l],d=<span class=\"code-keyword\">this</span>.morphTargetsRelative,p=<span class=\"code-number\">0</span>,f=h.count;p&lt;f;p++)xn.fromBufferAttribute(h,p),d&amp;&amp;(vn.fromBufferAttribute(t,p),xn.add(vn)),o=<span class=\"code-built_in\">Math</span>.max(o,n.distanceToSquared(xn));<span class=\"code-keyword\">this</span>.boundingSphere.radius=<span class=\"code-built_in\">Math</span>.sqrt(o),<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.boundingSphere.radius)&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.'</span>,<span class=\"code-keyword\">this</span>)}},<span class=\"code-attr\">computeFaceNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">computeVertexNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.index,e=<span class=\"code-keyword\">this</span>.getAttribute(<span class=\"code-string\">\"position\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.getAttribute(<span class=\"code-string\">\"normal\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n)n=<span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*e.count),<span class=\"code-number\">3</span>),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"normal\"</span>,n);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=n.count;r&lt;i;r++)n.setXYZ(r,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> Mt,o=<span class=\"code-keyword\">new</span> Mt,s=<span class=\"code-keyword\">new</span> Mt,c=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-keyword\">new</span> Mt,u=<span class=\"code-keyword\">new</span> Mt,h=<span class=\"code-keyword\">new</span> Mt,d=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>,f=t.count;p&lt;f;p+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> m=t.getX(p+<span class=\"code-number\">0</span>),v=t.getX(p+<span class=\"code-number\">1</span>),g=t.getX(p+<span class=\"code-number\">2</span>);a.fromBufferAttribute(e,m),o.fromBufferAttribute(e,v),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),c.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,g),c.add(h),l.add(h),u.add(h),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,u.x,u.y,u.z)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>,x=e.count;y&lt;x;y+=<span class=\"code-number\">3</span>)a.fromBufferAttribute(e,y+<span class=\"code-number\">0</span>),o.fromBufferAttribute(e,y+<span class=\"code-number\">1</span>),s.fromBufferAttribute(e,y+<span class=\"code-number\">2</span>),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+<span class=\"code-number\">0</span>,h.x,h.y,h.z),n.setXYZ(y+<span class=\"code-number\">1</span>,h.x,h.y,h.z),n.setXYZ(y+<span class=\"code-number\">2</span>,h.x,h.y,h.z);<span class=\"code-keyword\">this</span>.normalizeNormals(),n.needsUpdate=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">merge</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(t&amp;&amp;t.isBufferGeometry){<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>,<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"</span>));<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> n)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.attributes[r])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,c=<span class=\"code-built_in\">Math</span>.min(o.length,i.length-s),l=<span class=\"code-number\">0</span>,u=s;l&lt;c;l++,u++)i[u]=o[l];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\"</span>,t)},<span class=\"code-attr\">normalizeNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.attributes.normal,e=<span class=\"code-number\">0</span>,n=t.count;e&lt;n;e++)xn.fromBufferAttribute(t,e),xn.normalize(),t.setXYZ(e,xn.x,xn.y,xn.z)},<span class=\"code-attr\">toNonIndexed</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=t.array,r=t.itemSize,i=t.normalized,a=<span class=\"code-keyword\">new</span> n.constructor(e.length*r),o=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>,c=<span class=\"code-number\">0</span>,l=e.length;c&lt;l;c++){o=e[c]*r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;r;u++)a[s++]=n[o++]}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Qe(a,r,i)}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.index)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"</span>),<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> _n,n=<span class=\"code-keyword\">this</span>.index.array,r=<span class=\"code-keyword\">this</span>.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r){<span class=\"code-keyword\">var</span> a=t(r[i],n);e.setAttribute(i,a)}<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.morphAttributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> o){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=o[s],u=<span class=\"code-number\">0</span>,h=l.length;u&lt;h;u++){<span class=\"code-keyword\">var</span> d=t(l[u],n);c.push(d)}e.morphAttributes[s]=c}e.morphTargetsRelative=<span class=\"code-keyword\">this</span>.morphTargetsRelative;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-keyword\">this</span>.groups,f=<span class=\"code-number\">0</span>,m=p.length;f&lt;m;f++){<span class=\"code-keyword\">var</span> v=p[f];e.addGroup(v.start,v.count,v.materialIndex)}<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"BufferGeometry\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"BufferGeometry.toJSON\"</span>}};<span class=\"code-keyword\">if</span>(t.uuid=<span class=\"code-keyword\">this</span>.uuid,t.type=<span class=\"code-keyword\">this</span>.type,<span class=\"code-string\">\"\"</span>!==<span class=\"code-keyword\">this</span>.name&amp;&amp;(t.name=<span class=\"code-keyword\">this</span>.name),<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.userData).length&gt;<span class=\"code-number\">0</span>&amp;&amp;(t.userData=<span class=\"code-keyword\">this</span>.userData),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.parameters){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.parameters;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e)<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[n]&amp;&amp;(t[n]=e[n]);<span class=\"code-keyword\">return</span> t}t.data={<span class=\"code-attr\">attributes</span>:{}};<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.index;<span class=\"code-literal\">null</span>!==r&amp;&amp;(t.data.index={<span class=\"code-attr\">type</span>:r.array.constructor.name,<span class=\"code-attr\">array</span>:<span class=\"code-built_in\">Array</span>.prototype.slice.call(r.array)});<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> i){<span class=\"code-keyword\">var</span> o=i[a],s=o.toJSON(t.data);<span class=\"code-string\">\"\"</span>!==o.name&amp;&amp;(s.name=o.name),t.data.attributes[a]=s}<span class=\"code-keyword\">var</span> c={},l=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.morphAttributes){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-keyword\">this</span>.morphAttributes[u],d=[],p=<span class=\"code-number\">0</span>,f=h.length;p&lt;f;p++){<span class=\"code-keyword\">var</span> m=h[p],v=m.toJSON(t.data);<span class=\"code-string\">\"\"</span>!==m.name&amp;&amp;(v.name=m.name),d.push(v)}d.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(c[u]=d,l=!<span class=\"code-number\">0</span>)}l&amp;&amp;(t.data.morphAttributes=c,t.data.morphTargetsRelative=<span class=\"code-keyword\">this</span>.morphTargetsRelative);<span class=\"code-keyword\">var</span> g=<span class=\"code-keyword\">this</span>.groups;g.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(t.data.groups=<span class=\"code-built_in\">JSON</span>.parse(<span class=\"code-built_in\">JSON</span>.stringify(g)));<span class=\"code-keyword\">var</span> y=<span class=\"code-keyword\">this</span>.boundingSphere;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==y&amp;&amp;(t.data.boundingSphere={<span class=\"code-attr\">center</span>:y.center.toArray(),<span class=\"code-attr\">radius</span>:y.radius}),t},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> _n).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.index=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.attributes={},<span class=\"code-keyword\">this</span>.morphAttributes={},<span class=\"code-keyword\">this</span>.groups=[],<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">this</span>.name=t.name;<span class=\"code-keyword\">var</span> n=t.index;<span class=\"code-literal\">null</span>!==n&amp;&amp;<span class=\"code-keyword\">this</span>.setIndex(n.clone(e));<span class=\"code-keyword\">var</span> r=t.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r){<span class=\"code-keyword\">var</span> a=r[i];<span class=\"code-keyword\">this</span>.setAttribute(i,a.clone(e))}<span class=\"code-keyword\">var</span> o=t.morphAttributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> o){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=o[s],u=<span class=\"code-number\">0</span>,h=l.length;u&lt;h;u++)c.push(l[u].clone(e));<span class=\"code-keyword\">this</span>.morphAttributes[s]=c}<span class=\"code-keyword\">this</span>.morphTargetsRelative=t.morphTargetsRelative;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=t.groups,p=<span class=\"code-number\">0</span>,f=d.length;p&lt;f;p++){<span class=\"code-keyword\">var</span> m=d[p];<span class=\"code-keyword\">this</span>.addGroup(m.start,m.count,m.materialIndex)}<span class=\"code-keyword\">var</span> v=t.boundingBox;<span class=\"code-literal\">null</span>!==v&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=v.clone());<span class=\"code-keyword\">var</span> g=t.boundingSphere;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==g&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=g.clone()),<span class=\"code-keyword\">this</span>.drawRange.start=t.drawRange.start,<span class=\"code-keyword\">this</span>.drawRange.count=t.drawRange.count,<span class=\"code-keyword\">this</span>.userData=t.userData,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>})}});<span class=\"code-keyword\">var</span> bn=<span class=\"code-keyword\">new</span> Qt,wn=<span class=\"code-keyword\">new</span> Jt,Mn=<span class=\"code-keyword\">new</span> kt,Sn=<span class=\"code-keyword\">new</span> Mt,Tn=<span class=\"code-keyword\">new</span> Mt,En=<span class=\"code-keyword\">new</span> Mt,An=<span class=\"code-keyword\">new</span> Mt,Ln=<span class=\"code-keyword\">new</span> Mt,Rn=<span class=\"code-keyword\">new</span> Mt,Cn=<span class=\"code-keyword\">new</span> Mt,Pn=<span class=\"code-keyword\">new</span> Mt,In=<span class=\"code-keyword\">new</span> Mt,Nn=<span class=\"code-keyword\">new</span> pt,Dn=<span class=\"code-keyword\">new</span> pt,On=<span class=\"code-keyword\">new</span> pt,Bn=<span class=\"code-keyword\">new</span> Mt,zn=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Un</span>(<span class=\"code-params\">t,e</span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Mesh\"</span>,<span class=\"code-keyword\">this</span>.geometry=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> _n,<span class=\"code-keyword\">this</span>.material=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Ye,<span class=\"code-keyword\">this</span>.updateMorphTargets()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fn</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===(<span class=\"code-number\">1</span>===e.side?r.intersectTriangle(o,a,i,!<span class=\"code-number\">0</span>,s):r.intersectTriangle(i,a,o,<span class=\"code-number\">2</span>!==e.side,s)))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;zn.copy(s),zn.applyMatrix4(t.matrixWorld);<span class=\"code-keyword\">var</span> c=n.ray.origin.distanceTo(zn);<span class=\"code-keyword\">return</span> c&lt;n.near||c&gt;n.far?<span class=\"code-literal\">null</span>:{<span class=\"code-attr\">distance</span>:c,<span class=\"code-attr\">point</span>:zn.clone(),<span class=\"code-attr\">object</span>:t}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gn</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{Sn.fromBufferAttribute(i,l),Tn.fromBufferAttribute(i,u),En.fromBufferAttribute(i,h);<span class=\"code-keyword\">var</span> d=t.morphTargetInfluences;<span class=\"code-keyword\">if</span>(e.morphTargets&amp;&amp;a&amp;&amp;d){Cn.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),Pn.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),In.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>,f=a.length;p&lt;f;p++){<span class=\"code-keyword\">var</span> m=d[p],v=a[p];<span class=\"code-number\">0</span>!==m&amp;&amp;(An.fromBufferAttribute(v,l),Ln.fromBufferAttribute(v,u),Rn.fromBufferAttribute(v,h),o?(Cn.addScaledVector(An,m),Pn.addScaledVector(Ln,m),In.addScaledVector(Rn,m)):(Cn.addScaledVector(An.sub(Sn),m),Pn.addScaledVector(Ln.sub(Tn),m),In.addScaledVector(Rn.sub(En),m)))}Sn.add(Cn),Tn.add(Pn),En.add(In)}t.isSkinnedMesh&amp;&amp;(t.boneTransform(l,Sn),t.boneTransform(u,Tn),t.boneTransform(h,En));<span class=\"code-keyword\">var</span> g=Fn(t,e,n,r,Sn,Tn,En,Bn);<span class=\"code-keyword\">if</span>(g){s&amp;&amp;(Nn.fromBufferAttribute(s,l),Dn.fromBufferAttribute(s,u),On.fromBufferAttribute(s,h),g.uv=ze.getUV(Bn,Sn,Tn,En,Nn,Dn,On,<span class=\"code-keyword\">new</span> pt)),c&amp;&amp;(Nn.fromBufferAttribute(c,l),Dn.fromBufferAttribute(c,u),On.fromBufferAttribute(c,h),g.uv2=ze.getUV(Bn,Sn,Tn,En,Nn,Dn,On,<span class=\"code-keyword\">new</span> pt));<span class=\"code-keyword\">var</span> y=<span class=\"code-keyword\">new</span> je(l,u,h);ze.getNormal(Sn,Tn,En,y.normal),g.face=y}<span class=\"code-keyword\">return</span> g}Un.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:Un,<span class=\"code-attr\">isMesh</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.morphTargetInfluences&amp;&amp;(<span class=\"code-keyword\">this</span>.morphTargetInfluences=t.morphTargetInfluences.slice()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.morphTargetDictionary&amp;&amp;(<span class=\"code-keyword\">this</span>.morphTargetDictionary=<span class=\"code-built_in\">Object</span>.assign({},t.morphTargetDictionary)),<span class=\"code-keyword\">this</span>.material=t.material,<span class=\"code-keyword\">this</span>.geometry=t.geometry,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">updateMorphTargets</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry;<span class=\"code-keyword\">if</span>(t.isBufferGeometry){<span class=\"code-keyword\">var</span> e=t.morphAttributes,n=<span class=\"code-built_in\">Object</span>.keys(e);<span class=\"code-keyword\">if</span>(n.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> r=e[n[<span class=\"code-number\">0</span>]];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r){<span class=\"code-keyword\">this</span>.morphTargetInfluences=[],<span class=\"code-keyword\">this</span>.morphTargetDictionary={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=r.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=r[i].name||<span class=\"code-built_in\">String</span>(i);<span class=\"code-keyword\">this</span>.morphTargetInfluences.push(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.morphTargetDictionary[o]=i}}}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=t.morphTargets;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;s.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"</span>)}},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">this</span>.geometry,i=<span class=\"code-keyword\">this</span>.material,a=<span class=\"code-keyword\">this</span>.matrixWorld;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(<span class=\"code-literal\">null</span>===r.boundingSphere&amp;&amp;r.computeBoundingSphere(),Mn.copy(r.boundingSphere),Mn.applyMatrix4(a),!<span class=\"code-number\">1</span>!==t.ray.intersectsSphere(Mn)&amp;&amp;(bn.copy(a).invert(),wn.copy(t.ray).applyMatrix4(bn),<span class=\"code-literal\">null</span>===r.boundingBox||!<span class=\"code-number\">1</span>!==wn.intersectsBox(r.boundingBox))))<span class=\"code-keyword\">if</span>(r.isBufferGeometry){<span class=\"code-keyword\">var</span> o=r.index,s=r.attributes.position,c=r.morphAttributes.position,l=r.morphTargetsRelative,u=r.attributes.uv,h=r.attributes.uv2,d=r.groups,p=r.drawRange;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==o)<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(i))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,m=d.length;f&lt;m;f++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=d[f],g=i[v.materialIndex],y=<span class=\"code-built_in\">Math</span>.max(v.start,p.start),x=<span class=\"code-built_in\">Math</span>.min(v.start+v.count,p.start+p.count);y&lt;x;y+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> _=o.getX(y),b=o.getX(y+<span class=\"code-number\">1</span>),w=o.getX(y+<span class=\"code-number\">2</span>);(n=Gn(<span class=\"code-keyword\">this</span>,g,t,wn,s,c,l,u,h,_,b,w))&amp;&amp;(n.faceIndex=<span class=\"code-built_in\">Math</span>.floor(y/<span class=\"code-number\">3</span>),n.face.materialIndex=v.materialIndex,e.push(n))}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> M=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,p.start),S=<span class=\"code-built_in\">Math</span>.min(o.count,p.start+p.count);M&lt;S;M+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> T=o.getX(M),E=o.getX(M+<span class=\"code-number\">1</span>),A=o.getX(M+<span class=\"code-number\">2</span>);(n=Gn(<span class=\"code-keyword\">this</span>,i,t,wn,s,c,l,u,h,T,E,A))&amp;&amp;(n.faceIndex=<span class=\"code-built_in\">Math</span>.floor(M/<span class=\"code-number\">3</span>),e.push(n))}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s)<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(i))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>,R=d.length;L&lt;R;L++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> C=d[L],P=i[C.materialIndex],I=<span class=\"code-built_in\">Math</span>.max(C.start,p.start),N=<span class=\"code-built_in\">Math</span>.min(C.start+C.count,p.start+p.count);I&lt;N;I+=<span class=\"code-number\">3</span>){(n=Gn(<span class=\"code-keyword\">this</span>,P,t,wn,s,c,l,u,h,I,I+<span class=\"code-number\">1</span>,I+<span class=\"code-number\">2</span>))&amp;&amp;(n.faceIndex=<span class=\"code-built_in\">Math</span>.floor(I/<span class=\"code-number\">3</span>),n.face.materialIndex=C.materialIndex,e.push(n))}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> D=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,p.start),O=<span class=\"code-built_in\">Math</span>.min(s.count,p.start+p.count);D&lt;O;D+=<span class=\"code-number\">3</span>){(n=Gn(<span class=\"code-keyword\">this</span>,i,t,wn,s,c,l,u,h,D,D+<span class=\"code-number\">1</span>,D+<span class=\"code-number\">2</span>))&amp;&amp;(n.faceIndex=<span class=\"code-built_in\">Math</span>.floor(D/<span class=\"code-number\">3</span>),e.push(n))}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.isGeometry){<span class=\"code-keyword\">var</span> B,z=<span class=\"code-built_in\">Array</span>.isArray(i),U=r.vertices,F=r.faces,G=r.faceVertexUvs[<span class=\"code-number\">0</span>];G.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(B=G);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> H=<span class=\"code-number\">0</span>,k=F.length;H&lt;k;H++){<span class=\"code-keyword\">var</span> V=F[H],W=z?i[V.materialIndex]:i;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==W){<span class=\"code-keyword\">var</span> j=U[V.a],q=U[V.b],X=U[V.c];<span class=\"code-keyword\">if</span>(n=Fn(<span class=\"code-keyword\">this</span>,W,t,wn,j,q,X,Bn)){<span class=\"code-keyword\">if</span>(B&amp;&amp;B[H]){<span class=\"code-keyword\">var</span> Y=B[H];Nn.copy(Y[<span class=\"code-number\">0</span>]),Dn.copy(Y[<span class=\"code-number\">1</span>]),On.copy(Y[<span class=\"code-number\">2</span>]),n.uv=ze.getUV(Bn,j,q,X,Nn,Dn,On,<span class=\"code-keyword\">new</span> pt)}n.face=V,n.faceIndex=H,e.push(n)}}}}}});<span class=\"code-keyword\">var</span> Hn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">1</span>),(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"BoxBufferGeometry\"</span>,s.parameters={<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">depth</span>:r,<span class=\"code-attr\">widthSegments</span>:i,<span class=\"code-attr\">heightSegments</span>:a,<span class=\"code-attr\">depthSegments</span>:o};<span class=\"code-keyword\">var</span> c=ht(s);i=<span class=\"code-built_in\">Math</span>.floor(i),a=<span class=\"code-built_in\">Math</span>.floor(a),o=<span class=\"code-built_in\">Math</span>.floor(o);<span class=\"code-keyword\">var</span> l=[],u=[],h=[],d=[],p=<span class=\"code-number\">0</span>,f=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">m</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,m,v,g</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=a/m,x=o/v,_=a/<span class=\"code-number\">2</span>,b=o/<span class=\"code-number\">2</span>,w=s/<span class=\"code-number\">2</span>,M=m+<span class=\"code-number\">1</span>,S=v+<span class=\"code-number\">1</span>,T=<span class=\"code-number\">0</span>,E=<span class=\"code-number\">0</span>,A=<span class=\"code-keyword\">new</span> Mt,L=<span class=\"code-number\">0</span>;L&lt;S;L++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> R=L*x-b,C=<span class=\"code-number\">0</span>;C&lt;M;C++){<span class=\"code-keyword\">var</span> P=C*y-_;A[t]=P*r,A[e]=R*i,A[n]=w,u.push(A.x,A.y,A.z),A[t]=<span class=\"code-number\">0</span>,A[e]=<span class=\"code-number\">0</span>,A[n]=s&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,h.push(A.x,A.y,A.z),d.push(C/m),d.push(<span class=\"code-number\">1</span>-L/v),T+=<span class=\"code-number\">1</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> I=<span class=\"code-number\">0</span>;I&lt;v;I++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> N=<span class=\"code-number\">0</span>;N&lt;m;N++){<span class=\"code-keyword\">var</span> D=p+N+M*I,O=p+N+M*(I+<span class=\"code-number\">1</span>),B=p+(N+<span class=\"code-number\">1</span>)+M*(I+<span class=\"code-number\">1</span>),z=p+(N+<span class=\"code-number\">1</span>)+M*I;l.push(D,O,z),l.push(O,B,z),E+=<span class=\"code-number\">6</span>}c.addGroup(f,E,g),f+=E,p+=T}<span class=\"code-keyword\">return</span> m(<span class=\"code-string\">\"z\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,r,n,e,o,a,<span class=\"code-number\">0</span>),m(<span class=\"code-string\">\"z\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,r,n,-e,o,a,<span class=\"code-number\">1</span>),m(<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"z\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,e,r,n,i,o,<span class=\"code-number\">2</span>),m(<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"z\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,e,r,-n,i,o,<span class=\"code-number\">3</span>),m(<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"z\"</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,e,n,r,i,a,<span class=\"code-number\">4</span>),m(<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"z\"</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,e,n,-r,i,a,<span class=\"code-number\">5</span>),s.setIndex(l),s.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(u,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(h,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(d,<span class=\"code-number\">2</span>)),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e[n]={},t[n]){<span class=\"code-keyword\">var</span> i=t[n][r];i&amp;&amp;(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():<span class=\"code-built_in\">Array</span>.isArray(i)?e[n][r]=i.slice():e[n][r]=i}<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vn</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e={},n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=kn(t[n]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)e[i]=r[i]}<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">var</span> Wn={<span class=\"code-attr\">clone</span>:kn,<span class=\"code-attr\">merge</span>:Vn};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jn</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ShaderMaterial\"</span>,<span class=\"code-keyword\">this</span>.defines={},<span class=\"code-keyword\">this</span>.uniforms={},<span class=\"code-keyword\">this</span>.vertexShader=<span class=\"code-string\">\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\"</span>,<span class=\"code-keyword\">this</span>.fragmentShader=<span class=\"code-string\">\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\"</span>,<span class=\"code-keyword\">this</span>.linewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.fog=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.lights=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.clipping=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.extensions={<span class=\"code-attr\">derivatives</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">fragDepth</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">drawBuffers</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">shaderTextureLOD</span>:!<span class=\"code-number\">1</span>},<span class=\"code-keyword\">this</span>.defaultAttributeValues={<span class=\"code-attr\">color</span>:[<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>],<span class=\"code-attr\">uv</span>:[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],<span class=\"code-attr\">uv2</span>:[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]},<span class=\"code-keyword\">this</span>.index0AttributeName=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.uniformsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.glslVersion=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.attributes&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"</span>),<span class=\"code-keyword\">this</span>.setValues(t))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qn</span>(<span class=\"code-params\"></span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Camera\"</span>,<span class=\"code-keyword\">this</span>.matrixWorldInverse=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.projectionMatrix=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.projectionMatrixInverse=<span class=\"code-keyword\">new</span> Qt}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xn</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">50</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">.1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">2e3</span>),qn.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"PerspectiveCamera\"</span>,<span class=\"code-keyword\">this</span>.fov=t,<span class=\"code-keyword\">this</span>.zoom=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.near=n,<span class=\"code-keyword\">this</span>.far=r,<span class=\"code-keyword\">this</span>.focus=<span class=\"code-number\">10</span>,<span class=\"code-keyword\">this</span>.aspect=e,<span class=\"code-keyword\">this</span>.view=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.filmGauge=<span class=\"code-number\">35</span>,<span class=\"code-keyword\">this</span>.filmOffset=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.updateProjectionMatrix()}jn.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),jn.prototype.constructor=jn,jn.prototype.isShaderMaterial=!<span class=\"code-number\">0</span>,jn.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.fragmentShader=t.fragmentShader,<span class=\"code-keyword\">this</span>.vertexShader=t.vertexShader,<span class=\"code-keyword\">this</span>.uniforms=kn(t.uniforms),<span class=\"code-keyword\">this</span>.defines=<span class=\"code-built_in\">Object</span>.assign({},t.defines),<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.lights=t.lights,<span class=\"code-keyword\">this</span>.clipping=t.clipping,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>.extensions=<span class=\"code-built_in\">Object</span>.assign({},t.extensions),<span class=\"code-keyword\">this</span>.glslVersion=t.glslVersion,<span class=\"code-keyword\">this</span>},jn.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Xe.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e.glslVersion=<span class=\"code-keyword\">this</span>.glslVersion,e.uniforms={},<span class=\"code-keyword\">this</span>.uniforms){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.uniforms[n].value;r&amp;&amp;r.isTexture?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"t\"</span>,<span class=\"code-attr\">value</span>:r.toJSON(t).uuid}:r&amp;&amp;r.isColor?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"c\"</span>,<span class=\"code-attr\">value</span>:r.getHex()}:r&amp;&amp;r.isVector2?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"v2\"</span>,<span class=\"code-attr\">value</span>:r.toArray()}:r&amp;&amp;r.isVector3?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"v3\"</span>,<span class=\"code-attr\">value</span>:r.toArray()}:r&amp;&amp;r.isVector4?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"v4\"</span>,<span class=\"code-attr\">value</span>:r.toArray()}:r&amp;&amp;r.isMatrix3?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"m3\"</span>,<span class=\"code-attr\">value</span>:r.toArray()}:r&amp;&amp;r.isMatrix4?e.uniforms[n]={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"m4\"</span>,<span class=\"code-attr\">value</span>:r.toArray()}:e.uniforms[n]={<span class=\"code-attr\">value</span>:r}}<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.defines).length&gt;<span class=\"code-number\">0</span>&amp;&amp;(e.defines=<span class=\"code-keyword\">this</span>.defines),e.vertexShader=<span class=\"code-keyword\">this</span>.vertexShader,e.fragmentShader=<span class=\"code-keyword\">this</span>.fragmentShader;<span class=\"code-keyword\">var</span> i={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.extensions)!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.extensions[a]&amp;&amp;(i[a]=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(i).length&gt;<span class=\"code-number\">0</span>&amp;&amp;(e.extensions=i),e},qn.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:qn,<span class=\"code-attr\">isCamera</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.matrixWorldInverse.copy(t.matrixWorldInverse),<span class=\"code-keyword\">this</span>.projectionMatrix.copy(t.projectionMatrix),<span class=\"code-keyword\">this</span>.projectionMatrixInverse.copy(t.projectionMatrixInverse),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getWorldDirection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Camera: .getWorldDirection() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.updateWorldMatrix(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.matrixWorld.elements;<span class=\"code-keyword\">return</span> t.set(-e[<span class=\"code-number\">8</span>],-e[<span class=\"code-number\">9</span>],-e[<span class=\"code-number\">10</span>]).normalize()},<span class=\"code-attr\">updateMatrixWorld</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{we.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.matrixWorldInverse.copy(<span class=\"code-keyword\">this</span>.matrixWorld).invert()},<span class=\"code-attr\">updateWorldMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{we.prototype.updateWorldMatrix.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.matrixWorldInverse.copy(<span class=\"code-keyword\">this</span>.matrixWorld).invert()},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)}}),Xn.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(qn.prototype),{<span class=\"code-attr\">constructor</span>:Xn,<span class=\"code-attr\">isPerspectiveCamera</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> qn.prototype.copy.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.fov=t.fov,<span class=\"code-keyword\">this</span>.zoom=t.zoom,<span class=\"code-keyword\">this</span>.near=t.near,<span class=\"code-keyword\">this</span>.far=t.far,<span class=\"code-keyword\">this</span>.focus=t.focus,<span class=\"code-keyword\">this</span>.aspect=t.aspect,<span class=\"code-keyword\">this</span>.view=<span class=\"code-literal\">null</span>===t.view?<span class=\"code-literal\">null</span>:<span class=\"code-built_in\">Object</span>.assign({},t.view),<span class=\"code-keyword\">this</span>.filmGauge=t.filmGauge,<span class=\"code-keyword\">this</span>.filmOffset=t.filmOffset,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setFocalLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">.5</span>*<span class=\"code-keyword\">this</span>.getFilmHeight()/t;<span class=\"code-keyword\">this</span>.fov=<span class=\"code-number\">2</span>*st.RAD2DEG*<span class=\"code-built_in\">Math</span>.atan(e),<span class=\"code-keyword\">this</span>.updateProjectionMatrix()},<span class=\"code-attr\">getFocalLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">Math</span>.tan(<span class=\"code-number\">.5</span>*st.DEG2RAD*<span class=\"code-keyword\">this</span>.fov);<span class=\"code-keyword\">return</span><span class=\"code-number\">.5</span>*<span class=\"code-keyword\">this</span>.getFilmHeight()/t},<span class=\"code-attr\">getEffectiveFOV</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span>*st.RAD2DEG*<span class=\"code-built_in\">Math</span>.atan(<span class=\"code-built_in\">Math</span>.tan(<span class=\"code-number\">.5</span>*st.DEG2RAD*<span class=\"code-keyword\">this</span>.fov)/<span class=\"code-keyword\">this</span>.zoom)},<span class=\"code-attr\">getFilmWidth</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.filmGauge*<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.aspect,<span class=\"code-number\">1</span>)},<span class=\"code-attr\">getFilmHeight</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.filmGauge/<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.aspect,<span class=\"code-number\">1</span>)},<span class=\"code-attr\">setViewOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">this</span>.aspect=t/e,<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.view&amp;&amp;(<span class=\"code-keyword\">this</span>.view={<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">fullWidth</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">fullHeight</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">offsetX</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">offsetY</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">width</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">height</span>:<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">this</span>.view.enabled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.view.fullWidth=t,<span class=\"code-keyword\">this</span>.view.fullHeight=e,<span class=\"code-keyword\">this</span>.view.offsetX=n,<span class=\"code-keyword\">this</span>.view.offsetY=r,<span class=\"code-keyword\">this</span>.view.width=i,<span class=\"code-keyword\">this</span>.view.height=a,<span class=\"code-keyword\">this</span>.updateProjectionMatrix()},<span class=\"code-attr\">clearViewOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;(<span class=\"code-keyword\">this</span>.view.enabled=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.updateProjectionMatrix()},<span class=\"code-attr\">updateProjectionMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.near,e=t*<span class=\"code-built_in\">Math</span>.tan(<span class=\"code-number\">.5</span>*st.DEG2RAD*<span class=\"code-keyword\">this</span>.fov)/<span class=\"code-keyword\">this</span>.zoom,n=<span class=\"code-number\">2</span>*e,r=<span class=\"code-keyword\">this</span>.aspect*n,i=<span class=\"code-number\">-.5</span>*r,a=<span class=\"code-keyword\">this</span>.view;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;<span class=\"code-keyword\">this</span>.view.enabled){<span class=\"code-keyword\">var</span> o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>.filmOffset;<span class=\"code-number\">0</span>!==c&amp;&amp;(i+=t*c/<span class=\"code-keyword\">this</span>.getFilmWidth()),<span class=\"code-keyword\">this</span>.projectionMatrix.makePerspective(i,i+r,e,e-n,t,<span class=\"code-keyword\">this</span>.far),<span class=\"code-keyword\">this</span>.projectionMatrixInverse.copy(<span class=\"code-keyword\">this</span>.projectionMatrix).invert()},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=we.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.object.fov=<span class=\"code-keyword\">this</span>.fov,e.object.zoom=<span class=\"code-keyword\">this</span>.zoom,e.object.near=<span class=\"code-keyword\">this</span>.near,e.object.far=<span class=\"code-keyword\">this</span>.far,e.object.focus=<span class=\"code-keyword\">this</span>.focus,e.object.aspect=<span class=\"code-keyword\">this</span>.aspect,<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;(e.object.view=<span class=\"code-built_in\">Object</span>.assign({},<span class=\"code-keyword\">this</span>.view)),e.object.filmGauge=<span class=\"code-keyword\">this</span>.filmGauge,e.object.filmOffset=<span class=\"code-keyword\">this</span>.filmOffset,e}});<span class=\"code-keyword\">var</span> Yn=<span class=\"code-number\">90</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zn</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"CubeCamera\"</span>,!<span class=\"code-number\">0</span>===n.isWebGLCubeRenderTarget){<span class=\"code-keyword\">this</span>.renderTarget=n;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);r.layers=<span class=\"code-keyword\">this</span>.layers,r.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>),r.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.add(r);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);i.layers=<span class=\"code-keyword\">this</span>.layers,i.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>),i.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.add(i);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);a.layers=<span class=\"code-keyword\">this</span>.layers,a.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),a.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.add(a);<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);o.layers=<span class=\"code-keyword\">this</span>.layers,o.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),o.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.add(o);<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);s.layers=<span class=\"code-keyword\">this</span>.layers,s.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>),s.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)),<span class=\"code-keyword\">this</span>.add(s);<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> Xn(Yn,<span class=\"code-number\">1</span>,t,e);c.layers=<span class=\"code-keyword\">this</span>.layers,c.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>),c.lookAt(<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>)),<span class=\"code-keyword\">this</span>.add(c),<span class=\"code-keyword\">this</span>.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.parent&amp;&amp;<span class=\"code-keyword\">this</span>.updateMatrixWorld();<span class=\"code-keyword\">var</span> l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> h=n.texture.generateMipmaps;n.texture.generateMipmaps=!<span class=\"code-number\">1</span>,t.setRenderTarget(n,<span class=\"code-number\">0</span>),t.render(e,r),t.setRenderTarget(n,<span class=\"code-number\">1</span>),t.render(e,i),t.setRenderTarget(n,<span class=\"code-number\">2</span>),t.render(e,a),t.setRenderTarget(n,<span class=\"code-number\">3</span>),t.render(e,o),t.setRenderTarget(n,<span class=\"code-number\">4</span>),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,<span class=\"code-number\">5</span>),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jn</span>(<span class=\"code-params\">t,e,n,i,a,o,s,c,l,u</span>)</span>{t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:[],e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:r,s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s?s:S,gt.call(<span class=\"code-keyword\">this</span>,t,e,n,i,a,o,s,c,l,u),<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._needsFlipEnvMap=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qn</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-built_in\">Number</span>.isInteger(e)&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )\"</span>),e=n),_t.call(<span class=\"code-keyword\">this</span>,t,t,e),e=e||{},<span class=\"code-keyword\">this</span>.texture=<span class=\"code-keyword\">new</span> Jn(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),<span class=\"code-keyword\">this</span>.texture._needsFlipEnvMap=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Kn</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{gt.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>,a,o,s,c,l,r,i,u,h),<span class=\"code-keyword\">this</span>.image={<span class=\"code-attr\">data</span>:t||<span class=\"code-literal\">null</span>,<span class=\"code-attr\">width</span>:e||<span class=\"code-number\">1</span>,<span class=\"code-attr\">height</span>:n||<span class=\"code-number\">1</span>},<span class=\"code-keyword\">this</span>.magFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c?c:d,<span class=\"code-keyword\">this</span>.minFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==l?l:d,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.unpackAlignment=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>}Zn.prototype=<span class=\"code-built_in\">Object</span>.create(we.prototype),Zn.prototype.constructor=Zn,Jn.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),Jn.prototype.constructor=Jn,Jn.prototype.isCubeTexture=!<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Object</span>.defineProperty(Jn.prototype,<span class=\"code-string\">\"images\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.image},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.image=t}}),Qn.prototype=<span class=\"code-built_in\">Object</span>.create(_t.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isWebGLCubeRenderTarget=!<span class=\"code-number\">0</span>,Qn.prototype.fromEquirectangularTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.texture.type=e.type,<span class=\"code-keyword\">this</span>.texture.format=T,<span class=\"code-keyword\">this</span>.texture.encoding=e.encoding,<span class=\"code-keyword\">this</span>.texture.generateMipmaps=e.generateMipmaps,<span class=\"code-keyword\">this</span>.texture.minFilter=e.minFilter,<span class=\"code-keyword\">this</span>.texture.magFilter=e.magFilter;<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">tEquirect</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},r=<span class=\"code-string\">\"\\n\\n\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\t\\t\\t\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t\\t\\t\\t#include &lt;begin_vertex&gt;\\n\\t\\t\\t\\t#include &lt;project_vertex&gt;\\n\\n\\t\\t\\t}\\n\\t\\t\"</span>,i=<span class=\"code-string\">\"\\n\\n\\t\\t\\tuniform sampler2D tEquirect;\\n\\n\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t#include &lt;common&gt;\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 direction = normalize( vWorldDirection );\\n\\n\\t\\t\\t\\tvec2 sampleUV = equirectUv( direction );\\n\\n\\t\\t\\t\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\n\\t\\t\\t}\\n\\t\\t\"</span>,a=<span class=\"code-keyword\">new</span> Hn(<span class=\"code-number\">5</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">5</span>),o=<span class=\"code-keyword\">new</span> jn({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"CubemapFromEquirect\"</span>,<span class=\"code-attr\">uniforms</span>:kn(n),<span class=\"code-attr\">vertexShader</span>:r,<span class=\"code-attr\">fragmentShader</span>:i,<span class=\"code-attr\">side</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">blending</span>:<span class=\"code-number\">0</span>});o.uniforms.tEquirect.value=e;<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> Un(a,o),c=e.minFilter;<span class=\"code-keyword\">return</span> e.minFilter===g&amp;&amp;(e.minFilter=m),<span class=\"code-keyword\">new</span> Zn(<span class=\"code-number\">1</span>,<span class=\"code-number\">10</span>,<span class=\"code-keyword\">this</span>).update(t,s),e.minFilter=c,s.geometry.dispose(),s.material.dispose(),<span class=\"code-keyword\">this</span>},Qn.prototype.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.getRenderTarget(),a=<span class=\"code-number\">0</span>;a&lt;<span class=\"code-number\">6</span>;a++)t.setRenderTarget(<span class=\"code-keyword\">this</span>,a),t.clear(e,n,r);t.setRenderTarget(i)},Kn.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isDataTexture=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> $n=<span class=\"code-keyword\">new</span> kt,tr=<span class=\"code-keyword\">new</span> Mt,er=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">this</span>.planes=[<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Ee,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Ee,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-keyword\">new</span> Ee,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-keyword\">new</span> Ee,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?i:<span class=\"code-keyword\">new</span> Ee,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a?a:<span class=\"code-keyword\">new</span> Ee]}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.planes;<span class=\"code-keyword\">return</span> o[<span class=\"code-number\">0</span>].copy(t),o[<span class=\"code-number\">1</span>].copy(e),o[<span class=\"code-number\">2</span>].copy(n),o[<span class=\"code-number\">3</span>].copy(r),o[<span class=\"code-number\">4</span>].copy(i),o[<span class=\"code-number\">5</span>].copy(a),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.planes,n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">6</span>;n++)e[n].copy(t.planes[n]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.setFromProjectionMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.planes,n=t.elements,r=n[<span class=\"code-number\">0</span>],i=n[<span class=\"code-number\">1</span>],a=n[<span class=\"code-number\">2</span>],o=n[<span class=\"code-number\">3</span>],s=n[<span class=\"code-number\">4</span>],c=n[<span class=\"code-number\">5</span>],l=n[<span class=\"code-number\">6</span>],u=n[<span class=\"code-number\">7</span>],h=n[<span class=\"code-number\">8</span>],d=n[<span class=\"code-number\">9</span>],p=n[<span class=\"code-number\">10</span>],f=n[<span class=\"code-number\">11</span>],m=n[<span class=\"code-number\">12</span>],v=n[<span class=\"code-number\">13</span>],g=n[<span class=\"code-number\">14</span>],y=n[<span class=\"code-number\">15</span>];<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>].setComponents(o-r,u-s,f-h,y-m).normalize(),e[<span class=\"code-number\">1</span>].setComponents(o+r,u+s,f+h,y+m).normalize(),e[<span class=\"code-number\">2</span>].setComponents(o+i,u+c,f+d,y+v).normalize(),e[<span class=\"code-number\">3</span>].setComponents(o-i,u-c,f-d,y-v).normalize(),e[<span class=\"code-number\">4</span>].setComponents(o-a,u-l,f-p,y-g).normalize(),e[<span class=\"code-number\">5</span>].setComponents(o+a,u+l,f+p,y+g).normalize(),<span class=\"code-keyword\">this</span>},e.intersectsObject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.geometry;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===e.boundingSphere&amp;&amp;e.computeBoundingSphere(),$n.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),<span class=\"code-keyword\">this</span>.intersectsSphere($n)},e.intersectsSprite=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> $n.center.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),$n.radius=<span class=\"code-number\">.7071067811865476</span>,$n.applyMatrix4(t.matrixWorld),<span class=\"code-keyword\">this</span>.intersectsSphere($n)},e.intersectsSphere=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.planes,n=t.center,r=-t.radius,i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-number\">6</span>;i++){<span class=\"code-keyword\">if</span>(e[i].distanceToPoint(n)&lt;r)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.planes,n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">6</span>;n++){<span class=\"code-keyword\">var</span> r=e[n];<span class=\"code-keyword\">if</span>(tr.x=r.normal.x&gt;<span class=\"code-number\">0</span>?t.max.x:t.min.x,tr.y=r.normal.y&gt;<span class=\"code-number\">0</span>?t.max.y:t.min.y,tr.z=r.normal.z&gt;<span class=\"code-number\">0</span>?t.max.z:t.min.z,r.distanceToPoint(tr)&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.planes,n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">6</span>;n++)<span class=\"code-keyword\">if</span>(e[n].distanceToPoint(t)&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nr</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-literal\">null</span>,e=!<span class=\"code-number\">1</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-literal\">null</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,a</span>)</span>{n(e,a),r=t.requestAnimationFrame(i)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{!<span class=\"code-number\">0</span>!==e&amp;&amp;<span class=\"code-literal\">null</span>!==n&amp;&amp;(r=t.requestAnimationFrame(i),e=!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">stop</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.cancelAnimationFrame(r),e=!<span class=\"code-number\">1</span>},<span class=\"code-attr\">setAnimationLoop</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{n=t},<span class=\"code-attr\">setContext</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t=e}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.isWebGL2,r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.isInterleavedBufferAttribute&amp;&amp;(t=t.data),r.get(t)},<span class=\"code-attr\">remove</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.isInterleavedBufferAttribute&amp;&amp;(e=e.data);<span class=\"code-keyword\">var</span> n=r.get(e);n&amp;&amp;(t.deleteBuffer(n.buffer),r.delete(e))},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">if</span>(e.isGLBufferAttribute){<span class=\"code-keyword\">var</span> a=r.get(e);(!a||a.version&lt;e.version)&amp;&amp;r.set(e,{<span class=\"code-attr\">buffer</span>:e.buffer,<span class=\"code-attr\">type</span>:e.type,<span class=\"code-attr\">bytesPerElement</span>:e.elementSize,<span class=\"code-attr\">version</span>:e.version})}<span class=\"code-keyword\">else</span>{e.isInterleavedBufferAttribute&amp;&amp;(e=e.data);<span class=\"code-keyword\">var</span> o=r.get(e);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o?r.set(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> i=e.array,a=e.usage,o=t.createBuffer();t.bindBuffer(r,o),t.bufferData(r,i,a),e.onUploadCallback();<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">5126</span>;<span class=\"code-keyword\">return</span> i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Float32Array</span>?s=<span class=\"code-number\">5126</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Float64Array</span>?<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"</span>):i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint16Array</span>?e.isFloat16BufferAttribute?n?s=<span class=\"code-number\">5131</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.\"</span>):s=<span class=\"code-number\">5123</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Int16Array</span>?s=<span class=\"code-number\">5122</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint32Array</span>?s=<span class=\"code-number\">5125</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Int32Array</span>?s=<span class=\"code-number\">5124</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Int8Array</span>?s=<span class=\"code-number\">5120</span>:i <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint8Array</span>&amp;&amp;(s=<span class=\"code-number\">5121</span>),{<span class=\"code-attr\">buffer</span>:o,<span class=\"code-attr\">type</span>:s,<span class=\"code-attr\">bytesPerElement</span>:i.BYTES_PER_ELEMENT,<span class=\"code-attr\">version</span>:e.version}}(e,i)):o.version&lt;e.version&amp;&amp;(!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=r.array,o=r.updateRange;t.bindBuffer(i,e),<span class=\"code-number\">-1</span>===o.count?t.bufferSubData(i,<span class=\"code-number\">0</span>,a):(n?t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=<span class=\"code-number\">-1</span>)}(o.buffer,e,i),o.version=e.version)}}}}<span class=\"code-keyword\">var</span> ir=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">1</span>),(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PlaneBufferGeometry\"</span>,a.parameters={<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">widthSegments</span>:r,<span class=\"code-attr\">heightSegments</span>:i};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=e/<span class=\"code-number\">2</span>,s=n/<span class=\"code-number\">2</span>,c=<span class=\"code-built_in\">Math</span>.floor(r),l=<span class=\"code-built_in\">Math</span>.floor(i),u=c+<span class=\"code-number\">1</span>,h=l+<span class=\"code-number\">1</span>,d=e/c,p=n/l,f=[],m=[],v=[],g=[],y=<span class=\"code-number\">0</span>;y&lt;h;y++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=y*p-s,_=<span class=\"code-number\">0</span>;_&lt;u;_++){<span class=\"code-keyword\">var</span> b=_*d-o;m.push(b,-x,<span class=\"code-number\">0</span>),v.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),g.push(_/c),g.push(<span class=\"code-number\">1</span>-y/l)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">0</span>;w&lt;l;w++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> M=<span class=\"code-number\">0</span>;M&lt;c;M++){<span class=\"code-keyword\">var</span> S=M+u*w,T=M+u*(w+<span class=\"code-number\">1</span>),E=M+<span class=\"code-number\">1</span>+u*(w+<span class=\"code-number\">1</span>),A=M+<span class=\"code-number\">1</span>+u*w;f.push(S,T,A),f.push(T,E,A)}<span class=\"code-keyword\">return</span> a.setIndex(f),a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(m,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(v,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(g,<span class=\"code-number\">2</span>)),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),ar={<span class=\"code-attr\">alphamap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\"</span>,<span class=\"code-attr\">alphamap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\"</span>,<span class=\"code-attr\">alphatest_fragment</span>:<span class=\"code-string\">\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a &lt; ALPHATEST ) discard;\\n#endif\"</span>,<span class=\"code-attr\">aomap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) &amp;&amp; defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">aomap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\"</span>,<span class=\"code-attr\">begin_vertex</span>:<span class=\"code-string\">\"vec3 transformed = vec3( position );\"</span>,<span class=\"code-attr\">beginnormal_vertex</span>:<span class=\"code-string\">\"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\"</span>,<span class=\"code-attr\">bsdfs</span>:<span class=\"code-string\">\"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance &gt; 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance &gt; 0.0 &amp;&amp; decayExponent &gt; 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x &gt; 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) &lt; 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\"</span>,<span class=\"code-attr\">bumpmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">clipping_planes_fragment</span>:<span class=\"code-string\">\"#if NUM_CLIPPING_PLANES &gt; 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) &gt; plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES &lt; NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i &lt; NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) &gt; plane.w ) &amp;&amp; clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">clipping_planes_pars_fragment</span>:<span class=\"code-string\">\"#if NUM_CLIPPING_PLANES &gt; 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\"</span>,<span class=\"code-attr\">clipping_planes_pars_vertex</span>:<span class=\"code-string\">\"#if NUM_CLIPPING_PLANES &gt; 0\\n\\tvarying vec3 vClipPosition;\\n#endif\"</span>,<span class=\"code-attr\">clipping_planes_vertex</span>:<span class=\"code-string\">\"#if NUM_CLIPPING_PLANES &gt; 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\"</span>,<span class=\"code-attr\">color_fragment</span>:<span class=\"code-string\">\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\"</span>,<span class=\"code-attr\">color_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\"</span>,<span class=\"code-attr\">color_pars_vertex</span>:<span class=\"code-string\">\"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\"</span>,<span class=\"code-attr\">color_vertex</span>:<span class=\"code-string\">\"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\"</span>,<span class=\"code-attr\">common</span>:<span class=\"code-string\">\"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\"</span>,<span class=\"code-attr\">cube_uv_reflection_fragment</span>:<span class=\"code-string\">\"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x &gt; absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x &gt; absDirection.y )\\n\\t\\t\\t\\tface = direction.x &gt; 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y &gt; 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z &gt; absDirection.y )\\n\\t\\t\\t\\tface = direction.z &gt; 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y &gt; 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face &gt; 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt &lt; cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness &gt;= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness &gt;= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness &gt;= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness &gt;= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">defaultnormal_vertex</span>:<span class=\"code-string\">\"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">displacementmap_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\"</span>,<span class=\"code-attr\">displacementmap_vertex</span>:<span class=\"code-string\">\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\"</span>,<span class=\"code-attr\">emissivemap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\"</span>,<span class=\"code-attr\">emissivemap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\"</span>,<span class=\"code-attr\">encodings_fragment</span>:<span class=\"code-string\">\"gl_FragColor = linearToOutputTexel( gl_FragColor );\"</span>,<span class=\"code-attr\">encodings_pars_fragment</span>:<span class=\"code-string\">\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\"</span>,<span class=\"code-attr\">envmap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">envmap_common_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\"</span>,<span class=\"code-attr\">envmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">envmap_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">envmap_physical_pars_fragment</span>:<span class=\"code-string\">\"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">envmap_vertex</span>:<span class=\"code-string\">\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">fog_vertex</span>:<span class=\"code-string\">\"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\"</span>,<span class=\"code-attr\">fog_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\"</span>,<span class=\"code-attr\">fog_fragment</span>:<span class=\"code-string\">\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\"</span>,<span class=\"code-attr\">fog_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">gradientmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x &lt; 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\"</span>,<span class=\"code-attr\">lightmap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\"</span>,<span class=\"code-attr\">lightmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\"</span>,<span class=\"code-attr\">lights_lambert_vertex</span>:<span class=\"code-string\">\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\"</span>,<span class=\"code-attr\">lights_pars_begin</span>:<span class=\"code-string\">\"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS &gt; 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS &gt; 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS &gt; 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos &gt; spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS &gt; 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS &gt; 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">lights_toon_fragment</span>:<span class=\"code-string\">\"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\"</span>,<span class=\"code-attr\">lights_toon_pars_fragment</span>:<span class=\"code-string\">\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\"</span>,<span class=\"code-attr\">lights_phong_fragment</span>:<span class=\"code-string\">\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\"</span>,<span class=\"code-attr\">lights_phong_pars_fragment</span>:<span class=\"code-string\">\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\"</span>,<span class=\"code-attr\">lights_physical_fragment</span>:<span class=\"code-string\">\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\"</span>,<span class=\"code-attr\">lights_physical_pars_fragment</span>:<span class=\"code-string\">\"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS &gt; 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\\t\\t0, 1,\\t\\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\"</span>,<span class=\"code-attr\">lights_fragment_begin</span>:<span class=\"code-string\">\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_SPOT_LIGHT_SHADOWS &gt; 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_DIR_LIGHT_SHADOWS &gt; 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS &gt; 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i &lt; NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\"</span>,<span class=\"code-attr\">lights_fragment_maps</span>:<span class=\"code-string\">\"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) &amp;&amp; defined( STANDARD ) &amp;&amp; defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) &amp;&amp; defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">lights_fragment_end</span>:<span class=\"code-string\">\"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\"</span>,<span class=\"code-attr\">logdepthbuf_fragment</span>:<span class=\"code-string\">\"#if defined( USE_LOGDEPTHBUF ) &amp;&amp; defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\"</span>,<span class=\"code-attr\">logdepthbuf_pars_fragment</span>:<span class=\"code-string\">\"#if defined( USE_LOGDEPTHBUF ) &amp;&amp; defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\"</span>,<span class=\"code-attr\">logdepthbuf_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">logdepthbuf_vertex</span>:<span class=\"code-string\">\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">map_fragment</span>:<span class=\"code-string\">\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\"</span>,<span class=\"code-attr\">map_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\"</span>,<span class=\"code-attr\">map_particle_fragment</span>:<span class=\"code-string\">\"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\"</span>,<span class=\"code-attr\">map_particle_pars_fragment</span>:<span class=\"code-string\">\"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\"</span>,<span class=\"code-attr\">metalnessmap_fragment</span>:<span class=\"code-string\">\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\"</span>,<span class=\"code-attr\">metalnessmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\"</span>,<span class=\"code-attr\">morphnormal_vertex</span>:<span class=\"code-string\">\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\"</span>,<span class=\"code-attr\">morphtarget_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">morphtarget_vertex</span>:<span class=\"code-string\">\"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">normal_fragment_begin</span>:<span class=\"code-string\">\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\"</span>,<span class=\"code-attr\">normal_fragment_maps</span>:<span class=\"code-string\">\"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\"</span>,<span class=\"code-attr\">normalmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) &amp;&amp; ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">clearcoat_normal_fragment_begin</span>:<span class=\"code-string\">\"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\"</span>,<span class=\"code-attr\">clearcoat_normal_fragment_maps</span>:<span class=\"code-string\">\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">clearcoat_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\"</span>,<span class=\"code-attr\">packing</span>:<span class=\"code-string\">\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\"</span>,<span class=\"code-attr\">premultiplied_alpha_fragment</span>:<span class=\"code-string\">\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\"</span>,<span class=\"code-attr\">project_vertex</span>:<span class=\"code-string\">\"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\"</span>,<span class=\"code-attr\">dithering_fragment</span>:<span class=\"code-string\">\"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\"</span>,<span class=\"code-attr\">dithering_pars_fragment</span>:<span class=\"code-string\">\"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">roughnessmap_fragment</span>:<span class=\"code-string\">\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\"</span>,<span class=\"code-attr\">roughnessmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\"</span>,<span class=\"code-attr\">shadowmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x &gt;= 0.0, shadowCoord.x &lt;= 1.0, shadowCoord.y &gt;= 0.0, shadowCoord.y &lt;= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z &lt;= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z &gt;= almostOne ) {\\n\\t\\t\\tif ( v.z &gt; 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x &gt;= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y &gt;= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\"</span>,<span class=\"code-attr\">shadowmap_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">shadowmap_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0 || NUM_SPOT_LIGHT_SHADOWS &gt; 0 || NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">shadowmask_pars_fragment</span>:<span class=\"code-string\">\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i &lt; NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\"</span>,<span class=\"code-attr\">skinbase_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\"</span>,<span class=\"code-attr\">skinning_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">skinning_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\"</span>,<span class=\"code-attr\">skinnormal_vertex</span>:<span class=\"code-string\">\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\"</span>,<span class=\"code-attr\">specularmap_fragment</span>:<span class=\"code-string\">\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\"</span>,<span class=\"code-attr\">specularmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\"</span>,<span class=\"code-attr\">tonemapping_fragment</span>:<span class=\"code-string\">\"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\"</span>,<span class=\"code-attr\">tonemapping_pars_fragment</span>:<span class=\"code-string\">\"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\"</span>,<span class=\"code-attr\">transmissionmap_fragment</span>:<span class=\"code-string\">\"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\"</span>,<span class=\"code-attr\">transmissionmap_pars_fragment</span>:<span class=\"code-string\">\"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\"</span>,<span class=\"code-attr\">uv_pars_fragment</span>:<span class=\"code-string\">\"#if ( defined( USE_UV ) &amp;&amp; ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\"</span>,<span class=\"code-attr\">uv_pars_vertex</span>:<span class=\"code-string\">\"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\"</span>,<span class=\"code-attr\">uv_vertex</span>:<span class=\"code-string\">\"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\"</span>,<span class=\"code-attr\">uv2_pars_fragment</span>:<span class=\"code-string\">\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\"</span>,<span class=\"code-attr\">uv2_pars_vertex</span>:<span class=\"code-string\">\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\"</span>,<span class=\"code-attr\">uv2_vertex</span>:<span class=\"code-string\">\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\"</span>,<span class=\"code-attr\">worldpos_vertex</span>:<span class=\"code-string\">\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\"</span>,<span class=\"code-attr\">background_frag</span>:<span class=\"code-string\">\"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">background_vert</span>:<span class=\"code-string\">\"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\"</span>,<span class=\"code-attr\">cube_frag</span>:<span class=\"code-string\">\"#include &lt;envmap_common_pars_fragment&gt;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include &lt;cube_uv_reflection_fragment&gt;\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include &lt;envmap_fragment&gt;\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">cube_vert</span>:<span class=\"code-string\">\"varying vec3 vWorldDirection;\\n#include &lt;common&gt;\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\tgl_Position.z = gl_Position.w;\\n}\"</span>,<span class=\"code-attr\">depth_frag</span>:<span class=\"code-string\">\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\"</span>,<span class=\"code-attr\">depth_vert</span>:<span class=\"code-string\">\"#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include &lt;beginnormal_vertex&gt;\\n\\t\\t#include &lt;morphnormal_vertex&gt;\\n\\t\\t#include &lt;skinnormal_vertex&gt;\\n\\t#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\"</span>,<span class=\"code-attr\">distanceRGBA_frag</span>:<span class=\"code-string\">\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main () {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\"</span>,<span class=\"code-attr\">distanceRGBA_vert</span>:<span class=\"code-string\">\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include &lt;beginnormal_vertex&gt;\\n\\t\\t#include &lt;morphnormal_vertex&gt;\\n\\t\\t#include &lt;skinnormal_vertex&gt;\\n\\t#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\tvWorldPosition = worldPosition.xyz;\\n}\"</span>,<span class=\"code-attr\">equirect_frag</span>:<span class=\"code-string\">\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include &lt;common&gt;\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">equirect_vert</span>:<span class=\"code-string\">\"varying vec3 vWorldDirection;\\n#include &lt;common&gt;\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">linedashed_frag</span>:<span class=\"code-string\">\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include &lt;common&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tif ( mod( vLineDistance, totalSize ) &gt; dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">linedashed_vert</span>:<span class=\"code-string\">\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include &lt;common&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">meshbasic_frag</span>:<span class=\"code-string\">\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;uv2_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;aomap_pars_fragment&gt;\\n#include &lt;lightmap_pars_fragment&gt;\\n#include &lt;envmap_common_pars_fragment&gt;\\n#include &lt;envmap_pars_fragment&gt;\\n#include &lt;cube_uv_reflection_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;specularmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;specularmap_fragment&gt;\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include &lt;aomap_fragment&gt;\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include &lt;envmap_fragment&gt;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshbasic_vert</span>:<span class=\"code-string\">\"#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;uv2_pars_vertex&gt;\\n#include &lt;envmap_pars_vertex&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;uv2_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#ifdef USE_ENVMAP\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n\\t#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;envmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">meshlambert_frag</span>:<span class=\"code-string\">\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;uv2_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;aomap_pars_fragment&gt;\\n#include &lt;lightmap_pars_fragment&gt;\\n#include &lt;emissivemap_pars_fragment&gt;\\n#include &lt;envmap_common_pars_fragment&gt;\\n#include &lt;envmap_pars_fragment&gt;\\n#include &lt;cube_uv_reflection_fragment&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;shadowmap_pars_fragment&gt;\\n#include &lt;shadowmask_pars_fragment&gt;\\n#include &lt;specularmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;specularmap_fragment&gt;\\n\\t#include &lt;emissivemap_fragment&gt;\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include &lt;lightmap_fragment&gt;\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include &lt;aomap_fragment&gt;\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include &lt;envmap_fragment&gt;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshlambert_vert</span>:<span class=\"code-string\">\"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;uv2_pars_vertex&gt;\\n#include &lt;envmap_pars_vertex&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;shadowmap_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;uv2_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;envmap_vertex&gt;\\n\\t#include &lt;lights_lambert_vertex&gt;\\n\\t#include &lt;shadowmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">meshmatcap_frag</span>:<span class=\"code-string\">\"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;bumpmap_pars_fragment&gt;\\n#include &lt;normalmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;normal_fragment_begin&gt;\\n\\t#include &lt;normal_fragment_maps&gt;\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshmatcap_vert</span>:<span class=\"code-string\">\"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n\\tvViewPosition = - mvPosition.xyz;\\n}\"</span>,<span class=\"code-attr\">meshtoon_frag</span>:<span class=\"code-string\">\"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;uv2_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;aomap_pars_fragment&gt;\\n#include &lt;lightmap_pars_fragment&gt;\\n#include &lt;emissivemap_pars_fragment&gt;\\n#include &lt;gradientmap_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;lights_toon_pars_fragment&gt;\\n#include &lt;shadowmap_pars_fragment&gt;\\n#include &lt;bumpmap_pars_fragment&gt;\\n#include &lt;normalmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;normal_fragment_begin&gt;\\n\\t#include &lt;normal_fragment_maps&gt;\\n\\t#include &lt;emissivemap_fragment&gt;\\n\\t#include &lt;lights_toon_fragment&gt;\\n\\t#include &lt;lights_fragment_begin&gt;\\n\\t#include &lt;lights_fragment_maps&gt;\\n\\t#include &lt;lights_fragment_end&gt;\\n\\t#include &lt;aomap_fragment&gt;\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshtoon_vert</span>:<span class=\"code-string\">\"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;uv2_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;shadowmap_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;uv2_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;shadowmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">meshphong_frag</span>:<span class=\"code-string\">\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;uv2_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;aomap_pars_fragment&gt;\\n#include &lt;lightmap_pars_fragment&gt;\\n#include &lt;emissivemap_pars_fragment&gt;\\n#include &lt;envmap_common_pars_fragment&gt;\\n#include &lt;envmap_pars_fragment&gt;\\n#include &lt;cube_uv_reflection_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;lights_phong_pars_fragment&gt;\\n#include &lt;shadowmap_pars_fragment&gt;\\n#include &lt;bumpmap_pars_fragment&gt;\\n#include &lt;normalmap_pars_fragment&gt;\\n#include &lt;specularmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;specularmap_fragment&gt;\\n\\t#include &lt;normal_fragment_begin&gt;\\n\\t#include &lt;normal_fragment_maps&gt;\\n\\t#include &lt;emissivemap_fragment&gt;\\n\\t#include &lt;lights_phong_fragment&gt;\\n\\t#include &lt;lights_fragment_begin&gt;\\n\\t#include &lt;lights_fragment_maps&gt;\\n\\t#include &lt;lights_fragment_end&gt;\\n\\t#include &lt;aomap_fragment&gt;\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include &lt;envmap_fragment&gt;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshphong_vert</span>:<span class=\"code-string\">\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;uv2_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;envmap_pars_vertex&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;shadowmap_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;uv2_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;envmap_vertex&gt;\\n\\t#include &lt;shadowmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">meshphysical_frag</span>:<span class=\"code-string\">\"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;dithering_pars_fragment&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;uv2_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;aomap_pars_fragment&gt;\\n#include &lt;lightmap_pars_fragment&gt;\\n#include &lt;emissivemap_pars_fragment&gt;\\n#include &lt;transmissionmap_pars_fragment&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;cube_uv_reflection_fragment&gt;\\n#include &lt;envmap_common_pars_fragment&gt;\\n#include &lt;envmap_physical_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;lights_physical_pars_fragment&gt;\\n#include &lt;shadowmap_pars_fragment&gt;\\n#include &lt;bumpmap_pars_fragment&gt;\\n#include &lt;normalmap_pars_fragment&gt;\\n#include &lt;clearcoat_pars_fragment&gt;\\n#include &lt;roughnessmap_pars_fragment&gt;\\n#include &lt;metalnessmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\t#include &lt;roughnessmap_fragment&gt;\\n\\t#include &lt;metalnessmap_fragment&gt;\\n\\t#include &lt;normal_fragment_begin&gt;\\n\\t#include &lt;normal_fragment_maps&gt;\\n\\t#include &lt;clearcoat_normal_fragment_begin&gt;\\n\\t#include &lt;clearcoat_normal_fragment_maps&gt;\\n\\t#include &lt;emissivemap_fragment&gt;\\n\\t#include &lt;transmissionmap_fragment&gt;\\n\\t#include &lt;lights_physical_fragment&gt;\\n\\t#include &lt;lights_fragment_begin&gt;\\n\\t#include &lt;lights_fragment_maps&gt;\\n\\t#include &lt;lights_fragment_end&gt;\\n\\t#include &lt;aomap_fragment&gt;\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n\\t#include &lt;dithering_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">meshphysical_vert</span>:<span class=\"code-string\">\"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;uv2_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;shadowmap_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;uv2_vertex&gt;\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;shadowmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">normal_frag</span>:<span class=\"code-string\">\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include &lt;packing&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;bumpmap_pars_fragment&gt;\\n#include &lt;normalmap_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;normal_fragment_begin&gt;\\n\\t#include &lt;normal_fragment_maps&gt;\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\"</span>,<span class=\"code-attr\">normal_vert</span>:<span class=\"code-string\">\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;displacementmap_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;skinning_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;skinning_vertex&gt;\\n\\t#include &lt;displacementmap_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\"</span>,<span class=\"code-attr\">points_frag</span>:<span class=\"code-string\">\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include &lt;common&gt;\\n#include &lt;color_pars_fragment&gt;\\n#include &lt;map_particle_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_particle_fragment&gt;\\n\\t#include &lt;color_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n\\t#include &lt;premultiplied_alpha_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">points_vert</span>:<span class=\"code-string\">\"uniform float size;\\nuniform float scale;\\n#include &lt;common&gt;\\n#include &lt;color_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;morphtarget_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;color_vertex&gt;\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;morphtarget_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">shadow_frag</span>:<span class=\"code-string\">\"uniform vec3 color;\\nuniform float opacity;\\n#include &lt;common&gt;\\n#include &lt;packing&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;bsdfs&gt;\\n#include &lt;lights_pars_begin&gt;\\n#include &lt;shadowmap_pars_fragment&gt;\\n#include &lt;shadowmask_pars_fragment&gt;\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">shadow_vert</span>:<span class=\"code-string\">\"#include &lt;common&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;shadowmap_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;begin_vertex&gt;\\n\\t#include &lt;project_vertex&gt;\\n\\t#include &lt;worldpos_vertex&gt;\\n\\t#include &lt;beginnormal_vertex&gt;\\n\\t#include &lt;morphnormal_vertex&gt;\\n\\t#include &lt;skinbase_vertex&gt;\\n\\t#include &lt;skinnormal_vertex&gt;\\n\\t#include &lt;defaultnormal_vertex&gt;\\n\\t#include &lt;shadowmap_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>,<span class=\"code-attr\">sprite_frag</span>:<span class=\"code-string\">\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include &lt;common&gt;\\n#include &lt;uv_pars_fragment&gt;\\n#include &lt;map_pars_fragment&gt;\\n#include &lt;alphamap_pars_fragment&gt;\\n#include &lt;fog_pars_fragment&gt;\\n#include &lt;logdepthbuf_pars_fragment&gt;\\n#include &lt;clipping_planes_pars_fragment&gt;\\nvoid main() {\\n\\t#include &lt;clipping_planes_fragment&gt;\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include &lt;logdepthbuf_fragment&gt;\\n\\t#include &lt;map_fragment&gt;\\n\\t#include &lt;alphamap_fragment&gt;\\n\\t#include &lt;alphatest_fragment&gt;\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include &lt;tonemapping_fragment&gt;\\n\\t#include &lt;encodings_fragment&gt;\\n\\t#include &lt;fog_fragment&gt;\\n}\"</span>,<span class=\"code-attr\">sprite_vert</span>:<span class=\"code-string\">\"uniform float rotation;\\nuniform vec2 center;\\n#include &lt;common&gt;\\n#include &lt;uv_pars_vertex&gt;\\n#include &lt;fog_pars_vertex&gt;\\n#include &lt;logdepthbuf_pars_vertex&gt;\\n#include &lt;clipping_planes_pars_vertex&gt;\\nvoid main() {\\n\\t#include &lt;uv_vertex&gt;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include &lt;logdepthbuf_vertex&gt;\\n\\t#include &lt;clipping_planes_vertex&gt;\\n\\t#include &lt;fog_vertex&gt;\\n}\"</span>},or={<span class=\"code-attr\">common</span>:{<span class=\"code-attr\">diffuse</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">15658734</span>)},<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">map</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">uvTransform</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft},<span class=\"code-attr\">uv2Transform</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft},<span class=\"code-attr\">alphaMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">specularmap</span>:{<span class=\"code-attr\">specularMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">envmap</span>:{<span class=\"code-attr\">envMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">flipEnvMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">-1</span>},<span class=\"code-attr\">reflectivity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">refractionRatio</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">.98</span>},<span class=\"code-attr\">maxMipLevel</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>}},<span class=\"code-attr\">aomap</span>:{<span class=\"code-attr\">aoMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">aoMapIntensity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}},<span class=\"code-attr\">lightmap</span>:{<span class=\"code-attr\">lightMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">lightMapIntensity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}},<span class=\"code-attr\">emissivemap</span>:{<span class=\"code-attr\">emissiveMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">bumpmap</span>:{<span class=\"code-attr\">bumpMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">bumpScale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}},<span class=\"code-attr\">normalmap</span>:{<span class=\"code-attr\">normalMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">normalScale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)}},<span class=\"code-attr\">displacementmap</span>:{<span class=\"code-attr\">displacementMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">displacementScale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">displacementBias</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>}},<span class=\"code-attr\">roughnessmap</span>:{<span class=\"code-attr\">roughnessMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">metalnessmap</span>:{<span class=\"code-attr\">metalnessMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">gradientmap</span>:{<span class=\"code-attr\">gradientMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">fog</span>:{<span class=\"code-attr\">fogDensity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">25e-5</span>},<span class=\"code-attr\">fogNear</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">fogFar</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">2e3</span>},<span class=\"code-attr\">fogColor</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>)}},<span class=\"code-attr\">lights</span>:{<span class=\"code-attr\">ambientLightColor</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">lightProbe</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">directionalLights</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">direction</span>:{},<span class=\"code-attr\">color</span>:{}}},<span class=\"code-attr\">directionalLightShadows</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">shadowBias</span>:{},<span class=\"code-attr\">shadowNormalBias</span>:{},<span class=\"code-attr\">shadowRadius</span>:{},<span class=\"code-attr\">shadowMapSize</span>:{}}},<span class=\"code-attr\">directionalShadowMap</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">directionalShadowMatrix</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">spotLights</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">color</span>:{},<span class=\"code-attr\">position</span>:{},<span class=\"code-attr\">direction</span>:{},<span class=\"code-attr\">distance</span>:{},<span class=\"code-attr\">coneCos</span>:{},<span class=\"code-attr\">penumbraCos</span>:{},<span class=\"code-attr\">decay</span>:{}}},<span class=\"code-attr\">spotLightShadows</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">shadowBias</span>:{},<span class=\"code-attr\">shadowNormalBias</span>:{},<span class=\"code-attr\">shadowRadius</span>:{},<span class=\"code-attr\">shadowMapSize</span>:{}}},<span class=\"code-attr\">spotShadowMap</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">spotShadowMatrix</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">pointLights</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">color</span>:{},<span class=\"code-attr\">position</span>:{},<span class=\"code-attr\">decay</span>:{},<span class=\"code-attr\">distance</span>:{}}},<span class=\"code-attr\">pointLightShadows</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">shadowBias</span>:{},<span class=\"code-attr\">shadowNormalBias</span>:{},<span class=\"code-attr\">shadowRadius</span>:{},<span class=\"code-attr\">shadowMapSize</span>:{},<span class=\"code-attr\">shadowCameraNear</span>:{},<span class=\"code-attr\">shadowCameraFar</span>:{}}},<span class=\"code-attr\">pointShadowMap</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">pointShadowMatrix</span>:{<span class=\"code-attr\">value</span>:[]},<span class=\"code-attr\">hemisphereLights</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">direction</span>:{},<span class=\"code-attr\">skyColor</span>:{},<span class=\"code-attr\">groundColor</span>:{}}},<span class=\"code-attr\">rectAreaLights</span>:{<span class=\"code-attr\">value</span>:[],<span class=\"code-attr\">properties</span>:{<span class=\"code-attr\">color</span>:{},<span class=\"code-attr\">position</span>:{},<span class=\"code-attr\">width</span>:{},<span class=\"code-attr\">height</span>:{}}},<span class=\"code-attr\">ltc_1</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">ltc_2</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">points</span>:{<span class=\"code-attr\">diffuse</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">15658734</span>)},<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">size</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">scale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">map</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">alphaMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">uvTransform</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft}},<span class=\"code-attr\">sprite</span>:{<span class=\"code-attr\">diffuse</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">15658734</span>)},<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">center</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>)},<span class=\"code-attr\">rotation</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">map</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">alphaMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">uvTransform</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft}}},sr={<span class=\"code-attr\">basic</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.fog]),<span class=\"code-attr\">vertexShader</span>:ar.meshbasic_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshbasic_frag},<span class=\"code-attr\">lambert</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.fog,or.lights,{<span class=\"code-attr\">emissive</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshlambert_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshlambert_frag},<span class=\"code-attr\">phong</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.fog,or.lights,{<span class=\"code-attr\">emissive</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)},<span class=\"code-attr\">specular</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">1118481</span>)},<span class=\"code-attr\">shininess</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">30</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshphong_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshphong_frag},<span class=\"code-attr\">standard</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.roughnessmap,or.metalnessmap,or.fog,or.lights,{<span class=\"code-attr\">emissive</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)},<span class=\"code-attr\">roughness</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">metalness</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">envMapIntensity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshphysical_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshphysical_frag},<span class=\"code-attr\">toon</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.gradientmap,or.fog,or.lights,{<span class=\"code-attr\">emissive</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshtoon_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshtoon_frag},<span class=\"code-attr\">matcap</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.bumpmap,or.normalmap,or.displacementmap,or.fog,{<span class=\"code-attr\">matcap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshmatcap_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshmatcap_frag},<span class=\"code-attr\">points</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.points,or.fog]),<span class=\"code-attr\">vertexShader</span>:ar.points_vert,<span class=\"code-attr\">fragmentShader</span>:ar.points_frag},<span class=\"code-attr\">dashed</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.fog,{<span class=\"code-attr\">scale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">dashSize</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">totalSize</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">2</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.linedashed_vert,<span class=\"code-attr\">fragmentShader</span>:ar.linedashed_frag},<span class=\"code-attr\">depth</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.displacementmap]),<span class=\"code-attr\">vertexShader</span>:ar.depth_vert,<span class=\"code-attr\">fragmentShader</span>:ar.depth_frag},<span class=\"code-attr\">normal</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.bumpmap,or.normalmap,or.displacementmap,{<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.normal_vert,<span class=\"code-attr\">fragmentShader</span>:ar.normal_frag},<span class=\"code-attr\">sprite</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.sprite,or.fog]),<span class=\"code-attr\">vertexShader</span>:ar.sprite_vert,<span class=\"code-attr\">fragmentShader</span>:ar.sprite_frag},<span class=\"code-attr\">background</span>:{<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">uvTransform</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> ft},<span class=\"code-attr\">t2D</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">vertexShader</span>:ar.background_vert,<span class=\"code-attr\">fragmentShader</span>:ar.background_frag},<span class=\"code-attr\">cube</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.envmap,{<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.cube_vert,<span class=\"code-attr\">fragmentShader</span>:ar.cube_frag},<span class=\"code-attr\">equirect</span>:{<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">tEquirect</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">vertexShader</span>:ar.equirect_vert,<span class=\"code-attr\">fragmentShader</span>:ar.equirect_frag},<span class=\"code-attr\">distanceRGBA</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.common,or.displacementmap,{<span class=\"code-attr\">referencePosition</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> Mt},<span class=\"code-attr\">nearDistance</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">farDistance</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1e3</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.distanceRGBA_vert,<span class=\"code-attr\">fragmentShader</span>:ar.distanceRGBA_frag},<span class=\"code-attr\">shadow</span>:{<span class=\"code-attr\">uniforms</span>:Vn([or.lights,or.fog,{<span class=\"code-attr\">color</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)},<span class=\"code-attr\">opacity</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.shadow_vert,<span class=\"code-attr\">fragmentShader</span>:ar.shadow_frag}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cr</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a,o,c=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),l=<span class=\"code-number\">0</span>,u=<span class=\"code-literal\">null</span>,h=<span class=\"code-number\">0</span>,d=<span class=\"code-literal\">null</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\">t,e</span>)</span>{n.buffers.color.setClear(t.r,t.g,t.b,e,i)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">getClearColor</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> c},<span class=\"code-attr\">setClearColor</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),c.set(t),p(c,l=e)},<span class=\"code-attr\">getClearAlpha</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l},<span class=\"code-attr\">setClearAlpha</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{p(c,l=t)},<span class=\"code-attr\">render</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,i,f,m</span>)</span>{<span class=\"code-keyword\">var</span> v=!<span class=\"code-number\">0</span>===i.isScene?i.background:<span class=\"code-literal\">null</span>;v&amp;&amp;v.isTexture&amp;&amp;(v=e.get(v));<span class=\"code-keyword\">var</span> g=t.xr,y=g.getSession&amp;&amp;g.getSession();y&amp;&amp;<span class=\"code-string\">\"additive\"</span>===y.environmentBlendMode&amp;&amp;(v=<span class=\"code-literal\">null</span>),<span class=\"code-literal\">null</span>===v?p(c,l):v&amp;&amp;v.isColor&amp;&amp;(p(v,<span class=\"code-number\">1</span>),m=!<span class=\"code-number\">0</span>),(t.autoClear||m)&amp;&amp;t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&amp;&amp;(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===s)?(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;((o=<span class=\"code-keyword\">new</span> Un(<span class=\"code-keyword\">new</span> Hn(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> jn({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"BackgroundCubeMaterial\"</span>,<span class=\"code-attr\">uniforms</span>:kn(sr.cube.uniforms),<span class=\"code-attr\">vertexShader</span>:sr.cube.vertexShader,<span class=\"code-attr\">fragmentShader</span>:sr.cube.fragmentShader,<span class=\"code-attr\">side</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>}))).geometry.deleteAttribute(<span class=\"code-string\">\"normal\"</span>),o.geometry.deleteAttribute(<span class=\"code-string\">\"uv\"</span>),o.onBeforeRender=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.matrixWorld.copyPosition(n.matrixWorld)},<span class=\"code-built_in\">Object</span>.defineProperty(o.material,<span class=\"code-string\">\"envMap\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.uniforms.envMap.value}}),r.update(o)),v.isWebGLCubeRenderTarget&amp;&amp;(v=v.texture),o.material.uniforms.envMap.value=v,o.material.uniforms.flipEnvMap.value=v.isCubeTexture&amp;&amp;v._needsFlipEnvMap?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>,u===v&amp;&amp;h===v.version&amp;&amp;d===t.toneMapping||(o.material.needsUpdate=!<span class=\"code-number\">0</span>,u=v,h=v.version,d=t.toneMapping),n.unshift(o,o.geometry,o.material,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-literal\">null</span>)):v&amp;&amp;v.isTexture&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;((a=<span class=\"code-keyword\">new</span> Un(<span class=\"code-keyword\">new</span> ir(<span class=\"code-number\">2</span>,<span class=\"code-number\">2</span>),<span class=\"code-keyword\">new</span> jn({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"BackgroundMaterial\"</span>,<span class=\"code-attr\">uniforms</span>:kn(sr.background.uniforms),<span class=\"code-attr\">vertexShader</span>:sr.background.vertexShader,<span class=\"code-attr\">fragmentShader</span>:sr.background.fragmentShader,<span class=\"code-attr\">side</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>}))).geometry.deleteAttribute(<span class=\"code-string\">\"normal\"</span>),<span class=\"code-built_in\">Object</span>.defineProperty(a.material,<span class=\"code-string\">\"map\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=v,!<span class=\"code-number\">0</span>===v.matrixAutoUpdate&amp;&amp;v.updateMatrix(),a.material.uniforms.uvTransform.value.copy(v.matrix),u===v&amp;&amp;h===v.version&amp;&amp;d===t.toneMapping||(a.material.needsUpdate=!<span class=\"code-number\">0</span>,u=v,h=v.version,d=t.toneMapping),n.unshift(a,a.geometry,a.material,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-literal\">null</span>))}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lr</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=t.getParameter(<span class=\"code-number\">34921</span>),a=r.isWebGL2?<span class=\"code-literal\">null</span>:e.get(<span class=\"code-string\">\"OES_vertex_array_object\"</span>),o=r.isWebGL2||<span class=\"code-literal\">null</span>!==a,s={},c=d(<span class=\"code-literal\">null</span>),l=c;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">h</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">d</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=[],r=[],a=<span class=\"code-number\">0</span>;a&lt;i;a++)e[a]=<span class=\"code-number\">0</span>,n[a]=<span class=\"code-number\">0</span>,r[a]=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">geometry</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">program</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">wireframe</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">newAttributes</span>:e,<span class=\"code-attr\">enabledAttributes</span>:n,<span class=\"code-attr\">attributeDivisors</span>:r,<span class=\"code-attr\">object</span>:t,<span class=\"code-attr\">attributes</span>:{},<span class=\"code-attr\">index</span>:<span class=\"code-literal\">null</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=l.newAttributes,e=<span class=\"code-number\">0</span>,n=t.length;e&lt;n;e++)t[e]=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\">t</span>)</span>{m(t,<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">m</span>(<span class=\"code-params\">n,i</span>)</span>{<span class=\"code-keyword\">var</span> a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>===o[n]&amp;&amp;(t.enableVertexAttribArray(n),o[n]=<span class=\"code-number\">1</span>),s[n]!==i)&amp;&amp;((r.isWebGL2?t:e.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>))[r.isWebGL2?<span class=\"code-string\">\"vertexAttribDivisor\"</span>:<span class=\"code-string\">\"vertexAttribDivisorANGLE\"</span>](n,i),s[n]=i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">v</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=l.newAttributes,n=l.enabledAttributes,r=<span class=\"code-number\">0</span>,i=n.length;r&lt;i;r++)n[r]!==e[r]&amp;&amp;(t.disableVertexAttribArray(r),n[r]=<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">g</span>(<span class=\"code-params\">e,n,i,a,o,s</span>)</span>{!<span class=\"code-number\">0</span>!==r.isWebGL2||<span class=\"code-number\">5124</span>!==i&amp;&amp;<span class=\"code-number\">5125</span>!==i?t.vertexAttribPointer(e,n,i,a,o,s):t.vertexAttribIPointer(e,n,i,o,s)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">y</span>(<span class=\"code-params\"></span>)</span>{x(),l!==c&amp;&amp;u((l=c).object)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">x</span>(<span class=\"code-params\"></span>)</span>{c.geometry=<span class=\"code-literal\">null</span>,c.program=<span class=\"code-literal\">null</span>,c.wireframe=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">setup</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,c,h,y,x</span>)</span>{<span class=\"code-keyword\">var</span> _=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(o){<span class=\"code-keyword\">var</span> b=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,i</span>)</span>{<span class=\"code-keyword\">var</span> o=!<span class=\"code-number\">0</span>===i.wireframe,c=s[e.id];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===c&amp;&amp;(c={},s[e.id]=c);<span class=\"code-keyword\">var</span> l=c[n.id];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l&amp;&amp;(l={},c[n.id]=l);<span class=\"code-keyword\">var</span> u=l[o];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u&amp;&amp;(u=d(r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),l[o]=u);<span class=\"code-keyword\">return</span> u}(y,h,c);l!==b&amp;&amp;u((l=b).object),(_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=l.attributes,r=t.attributes,i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> r){<span class=\"code-keyword\">var</span> o=n[a],s=r[a];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(o.attribute!==s)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(o.data!==s.data)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;i++}<span class=\"code-keyword\">return</span> l.attributesNum!==i||l.index!==e}(y,x))&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n={},r=t.attributes,i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> r){<span class=\"code-keyword\">var</span> o=r[a],s={};s.attribute=o,o.data&amp;&amp;(s.data=o.data),n[a]=s,i++}l.attributes=n,l.attributesNum=i,l.index=e}(y,x)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> w=!<span class=\"code-number\">0</span>===c.wireframe;l.geometry===y.id&amp;&amp;l.program===h.id&amp;&amp;l.wireframe===w||(l.geometry=y.id,l.program=h.id,l.wireframe=w,_=!<span class=\"code-number\">0</span>)}!<span class=\"code-number\">0</span>===i.isInstancedMesh&amp;&amp;(_=!<span class=\"code-number\">0</span>),<span class=\"code-literal\">null</span>!==x&amp;&amp;n.update(x,<span class=\"code-number\">34963</span>),_&amp;&amp;(!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,a,o,s</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===r.isWebGL2&amp;&amp;(i.isInstancedMesh||s.isInstancedBufferGeometry)&amp;&amp;<span class=\"code-literal\">null</span>===e.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>))<span class=\"code-keyword\">return</span>;p();<span class=\"code-keyword\">var</span> c=s.attributes,l=o.getAttributes(),u=a.defaultAttributeValues;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h <span class=\"code-keyword\">in</span> l){<span class=\"code-keyword\">var</span> d=l[h];<span class=\"code-keyword\">if</span>(d&gt;=<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> y=c[h];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==y){<span class=\"code-keyword\">var</span> x=y.normalized,_=y.itemSize,b=n.get(y);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===b)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">var</span> w=b.buffer,M=b.type,S=b.bytesPerElement;<span class=\"code-keyword\">if</span>(y.isInterleavedBufferAttribute){<span class=\"code-keyword\">var</span> T=y.data,E=T.stride,A=y.offset;T&amp;&amp;T.isInstancedInterleavedBuffer?(m(d,T.meshPerAttribute),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s._maxInstanceCount&amp;&amp;(s._maxInstanceCount=T.meshPerAttribute*T.count)):f(d),t.bindBuffer(<span class=\"code-number\">34962</span>,w),g(d,_,M,x,E*S,A*S)}<span class=\"code-keyword\">else</span> y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s._maxInstanceCount&amp;&amp;(s._maxInstanceCount=y.meshPerAttribute*y.count)):f(d),t.bindBuffer(<span class=\"code-number\">34962</span>,w),g(d,_,M,x,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"instanceMatrix\"</span>===h){<span class=\"code-keyword\">var</span> L=n.get(i.instanceMatrix);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===L)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">var</span> R=L.buffer,C=L.type;m(d+<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),m(d+<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),m(d+<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>),m(d+<span class=\"code-number\">3</span>,<span class=\"code-number\">1</span>),t.bindBuffer(<span class=\"code-number\">34962</span>,R),t.vertexAttribPointer(d+<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,C,!<span class=\"code-number\">1</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">0</span>),t.vertexAttribPointer(d+<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>,C,!<span class=\"code-number\">1</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">16</span>),t.vertexAttribPointer(d+<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,C,!<span class=\"code-number\">1</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">32</span>),t.vertexAttribPointer(d+<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>,C,!<span class=\"code-number\">1</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">48</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"instanceColor\"</span>===h){<span class=\"code-keyword\">var</span> P=n.get(i.instanceColor);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===P)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">var</span> I=P.buffer,N=P.type;m(d,<span class=\"code-number\">1</span>),t.bindBuffer(<span class=\"code-number\">34962</span>,I),t.vertexAttribPointer(d,<span class=\"code-number\">3</span>,N,!<span class=\"code-number\">1</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==u){<span class=\"code-keyword\">var</span> D=u[h];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==D)<span class=\"code-keyword\">switch</span>(D.length){<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:t.vertexAttrib2fv(d,D);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:t.vertexAttrib3fv(d,D);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:t.vertexAttrib4fv(d,D);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:t.vertexAttrib1fv(d,D)}}}}v()}(i,c,h,y),<span class=\"code-literal\">null</span>!==x&amp;&amp;t.bindBuffer(<span class=\"code-number\">34963</span>,n.get(x).buffer))},<span class=\"code-attr\">reset</span>:y,<span class=\"code-attr\">resetDefaultState</span>:x,<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> y(),s){<span class=\"code-keyword\">var</span> e=s[t];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e){<span class=\"code-keyword\">var</span> r=e[n];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)h(r[i].object),<span class=\"code-keyword\">delete</span> r[i];<span class=\"code-keyword\">delete</span> e[n]}<span class=\"code-keyword\">delete</span> s[t]}},<span class=\"code-attr\">releaseStatesOfGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s[t.id]){<span class=\"code-keyword\">var</span> e=s[t.id];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e){<span class=\"code-keyword\">var</span> r=e[n];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)h(r[i].object),<span class=\"code-keyword\">delete</span> r[i];<span class=\"code-keyword\">delete</span> e[n]}<span class=\"code-keyword\">delete</span> s[t.id]}},<span class=\"code-attr\">releaseStatesOfProgram</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e <span class=\"code-keyword\">in</span> s){<span class=\"code-keyword\">var</span> n=s[e];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n[t.id]){<span class=\"code-keyword\">var</span> r=n[t.id];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r)h(r[i].object),<span class=\"code-keyword\">delete</span> r[i];<span class=\"code-keyword\">delete</span> n[t.id]}}},<span class=\"code-attr\">initAttributes</span>:p,<span class=\"code-attr\">enableAttribute</span>:f,<span class=\"code-attr\">disableUnusedAttributes</span>:v}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ur</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a=r.isWebGL2;<span class=\"code-keyword\">this</span>.setMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i=t},<span class=\"code-keyword\">this</span>.render=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{t.drawArrays(i,e,r),n.update(r,i,<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.renderInstances=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,o,s</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==s){<span class=\"code-keyword\">var</span> c,l;<span class=\"code-keyword\">if</span>(a)c=t,l=<span class=\"code-string\">\"drawArraysInstanced\"</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(l=<span class=\"code-string\">\"drawArraysInstancedANGLE\"</span>,<span class=\"code-literal\">null</span>===(c=e.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\"</span>);c[l](i,r,o,s),n.update(o,i,s)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"highp\"</span>===e){<span class=\"code-keyword\">if</span>(t.getShaderPrecisionFormat(<span class=\"code-number\">35633</span>,<span class=\"code-number\">36338</span>).precision&gt;<span class=\"code-number\">0</span>&amp;&amp;t.getShaderPrecisionFormat(<span class=\"code-number\">35632</span>,<span class=\"code-number\">36338</span>).precision&gt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"highp\"</span>;e=<span class=\"code-string\">\"mediump\"</span>}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"mediump\"</span>===e&amp;&amp;t.getShaderPrecisionFormat(<span class=\"code-number\">35633</span>,<span class=\"code-number\">36337</span>).precision&gt;<span class=\"code-number\">0</span>&amp;&amp;t.getShaderPrecisionFormat(<span class=\"code-number\">35632</span>,<span class=\"code-number\">36337</span>).precision&gt;<span class=\"code-number\">0</span>?<span class=\"code-string\">\"mediump\"</span>:<span class=\"code-string\">\"lowp\"</span>}<span class=\"code-keyword\">var</span> a=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> WebGL2RenderingContext&amp;&amp;t <span class=\"code-keyword\">instanceof</span> WebGL2RenderingContext||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> WebGL2ComputeRenderingContext&amp;&amp;t <span class=\"code-keyword\">instanceof</span> WebGL2ComputeRenderingContext,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.precision?n.precision:<span class=\"code-string\">\"highp\"</span>,s=i(o);s!==o&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer:\"</span>,o,<span class=\"code-string\">\"not supported, using\"</span>,s,<span class=\"code-string\">\"instead.\"</span>),o=s);<span class=\"code-keyword\">var</span> c=!<span class=\"code-number\">0</span>===n.logarithmicDepthBuffer,l=t.getParameter(<span class=\"code-number\">34930</span>),u=t.getParameter(<span class=\"code-number\">35660</span>),h=t.getParameter(<span class=\"code-number\">3379</span>),d=t.getParameter(<span class=\"code-number\">34076</span>),p=t.getParameter(<span class=\"code-number\">34921</span>),f=t.getParameter(<span class=\"code-number\">36347</span>),m=t.getParameter(<span class=\"code-number\">36348</span>),v=t.getParameter(<span class=\"code-number\">36349</span>),g=u&gt;<span class=\"code-number\">0</span>,y=a||!!e.get(<span class=\"code-string\">\"OES_texture_float\"</span>);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">isWebGL2</span>:a,<span class=\"code-attr\">getMaxAnisotropy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">var</span> n=e.get(<span class=\"code-string\">\"EXT_texture_filter_anisotropic\"</span>);<span class=\"code-keyword\">return</span> r=<span class=\"code-literal\">null</span>!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):<span class=\"code-number\">0</span>},<span class=\"code-attr\">getMaxPrecision</span>:i,<span class=\"code-attr\">precision</span>:o,<span class=\"code-attr\">logarithmicDepthBuffer</span>:c,<span class=\"code-attr\">maxTextures</span>:l,<span class=\"code-attr\">maxVertexTextures</span>:u,<span class=\"code-attr\">maxTextureSize</span>:h,<span class=\"code-attr\">maxCubemapSize</span>:d,<span class=\"code-attr\">maxAttributes</span>:p,<span class=\"code-attr\">maxVertexUniforms</span>:f,<span class=\"code-attr\">maxVaryings</span>:m,<span class=\"code-attr\">maxFragmentUniforms</span>:v,<span class=\"code-attr\">vertexTextures</span>:g,<span class=\"code-attr\">floatFragmentTextures</span>:y,<span class=\"code-attr\">floatVertexTextures</span>:g&amp;&amp;y,<span class=\"code-attr\">maxSamples</span>:a?t.getParameter(<span class=\"code-number\">36183</span>):<span class=\"code-number\">0</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-number\">0</span>,i=!<span class=\"code-number\">1</span>,a=!<span class=\"code-number\">1</span>,o=<span class=\"code-keyword\">new</span> Ee,s=<span class=\"code-keyword\">new</span> ft,c={<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">needsUpdate</span>:!<span class=\"code-number\">1</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\"></span>)</span>{c.value!==n&amp;&amp;(c.value=n,c.needsUpdate=r&gt;<span class=\"code-number\">0</span>),e.numPlanes=r,e.numIntersection=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>!==t?t.length:<span class=\"code-number\">0</span>,l=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==a){<span class=\"code-keyword\">if</span>(l=c.value,!<span class=\"code-number\">0</span>!==i||<span class=\"code-literal\">null</span>===l){<span class=\"code-keyword\">var</span> u=r+<span class=\"code-number\">4</span>*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(<span class=\"code-literal\">null</span>===l||l.length&lt;u)&amp;&amp;(l=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(u));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=r;d!==a;++d,p+=<span class=\"code-number\">4</span>)o.copy(t[d]).applyMatrix4(h,s),o.normal.toArray(l,p),l[p+<span class=\"code-number\">3</span>]=o.constant}c.value=l,c.needsUpdate=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span> e.numPlanes=a,e.numIntersection=<span class=\"code-number\">0</span>,l}<span class=\"code-keyword\">this</span>.uniform=c,<span class=\"code-keyword\">this</span>.numPlanes=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.numIntersection=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.init=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,a</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>!==t.length||e||<span class=\"code-number\">0</span>!==r||i;<span class=\"code-keyword\">return</span> i=e,n=u(t,a,<span class=\"code-number\">0</span>),r=t.length,o},<span class=\"code-keyword\">this</span>.beginShadows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=!<span class=\"code-number\">0</span>,u(<span class=\"code-literal\">null</span>)},<span class=\"code-keyword\">this</span>.endShadows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=!<span class=\"code-number\">1</span>,l()},<span class=\"code-keyword\">this</span>.setState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,o,s</span>)</span>{<span class=\"code-keyword\">var</span> h=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);<span class=\"code-keyword\">if</span>(!i||<span class=\"code-literal\">null</span>===h||<span class=\"code-number\">0</span>===h.length||a&amp;&amp;!p)a?u(<span class=\"code-literal\">null</span>):l();<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> m=a?<span class=\"code-number\">0</span>:r,v=<span class=\"code-number\">4</span>*m,g=f.clippingState||<span class=\"code-literal\">null</span>;c.value=g,g=u(h,o,v,s);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y!==v;++y)g[y]=n[y];f.clippingState=g,<span class=\"code-keyword\">this</span>.numIntersection=d?<span class=\"code-keyword\">this</span>.numPlanes:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.numPlanes+=m}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> e===a?t.mapping=r:e===o&amp;&amp;(t.mapping=i),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.target;n.removeEventListener(<span class=\"code-string\">\"dispose\"</span>,s);<span class=\"code-keyword\">var</span> r=e.get(n);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;(e.delete(n),r.dispose())}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">if</span>(r&amp;&amp;r.isTexture){<span class=\"code-keyword\">var</span> i=r.mapping;<span class=\"code-keyword\">if</span>(i===a||i===o){<span class=\"code-keyword\">if</span>(e.has(r))<span class=\"code-keyword\">return</span> n(e.get(r).texture,r.mapping);<span class=\"code-keyword\">var</span> c=r.image;<span class=\"code-keyword\">if</span>(c&amp;&amp;c.height&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> l=t.getRenderList(),u=t.getRenderTarget(),h=t.getRenderState(),d=<span class=\"code-keyword\">new</span> Qn(c.height/<span class=\"code-number\">2</span>);<span class=\"code-keyword\">return</span> d.fromEquirectangularTexture(t,r),e.set(r,d),t.setRenderTarget(u),t.setRenderList(l),t.setRenderState(h),r.addEventListener(<span class=\"code-string\">\"dispose\"</span>,s),n(d.texture,r.mapping)}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}<span class=\"code-keyword\">return</span> r},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">has</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[n])<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==e[n];<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">switch</span>(n){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"WEBGL_depth_texture\"</span>:r=t.getExtension(<span class=\"code-string\">\"WEBGL_depth_texture\"</span>)||t.getExtension(<span class=\"code-string\">\"MOZ_WEBGL_depth_texture\"</span>)||t.getExtension(<span class=\"code-string\">\"WEBKIT_WEBGL_depth_texture\"</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"EXT_texture_filter_anisotropic\"</span>:r=t.getExtension(<span class=\"code-string\">\"EXT_texture_filter_anisotropic\"</span>)||t.getExtension(<span class=\"code-string\">\"MOZ_EXT_texture_filter_anisotropic\"</span>)||t.getExtension(<span class=\"code-string\">\"WEBKIT_EXT_texture_filter_anisotropic\"</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"WEBGL_compressed_texture_s3tc\"</span>:r=t.getExtension(<span class=\"code-string\">\"WEBGL_compressed_texture_s3tc\"</span>)||t.getExtension(<span class=\"code-string\">\"MOZ_WEBGL_compressed_texture_s3tc\"</span>)||t.getExtension(<span class=\"code-string\">\"WEBKIT_WEBGL_compressed_texture_s3tc\"</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"WEBGL_compressed_texture_pvrtc\"</span>:r=t.getExtension(<span class=\"code-string\">\"WEBGL_compressed_texture_pvrtc\"</span>)||t.getExtension(<span class=\"code-string\">\"WEBKIT_WEBGL_compressed_texture_pvrtc\"</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r=t.getExtension(n)}<span class=\"code-keyword\">return</span> e[n]=r,<span class=\"code-literal\">null</span>!==r},<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.has(t)||<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: \"</span>+t+<span class=\"code-string\">\" extension not supported.\"</span>),e[t]}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mr</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>,a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> s=t.target,c=i.get(s);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l <span class=\"code-keyword\">in</span> <span class=\"code-literal\">null</span>!==c.index&amp;&amp;e.remove(c.index),c.attributes)e.remove(c.attributes[l]);s.removeEventListener(<span class=\"code-string\">\"dispose\"</span>,o),i.delete(s);<span class=\"code-keyword\">var</span> u=a.get(c);u&amp;&amp;(e.remove(u),a.delete(c)),r.releaseStatesOfGeometry(c),!<span class=\"code-number\">0</span>===s.isInstancedBufferGeometry&amp;&amp;<span class=\"code-keyword\">delete</span> s._maxInstanceCount,n.memory.geometries--}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=[],r=t.index,i=t.attributes.position,o=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==r){<span class=\"code-keyword\">var</span> s=r.array;o=r.version;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>,l=s.length;c&lt;l;c+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> u=s[c+<span class=\"code-number\">0</span>],h=s[c+<span class=\"code-number\">1</span>],d=s[c+<span class=\"code-number\">2</span>];n.push(u,h,h,d,d,u)}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> p=i.array;o=i.version;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,m=p.length/<span class=\"code-number\">3</span><span class=\"code-number\">-1</span>;f&lt;m;f+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> v=f+<span class=\"code-number\">0</span>,g=f+<span class=\"code-number\">1</span>,y=f+<span class=\"code-number\">2</span>;n.push(v,g,g,y,y,v)}}<span class=\"code-keyword\">var</span> x=<span class=\"code-keyword\">new</span>(un(n)&gt;<span class=\"code-number\">65535</span>?an:nn)(n,<span class=\"code-number\">1</span>);x.version=o;<span class=\"code-keyword\">var</span> _=a.get(t);_&amp;&amp;e.remove(_),a.set(t,x)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r=i.get(e);<span class=\"code-keyword\">return</span> r||(e.addEventListener(<span class=\"code-string\">\"dispose\"</span>,o),e.isBufferGeometry?r=e:e.isGeometry&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e._bufferGeometry&amp;&amp;(e._bufferGeometry=(<span class=\"code-keyword\">new</span> _n).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> n)e.update(n[r],<span class=\"code-number\">34962</span>);<span class=\"code-keyword\">var</span> i=t.morphAttributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> i)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=i[a],s=<span class=\"code-number\">0</span>,c=o.length;s&lt;c;s++)e.update(o[s],<span class=\"code-number\">34962</span>)},<span class=\"code-attr\">getWireframeAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=a.get(t);<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> n=t.index;<span class=\"code-literal\">null</span>!==n&amp;&amp;e.version&lt;n.version&amp;&amp;s(t)}<span class=\"code-keyword\">else</span> s(t);<span class=\"code-keyword\">return</span> a.get(t)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vr</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a,o,s=r.isWebGL2;<span class=\"code-keyword\">this</span>.setMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i=t},<span class=\"code-keyword\">this</span>.setIndex=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{a=t.type,o=t.bytesPerElement},<span class=\"code-keyword\">this</span>.render=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{t.drawElements(i,r,a,e*o),n.update(r,i,<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.renderInstances=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,c,l</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==l){<span class=\"code-keyword\">var</span> u,h;<span class=\"code-keyword\">if</span>(s)u=t,h=<span class=\"code-string\">\"drawElementsInstanced\"</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(h=<span class=\"code-string\">\"drawElementsInstancedANGLE\"</span>,<span class=\"code-literal\">null</span>===(u=e.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\"</span>);u[h](i,c,a,r*o,l),n.update(c,i,l)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={<span class=\"code-attr\">frame</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">calls</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">triangles</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">points</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">lines</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">memory</span>:{<span class=\"code-attr\">geometries</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">textures</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">render</span>:e,<span class=\"code-attr\">programs</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">autoReset</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.frame++,e.calls=<span class=\"code-number\">0</span>,e.triangles=<span class=\"code-number\">0</span>,e.points=<span class=\"code-number\">0</span>,e.lines=<span class=\"code-number\">0</span>},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-keyword\">switch</span>(e.calls++,n){<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:e.triangles+=r*(t/<span class=\"code-number\">3</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:e.lines+=r*(t/<span class=\"code-number\">2</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:e.lines+=r*(t<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:e.lines+=r*t;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:e.points+=r*t;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLInfo: Unknown draw mode:\"</span>,n)}}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">0</span>]-e[<span class=\"code-number\">0</span>]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(e[<span class=\"code-number\">1</span>])-<span class=\"code-built_in\">Math</span>.abs(t[<span class=\"code-number\">1</span>])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e={},n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">8</span>),r=[],i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-number\">8</span>;i++)r[i]=[i,<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=i.morphTargetInfluences,l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===c?<span class=\"code-number\">0</span>:c.length,u=e[a.id];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u){u=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>;h&lt;l;h++)u[h]=[h,<span class=\"code-number\">0</span>];e[a.id]=u}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>;d&lt;l;d++){<span class=\"code-keyword\">var</span> p=u[d];p[<span class=\"code-number\">0</span>]=d,p[<span class=\"code-number\">1</span>]=c[d]}u.sort(xr);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">8</span>;f++)f&lt;l&amp;&amp;u[f][<span class=\"code-number\">1</span>]?(r[f][<span class=\"code-number\">0</span>]=u[f][<span class=\"code-number\">0</span>],r[f][<span class=\"code-number\">1</span>]=u[f][<span class=\"code-number\">1</span>]):(r[f][<span class=\"code-number\">0</span>]=<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER,r[f][<span class=\"code-number\">1</span>]=<span class=\"code-number\">0</span>);r.sort(yr);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=o.morphTargets&amp;&amp;a.morphAttributes.position,v=o.morphNormals&amp;&amp;a.morphAttributes.normal,g=<span class=\"code-number\">0</span>,y=<span class=\"code-number\">0</span>;y&lt;<span class=\"code-number\">8</span>;y++){<span class=\"code-keyword\">var</span> x=r[y],_=x[<span class=\"code-number\">0</span>],b=x[<span class=\"code-number\">1</span>];_!==<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER&amp;&amp;b?(m&amp;&amp;a.getAttribute(<span class=\"code-string\">\"morphTarget\"</span>+y)!==m[_]&amp;&amp;a.setAttribute(<span class=\"code-string\">\"morphTarget\"</span>+y,m[_]),v&amp;&amp;a.getAttribute(<span class=\"code-string\">\"morphNormal\"</span>+y)!==v[_]&amp;&amp;a.setAttribute(<span class=\"code-string\">\"morphNormal\"</span>+y,v[_]),n[y]=b,g+=b):(m&amp;&amp;!<span class=\"code-number\">0</span>===a.hasAttribute(<span class=\"code-string\">\"morphTarget\"</span>+y)&amp;&amp;a.deleteAttribute(<span class=\"code-string\">\"morphTarget\"</span>+y),v&amp;&amp;!<span class=\"code-number\">0</span>===a.hasAttribute(<span class=\"code-string\">\"morphNormal\"</span>+y)&amp;&amp;a.deleteAttribute(<span class=\"code-string\">\"morphNormal\"</span>+y),n[y]=<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">var</span> w=a.morphTargetsRelative?<span class=\"code-number\">1</span>:<span class=\"code-number\">1</span>-g;s.getUniforms().setValue(t,<span class=\"code-string\">\"morphTargetBaseInfluence\"</span>,w),s.getUniforms().setValue(t,<span class=\"code-string\">\"morphTargetInfluences\"</span>,n)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">br</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> a=r.render.frame,o=t.geometry,s=e.get(t,o);<span class=\"code-keyword\">return</span> i.get(s)!==a&amp;&amp;(o.isGeometry&amp;&amp;s.updateFromObject(t),e.update(s),i.set(s,a)),t.isInstancedMesh&amp;&amp;(n.update(t.instanceMatrix,<span class=\"code-number\">34962</span>),<span class=\"code-literal\">null</span>!==t.instanceColor&amp;&amp;n.update(t.instanceColor,<span class=\"code-number\">34962</span>)),s},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wr</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),gt.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.image={<span class=\"code-attr\">data</span>:t,<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">depth</span>:r},<span class=\"code-keyword\">this</span>.magFilter=d,<span class=\"code-keyword\">this</span>.minFilter=d,<span class=\"code-keyword\">this</span>.wrapR=u,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mr</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),gt.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.image={<span class=\"code-attr\">data</span>:t,<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">depth</span>:r},<span class=\"code-keyword\">this</span>.magFilter=d,<span class=\"code-keyword\">this</span>.minFilter=d,<span class=\"code-keyword\">this</span>.wrapR=u,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>}sr.physical={<span class=\"code-attr\">uniforms</span>:Vn([sr.standard.uniforms,{<span class=\"code-attr\">clearcoat</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">clearcoatMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">clearcoatRoughness</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">clearcoatRoughnessMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">clearcoatNormalScale</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)},<span class=\"code-attr\">clearcoatNormalMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">sheen</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>)},<span class=\"code-attr\">transmission</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">transmissionMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>}}]),<span class=\"code-attr\">vertexShader</span>:ar.meshphysical_vert,<span class=\"code-attr\">fragmentShader</span>:ar.meshphysical_frag},wr.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),wr.prototype.constructor=wr,wr.prototype.isDataTexture2DArray=!<span class=\"code-number\">0</span>,Mr.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isDataTexture3D=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> Sr=<span class=\"code-keyword\">new</span> gt,Tr=<span class=\"code-keyword\">new</span> wr,Er=<span class=\"code-keyword\">new</span> Mr,Ar=<span class=\"code-keyword\">new</span> Jn,Lr=[],Rr=[],Cr=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">16</span>),Pr=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">9</span>),Ir=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">4</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(r&lt;=<span class=\"code-number\">0</span>||r&gt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> i=e*n,a=Lr[i];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(i),Lr[i]=a),<span class=\"code-number\">0</span>!==e){r.toArray(a,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">1</span>,s=<span class=\"code-number\">0</span>;o!==e;++o)s+=n,t[o].toArray(a,s)}<span class=\"code-keyword\">return</span> a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Dr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(t.length!==e.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++)<span class=\"code-keyword\">if</span>(t[n]!==e[n])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Or</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++)t[n]=e[n]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Br</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Rr[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(e),Rr[e]=n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r!==e;++r)n[r]=t.allocateTextureUnit();<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;n[<span class=\"code-number\">0</span>]!==e&amp;&amp;(t.uniform1f(<span class=\"code-keyword\">this</span>.addr,e),n[<span class=\"code-number\">0</span>]=e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ur</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.x)n[<span class=\"code-number\">0</span>]===e.x&amp;&amp;n[<span class=\"code-number\">1</span>]===e.y||(t.uniform2f(<span class=\"code-keyword\">this</span>.addr,e.x,e.y),n[<span class=\"code-number\">0</span>]=e.x,n[<span class=\"code-number\">1</span>]=e.y);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniform2fv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.x)n[<span class=\"code-number\">0</span>]===e.x&amp;&amp;n[<span class=\"code-number\">1</span>]===e.y&amp;&amp;n[<span class=\"code-number\">2</span>]===e.z||(t.uniform3f(<span class=\"code-keyword\">this</span>.addr,e.x,e.y,e.z),n[<span class=\"code-number\">0</span>]=e.x,n[<span class=\"code-number\">1</span>]=e.y,n[<span class=\"code-number\">2</span>]=e.z);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.r)n[<span class=\"code-number\">0</span>]===e.r&amp;&amp;n[<span class=\"code-number\">1</span>]===e.g&amp;&amp;n[<span class=\"code-number\">2</span>]===e.b||(t.uniform3f(<span class=\"code-keyword\">this</span>.addr,e.r,e.g,e.b),n[<span class=\"code-number\">0</span>]=e.r,n[<span class=\"code-number\">1</span>]=e.g,n[<span class=\"code-number\">2</span>]=e.b);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniform3fv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.x)n[<span class=\"code-number\">0</span>]===e.x&amp;&amp;n[<span class=\"code-number\">1</span>]===e.y&amp;&amp;n[<span class=\"code-number\">2</span>]===e.z&amp;&amp;n[<span class=\"code-number\">3</span>]===e.w||(t.uniform4f(<span class=\"code-keyword\">this</span>.addr,e.x,e.y,e.z,e.w),n[<span class=\"code-number\">0</span>]=e.x,n[<span class=\"code-number\">1</span>]=e.y,n[<span class=\"code-number\">2</span>]=e.z,n[<span class=\"code-number\">3</span>]=e.w);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniform4fv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache,r=e.elements;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r){<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniformMatrix2fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,e),Or(n,e)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,r))<span class=\"code-keyword\">return</span>;Ir.set(r),t.uniformMatrix2fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,Ir),Or(n,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache,r=e.elements;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r){<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniformMatrix3fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,e),Or(n,e)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,r))<span class=\"code-keyword\">return</span>;Pr.set(r),t.uniformMatrix3fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,Pr),Or(n,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache,r=e.elements;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r){<span class=\"code-keyword\">if</span>(Dr(n,e))<span class=\"code-keyword\">return</span>;t.uniformMatrix4fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,e),Or(n,e)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(Dr(n,r))<span class=\"code-keyword\">return</span>;Cr.set(r),t.uniformMatrix4fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,Cr),Or(n,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.cache,i=n.allocateTextureUnit();r[<span class=\"code-number\">0</span>]!==i&amp;&amp;(t.uniform1i(<span class=\"code-keyword\">this</span>.addr,i),r[<span class=\"code-number\">0</span>]=i),n.safeSetTexture2D(e||Sr,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.cache,i=n.allocateTextureUnit();r[<span class=\"code-number\">0</span>]!==i&amp;&amp;(t.uniform1i(<span class=\"code-keyword\">this</span>.addr,i),r[<span class=\"code-number\">0</span>]=i),n.setTexture2DArray(e||Tr,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.cache,i=n.allocateTextureUnit();r[<span class=\"code-number\">0</span>]!==i&amp;&amp;(t.uniform1i(<span class=\"code-keyword\">this</span>.addr,i),r[<span class=\"code-number\">0</span>]=i),n.setTexture3D(e||Er,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xr</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.cache,i=n.allocateTextureUnit();r[<span class=\"code-number\">0</span>]!==i&amp;&amp;(t.uniform1i(<span class=\"code-keyword\">this</span>.addr,i),r[<span class=\"code-number\">0</span>]=i),n.safeSetTextureCube(e||Ar,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;n[<span class=\"code-number\">0</span>]!==e&amp;&amp;(t.uniform1i(<span class=\"code-keyword\">this</span>.addr,e),n[<span class=\"code-number\">0</span>]=e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;Dr(n,e)||(t.uniform2iv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;Dr(n,e)||(t.uniform3iv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;Dr(n,e)||(t.uniform4iv(<span class=\"code-keyword\">this</span>.addr,e),Or(n,e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Kr</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.cache;n[<span class=\"code-number\">0</span>]!==e&amp;&amp;(t.uniform1ui(<span class=\"code-keyword\">this</span>.addr,e),n[<span class=\"code-number\">0</span>]=e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$r</span>(<span class=\"code-params\">t,e</span>)</span>{t.uniform1fv(<span class=\"code-keyword\">this</span>.addr,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ti</span>(<span class=\"code-params\">t,e</span>)</span>{t.uniform1iv(<span class=\"code-keyword\">this</span>.addr,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ei</span>(<span class=\"code-params\">t,e</span>)</span>{t.uniform2iv(<span class=\"code-keyword\">this</span>.addr,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ni</span>(<span class=\"code-params\">t,e</span>)</span>{t.uniform3iv(<span class=\"code-keyword\">this</span>.addr,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ri</span>(<span class=\"code-params\">t,e</span>)</span>{t.uniform4iv(<span class=\"code-keyword\">this</span>.addr,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ii</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">2</span>);t.uniform2fv(<span class=\"code-keyword\">this</span>.addr,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ai</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">3</span>);t.uniform3fv(<span class=\"code-keyword\">this</span>.addr,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">4</span>);t.uniform4fv(<span class=\"code-keyword\">this</span>.addr,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">si</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">4</span>);t.uniformMatrix2fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ci</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">9</span>);t.uniformMatrix3fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">li</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=Nr(e,<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">16</span>);t.uniformMatrix4fv(<span class=\"code-keyword\">this</span>.addr,!<span class=\"code-number\">1</span>,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ui</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.length,i=Br(n,r);t.uniform1iv(<span class=\"code-keyword\">this</span>.addr,i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a!==r;++a)n.safeSetTexture2D(e[a]||Sr,i[a])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hi</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.length,i=Br(n,r);t.uniform1iv(<span class=\"code-keyword\">this</span>.addr,i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a!==r;++a)n.safeSetTextureCube(e[a]||Ar,i[a])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">di</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.id=t,<span class=\"code-keyword\">this</span>.addr=n,<span class=\"code-keyword\">this</span>.cache=[],<span class=\"code-keyword\">this</span>.setValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">5126</span>:<span class=\"code-keyword\">return</span> zr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35664</span>:<span class=\"code-keyword\">return</span> Ur;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35665</span>:<span class=\"code-keyword\">return</span> Fr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35666</span>:<span class=\"code-keyword\">return</span> Gr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35674</span>:<span class=\"code-keyword\">return</span> Hr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35675</span>:<span class=\"code-keyword\">return</span> kr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35676</span>:<span class=\"code-keyword\">return</span> Vr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5124</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35670</span>:<span class=\"code-keyword\">return</span> Yr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35667</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35671</span>:<span class=\"code-keyword\">return</span> Zr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35668</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35672</span>:<span class=\"code-keyword\">return</span> Jr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35669</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35673</span>:<span class=\"code-keyword\">return</span> Qr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5125</span>:<span class=\"code-keyword\">return</span> Kr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35678</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36198</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36298</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36306</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35682</span>:<span class=\"code-keyword\">return</span> Wr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35679</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36299</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36307</span>:<span class=\"code-keyword\">return</span> qr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35680</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36300</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36308</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36293</span>:<span class=\"code-keyword\">return</span> Xr;<span class=\"code-keyword\">case</span> <span class=\"code-number\">36289</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36303</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36311</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36292</span>:<span class=\"code-keyword\">return</span> jr}}(e.type)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pi</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.id=t,<span class=\"code-keyword\">this</span>.addr=n,<span class=\"code-keyword\">this</span>.cache=[],<span class=\"code-keyword\">this</span>.size=e.size,<span class=\"code-keyword\">this</span>.setValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> <span class=\"code-number\">5126</span>:<span class=\"code-keyword\">return</span> $r;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35664</span>:<span class=\"code-keyword\">return</span> ii;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35665</span>:<span class=\"code-keyword\">return</span> ai;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35666</span>:<span class=\"code-keyword\">return</span> oi;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35674</span>:<span class=\"code-keyword\">return</span> si;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35675</span>:<span class=\"code-keyword\">return</span> ci;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35676</span>:<span class=\"code-keyword\">return</span> li;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5124</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35670</span>:<span class=\"code-keyword\">return</span> ti;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35667</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35671</span>:<span class=\"code-keyword\">return</span> ei;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35668</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35672</span>:<span class=\"code-keyword\">return</span> ni;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35669</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35673</span>:<span class=\"code-keyword\">return</span> ri;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35678</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36198</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36298</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36306</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">35682</span>:<span class=\"code-keyword\">return</span> ui;<span class=\"code-keyword\">case</span> <span class=\"code-number\">35680</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36300</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36308</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">36293</span>:<span class=\"code-keyword\">return</span> hi}}(e.type)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fi</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.id=t,<span class=\"code-keyword\">this</span>.seq=[],<span class=\"code-keyword\">this</span>.map={}}pi.prototype.updateCache=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.cache;t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Float32Array</span>&amp;&amp;e.length!==t.length&amp;&amp;(<span class=\"code-keyword\">this</span>.cache=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(t.length)),Or(e,t)},fi.prototype.setValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.seq,i=<span class=\"code-number\">0</span>,a=r.length;i!==a;++i){<span class=\"code-keyword\">var</span> o=r[i];o.setValue(t,e[o.id],n)}};<span class=\"code-keyword\">var</span> mi=<span class=\"code-regexp\">/([\\w\\d_]+)(\\])?(\\[|\\.)?/g</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vi</span>(<span class=\"code-params\">t,e</span>)</span>{t.seq.push(e),t.map[e.id]=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gi</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.name,i=r.length;<span class=\"code-keyword\">for</span>(mi.lastIndex=<span class=\"code-number\">0</span>;;){<span class=\"code-keyword\">var</span> a=mi.exec(r),o=mi.lastIndex,s=a[<span class=\"code-number\">1</span>],c=<span class=\"code-string\">\"]\"</span>===a[<span class=\"code-number\">2</span>],l=a[<span class=\"code-number\">3</span>];<span class=\"code-keyword\">if</span>(c&amp;&amp;(s|=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l||<span class=\"code-string\">\"[\"</span>===l&amp;&amp;o+<span class=\"code-number\">2</span>===i){vi(n,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l?<span class=\"code-keyword\">new</span> di(s,t,e):<span class=\"code-keyword\">new</span> pi(s,t,e));<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">var</span> u=n.map[s];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u&amp;&amp;vi(n,u=<span class=\"code-keyword\">new</span> fi(s)),n=u}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.seq=[],<span class=\"code-keyword\">this</span>.map={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=t.getProgramParameter(e,<span class=\"code-number\">35718</span>),r=<span class=\"code-number\">0</span>;r&lt;n;++r){<span class=\"code-keyword\">var</span> i=t.getActiveUniform(e,r);gi(i,t.getUniformLocation(e,i.name),<span class=\"code-keyword\">this</span>)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xi</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.createShader(e);<span class=\"code-keyword\">return</span> t.shaderSource(r,n),t.compileShader(r),r}yi.prototype.setValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.map[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;i.setValue(t,n,r)},yi.prototype.setOptional=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e[n];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;<span class=\"code-keyword\">this</span>.setValue(t,n,r)},yi.upload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=e.length;i!==a;++i){<span class=\"code-keyword\">var</span> o=e[i],s=n[o.id];!<span class=\"code-number\">1</span>!==s.needsUpdate&amp;&amp;o.setValue(t,s.value,r)}},yi.seqWithValue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=<span class=\"code-number\">0</span>,i=t.length;r!==i;++r){<span class=\"code-keyword\">var</span> a=t[r];a.id <span class=\"code-keyword\">in</span> e&amp;&amp;n.push(a)}<span class=\"code-keyword\">return</span> n};<span class=\"code-keyword\">var</span> _i=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bi</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> q:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"Linear\"</span>,<span class=\"code-string\">\"( value )\"</span>];<span class=\"code-keyword\">case</span> X:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"sRGB\"</span>,<span class=\"code-string\">\"( value )\"</span>];<span class=\"code-keyword\">case</span> Z:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"RGBE\"</span>,<span class=\"code-string\">\"( value )\"</span>];<span class=\"code-keyword\">case</span> J:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"RGBM\"</span>,<span class=\"code-string\">\"( value, 7.0 )\"</span>];<span class=\"code-keyword\">case</span> Q:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"RGBM\"</span>,<span class=\"code-string\">\"( value, 16.0 )\"</span>];<span class=\"code-keyword\">case</span> K:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"RGBD\"</span>,<span class=\"code-string\">\"( value, 256.0 )\"</span>];<span class=\"code-keyword\">case</span> Y:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"Gamma\"</span>,<span class=\"code-string\">\"( value, float( GAMMA_FACTOR ) )\"</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">3003</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"LogLuv\"</span>,<span class=\"code-string\">\"( value )\"</span>];<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLProgram: Unsupported encoding:\"</span>,t),[<span class=\"code-string\">\"Linear\"</span>,<span class=\"code-string\">\"( value )\"</span>]}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wi</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.getShaderParameter(e,<span class=\"code-number\">35713</span>),i=t.getShaderInfoLog(e).trim();<span class=\"code-keyword\">return</span> r&amp;&amp;<span class=\"code-string\">\"\"</span>===i?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"THREE.WebGLShader: gl.getShaderInfoLog() \"</span>+n+<span class=\"code-string\">\"\\n\"</span>+i+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.split(<span class=\"code-string\">\"\\n\"</span>),n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)e[n]=n+<span class=\"code-number\">1</span>+<span class=\"code-string\">\": \"</span>+e[n];<span class=\"code-keyword\">return</span> e.join(<span class=\"code-string\">\"\\n\"</span>)}(t.getShaderSource(e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=bi(e);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vec4 \"</span>+t+<span class=\"code-string\">\"( vec4 value ) { return \"</span>+n[<span class=\"code-number\">0</span>]+<span class=\"code-string\">\"ToLinear\"</span>+n[<span class=\"code-number\">1</span>]+<span class=\"code-string\">\"; }\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Si</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:n=<span class=\"code-string\">\"Linear\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:n=<span class=\"code-string\">\"Reinhard\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:n=<span class=\"code-string\">\"OptimizedCineon\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:n=<span class=\"code-string\">\"ACESFilmic\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:n=<span class=\"code-string\">\"Custom\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLProgram: Unsupported toneMapping:\"</span>,e),n=<span class=\"code-string\">\"Linear\"</span>}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vec3 \"</span>+t+<span class=\"code-string\">\"( vec3 color ) { return \"</span>+n+<span class=\"code-string\">\"ToneMapping( color ); }\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ti</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>!==t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ei</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/NUM_DIR_LIGHTS/g</span>,e.numDirLights).replace(<span class=\"code-regexp\">/NUM_SPOT_LIGHTS/g</span>,e.numSpotLights).replace(<span class=\"code-regexp\">/NUM_RECT_AREA_LIGHTS/g</span>,e.numRectAreaLights).replace(<span class=\"code-regexp\">/NUM_POINT_LIGHTS/g</span>,e.numPointLights).replace(<span class=\"code-regexp\">/NUM_HEMI_LIGHTS/g</span>,e.numHemiLights).replace(<span class=\"code-regexp\">/NUM_DIR_LIGHT_SHADOWS/g</span>,e.numDirLightShadows).replace(<span class=\"code-regexp\">/NUM_SPOT_LIGHT_SHADOWS/g</span>,e.numSpotLightShadows).replace(<span class=\"code-regexp\">/NUM_POINT_LIGHT_SHADOWS/g</span>,e.numPointLightShadows)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ai</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/NUM_CLIPPING_PLANES/g</span>,e.numClippingPlanes).replace(<span class=\"code-regexp\">/UNION_CLIPPING_PLANES/g</span>,e.numClippingPlanes-e.numClipIntersection)}<span class=\"code-keyword\">var</span> Li=<span class=\"code-regexp\">/^[ \\t]*#include +&lt;([\\w\\d./]+)&gt;/gm</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ri</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(Li,Ci)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ci</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=ar[e];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Can not resolve #include &lt;\"</span>+e+<span class=\"code-string\">\"&gt;\"</span>);<span class=\"code-keyword\">return</span> Ri(n)}<span class=\"code-keyword\">var</span> Pi=<span class=\"code-regexp\">/#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i &lt; (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g</span>,Ii=<span class=\"code-regexp\">/#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*&lt;\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ni</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(Ii,Oi).replace(Pi,Di)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Di</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.\"</span>),Oi(t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oi</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-string\">\"\"</span>,a=<span class=\"code-built_in\">parseInt</span>(e);a&lt;<span class=\"code-built_in\">parseInt</span>(n);a++)i+=r.replace(<span class=\"code-regexp\">/\\[\\s*i\\s*\\]/g</span>,<span class=\"code-string\">\"[ \"</span>+a+<span class=\"code-string\">\" ]\"</span>).replace(<span class=\"code-regexp\">/UNROLLED_LOOP_INDEX/g</span>,a);<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bi</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"precision \"</span>+t.precision+<span class=\"code-string\">\" float;\\nprecision \"</span>+t.precision+<span class=\"code-string\">\" int;\"</span>;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"highp\"</span>===t.precision?e+=<span class=\"code-string\">\"\\n#define HIGH_PRECISION\"</span>:<span class=\"code-string\">\"mediump\"</span>===t.precision?e+=<span class=\"code-string\">\"\\n#define MEDIUM_PRECISION\"</span>:<span class=\"code-string\">\"lowp\"</span>===t.precision&amp;&amp;(e+=<span class=\"code-string\">\"\\n#define LOW_PRECISION\"</span>),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zi</span>(<span class=\"code-params\">t,e,n,a</span>)</span>{<span class=\"code-keyword\">var</span> o,l,u,h,d,p=t.getContext(),f=n.defines,m=n.vertexShader,v=n.fragmentShader,g=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"SHADOWMAP_TYPE_BASIC\"</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>===t.shadowMapType?e=<span class=\"code-string\">\"SHADOWMAP_TYPE_PCF\"</span>:<span class=\"code-number\">2</span>===t.shadowMapType?e=<span class=\"code-string\">\"SHADOWMAP_TYPE_PCF_SOFT\"</span>:<span class=\"code-number\">3</span>===t.shadowMapType&amp;&amp;(e=<span class=\"code-string\">\"SHADOWMAP_TYPE_VSM\"</span>),e}(n),y=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"ENVMAP_TYPE_CUBE\"</span>;<span class=\"code-keyword\">if</span>(t.envMap)<span class=\"code-keyword\">switch</span>(t.envMapMode){<span class=\"code-keyword\">case</span> r:<span class=\"code-keyword\">case</span> i:e=<span class=\"code-string\">\"ENVMAP_TYPE_CUBE\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> s:<span class=\"code-keyword\">case</span> c:e=<span class=\"code-string\">\"ENVMAP_TYPE_CUBE_UV\"</span>}<span class=\"code-keyword\">return</span> e}(n),x=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"ENVMAP_MODE_REFLECTION\"</span>;<span class=\"code-keyword\">if</span>(t.envMap)<span class=\"code-keyword\">switch</span>(t.envMapMode){<span class=\"code-keyword\">case</span> i:<span class=\"code-keyword\">case</span> c:e=<span class=\"code-string\">\"ENVMAP_MODE_REFRACTION\"</span>}<span class=\"code-keyword\">return</span> e}(n),_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"ENVMAP_BLENDING_NONE\"</span>;<span class=\"code-keyword\">if</span>(t.envMap)<span class=\"code-keyword\">switch</span>(t.combine){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:e=<span class=\"code-string\">\"ENVMAP_BLENDING_MULTIPLY\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:e=<span class=\"code-string\">\"ENVMAP_BLENDING_MIX\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:e=<span class=\"code-string\">\"ENVMAP_BLENDING_ADD\"</span>}<span class=\"code-keyword\">return</span> e}(n),b=t.gammaFactor&gt;<span class=\"code-number\">0</span>?t.gammaFactor:<span class=\"code-number\">1</span>,w=n.isWebGL2?<span class=\"code-string\">\"\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||<span class=\"code-string\">\"physical\"</span>===t.shaderID?<span class=\"code-string\">\"#extension GL_OES_standard_derivatives : enable\"</span>:<span class=\"code-string\">\"\"</span>,(t.extensionFragDepth||t.logarithmicDepthBuffer)&amp;&amp;t.rendererExtensionFragDepth?<span class=\"code-string\">\"#extension GL_EXT_frag_depth : enable\"</span>:<span class=\"code-string\">\"\"</span>,t.extensionDrawBuffers&amp;&amp;t.rendererExtensionDrawBuffers?<span class=\"code-string\">\"#extension GL_EXT_draw_buffers : require\"</span>:<span class=\"code-string\">\"\"</span>,(t.extensionShaderTextureLOD||t.envMap)&amp;&amp;t.rendererExtensionShaderTextureLod?<span class=\"code-string\">\"#extension GL_EXT_shader_texture_lod : enable\"</span>:<span class=\"code-string\">\"\"</span>].filter(Ti).join(<span class=\"code-string\">\"\\n\"</span>)}(n),M=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">var</span> r=t[n];!<span class=\"code-number\">1</span>!==r&amp;&amp;e.push(<span class=\"code-string\">\"#define \"</span>+n+<span class=\"code-string\">\" \"</span>+r)}<span class=\"code-keyword\">return</span> e.join(<span class=\"code-string\">\"\\n\"</span>)}(f),S=p.createProgram(),T=n.glslVersion?<span class=\"code-string\">\"#version \"</span>+n.glslVersion+<span class=\"code-string\">\"\\n\"</span>:<span class=\"code-string\">\"\"</span>;n.isRawShaderMaterial?((o=[M].filter(Ti).join(<span class=\"code-string\">\"\\n\"</span>)).length&gt;<span class=\"code-number\">0</span>&amp;&amp;(o+=<span class=\"code-string\">\"\\n\"</span>),(l=[w,M].filter(Ti).join(<span class=\"code-string\">\"\\n\"</span>)).length&gt;<span class=\"code-number\">0</span>&amp;&amp;(l+=<span class=\"code-string\">\"\\n\"</span>)):(o=[Bi(n),<span class=\"code-string\">\"#define SHADER_NAME \"</span>+n.shaderName,M,n.instancing?<span class=\"code-string\">\"#define USE_INSTANCING\"</span>:<span class=\"code-string\">\"\"</span>,n.instancingColor?<span class=\"code-string\">\"#define USE_INSTANCING_COLOR\"</span>:<span class=\"code-string\">\"\"</span>,n.supportsVertexTextures?<span class=\"code-string\">\"#define VERTEX_TEXTURES\"</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"#define GAMMA_FACTOR \"</span>+b,<span class=\"code-string\">\"#define MAX_BONES \"</span>+n.maxBones,n.useFog&amp;&amp;n.fog?<span class=\"code-string\">\"#define USE_FOG\"</span>:<span class=\"code-string\">\"\"</span>,n.useFog&amp;&amp;n.fogExp2?<span class=\"code-string\">\"#define FOG_EXP2\"</span>:<span class=\"code-string\">\"\"</span>,n.map?<span class=\"code-string\">\"#define USE_MAP\"</span>:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define USE_ENVMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define \"</span>+x:<span class=\"code-string\">\"\"</span>,n.lightMap?<span class=\"code-string\">\"#define USE_LIGHTMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.aoMap?<span class=\"code-string\">\"#define USE_AOMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.emissiveMap?<span class=\"code-string\">\"#define USE_EMISSIVEMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.bumpMap?<span class=\"code-string\">\"#define USE_BUMPMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap?<span class=\"code-string\">\"#define USE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap&amp;&amp;n.objectSpaceNormalMap?<span class=\"code-string\">\"#define OBJECTSPACE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap&amp;&amp;n.tangentSpaceNormalMap?<span class=\"code-string\">\"#define TANGENTSPACE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatMap?<span class=\"code-string\">\"#define USE_CLEARCOATMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatRoughnessMap?<span class=\"code-string\">\"#define USE_CLEARCOAT_ROUGHNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatNormalMap?<span class=\"code-string\">\"#define USE_CLEARCOAT_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.displacementMap&amp;&amp;n.supportsVertexTextures?<span class=\"code-string\">\"#define USE_DISPLACEMENTMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.specularMap?<span class=\"code-string\">\"#define USE_SPECULARMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.roughnessMap?<span class=\"code-string\">\"#define USE_ROUGHNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.metalnessMap?<span class=\"code-string\">\"#define USE_METALNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.alphaMap?<span class=\"code-string\">\"#define USE_ALPHAMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.transmissionMap?<span class=\"code-string\">\"#define USE_TRANSMISSIONMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexTangents?<span class=\"code-string\">\"#define USE_TANGENT\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexColors?<span class=\"code-string\">\"#define USE_COLOR\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexUvs?<span class=\"code-string\">\"#define USE_UV\"</span>:<span class=\"code-string\">\"\"</span>,n.uvsVertexOnly?<span class=\"code-string\">\"#define UVS_VERTEX_ONLY\"</span>:<span class=\"code-string\">\"\"</span>,n.flatShading?<span class=\"code-string\">\"#define FLAT_SHADED\"</span>:<span class=\"code-string\">\"\"</span>,n.skinning?<span class=\"code-string\">\"#define USE_SKINNING\"</span>:<span class=\"code-string\">\"\"</span>,n.useVertexTexture?<span class=\"code-string\">\"#define BONE_TEXTURE\"</span>:<span class=\"code-string\">\"\"</span>,n.morphTargets?<span class=\"code-string\">\"#define USE_MORPHTARGETS\"</span>:<span class=\"code-string\">\"\"</span>,n.morphNormals&amp;&amp;!<span class=\"code-number\">1</span>===n.flatShading?<span class=\"code-string\">\"#define USE_MORPHNORMALS\"</span>:<span class=\"code-string\">\"\"</span>,n.doubleSided?<span class=\"code-string\">\"#define DOUBLE_SIDED\"</span>:<span class=\"code-string\">\"\"</span>,n.flipSided?<span class=\"code-string\">\"#define FLIP_SIDED\"</span>:<span class=\"code-string\">\"\"</span>,n.shadowMapEnabled?<span class=\"code-string\">\"#define USE_SHADOWMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.shadowMapEnabled?<span class=\"code-string\">\"#define \"</span>+g:<span class=\"code-string\">\"\"</span>,n.sizeAttenuation?<span class=\"code-string\">\"#define USE_SIZEATTENUATION\"</span>:<span class=\"code-string\">\"\"</span>,n.logarithmicDepthBuffer?<span class=\"code-string\">\"#define USE_LOGDEPTHBUF\"</span>:<span class=\"code-string\">\"\"</span>,n.logarithmicDepthBuffer&amp;&amp;n.rendererExtensionFragDepth?<span class=\"code-string\">\"#define USE_LOGDEPTHBUF_EXT\"</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"uniform mat4 modelMatrix;\"</span>,<span class=\"code-string\">\"uniform mat4 modelViewMatrix;\"</span>,<span class=\"code-string\">\"uniform mat4 projectionMatrix;\"</span>,<span class=\"code-string\">\"uniform mat4 viewMatrix;\"</span>,<span class=\"code-string\">\"uniform mat3 normalMatrix;\"</span>,<span class=\"code-string\">\"uniform vec3 cameraPosition;\"</span>,<span class=\"code-string\">\"uniform bool isOrthographic;\"</span>,<span class=\"code-string\">\"#ifdef USE_INSTANCING\"</span>,<span class=\"code-string\">\"\\tattribute mat4 instanceMatrix;\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"#ifdef USE_INSTANCING_COLOR\"</span>,<span class=\"code-string\">\"\\tattribute vec3 instanceColor;\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"attribute vec3 position;\"</span>,<span class=\"code-string\">\"attribute vec3 normal;\"</span>,<span class=\"code-string\">\"attribute vec2 uv;\"</span>,<span class=\"code-string\">\"#ifdef USE_TANGENT\"</span>,<span class=\"code-string\">\"\\tattribute vec4 tangent;\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"#ifdef USE_COLOR\"</span>,<span class=\"code-string\">\"\\tattribute vec3 color;\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"#ifdef USE_MORPHTARGETS\"</span>,<span class=\"code-string\">\"\\tattribute vec3 morphTarget0;\"</span>,<span class=\"code-string\">\"\\tattribute vec3 morphTarget1;\"</span>,<span class=\"code-string\">\"\\tattribute vec3 morphTarget2;\"</span>,<span class=\"code-string\">\"\\tattribute vec3 morphTarget3;\"</span>,<span class=\"code-string\">\"\\t#ifdef USE_MORPHNORMALS\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphNormal0;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphNormal1;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphNormal2;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphNormal3;\"</span>,<span class=\"code-string\">\"\\t#else\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphTarget4;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphTarget5;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphTarget6;\"</span>,<span class=\"code-string\">\"\\t\\tattribute vec3 morphTarget7;\"</span>,<span class=\"code-string\">\"\\t#endif\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"#ifdef USE_SKINNING\"</span>,<span class=\"code-string\">\"\\tattribute vec4 skinIndex;\"</span>,<span class=\"code-string\">\"\\tattribute vec4 skinWeight;\"</span>,<span class=\"code-string\">\"#endif\"</span>,<span class=\"code-string\">\"\\n\"</span>].filter(Ti).join(<span class=\"code-string\">\"\\n\"</span>),l=[w,Bi(n),<span class=\"code-string\">\"#define SHADER_NAME \"</span>+n.shaderName,M,n.alphaTest?<span class=\"code-string\">\"#define ALPHATEST \"</span>+n.alphaTest+(n.alphaTest%<span class=\"code-number\">1</span>?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\".0\"</span>):<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"#define GAMMA_FACTOR \"</span>+b,n.useFog&amp;&amp;n.fog?<span class=\"code-string\">\"#define USE_FOG\"</span>:<span class=\"code-string\">\"\"</span>,n.useFog&amp;&amp;n.fogExp2?<span class=\"code-string\">\"#define FOG_EXP2\"</span>:<span class=\"code-string\">\"\"</span>,n.map?<span class=\"code-string\">\"#define USE_MAP\"</span>:<span class=\"code-string\">\"\"</span>,n.matcap?<span class=\"code-string\">\"#define USE_MATCAP\"</span>:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define USE_ENVMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define \"</span>+y:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define \"</span>+x:<span class=\"code-string\">\"\"</span>,n.envMap?<span class=\"code-string\">\"#define \"</span>+_:<span class=\"code-string\">\"\"</span>,n.lightMap?<span class=\"code-string\">\"#define USE_LIGHTMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.aoMap?<span class=\"code-string\">\"#define USE_AOMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.emissiveMap?<span class=\"code-string\">\"#define USE_EMISSIVEMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.bumpMap?<span class=\"code-string\">\"#define USE_BUMPMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap?<span class=\"code-string\">\"#define USE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap&amp;&amp;n.objectSpaceNormalMap?<span class=\"code-string\">\"#define OBJECTSPACE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.normalMap&amp;&amp;n.tangentSpaceNormalMap?<span class=\"code-string\">\"#define TANGENTSPACE_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatMap?<span class=\"code-string\">\"#define USE_CLEARCOATMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatRoughnessMap?<span class=\"code-string\">\"#define USE_CLEARCOAT_ROUGHNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.clearcoatNormalMap?<span class=\"code-string\">\"#define USE_CLEARCOAT_NORMALMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.specularMap?<span class=\"code-string\">\"#define USE_SPECULARMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.roughnessMap?<span class=\"code-string\">\"#define USE_ROUGHNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.metalnessMap?<span class=\"code-string\">\"#define USE_METALNESSMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.alphaMap?<span class=\"code-string\">\"#define USE_ALPHAMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.sheen?<span class=\"code-string\">\"#define USE_SHEEN\"</span>:<span class=\"code-string\">\"\"</span>,n.transmissionMap?<span class=\"code-string\">\"#define USE_TRANSMISSIONMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexTangents?<span class=\"code-string\">\"#define USE_TANGENT\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexColors||n.instancingColor?<span class=\"code-string\">\"#define USE_COLOR\"</span>:<span class=\"code-string\">\"\"</span>,n.vertexUvs?<span class=\"code-string\">\"#define USE_UV\"</span>:<span class=\"code-string\">\"\"</span>,n.uvsVertexOnly?<span class=\"code-string\">\"#define UVS_VERTEX_ONLY\"</span>:<span class=\"code-string\">\"\"</span>,n.gradientMap?<span class=\"code-string\">\"#define USE_GRADIENTMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.flatShading?<span class=\"code-string\">\"#define FLAT_SHADED\"</span>:<span class=\"code-string\">\"\"</span>,n.doubleSided?<span class=\"code-string\">\"#define DOUBLE_SIDED\"</span>:<span class=\"code-string\">\"\"</span>,n.flipSided?<span class=\"code-string\">\"#define FLIP_SIDED\"</span>:<span class=\"code-string\">\"\"</span>,n.shadowMapEnabled?<span class=\"code-string\">\"#define USE_SHADOWMAP\"</span>:<span class=\"code-string\">\"\"</span>,n.shadowMapEnabled?<span class=\"code-string\">\"#define \"</span>+g:<span class=\"code-string\">\"\"</span>,n.premultipliedAlpha?<span class=\"code-string\">\"#define PREMULTIPLIED_ALPHA\"</span>:<span class=\"code-string\">\"\"</span>,n.physicallyCorrectLights?<span class=\"code-string\">\"#define PHYSICALLY_CORRECT_LIGHTS\"</span>:<span class=\"code-string\">\"\"</span>,n.logarithmicDepthBuffer?<span class=\"code-string\">\"#define USE_LOGDEPTHBUF\"</span>:<span class=\"code-string\">\"\"</span>,n.logarithmicDepthBuffer&amp;&amp;n.rendererExtensionFragDepth?<span class=\"code-string\">\"#define USE_LOGDEPTHBUF_EXT\"</span>:<span class=\"code-string\">\"\"</span>,(n.extensionShaderTextureLOD||n.envMap)&amp;&amp;n.rendererExtensionShaderTextureLod?<span class=\"code-string\">\"#define TEXTURE_LOD_EXT\"</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"uniform mat4 viewMatrix;\"</span>,<span class=\"code-string\">\"uniform vec3 cameraPosition;\"</span>,<span class=\"code-string\">\"uniform bool isOrthographic;\"</span>,<span class=\"code-number\">0</span>!==n.toneMapping?<span class=\"code-string\">\"#define TONE_MAPPING\"</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-number\">0</span>!==n.toneMapping?ar.tonemapping_pars_fragment:<span class=\"code-string\">\"\"</span>,<span class=\"code-number\">0</span>!==n.toneMapping?Si(<span class=\"code-string\">\"toneMapping\"</span>,n.toneMapping):<span class=\"code-string\">\"\"</span>,n.dithering?<span class=\"code-string\">\"#define DITHERING\"</span>:<span class=\"code-string\">\"\"</span>,ar.encodings_pars_fragment,n.map?Mi(<span class=\"code-string\">\"mapTexelToLinear\"</span>,n.mapEncoding):<span class=\"code-string\">\"\"</span>,n.matcap?Mi(<span class=\"code-string\">\"matcapTexelToLinear\"</span>,n.matcapEncoding):<span class=\"code-string\">\"\"</span>,n.envMap?Mi(<span class=\"code-string\">\"envMapTexelToLinear\"</span>,n.envMapEncoding):<span class=\"code-string\">\"\"</span>,n.emissiveMap?Mi(<span class=\"code-string\">\"emissiveMapTexelToLinear\"</span>,n.emissiveMapEncoding):<span class=\"code-string\">\"\"</span>,n.lightMap?Mi(<span class=\"code-string\">\"lightMapTexelToLinear\"</span>,n.lightMapEncoding):<span class=\"code-string\">\"\"</span>,(u=<span class=\"code-string\">\"linearToOutputTexel\"</span>,h=n.outputEncoding,d=bi(h),<span class=\"code-string\">\"vec4 \"</span>+u+<span class=\"code-string\">\"( vec4 value ) { return LinearTo\"</span>+d[<span class=\"code-number\">0</span>]+d[<span class=\"code-number\">1</span>]+<span class=\"code-string\">\"; }\"</span>),n.depthPacking?<span class=\"code-string\">\"#define DEPTH_PACKING \"</span>+n.depthPacking:<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"\\n\"</span>].filter(Ti).join(<span class=\"code-string\">\"\\n\"</span>)),m=Ai(m=Ei(m=Ri(m),n),n),v=Ai(v=Ei(v=Ri(v),n),n),m=Ni(m),v=Ni(v),n.isWebGL2&amp;&amp;!<span class=\"code-number\">0</span>!==n.isRawShaderMaterial&amp;&amp;(T=<span class=\"code-string\">\"#version 300 es\\n\"</span>,o=[<span class=\"code-string\">\"#define attribute in\"</span>,<span class=\"code-string\">\"#define varying out\"</span>,<span class=\"code-string\">\"#define texture2D texture\"</span>].join(<span class=\"code-string\">\"\\n\"</span>)+<span class=\"code-string\">\"\\n\"</span>+o,l=[<span class=\"code-string\">\"#define varying in\"</span>,n.glslVersion===nt?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"out highp vec4 pc_fragColor;\"</span>,n.glslVersion===nt?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"#define gl_FragColor pc_fragColor\"</span>,<span class=\"code-string\">\"#define gl_FragDepthEXT gl_FragDepth\"</span>,<span class=\"code-string\">\"#define texture2D texture\"</span>,<span class=\"code-string\">\"#define textureCube texture\"</span>,<span class=\"code-string\">\"#define texture2DProj textureProj\"</span>,<span class=\"code-string\">\"#define texture2DLodEXT textureLod\"</span>,<span class=\"code-string\">\"#define texture2DProjLodEXT textureProjLod\"</span>,<span class=\"code-string\">\"#define textureCubeLodEXT textureLod\"</span>,<span class=\"code-string\">\"#define texture2DGradEXT textureGrad\"</span>,<span class=\"code-string\">\"#define texture2DProjGradEXT textureProjGrad\"</span>,<span class=\"code-string\">\"#define textureCubeGradEXT textureGrad\"</span>].join(<span class=\"code-string\">\"\\n\"</span>)+<span class=\"code-string\">\"\\n\"</span>+l);<span class=\"code-keyword\">var</span> E,A,L=T+l+v,R=xi(p,<span class=\"code-number\">35633</span>,T+o+m),C=xi(p,<span class=\"code-number\">35632</span>,L);<span class=\"code-keyword\">if</span>(p.attachShader(S,R),p.attachShader(S,C),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.index0AttributeName?p.bindAttribLocation(S,<span class=\"code-number\">0</span>,n.index0AttributeName):!<span class=\"code-number\">0</span>===n.morphTargets&amp;&amp;p.bindAttribLocation(S,<span class=\"code-number\">0</span>,<span class=\"code-string\">\"position\"</span>),p.linkProgram(S),t.debug.checkShaderErrors){<span class=\"code-keyword\">var</span> P=p.getProgramInfoLog(S).trim(),I=p.getShaderInfoLog(R).trim(),N=p.getShaderInfoLog(C).trim(),D=!<span class=\"code-number\">0</span>,O=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===p.getProgramParameter(S,<span class=\"code-number\">35714</span>)){D=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> B=wi(p,R,<span class=\"code-string\">\"vertex\"</span>),z=wi(p,C,<span class=\"code-string\">\"fragment\"</span>);<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLProgram: shader error: \"</span>,p.getError(),<span class=\"code-string\">\"35715\"</span>,p.getProgramParameter(S,<span class=\"code-number\">35715</span>),<span class=\"code-string\">\"gl.getProgramInfoLog\"</span>,P,B,z)}<span class=\"code-keyword\">else</span><span class=\"code-string\">\"\"</span>!==P?<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLProgram: gl.getProgramInfoLog()\"</span>,P):<span class=\"code-string\">\"\"</span>!==I&amp;&amp;<span class=\"code-string\">\"\"</span>!==N||(O=!<span class=\"code-number\">1</span>);O&amp;&amp;(<span class=\"code-keyword\">this</span>.diagnostics={<span class=\"code-attr\">runnable</span>:D,<span class=\"code-attr\">programLog</span>:P,<span class=\"code-attr\">vertexShader</span>:{<span class=\"code-attr\">log</span>:I,<span class=\"code-attr\">prefix</span>:o},<span class=\"code-attr\">fragmentShader</span>:{<span class=\"code-attr\">log</span>:N,<span class=\"code-attr\">prefix</span>:l}})}<span class=\"code-keyword\">return</span> p.deleteShader(R),p.deleteShader(C),<span class=\"code-keyword\">this</span>.getUniforms=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===E&amp;&amp;(E=<span class=\"code-keyword\">new</span> yi(p,S)),E},<span class=\"code-keyword\">this</span>.getAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===A&amp;&amp;(A=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n={},r=t.getProgramParameter(e,<span class=\"code-number\">35721</span>),i=<span class=\"code-number\">0</span>;i&lt;r;i++){<span class=\"code-keyword\">var</span> a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}<span class=\"code-keyword\">return</span> n}(p,S)),A},<span class=\"code-keyword\">this</span>.destroy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.releaseStatesOfProgram(<span class=\"code-keyword\">this</span>),p.deleteProgram(S),<span class=\"code-keyword\">this</span>.program=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.name=n.shaderName,<span class=\"code-keyword\">this</span>.id=_i++,<span class=\"code-keyword\">this</span>.cacheKey=e,<span class=\"code-keyword\">this</span>.usedTimes=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.program=S,<span class=\"code-keyword\">this</span>.vertexShader=R,<span class=\"code-keyword\">this</span>.fragmentShader=C,<span class=\"code-keyword\">this</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ui</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=[],l=r.isWebGL2,u=r.logarithmicDepthBuffer,h=r.floatVertexTextures,d=r.maxVertexUniforms,p=r.vertexTextures,f=r.precision,m={<span class=\"code-attr\">MeshDepthMaterial</span>:<span class=\"code-string\">\"depth\"</span>,<span class=\"code-attr\">MeshDistanceMaterial</span>:<span class=\"code-string\">\"distanceRGBA\"</span>,<span class=\"code-attr\">MeshNormalMaterial</span>:<span class=\"code-string\">\"normal\"</span>,<span class=\"code-attr\">MeshBasicMaterial</span>:<span class=\"code-string\">\"basic\"</span>,<span class=\"code-attr\">MeshLambertMaterial</span>:<span class=\"code-string\">\"lambert\"</span>,<span class=\"code-attr\">MeshPhongMaterial</span>:<span class=\"code-string\">\"phong\"</span>,<span class=\"code-attr\">MeshToonMaterial</span>:<span class=\"code-string\">\"toon\"</span>,<span class=\"code-attr\">MeshStandardMaterial</span>:<span class=\"code-string\">\"physical\"</span>,<span class=\"code-attr\">MeshPhysicalMaterial</span>:<span class=\"code-string\">\"physical\"</span>,<span class=\"code-attr\">MeshMatcapMaterial</span>:<span class=\"code-string\">\"matcap\"</span>,<span class=\"code-attr\">LineBasicMaterial</span>:<span class=\"code-string\">\"basic\"</span>,<span class=\"code-attr\">LineDashedMaterial</span>:<span class=\"code-string\">\"dashed\"</span>,<span class=\"code-attr\">PointsMaterial</span>:<span class=\"code-string\">\"points\"</span>,<span class=\"code-attr\">ShadowMaterial</span>:<span class=\"code-string\">\"shadow\"</span>,<span class=\"code-attr\">SpriteMaterial</span>:<span class=\"code-string\">\"sprite\"</span>},v=[<span class=\"code-string\">\"precision\"</span>,<span class=\"code-string\">\"isWebGL2\"</span>,<span class=\"code-string\">\"supportsVertexTextures\"</span>,<span class=\"code-string\">\"outputEncoding\"</span>,<span class=\"code-string\">\"instancing\"</span>,<span class=\"code-string\">\"instancingColor\"</span>,<span class=\"code-string\">\"map\"</span>,<span class=\"code-string\">\"mapEncoding\"</span>,<span class=\"code-string\">\"matcap\"</span>,<span class=\"code-string\">\"matcapEncoding\"</span>,<span class=\"code-string\">\"envMap\"</span>,<span class=\"code-string\">\"envMapMode\"</span>,<span class=\"code-string\">\"envMapEncoding\"</span>,<span class=\"code-string\">\"envMapCubeUV\"</span>,<span class=\"code-string\">\"lightMap\"</span>,<span class=\"code-string\">\"lightMapEncoding\"</span>,<span class=\"code-string\">\"aoMap\"</span>,<span class=\"code-string\">\"emissiveMap\"</span>,<span class=\"code-string\">\"emissiveMapEncoding\"</span>,<span class=\"code-string\">\"bumpMap\"</span>,<span class=\"code-string\">\"normalMap\"</span>,<span class=\"code-string\">\"objectSpaceNormalMap\"</span>,<span class=\"code-string\">\"tangentSpaceNormalMap\"</span>,<span class=\"code-string\">\"clearcoatMap\"</span>,<span class=\"code-string\">\"clearcoatRoughnessMap\"</span>,<span class=\"code-string\">\"clearcoatNormalMap\"</span>,<span class=\"code-string\">\"displacementMap\"</span>,<span class=\"code-string\">\"specularMap\"</span>,<span class=\"code-string\">\"roughnessMap\"</span>,<span class=\"code-string\">\"metalnessMap\"</span>,<span class=\"code-string\">\"gradientMap\"</span>,<span class=\"code-string\">\"alphaMap\"</span>,<span class=\"code-string\">\"combine\"</span>,<span class=\"code-string\">\"vertexColors\"</span>,<span class=\"code-string\">\"vertexTangents\"</span>,<span class=\"code-string\">\"vertexUvs\"</span>,<span class=\"code-string\">\"uvsVertexOnly\"</span>,<span class=\"code-string\">\"fog\"</span>,<span class=\"code-string\">\"useFog\"</span>,<span class=\"code-string\">\"fogExp2\"</span>,<span class=\"code-string\">\"flatShading\"</span>,<span class=\"code-string\">\"sizeAttenuation\"</span>,<span class=\"code-string\">\"logarithmicDepthBuffer\"</span>,<span class=\"code-string\">\"skinning\"</span>,<span class=\"code-string\">\"maxBones\"</span>,<span class=\"code-string\">\"useVertexTexture\"</span>,<span class=\"code-string\">\"morphTargets\"</span>,<span class=\"code-string\">\"morphNormals\"</span>,<span class=\"code-string\">\"maxMorphTargets\"</span>,<span class=\"code-string\">\"maxMorphNormals\"</span>,<span class=\"code-string\">\"premultipliedAlpha\"</span>,<span class=\"code-string\">\"numDirLights\"</span>,<span class=\"code-string\">\"numPointLights\"</span>,<span class=\"code-string\">\"numSpotLights\"</span>,<span class=\"code-string\">\"numHemiLights\"</span>,<span class=\"code-string\">\"numRectAreaLights\"</span>,<span class=\"code-string\">\"numDirLightShadows\"</span>,<span class=\"code-string\">\"numPointLightShadows\"</span>,<span class=\"code-string\">\"numSpotLightShadows\"</span>,<span class=\"code-string\">\"shadowMapEnabled\"</span>,<span class=\"code-string\">\"shadowMapType\"</span>,<span class=\"code-string\">\"toneMapping\"</span>,<span class=\"code-string\">\"physicallyCorrectLights\"</span>,<span class=\"code-string\">\"alphaTest\"</span>,<span class=\"code-string\">\"doubleSided\"</span>,<span class=\"code-string\">\"flipSided\"</span>,<span class=\"code-string\">\"numClippingPlanes\"</span>,<span class=\"code-string\">\"numClipIntersection\"</span>,<span class=\"code-string\">\"depthPacking\"</span>,<span class=\"code-string\">\"dithering\"</span>,<span class=\"code-string\">\"sheen\"</span>,<span class=\"code-string\">\"transmissionMap\"</span>];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">g</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">return</span> t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"</span>),e=t.texture.encoding):e=q,e}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">getParameters</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,o,v,y,x</span>)</span>{<span class=\"code-keyword\">var</span> _,b,w=y.fog,M=i.isMeshStandardMaterial?y.environment:<span class=\"code-literal\">null</span>,S=e.get(i.envMap||M),T=m[i.type],E=x.isSkinnedMesh?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.skeleton.bones;<span class=\"code-keyword\">if</span>(h)<span class=\"code-keyword\">return</span> <span class=\"code-number\">1024</span>;<span class=\"code-keyword\">var</span> n=d,r=<span class=\"code-built_in\">Math</span>.floor((n<span class=\"code-number\">-20</span>)/<span class=\"code-number\">4</span>),i=<span class=\"code-built_in\">Math</span>.min(r,e.length);<span class=\"code-keyword\">return</span> i&lt;e.length?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Skeleton has \"</span>+e.length+<span class=\"code-string\">\" bones. This GPU supports \"</span>+i+<span class=\"code-string\">\".\"</span>),<span class=\"code-number\">0</span>):i}(x):<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==i.precision&amp;&amp;(f=r.getMaxPrecision(i.precision))!==i.precision&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLProgram.getParameters:\"</span>,i.precision,<span class=\"code-string\">\"not supported, using\"</span>,f,<span class=\"code-string\">\"instead.\"</span>),T){<span class=\"code-keyword\">var</span> A=sr[T];_=A.vertexShader,b=A.fragmentShader}<span class=\"code-keyword\">else</span> _=i.vertexShader,b=i.fragmentShader;<span class=\"code-keyword\">var</span> L=t.getRenderTarget();<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">isWebGL2</span>:l,<span class=\"code-attr\">shaderID</span>:T,<span class=\"code-attr\">shaderName</span>:i.type,<span class=\"code-attr\">vertexShader</span>:_,<span class=\"code-attr\">fragmentShader</span>:b,<span class=\"code-attr\">defines</span>:i.defines,<span class=\"code-attr\">isRawShaderMaterial</span>:!<span class=\"code-number\">0</span>===i.isRawShaderMaterial,<span class=\"code-attr\">glslVersion</span>:i.glslVersion,<span class=\"code-attr\">precision</span>:f,<span class=\"code-attr\">instancing</span>:!<span class=\"code-number\">0</span>===x.isInstancedMesh,<span class=\"code-attr\">instancingColor</span>:!<span class=\"code-number\">0</span>===x.isInstancedMesh&amp;&amp;<span class=\"code-literal\">null</span>!==x.instanceColor,<span class=\"code-attr\">supportsVertexTextures</span>:p,<span class=\"code-attr\">outputEncoding</span>:<span class=\"code-literal\">null</span>!==L?g(L.texture):t.outputEncoding,<span class=\"code-attr\">map</span>:!!i.map,<span class=\"code-attr\">mapEncoding</span>:g(i.map),<span class=\"code-attr\">matcap</span>:!!i.matcap,<span class=\"code-attr\">matcapEncoding</span>:g(i.matcap),<span class=\"code-attr\">envMap</span>:!!S,<span class=\"code-attr\">envMapMode</span>:S&amp;&amp;S.mapping,<span class=\"code-attr\">envMapEncoding</span>:g(S),<span class=\"code-attr\">envMapCubeUV</span>:!!S&amp;&amp;(S.mapping===s||S.mapping===c),<span class=\"code-attr\">lightMap</span>:!!i.lightMap,<span class=\"code-attr\">lightMapEncoding</span>:g(i.lightMap),<span class=\"code-attr\">aoMap</span>:!!i.aoMap,<span class=\"code-attr\">emissiveMap</span>:!!i.emissiveMap,<span class=\"code-attr\">emissiveMapEncoding</span>:g(i.emissiveMap),<span class=\"code-attr\">bumpMap</span>:!!i.bumpMap,<span class=\"code-attr\">normalMap</span>:!!i.normalMap,<span class=\"code-attr\">objectSpaceNormalMap</span>:<span class=\"code-number\">1</span>===i.normalMapType,<span class=\"code-attr\">tangentSpaceNormalMap</span>:<span class=\"code-number\">0</span>===i.normalMapType,<span class=\"code-attr\">clearcoatMap</span>:!!i.clearcoatMap,<span class=\"code-attr\">clearcoatRoughnessMap</span>:!!i.clearcoatRoughnessMap,<span class=\"code-attr\">clearcoatNormalMap</span>:!!i.clearcoatNormalMap,<span class=\"code-attr\">displacementMap</span>:!!i.displacementMap,<span class=\"code-attr\">roughnessMap</span>:!!i.roughnessMap,<span class=\"code-attr\">metalnessMap</span>:!!i.metalnessMap,<span class=\"code-attr\">specularMap</span>:!!i.specularMap,<span class=\"code-attr\">alphaMap</span>:!!i.alphaMap,<span class=\"code-attr\">gradientMap</span>:!!i.gradientMap,<span class=\"code-attr\">sheen</span>:!!i.sheen,<span class=\"code-attr\">transmissionMap</span>:!!i.transmissionMap,<span class=\"code-attr\">combine</span>:i.combine,<span class=\"code-attr\">vertexTangents</span>:i.normalMap&amp;&amp;i.vertexTangents,<span class=\"code-attr\">vertexColors</span>:i.vertexColors,<span class=\"code-attr\">vertexUvs</span>:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),<span class=\"code-attr\">uvsVertexOnly</span>:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),<span class=\"code-attr\">fog</span>:!!w,<span class=\"code-attr\">useFog</span>:i.fog,<span class=\"code-attr\">fogExp2</span>:w&amp;&amp;w.isFogExp2,<span class=\"code-attr\">flatShading</span>:i.flatShading,<span class=\"code-attr\">sizeAttenuation</span>:i.sizeAttenuation,<span class=\"code-attr\">logarithmicDepthBuffer</span>:u,<span class=\"code-attr\">skinning</span>:i.skinning&amp;&amp;E&gt;<span class=\"code-number\">0</span>,<span class=\"code-attr\">maxBones</span>:E,<span class=\"code-attr\">useVertexTexture</span>:h,<span class=\"code-attr\">morphTargets</span>:i.morphTargets,<span class=\"code-attr\">morphNormals</span>:i.morphNormals,<span class=\"code-attr\">maxMorphTargets</span>:t.maxMorphTargets,<span class=\"code-attr\">maxMorphNormals</span>:t.maxMorphNormals,<span class=\"code-attr\">numDirLights</span>:o.directional.length,<span class=\"code-attr\">numPointLights</span>:o.point.length,<span class=\"code-attr\">numSpotLights</span>:o.spot.length,<span class=\"code-attr\">numRectAreaLights</span>:o.rectArea.length,<span class=\"code-attr\">numHemiLights</span>:o.hemi.length,<span class=\"code-attr\">numDirLightShadows</span>:o.directionalShadowMap.length,<span class=\"code-attr\">numPointLightShadows</span>:o.pointShadowMap.length,<span class=\"code-attr\">numSpotLightShadows</span>:o.spotShadowMap.length,<span class=\"code-attr\">numClippingPlanes</span>:a.numPlanes,<span class=\"code-attr\">numClipIntersection</span>:a.numIntersection,<span class=\"code-attr\">dithering</span>:i.dithering,<span class=\"code-attr\">shadowMapEnabled</span>:t.shadowMap.enabled&amp;&amp;v.length&gt;<span class=\"code-number\">0</span>,<span class=\"code-attr\">shadowMapType</span>:t.shadowMap.type,<span class=\"code-attr\">toneMapping</span>:i.toneMapped?t.toneMapping:<span class=\"code-number\">0</span>,<span class=\"code-attr\">physicallyCorrectLights</span>:t.physicallyCorrectLights,<span class=\"code-attr\">premultipliedAlpha</span>:i.premultipliedAlpha,<span class=\"code-attr\">alphaTest</span>:i.alphaTest,<span class=\"code-attr\">doubleSided</span>:<span class=\"code-number\">2</span>===i.side,<span class=\"code-attr\">flipSided</span>:<span class=\"code-number\">1</span>===i.side,<span class=\"code-attr\">depthPacking</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i.depthPacking&amp;&amp;i.depthPacking,<span class=\"code-attr\">index0AttributeName</span>:i.index0AttributeName,<span class=\"code-attr\">extensionDerivatives</span>:i.extensions&amp;&amp;i.extensions.derivatives,<span class=\"code-attr\">extensionFragDepth</span>:i.extensions&amp;&amp;i.extensions.fragDepth,<span class=\"code-attr\">extensionDrawBuffers</span>:i.extensions&amp;&amp;i.extensions.drawBuffers,<span class=\"code-attr\">extensionShaderTextureLOD</span>:i.extensions&amp;&amp;i.extensions.shaderTextureLOD,<span class=\"code-attr\">rendererExtensionFragDepth</span>:l||n.has(<span class=\"code-string\">\"EXT_frag_depth\"</span>),<span class=\"code-attr\">rendererExtensionDrawBuffers</span>:l||n.has(<span class=\"code-string\">\"WEBGL_draw_buffers\"</span>),<span class=\"code-attr\">rendererExtensionShaderTextureLod</span>:l||n.has(<span class=\"code-string\">\"EXT_shader_texture_lod\"</span>),<span class=\"code-attr\">customProgramCacheKey</span>:i.customProgramCacheKey()}},<span class=\"code-attr\">getProgramCacheKey</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=[];<span class=\"code-keyword\">if</span>(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.defines)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e.defines)n.push(r),n.push(e.defines[r]);<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===e.isRawShaderMaterial){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;v.length;i++)n.push(e[v[i]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}<span class=\"code-keyword\">return</span> n.push(e.customProgramCacheKey),n.join()},<span class=\"code-attr\">getUniforms</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n=m[t.type];<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">var</span> r=sr[n];e=Wn.clone(r.uniforms)}<span class=\"code-keyword\">else</span> e=t.uniforms;<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">acquireProgram</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,a=<span class=\"code-number\">0</span>,s=o.length;a&lt;s;a++){<span class=\"code-keyword\">var</span> c=o[a];<span class=\"code-keyword\">if</span>(c.cacheKey===n){++(r=c).usedTimes;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-keyword\">new</span> zi(t,n,e,i),o.push(r)),r},<span class=\"code-attr\">releaseProgram</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>==--t.usedTimes){<span class=\"code-keyword\">var</span> e=o.indexOf(t);o[e]=o[o.length<span class=\"code-number\">-1</span>],o.pop(),t.destroy()}},<span class=\"code-attr\">programs</span>:o}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fi</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.get(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n={},t.set(e,n)),n},<span class=\"code-attr\">remove</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.delete(e)},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,r</span>)</span>{t.get(e)[n]=r},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ki</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>,r=[],i=[],a={<span class=\"code-attr\">id</span>:<span class=\"code-number\">-1</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">r,i,o,s,c,l</span>)</span>{<span class=\"code-keyword\">var</span> u=e[n],h=t.get(o);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u?(u={<span class=\"code-attr\">id</span>:r.id,<span class=\"code-attr\">object</span>:r,<span class=\"code-attr\">geometry</span>:i,<span class=\"code-attr\">material</span>:o,<span class=\"code-attr\">program</span>:h.program||a,<span class=\"code-attr\">groupOrder</span>:s,<span class=\"code-attr\">renderOrder</span>:r.renderOrder,<span class=\"code-attr\">z</span>:c,<span class=\"code-attr\">group</span>:l},e[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=h.program||a,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=c,u.group=l),n++,u}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">opaque</span>:r,<span class=\"code-attr\">transparent</span>:i,<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n=<span class=\"code-number\">0</span>,r.length=<span class=\"code-number\">0</span>,i.length=<span class=\"code-number\">0</span>},<span class=\"code-attr\">push</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,a,s,c</span>)</span>{<span class=\"code-keyword\">var</span> l=o(t,e,n,a,s,c);(!<span class=\"code-number\">0</span>===n.transparent?i:r).push(l)},<span class=\"code-attr\">unshift</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,a,s,c</span>)</span>{<span class=\"code-keyword\">var</span> l=o(t,e,n,a,s,c);(!<span class=\"code-number\">0</span>===n.transparent?i:r).unshift(l)},<span class=\"code-attr\">finish</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=n,r=e.length;t&lt;r;t++){<span class=\"code-keyword\">var</span> i=e[t];<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===i.id)<span class=\"code-keyword\">break</span>;i.id=<span class=\"code-literal\">null</span>,i.object=<span class=\"code-literal\">null</span>,i.geometry=<span class=\"code-literal\">null</span>,i.material=<span class=\"code-literal\">null</span>,i.program=<span class=\"code-literal\">null</span>,i.group=<span class=\"code-literal\">null</span>}},<span class=\"code-attr\">sort</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{r.length&gt;<span class=\"code-number\">1</span>&amp;&amp;r.sort(t||Gi),i.length&gt;<span class=\"code-number\">1</span>&amp;&amp;i.sort(e||Hi)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vi</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a=e.get(n);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a?(i=<span class=\"code-keyword\">new</span> ki(t),e.set(n,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>),e.get(n).set(r,i)):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(i=a.get(r))&amp;&amp;(i=<span class=\"code-keyword\">new</span> ki(t),a.set(r,i)),i},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wi</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={};<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t[e.id])<span class=\"code-keyword\">return</span> t[e.id];<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">switch</span>(e.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"DirectionalLight\"</span>:n={<span class=\"code-attr\">direction</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">new</span> We};<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SpotLight\"</span>:n={<span class=\"code-attr\">position</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">direction</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">new</span> We,<span class=\"code-attr\">distance</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">coneCos</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">penumbraCos</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">decay</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PointLight\"</span>:n={<span class=\"code-attr\">position</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">new</span> We,<span class=\"code-attr\">distance</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">decay</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"HemisphereLight\"</span>:n={<span class=\"code-attr\">direction</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">skyColor</span>:<span class=\"code-keyword\">new</span> We,<span class=\"code-attr\">groundColor</span>:<span class=\"code-keyword\">new</span> We};<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"RectAreaLight\"</span>:n={<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">new</span> We,<span class=\"code-attr\">position</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">halfWidth</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">halfHeight</span>:<span class=\"code-keyword\">new</span> Mt}}<span class=\"code-keyword\">return</span> t[e.id]=n,n}}}<span class=\"code-keyword\">var</span> ji=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span>(e.castShadow?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>)-(t.castShadow?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">new</span> Wi,i=(n={},{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n[t.id])<span class=\"code-keyword\">return</span> n[t.id];<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">switch</span>(t.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"DirectionalLight\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SpotLight\"</span>:e={<span class=\"code-attr\">shadowBias</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">shadowNormalBias</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">shadowRadius</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">shadowMapSize</span>:<span class=\"code-keyword\">new</span> pt};<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PointLight\"</span>:e={<span class=\"code-attr\">shadowBias</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">shadowNormalBias</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">shadowRadius</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">shadowMapSize</span>:<span class=\"code-keyword\">new</span> pt,<span class=\"code-attr\">shadowCameraNear</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">shadowCameraFar</span>:<span class=\"code-number\">1e3</span>}}<span class=\"code-keyword\">return</span> n[t.id]=e,e}}),a={<span class=\"code-attr\">version</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">hash</span>:{<span class=\"code-attr\">directionalLength</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">pointLength</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">spotLength</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">rectAreaLength</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">hemiLength</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">numDirectionalShadows</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">numPointShadows</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">numSpotShadows</span>:<span class=\"code-number\">-1</span>},<span class=\"code-attr\">ambient</span>:[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],<span class=\"code-attr\">probe</span>:[],<span class=\"code-attr\">directional</span>:[],<span class=\"code-attr\">directionalShadow</span>:[],<span class=\"code-attr\">directionalShadowMap</span>:[],<span class=\"code-attr\">directionalShadowMatrix</span>:[],<span class=\"code-attr\">spot</span>:[],<span class=\"code-attr\">spotShadow</span>:[],<span class=\"code-attr\">spotShadowMap</span>:[],<span class=\"code-attr\">spotShadowMatrix</span>:[],<span class=\"code-attr\">rectArea</span>:[],<span class=\"code-attr\">rectAreaLTC1</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">rectAreaLTC2</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">point</span>:[],<span class=\"code-attr\">pointShadow</span>:[],<span class=\"code-attr\">pointShadowMap</span>:[],<span class=\"code-attr\">pointShadowMatrix</span>:[],<span class=\"code-attr\">hemi</span>:[]},o=<span class=\"code-number\">0</span>;o&lt;<span class=\"code-number\">9</span>;o++)a.probe.push(<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> Mt,c=<span class=\"code-keyword\">new</span> Qt,l=<span class=\"code-keyword\">new</span> Qt;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">setup</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,o,u</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>,d=<span class=\"code-number\">0</span>,p=<span class=\"code-number\">0</span>,f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">9</span>;f++)a.probe[f].set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>,v=<span class=\"code-number\">0</span>,g=<span class=\"code-number\">0</span>,y=<span class=\"code-number\">0</span>,x=<span class=\"code-number\">0</span>,_=<span class=\"code-number\">0</span>,b=<span class=\"code-number\">0</span>,w=<span class=\"code-number\">0</span>,M=u.matrixWorldInverse;n.sort(qi);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=<span class=\"code-number\">0</span>,T=n.length;S&lt;T;S++){<span class=\"code-keyword\">var</span> E=n[S],A=E.color,L=E.intensity,R=E.distance,C=E.shadow&amp;&amp;E.shadow.map?E.shadow.map.texture:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(E.isAmbientLight)h+=A.r*L,d+=A.g*L,p+=A.b*L;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isLightProbe)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> P=<span class=\"code-number\">0</span>;P&lt;<span class=\"code-number\">9</span>;P++)a.probe[P].addScaledVector(E.sh.coefficients[P],L);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isDirectionalLight){<span class=\"code-keyword\">var</span> I=r.get(E);<span class=\"code-keyword\">if</span>(I.color.copy(E.color).multiplyScalar(E.intensity),I.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(M),E.castShadow){<span class=\"code-keyword\">var</span> N=E.shadow,D=i.get(E);D.shadowBias=N.bias,D.shadowNormalBias=N.normalBias,D.shadowRadius=N.radius,D.shadowMapSize=N.mapSize,a.directionalShadow[m]=D,a.directionalShadowMap[m]=C,a.directionalShadowMatrix[m]=E.shadow.matrix,_++}a.directional[m]=I,m++}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isSpotLight){<span class=\"code-keyword\">var</span> O=r.get(E);<span class=\"code-keyword\">if</span>(O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(M),O.color.copy(A).multiplyScalar(L),O.distance=R,O.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(M),O.coneCos=<span class=\"code-built_in\">Math</span>.cos(E.angle),O.penumbraCos=<span class=\"code-built_in\">Math</span>.cos(E.angle*(<span class=\"code-number\">1</span>-E.penumbra)),O.decay=E.decay,E.castShadow){<span class=\"code-keyword\">var</span> B=E.shadow,z=i.get(E);z.shadowBias=B.bias,z.shadowNormalBias=B.normalBias,z.shadowRadius=B.radius,z.shadowMapSize=B.mapSize,a.spotShadow[g]=z,a.spotShadowMap[g]=C,a.spotShadowMatrix[g]=E.shadow.matrix,w++}a.spot[g]=O,g++}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isRectAreaLight){<span class=\"code-keyword\">var</span> U=r.get(E);U.color.copy(A).multiplyScalar(L),U.position.setFromMatrixPosition(E.matrixWorld),U.position.applyMatrix4(M),l.identity(),c.copy(E.matrixWorld),c.premultiply(M),l.extractRotation(c),U.halfWidth.set(<span class=\"code-number\">.5</span>*E.width,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),U.halfHeight.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>*E.height,<span class=\"code-number\">0</span>),U.halfWidth.applyMatrix4(l),U.halfHeight.applyMatrix4(l),a.rectArea[y]=U,y++}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isPointLight){<span class=\"code-keyword\">var</span> F=r.get(E);<span class=\"code-keyword\">if</span>(F.position.setFromMatrixPosition(E.matrixWorld),F.position.applyMatrix4(M),F.color.copy(E.color).multiplyScalar(E.intensity),F.distance=E.distance,F.decay=E.decay,E.castShadow){<span class=\"code-keyword\">var</span> G=E.shadow,H=i.get(E);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,H.shadowCameraNear=G.camera.near,H.shadowCameraFar=G.camera.far,a.pointShadow[v]=H,a.pointShadowMap[v]=C,a.pointShadowMatrix[v]=E.shadow.matrix,b++}a.point[v]=F,v++}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(E.isHemisphereLight){<span class=\"code-keyword\">var</span> k=r.get(E);k.direction.setFromMatrixPosition(E.matrixWorld),k.direction.transformDirection(M),k.direction.normalize(),k.skyColor.copy(E.color).multiplyScalar(L),k.groundColor.copy(E.groundColor).multiplyScalar(L),a.hemi[x]=k,x++}}y&gt;<span class=\"code-number\">0</span>&amp;&amp;(e.isWebGL2||!<span class=\"code-number\">0</span>===t.has(<span class=\"code-string\">\"OES_texture_float_linear\"</span>)?(a.rectAreaLTC1=or.LTC_FLOAT_1,a.rectAreaLTC2=or.LTC_FLOAT_2):!<span class=\"code-number\">0</span>===t.has(<span class=\"code-string\">\"OES_texture_half_float_linear\"</span>)?(a.rectAreaLTC1=or.LTC_HALF_1,a.rectAreaLTC2=or.LTC_HALF_2):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.\"</span>)),a.ambient[<span class=\"code-number\">0</span>]=h,a.ambient[<span class=\"code-number\">1</span>]=d,a.ambient[<span class=\"code-number\">2</span>]=p;<span class=\"code-keyword\">var</span> V=a.hash;V.directionalLength===m&amp;&amp;V.pointLength===v&amp;&amp;V.spotLength===g&amp;&amp;V.rectAreaLength===y&amp;&amp;V.hemiLength===x&amp;&amp;V.numDirectionalShadows===_&amp;&amp;V.numPointShadows===b&amp;&amp;V.numSpotShadows===w||(a.directional.length=m,a.spot.length=g,a.rectArea.length=y,a.point.length=v,a.hemi.length=x,a.directionalShadow.length=_,a.directionalShadowMap.length=_,a.pointShadow.length=b,a.pointShadowMap.length=b,a.spotShadow.length=w,a.spotShadowMap.length=w,a.directionalShadowMatrix.length=_,a.pointShadowMatrix.length=b,a.spotShadowMatrix.length=w,V.directionalLength=m,V.pointLength=v,V.spotLength=g,V.rectAreaLength=y,V.hemiLength=x,V.numDirectionalShadows=_,V.numPointShadows=b,V.numSpotShadows=w,a.version=ji++)},<span class=\"code-attr\">state</span>:a}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Xi(t,e),r=[],i=[];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.length=<span class=\"code-number\">0</span>,i.length=<span class=\"code-number\">0</span>},<span class=\"code-attr\">state</span>:{<span class=\"code-attr\">lightsArray</span>:r,<span class=\"code-attr\">shadowsArray</span>:i,<span class=\"code-attr\">lights</span>:n},<span class=\"code-attr\">setupLights</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{n.setup(r,i,t)},<span class=\"code-attr\">pushLight</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{r.push(t)},<span class=\"code-attr\">pushShadow</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i.push(t)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zi</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>===n.has(r)?(a=<span class=\"code-keyword\">new</span> Yi(t,e),n.set(r,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>),n.get(r).set(i,a)):!<span class=\"code-number\">1</span>===n.get(r).has(i)?(a=<span class=\"code-keyword\">new</span> Yi(t,e),n.get(r).set(i,a)):a=n.get(r).get(i),a},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ji</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshDepthMaterial\"</span>,<span class=\"code-keyword\">this</span>.depthPacking=<span class=\"code-number\">3200</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.fog=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qi</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshDistanceMaterial\"</span>,<span class=\"code-keyword\">this</span>.referencePosition=<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.nearDistance=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.farDistance=<span class=\"code-number\">1e3</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.fog=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}Ji.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isMeshDepthMaterial=!<span class=\"code-number\">0</span>,Ji.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.depthPacking=t.depthPacking,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>},Qi.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Qi.prototype.constructor=Qi,Qi.prototype.isMeshDistanceMaterial=!<span class=\"code-number\">0</span>,Qi.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.referencePosition.copy(t.referencePosition),<span class=\"code-keyword\">this</span>.nearDistance=t.nearDistance,<span class=\"code-keyword\">this</span>.farDistance=t.farDistance,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ki</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> er,i=<span class=\"code-keyword\">new</span> pt,a=<span class=\"code-keyword\">new</span> pt,o=<span class=\"code-keyword\">new</span> xt,s=[],c=[],l={},u={<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>:<span class=\"code-number\">2</span>},h=<span class=\"code-keyword\">new</span> jn({<span class=\"code-attr\">defines</span>:{<span class=\"code-attr\">SAMPLE_RATE</span>:<span class=\"code-number\">2</span>/<span class=\"code-number\">8</span>,<span class=\"code-attr\">HALF_SAMPLE_RATE</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">8</span>},<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">shadow_pass</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">resolution</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> pt},<span class=\"code-attr\">radius</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">4</span>}},<span class=\"code-attr\">vertexShader</span>:<span class=\"code-string\">\"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\"</span>,<span class=\"code-attr\">fragmentShader</span>:<span class=\"code-string\">\"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include &lt;packing&gt;\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i &lt; 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\"</span>}),p=h.clone();p.defines.HORIZONAL_PASS=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">new</span> _n;f.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>([<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">.5</span>]),<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> v=<span class=\"code-keyword\">new</span> Un(f,h),g=<span class=\"code-keyword\">this</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">y</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=e.update(v);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,<span class=\"code-literal\">null</span>,i,h,v,<span class=\"code-literal\">null</span>),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,<span class=\"code-literal\">null</span>,i,p,v,<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">x</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t&lt;&lt;<span class=\"code-number\">0</span>|e&lt;&lt;<span class=\"code-number\">1</span>|n&lt;&lt;<span class=\"code-number\">2</span>,i=s[r];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-keyword\">new</span> Ji({<span class=\"code-attr\">depthPacking</span>:<span class=\"code-number\">3201</span>,<span class=\"code-attr\">morphTargets</span>:t,<span class=\"code-attr\">skinning</span>:e}),s[r]=i),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t&lt;&lt;<span class=\"code-number\">0</span>|e&lt;&lt;<span class=\"code-number\">1</span>|n&lt;&lt;<span class=\"code-number\">2</span>,i=c[r];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-keyword\">new</span> Qi({<span class=\"code-attr\">morphTargets</span>:t,<span class=\"code-attr\">skinning</span>:e}),c[r]=i),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">b</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=<span class=\"code-literal\">null</span>,h=x,d=e.customDepthMaterial;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===i.isPointLight&amp;&amp;(h=_,d=e.customDistanceMaterial),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===d){<span class=\"code-keyword\">var</span> p=!<span class=\"code-number\">1</span>;!<span class=\"code-number\">0</span>===r.morphTargets&amp;&amp;(p=n.morphAttributes&amp;&amp;n.morphAttributes.position&amp;&amp;n.morphAttributes.position.length&gt;<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> f=!<span class=\"code-number\">1</span>;!<span class=\"code-number\">0</span>===e.isSkinnedMesh&amp;&amp;(!<span class=\"code-number\">0</span>===r.skinning?f=!<span class=\"code-number\">0</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:\"</span>,e)),c=h(p,f,!<span class=\"code-number\">0</span>===e.isInstancedMesh)}<span class=\"code-keyword\">else</span> c=d;<span class=\"code-keyword\">if</span>(t.localClippingEnabled&amp;&amp;!<span class=\"code-number\">0</span>===r.clipShadows&amp;&amp;<span class=\"code-number\">0</span>!==r.clippingPlanes.length){<span class=\"code-keyword\">var</span> m=c.uuid,v=r.uuid,g=l[m];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===g&amp;&amp;(g={},l[m]=g);<span class=\"code-keyword\">var</span> y=g[v];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===y&amp;&amp;(y=c.clone(),g[v]=y),c=y}<span class=\"code-keyword\">return</span> c.visible=r.visible,c.wireframe=r.wireframe,c.side=<span class=\"code-number\">3</span>===s?<span class=\"code-literal\">null</span>!==r.shadowSide?r.shadowSide:r.side:<span class=\"code-literal\">null</span>!==r.shadowSide?r.shadowSide:u[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!<span class=\"code-number\">0</span>===i.isPointLight&amp;&amp;!<span class=\"code-number\">0</span>===c.isMeshDistanceMaterial&amp;&amp;(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=a,c.farDistance=o),c}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">n,i,a,o,s</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==n.visible){<span class=\"code-keyword\">if</span>(n.layers.test(i.layers)&amp;&amp;(n.isMesh||n.isLine||n.isPoints)&amp;&amp;(n.castShadow||n.receiveShadow&amp;&amp;<span class=\"code-number\">3</span>===s)&amp;&amp;(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);<span class=\"code-keyword\">var</span> c=e.update(n),l=n.material;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(l))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=c.groups,h=<span class=\"code-number\">0</span>,d=u.length;h&lt;d;h++){<span class=\"code-keyword\">var</span> p=u[h],f=l[p.materialIndex];<span class=\"code-keyword\">if</span>(f&amp;&amp;f.visible){<span class=\"code-keyword\">var</span> m=b(n,c,f,o,a.near,a.far,s);t.renderBufferDirect(a,<span class=\"code-literal\">null</span>,c,m,n,p)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(l.visible){<span class=\"code-keyword\">var</span> v=b(n,c,l,o,a.near,a.far,s);t.renderBufferDirect(a,<span class=\"code-literal\">null</span>,c,v,n,<span class=\"code-literal\">null</span>)}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=n.children,y=<span class=\"code-number\">0</span>,x=g.length;y&lt;x;y++)w(g[y],i,a,o,s)}}<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.autoUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.render=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,s,c</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==g.enabled&amp;&amp;(!<span class=\"code-number\">1</span>!==g.autoUpdate||!<span class=\"code-number\">1</span>!==g.needsUpdate)&amp;&amp;<span class=\"code-number\">0</span>!==e.length){<span class=\"code-keyword\">var</span> l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.state;p.setBlending(<span class=\"code-number\">0</span>),p.buffers.color.setClear(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),p.buffers.depth.setTest(!<span class=\"code-number\">0</span>),p.setScissorTest(!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,v=e.length;f&lt;v;f++){<span class=\"code-keyword\">var</span> x=e[f],_=x.shadow;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==_){<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==_.autoUpdate||!<span class=\"code-number\">1</span>!==_.needsUpdate){i.copy(_.mapSize);<span class=\"code-keyword\">var</span> b=_.getFrameExtents();<span class=\"code-keyword\">if</span>(i.multiply(b),a.copy(_.mapSize),(i.x&gt;n||i.y&gt;n)&amp;&amp;(i.x&gt;n&amp;&amp;(a.x=<span class=\"code-built_in\">Math</span>.floor(n/b.x),i.x=a.x*b.x,_.mapSize.x=a.x),i.y&gt;n&amp;&amp;(a.y=<span class=\"code-built_in\">Math</span>.floor(n/b.y),i.y=a.y*b.y,_.mapSize.y=a.y)),<span class=\"code-literal\">null</span>===_.map&amp;&amp;!_.isPointLightShadow&amp;&amp;<span class=\"code-number\">3</span>===<span class=\"code-keyword\">this</span>.type){<span class=\"code-keyword\">var</span> M={<span class=\"code-attr\">minFilter</span>:m,<span class=\"code-attr\">magFilter</span>:m,<span class=\"code-attr\">format</span>:T};_.map=<span class=\"code-keyword\">new</span> _t(i.x,i.y,M),_.map.texture.name=x.name+<span class=\"code-string\">\".shadowMap\"</span>,_.mapPass=<span class=\"code-keyword\">new</span> _t(i.x,i.y,M),_.camera.updateProjectionMatrix()}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===_.map){<span class=\"code-keyword\">var</span> S={<span class=\"code-attr\">minFilter</span>:d,<span class=\"code-attr\">magFilter</span>:d,<span class=\"code-attr\">format</span>:T};_.map=<span class=\"code-keyword\">new</span> _t(i.x,i.y,S),_.map.texture.name=x.name+<span class=\"code-string\">\".shadowMap\"</span>,_.camera.updateProjectionMatrix()}t.setRenderTarget(_.map),t.clear();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=_.getViewportCount(),A=<span class=\"code-number\">0</span>;A&lt;E;A++){<span class=\"code-keyword\">var</span> L=_.getViewport(A);o.set(a.x*L.x,a.y*L.y,a.x*L.z,a.y*L.w),p.viewport(o),_.updateMatrices(x,A),r=_.getFrustum(),w(s,c,_.camera,x,<span class=\"code-keyword\">this</span>.type)}_.isPointLightShadow||<span class=\"code-number\">3</span>!==<span class=\"code-keyword\">this</span>.type||y(_,c),_.needsUpdate=!<span class=\"code-number\">1</span>}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLShadowMap:\"</span>,x,<span class=\"code-string\">\"has no shadow.\"</span>)}g.needsUpdate=!<span class=\"code-number\">1</span>,t.setRenderTarget(l,u,h)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$i</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a,o=r.isWebGL2;<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=!<span class=\"code-number\">1</span>,n=<span class=\"code-keyword\">new</span> xt,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">setMask</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{r===n||e||(t.colorMask(n,n,n,n),r=n)},<span class=\"code-attr\">setLocked</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e=t},<span class=\"code-attr\">setClear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,a,o,s</span>)</span>{!<span class=\"code-number\">0</span>===s&amp;&amp;(e*=o,r*=o,a*=o),n.set(e,r,a,o),!<span class=\"code-number\">1</span>===i.equals(n)&amp;&amp;(t.clearColor(e,r,a,o),i.copy(n))},<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e=!<span class=\"code-number\">1</span>,r=<span class=\"code-literal\">null</span>,i.set(<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)}}},c=<span class=\"code-keyword\">new</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=!<span class=\"code-number\">1</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">setTest</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t?B(<span class=\"code-number\">2929</span>):z(<span class=\"code-number\">2929</span>)},<span class=\"code-attr\">setMask</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{n===r||e||(t.depthMask(r),n=r)},<span class=\"code-attr\">setFunc</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(r!==e){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:t.depthFunc(<span class=\"code-number\">512</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:t.depthFunc(<span class=\"code-number\">519</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:t.depthFunc(<span class=\"code-number\">513</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:t.depthFunc(<span class=\"code-number\">515</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:t.depthFunc(<span class=\"code-number\">514</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:t.depthFunc(<span class=\"code-number\">518</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:t.depthFunc(<span class=\"code-number\">516</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:t.depthFunc(<span class=\"code-number\">517</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:t.depthFunc(<span class=\"code-number\">515</span>)}<span class=\"code-keyword\">else</span> t.depthFunc(<span class=\"code-number\">515</span>);r=e}},<span class=\"code-attr\">setLocked</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e=t},<span class=\"code-attr\">setClear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i!==e&amp;&amp;(t.clearDepth(e),i=e)},<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e=!<span class=\"code-number\">1</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-literal\">null</span>}}},l=<span class=\"code-keyword\">new</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=!<span class=\"code-number\">1</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-literal\">null</span>,a=<span class=\"code-literal\">null</span>,o=<span class=\"code-literal\">null</span>,s=<span class=\"code-literal\">null</span>,c=<span class=\"code-literal\">null</span>,l=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">setTest</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e||(t?B(<span class=\"code-number\">2960</span>):z(<span class=\"code-number\">2960</span>))},<span class=\"code-attr\">setMask</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{n===r||e||(t.stencilMask(r),n=r)},<span class=\"code-attr\">setFunc</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,o</span>)</span>{r===e&amp;&amp;i===n&amp;&amp;a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},<span class=\"code-attr\">setOp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,r</span>)</span>{o===e&amp;&amp;s===n&amp;&amp;c===r||(t.stencilOp(e,n,r),o=e,s=n,c=r)},<span class=\"code-attr\">setLocked</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e=t},<span class=\"code-attr\">setClear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{l!==e&amp;&amp;(t.clearStencil(e),l=e)},<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e=!<span class=\"code-number\">1</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-literal\">null</span>,a=<span class=\"code-literal\">null</span>,o=<span class=\"code-literal\">null</span>,s=<span class=\"code-literal\">null</span>,c=<span class=\"code-literal\">null</span>,l=<span class=\"code-literal\">null</span>}}},u={},h=<span class=\"code-literal\">null</span>,d=<span class=\"code-literal\">null</span>,p=<span class=\"code-literal\">null</span>,f=<span class=\"code-literal\">null</span>,m=<span class=\"code-literal\">null</span>,v=<span class=\"code-literal\">null</span>,g=<span class=\"code-literal\">null</span>,y=<span class=\"code-literal\">null</span>,x=<span class=\"code-literal\">null</span>,_=!<span class=\"code-number\">1</span>,b=<span class=\"code-literal\">null</span>,w=<span class=\"code-literal\">null</span>,M=<span class=\"code-literal\">null</span>,S=<span class=\"code-literal\">null</span>,T=<span class=\"code-literal\">null</span>,E=t.getParameter(<span class=\"code-number\">35661</span>),A=!<span class=\"code-number\">1</span>,L=<span class=\"code-number\">0</span>,R=t.getParameter(<span class=\"code-number\">7938</span>);<span class=\"code-number\">-1</span>!==R.indexOf(<span class=\"code-string\">\"WebGL\"</span>)?(L=<span class=\"code-built_in\">parseFloat</span>(<span class=\"code-regexp\">/^WebGL\\ ([0-9])/</span>.exec(R)[<span class=\"code-number\">1</span>]),A=L&gt;=<span class=\"code-number\">1</span>):<span class=\"code-number\">-1</span>!==R.indexOf(<span class=\"code-string\">\"OpenGL ES\"</span>)&amp;&amp;(L=<span class=\"code-built_in\">parseFloat</span>(<span class=\"code-regexp\">/^OpenGL\\ ES\\ ([0-9])/</span>.exec(R)[<span class=\"code-number\">1</span>]),A=L&gt;=<span class=\"code-number\">2</span>);<span class=\"code-keyword\">var</span> C=<span class=\"code-literal\">null</span>,P={},I=<span class=\"code-keyword\">new</span> xt,N=<span class=\"code-keyword\">new</span> xt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">D</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-number\">4</span>),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,<span class=\"code-number\">10241</span>,<span class=\"code-number\">9728</span>),t.texParameteri(e,<span class=\"code-number\">10240</span>,<span class=\"code-number\">9728</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;r;o++)t.texImage2D(n+o,<span class=\"code-number\">0</span>,<span class=\"code-number\">6408</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">6408</span>,<span class=\"code-number\">5121</span>,i);<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">var</span> O={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">B</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-number\">0</span>!==u[e]&amp;&amp;(t.enable(e),u[e]=!<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-number\">1</span>!==u[e]&amp;&amp;(t.disable(e),u[e]=!<span class=\"code-number\">1</span>)}O[<span class=\"code-number\">3553</span>]=D(<span class=\"code-number\">3553</span>,<span class=\"code-number\">3553</span>,<span class=\"code-number\">1</span>),O[<span class=\"code-number\">34067</span>]=D(<span class=\"code-number\">34067</span>,<span class=\"code-number\">34069</span>,<span class=\"code-number\">6</span>),s.setClear(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),c.setClear(<span class=\"code-number\">1</span>),l.setClear(<span class=\"code-number\">0</span>),B(<span class=\"code-number\">2929</span>),c.setFunc(<span class=\"code-number\">3</span>),k(!<span class=\"code-number\">1</span>),V(<span class=\"code-number\">1</span>),B(<span class=\"code-number\">2884</span>),H(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> U=((i={})[<span class=\"code-number\">100</span>]=<span class=\"code-number\">32774</span>,i[<span class=\"code-number\">101</span>]=<span class=\"code-number\">32778</span>,i[<span class=\"code-number\">102</span>]=<span class=\"code-number\">32779</span>,i);<span class=\"code-keyword\">if</span>(o)U[<span class=\"code-number\">103</span>]=<span class=\"code-number\">32775</span>,U[<span class=\"code-number\">104</span>]=<span class=\"code-number\">32776</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> F=n.get(<span class=\"code-string\">\"EXT_blend_minmax\"</span>);<span class=\"code-literal\">null</span>!==F&amp;&amp;(U[<span class=\"code-number\">103</span>]=F.MIN_EXT,U[<span class=\"code-number\">104</span>]=F.MAX_EXT)}<span class=\"code-keyword\">var</span> G=((a={})[<span class=\"code-number\">200</span>]=<span class=\"code-number\">0</span>,a[<span class=\"code-number\">201</span>]=<span class=\"code-number\">1</span>,a[<span class=\"code-number\">202</span>]=<span class=\"code-number\">768</span>,a[<span class=\"code-number\">204</span>]=<span class=\"code-number\">770</span>,a[<span class=\"code-number\">210</span>]=<span class=\"code-number\">776</span>,a[<span class=\"code-number\">208</span>]=<span class=\"code-number\">774</span>,a[<span class=\"code-number\">206</span>]=<span class=\"code-number\">772</span>,a[<span class=\"code-number\">203</span>]=<span class=\"code-number\">769</span>,a[<span class=\"code-number\">205</span>]=<span class=\"code-number\">771</span>,a[<span class=\"code-number\">209</span>]=<span class=\"code-number\">775</span>,a[<span class=\"code-number\">207</span>]=<span class=\"code-number\">773</span>,a);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">H</span>(<span class=\"code-params\">n,r,i,a,o,s,c,l</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==n){<span class=\"code-keyword\">if</span>(d||(B(<span class=\"code-number\">3042</span>),d=!<span class=\"code-number\">0</span>),<span class=\"code-number\">5</span>===n)o=o||r,s=s||i,c=c||a,r===f&amp;&amp;o===g||(t.blendEquationSeparate(U[r],U[o]),f=r,g=o),i===m&amp;&amp;a===v&amp;&amp;s===y&amp;&amp;c===x||(t.blendFuncSeparate(G[i],G[a],G[s],G[c]),m=i,v=a,y=s,x=c),p=n,_=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n!==p||l!==_){<span class=\"code-keyword\">if</span>(f===e&amp;&amp;g===e||(t.blendEquation(<span class=\"code-number\">32774</span>),f=e,g=e),l)<span class=\"code-keyword\">switch</span>(n){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:t.blendFuncSeparate(<span class=\"code-number\">1</span>,<span class=\"code-number\">771</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">771</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:t.blendFunc(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:t.blendFuncSeparate(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">769</span>,<span class=\"code-number\">771</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:t.blendFuncSeparate(<span class=\"code-number\">0</span>,<span class=\"code-number\">768</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">770</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLState: Invalid blending: \"</span>,n)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">switch</span>(n){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:t.blendFuncSeparate(<span class=\"code-number\">770</span>,<span class=\"code-number\">771</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">771</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:t.blendFunc(<span class=\"code-number\">770</span>,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:t.blendFunc(<span class=\"code-number\">0</span>,<span class=\"code-number\">769</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:t.blendFunc(<span class=\"code-number\">0</span>,<span class=\"code-number\">768</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLState: Invalid blending: \"</span>,n)}m=<span class=\"code-literal\">null</span>,v=<span class=\"code-literal\">null</span>,y=<span class=\"code-literal\">null</span>,x=<span class=\"code-literal\">null</span>,p=n,_=l}}<span class=\"code-keyword\">else</span> d&amp;&amp;(z(<span class=\"code-number\">3042</span>),d=!<span class=\"code-number\">1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">k</span>(<span class=\"code-params\">e</span>)</span>{b!==e&amp;&amp;(e?t.frontFace(<span class=\"code-number\">2304</span>):t.frontFace(<span class=\"code-number\">2305</span>),b=e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">V</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-number\">0</span>!==e?(B(<span class=\"code-number\">2884</span>),e!==w&amp;&amp;(<span class=\"code-number\">1</span>===e?t.cullFace(<span class=\"code-number\">1029</span>):<span class=\"code-number\">2</span>===e?t.cullFace(<span class=\"code-number\">1028</span>):t.cullFace(<span class=\"code-number\">1032</span>))):z(<span class=\"code-number\">2884</span>),w=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">W</span>(<span class=\"code-params\">e,n,r</span>)</span>{e?(B(<span class=\"code-number\">32823</span>),S===n&amp;&amp;T===r||(t.polygonOffset(n,r),S=n,T=r)):z(<span class=\"code-number\">32823</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">j</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">33984</span>+E<span class=\"code-number\">-1</span>),C!==e&amp;&amp;(t.activeTexture(e),C=e)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">buffers</span>:{<span class=\"code-attr\">color</span>:s,<span class=\"code-attr\">depth</span>:c,<span class=\"code-attr\">stencil</span>:l},<span class=\"code-attr\">enable</span>:B,<span class=\"code-attr\">disable</span>:z,<span class=\"code-attr\">useProgram</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> h!==e&amp;&amp;(t.useProgram(e),h=e,!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">setBlending</span>:H,<span class=\"code-attr\">setMaterial</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-number\">2</span>===t.side?z(<span class=\"code-number\">2884</span>):B(<span class=\"code-number\">2884</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">1</span>===t.side;e&amp;&amp;(n=!n),k(n),<span class=\"code-number\">1</span>===t.blending&amp;&amp;!<span class=\"code-number\">1</span>===t.transparent?H(<span class=\"code-number\">0</span>):H(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),c.setFunc(t.depthFunc),c.setTest(t.depthTest),c.setMask(t.depthWrite),s.setMask(t.colorWrite);<span class=\"code-keyword\">var</span> r=t.stencilWrite;l.setTest(r),r&amp;&amp;(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},<span class=\"code-attr\">setFlipSided</span>:k,<span class=\"code-attr\">setCullFace</span>:V,<span class=\"code-attr\">setLineWidth</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e!==M&amp;&amp;(A&amp;&amp;t.lineWidth(e),M=e)},<span class=\"code-attr\">setPolygonOffset</span>:W,<span class=\"code-attr\">setScissorTest</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t?B(<span class=\"code-number\">3089</span>):z(<span class=\"code-number\">3089</span>)},<span class=\"code-attr\">activeTexture</span>:j,<span class=\"code-attr\">bindTexture</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-literal\">null</span>===C&amp;&amp;j();<span class=\"code-keyword\">var</span> r=P[C];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">texture</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},P[C]=r),r.type===e&amp;&amp;r.texture===n||(t.bindTexture(e,n||O[e]),r.type=e,r.texture=n)},<span class=\"code-attr\">unbindTexture</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=P[C];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.type&amp;&amp;(t.bindTexture(e.type,<span class=\"code-literal\">null</span>),e.type=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.texture=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)},<span class=\"code-attr\">compressedTexImage2D</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{t.compressedTexImage2D.apply(t,<span class=\"code-built_in\">arguments</span>)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLState:\"</span>,t)}},<span class=\"code-attr\">texImage2D</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{t.texImage2D.apply(t,<span class=\"code-built_in\">arguments</span>)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLState:\"</span>,t)}},<span class=\"code-attr\">texImage3D</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{t.texImage3D.apply(t,<span class=\"code-built_in\">arguments</span>)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLState:\"</span>,t)}},<span class=\"code-attr\">scissor</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-number\">1</span>===I.equals(e)&amp;&amp;(t.scissor(e.x,e.y,e.z,e.w),I.copy(e))},<span class=\"code-attr\">viewport</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-number\">1</span>===N.equals(e)&amp;&amp;(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u={},C=<span class=\"code-literal\">null</span>,P={},h=<span class=\"code-literal\">null</span>,d=<span class=\"code-literal\">null</span>,p=<span class=\"code-literal\">null</span>,f=<span class=\"code-literal\">null</span>,m=<span class=\"code-literal\">null</span>,v=<span class=\"code-literal\">null</span>,g=<span class=\"code-literal\">null</span>,y=<span class=\"code-literal\">null</span>,x=<span class=\"code-literal\">null</span>,_=!<span class=\"code-number\">1</span>,b=<span class=\"code-literal\">null</span>,w=<span class=\"code-literal\">null</span>,M=<span class=\"code-literal\">null</span>,S=<span class=\"code-literal\">null</span>,T=<span class=\"code-literal\">null</span>,s.reset(),c.reset(),l.reset()}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ta</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s,c,l,h=i.isWebGL2,v=i.maxTextures,g=i.maxCubemapSize,y=i.maxTextureSize,L=i.maxSamples,R=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>,C=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">try</span>{C=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> OffscreenCanvas&amp;&amp;<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">new</span> OffscreenCanvas(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>).getContext(<span class=\"code-string\">\"2d\"</span>)}<span class=\"code-keyword\">catch</span>(t){}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">P</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> C?<span class=\"code-keyword\">new</span> OffscreenCanvas(t,e):<span class=\"code-built_in\">document</span>.createElementNS(<span class=\"code-string\">\"http://www.w3.org/1999/xhtml\"</span>,<span class=\"code-string\">\"canvas\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">I</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>((t.width&gt;r||t.height&gt;r)&amp;&amp;(i=r/<span class=\"code-built_in\">Math</span>.max(t.width,t.height)),i&lt;<span class=\"code-number\">1</span>||!<span class=\"code-number\">0</span>===e){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> HTMLImageElement&amp;&amp;t <span class=\"code-keyword\">instanceof</span> HTMLImageElement||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> HTMLCanvasElement&amp;&amp;t <span class=\"code-keyword\">instanceof</span> HTMLCanvasElement||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> ImageBitmap&amp;&amp;t <span class=\"code-keyword\">instanceof</span> ImageBitmap){<span class=\"code-keyword\">var</span> a=e?st.floorPowerOfTwo:<span class=\"code-built_in\">Math</span>.floor,o=a(i*t.width),s=a(i*t.height);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l&amp;&amp;(l=P(o,s));<span class=\"code-keyword\">var</span> c=n?P(o,s):l;<span class=\"code-keyword\">return</span> c.width=o,c.height=s,c.getContext(<span class=\"code-string\">\"2d\"</span>).drawImage(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,o,s),<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Texture has been resized from (\"</span>+t.width+<span class=\"code-string\">\"x\"</span>+t.height+<span class=\"code-string\">\") to (\"</span>+o+<span class=\"code-string\">\"x\"</span>+s+<span class=\"code-string\">\").\"</span>),c}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"data\"</span><span class=\"code-keyword\">in</span> t&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Image in DataTexture is too big (\"</span>+t.width+<span class=\"code-string\">\"x\"</span>+t.height+<span class=\"code-string\">\").\"</span>),t}<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">N</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> st.isPowerOfTwo(t.width)&amp;&amp;st.isPowerOfTwo(t.height)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">D</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.generateMipmaps&amp;&amp;e&amp;&amp;t.minFilter!==d&amp;&amp;t.minFilter!==m}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">O</span>(<span class=\"code-params\">e,n,i,a</span>)</span>{t.generateMipmap(e),r.get(n).__maxMipLevel=<span class=\"code-built_in\">Math</span>.log(<span class=\"code-built_in\">Math</span>.max(i,a))*<span class=\"code-built_in\">Math</span>.LOG2E}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">B</span>(<span class=\"code-params\">n,r,i</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===h)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==n){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t[n])<span class=\"code-keyword\">return</span> t[n];<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '\"</span>+n+<span class=\"code-string\">\"'\"</span>)}<span class=\"code-keyword\">var</span> a=r;<span class=\"code-keyword\">return</span> <span class=\"code-number\">6403</span>===r&amp;&amp;(<span class=\"code-number\">5126</span>===i&amp;&amp;(a=<span class=\"code-number\">33326</span>),<span class=\"code-number\">5131</span>===i&amp;&amp;(a=<span class=\"code-number\">33325</span>),<span class=\"code-number\">5121</span>===i&amp;&amp;(a=<span class=\"code-number\">33321</span>)),<span class=\"code-number\">6407</span>===r&amp;&amp;(<span class=\"code-number\">5126</span>===i&amp;&amp;(a=<span class=\"code-number\">34837</span>),<span class=\"code-number\">5131</span>===i&amp;&amp;(a=<span class=\"code-number\">34843</span>),<span class=\"code-number\">5121</span>===i&amp;&amp;(a=<span class=\"code-number\">32849</span>)),<span class=\"code-number\">6408</span>===r&amp;&amp;(<span class=\"code-number\">5126</span>===i&amp;&amp;(a=<span class=\"code-number\">34836</span>),<span class=\"code-number\">5131</span>===i&amp;&amp;(a=<span class=\"code-number\">34842</span>),<span class=\"code-number\">5121</span>===i&amp;&amp;(a=<span class=\"code-number\">32856</span>)),<span class=\"code-number\">33325</span>!==a&amp;&amp;<span class=\"code-number\">33326</span>!==a&amp;&amp;<span class=\"code-number\">34842</span>!==a&amp;&amp;<span class=\"code-number\">34836</span>!==a||e.get(<span class=\"code-string\">\"EXT_color_buffer_float\"</span>),a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t===d||t===p||t===f?<span class=\"code-number\">9728</span>:<span class=\"code-number\">9729</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">U</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.target;n.removeEventListener(<span class=\"code-string\">\"dispose\"</span>,U),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=r.get(e);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.__webglInit)<span class=\"code-keyword\">return</span>;t.deleteTexture(n.__webglTexture),r.remove(e)}(n),n.isVideoTexture&amp;&amp;R.delete(n),o.memory.textures--}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">F</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.target;n.removeEventListener(<span class=\"code-string\">\"dispose\"</span>,F),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=r.get(e),i=r.get(e.texture);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i.__webglTexture&amp;&amp;t.deleteTexture(i.__webglTexture);e.depthTexture&amp;&amp;e.depthTexture.dispose();<span class=\"code-keyword\">if</span>(e.isWebGLCubeRenderTarget)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;<span class=\"code-number\">6</span>;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthbuffer[a]);<span class=\"code-keyword\">else</span> t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&amp;&amp;t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(e.texture),r.remove(e)}(n),o.memory.textures--}<span class=\"code-keyword\">var</span> G=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">H</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i=r.get(t);<span class=\"code-keyword\">if</span>(t.isVideoTexture&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=o.render.frame;R.get(t)!==e&amp;&amp;(R.set(t,e),t.update())}(t),t.version&gt;<span class=\"code-number\">0</span>&amp;&amp;i.__version!==t.version){<span class=\"code-keyword\">var</span> a=t.image;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a)<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Texture marked for update but image is undefined\"</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==a.complete)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> X(i,t,e);<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\"</span>)}}n.activeTexture(<span class=\"code-number\">33984</span>+e),n.bindTexture(<span class=\"code-number\">3553</span>,i.__webglTexture)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">k</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">var</span> o=r.get(e);e.version&gt;<span class=\"code-number\">0</span>&amp;&amp;o.__version!==e.version?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">6</span>!==r.image.length)<span class=\"code-keyword\">return</span>;q(e,r),n.activeTexture(<span class=\"code-number\">33984</span>+i),n.bindTexture(<span class=\"code-number\">34067</span>,e.__webglTexture),t.pixelStorei(<span class=\"code-number\">37440</span>,r.flipY);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=r&amp;&amp;(r.isCompressedTexture||r.image[<span class=\"code-number\">0</span>].isCompressedTexture),s=r.image[<span class=\"code-number\">0</span>]&amp;&amp;r.image[<span class=\"code-number\">0</span>].isDataTexture,c=[],l=<span class=\"code-number\">0</span>;l&lt;<span class=\"code-number\">6</span>;l++)c[l]=o||s?s?r.image[l].image:r.image[l]:I(r.image[l],!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>,g);<span class=\"code-keyword\">var</span> u,d=c[<span class=\"code-number\">0</span>],p=N(d)||h,f=a.convert(r.format),m=a.convert(r.type),v=B(r.internalFormat,f,m);<span class=\"code-keyword\">if</span>(j(<span class=\"code-number\">34067</span>,r,p),o){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;<span class=\"code-number\">6</span>;y++){u=c[y].mipmaps;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=<span class=\"code-number\">0</span>;x&lt;u.length;x++){<span class=\"code-keyword\">var</span> _=u[x];r.format!==T&amp;&amp;r.format!==S?<span class=\"code-literal\">null</span>!==f?n.compressedTexImage2D(<span class=\"code-number\">34069</span>+y,x,v,_.width,_.height,<span class=\"code-number\">0</span>,_.data):<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"</span>):n.texImage2D(<span class=\"code-number\">34069</span>+y,x,v,_.width,_.height,<span class=\"code-number\">0</span>,f,m,_.data)}}e.__maxMipLevel=u.length<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span>{u=r.mipmaps;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=<span class=\"code-number\">0</span>;b&lt;<span class=\"code-number\">6</span>;b++)<span class=\"code-keyword\">if</span>(s){n.texImage2D(<span class=\"code-number\">34069</span>+b,<span class=\"code-number\">0</span>,v,c[b].width,c[b].height,<span class=\"code-number\">0</span>,f,m,c[b].data);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">0</span>;w&lt;u.length;w++){<span class=\"code-keyword\">var</span> M=u[w].image[b].image;n.texImage2D(<span class=\"code-number\">34069</span>+b,w+<span class=\"code-number\">1</span>,v,M.width,M.height,<span class=\"code-number\">0</span>,f,m,M.data)}}<span class=\"code-keyword\">else</span>{n.texImage2D(<span class=\"code-number\">34069</span>+b,<span class=\"code-number\">0</span>,v,f,m,c[b]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">0</span>;E&lt;u.length;E++){<span class=\"code-keyword\">var</span> A=u[E];n.texImage2D(<span class=\"code-number\">34069</span>+b,E+<span class=\"code-number\">1</span>,v,f,m,A.image[b])}}e.__maxMipLevel=u.length}D(r,p)&amp;&amp;O(<span class=\"code-number\">34067</span>,r,d.width,d.height);e.__version=r.version,r.onUpdate&amp;&amp;r.onUpdate(r)}(o,e,i):(n.activeTexture(<span class=\"code-number\">33984</span>+i),n.bindTexture(<span class=\"code-number\">34067</span>,o.__webglTexture))}<span class=\"code-keyword\">var</span> V=((s={})[<span class=\"code-number\">1e3</span>]=<span class=\"code-number\">10497</span>,s[<span class=\"code-number\">1001</span>]=<span class=\"code-number\">33071</span>,s[<span class=\"code-number\">1002</span>]=<span class=\"code-number\">33648</span>,s),W=((c={})[<span class=\"code-number\">1003</span>]=<span class=\"code-number\">9728</span>,c[<span class=\"code-number\">1004</span>]=<span class=\"code-number\">9984</span>,c[<span class=\"code-number\">1005</span>]=<span class=\"code-number\">9986</span>,c[<span class=\"code-number\">1006</span>]=<span class=\"code-number\">9729</span>,c[<span class=\"code-number\">1007</span>]=<span class=\"code-number\">9985</span>,c[<span class=\"code-number\">1008</span>]=<span class=\"code-number\">9987</span>,c);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">j</span>(<span class=\"code-params\">n,a,o</span>)</span>{o?(t.texParameteri(n,<span class=\"code-number\">10242</span>,V[a.wrapS]),t.texParameteri(n,<span class=\"code-number\">10243</span>,V[a.wrapT]),<span class=\"code-number\">32879</span>!==n&amp;&amp;<span class=\"code-number\">35866</span>!==n||t.texParameteri(n,<span class=\"code-number\">32882</span>,V[a.wrapR]),t.texParameteri(n,<span class=\"code-number\">10240</span>,W[a.magFilter]),t.texParameteri(n,<span class=\"code-number\">10241</span>,W[a.minFilter])):(t.texParameteri(n,<span class=\"code-number\">10242</span>,<span class=\"code-number\">33071</span>),t.texParameteri(n,<span class=\"code-number\">10243</span>,<span class=\"code-number\">33071</span>),<span class=\"code-number\">32879</span>!==n&amp;&amp;<span class=\"code-number\">35866</span>!==n||t.texParameteri(n,<span class=\"code-number\">32882</span>,<span class=\"code-number\">33071</span>),a.wrapS===u&amp;&amp;a.wrapT===u||<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"</span>),t.texParameteri(n,<span class=\"code-number\">10240</span>,z(a.magFilter)),t.texParameteri(n,<span class=\"code-number\">10241</span>,z(a.minFilter)),a.minFilter!==d&amp;&amp;a.minFilter!==m&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\"</span>));<span class=\"code-keyword\">var</span> s=e.get(<span class=\"code-string\">\"EXT_texture_filter_anisotropic\"</span>);<span class=\"code-keyword\">if</span>(s){<span class=\"code-keyword\">if</span>(a.type===b&amp;&amp;<span class=\"code-literal\">null</span>===e.get(<span class=\"code-string\">\"OES_texture_float_linear\"</span>))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(a.type===w&amp;&amp;<span class=\"code-literal\">null</span>===(h||e.get(<span class=\"code-string\">\"OES_texture_half_float_linear\"</span>)))<span class=\"code-keyword\">return</span>;(a.anisotropy&gt;<span class=\"code-number\">1</span>||r.get(a).__currentAnisotropy)&amp;&amp;(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,<span class=\"code-built_in\">Math</span>.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">q</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.__webglInit&amp;&amp;(e.__webglInit=!<span class=\"code-number\">0</span>,n.addEventListener(<span class=\"code-string\">\"dispose\"</span>,U),e.__webglTexture=t.createTexture(),o.memory.textures++)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">X</span>(<span class=\"code-params\">e,r,i</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">3553</span>;r.isDataTexture2DArray&amp;&amp;(o=<span class=\"code-number\">35866</span>),r.isDataTexture3D&amp;&amp;(o=<span class=\"code-number\">32879</span>),q(e,r),n.activeTexture(<span class=\"code-number\">33984</span>+i),n.bindTexture(o,e.__webglTexture),t.pixelStorei(<span class=\"code-number\">37440</span>,r.flipY),t.pixelStorei(<span class=\"code-number\">37441</span>,r.premultiplyAlpha),t.pixelStorei(<span class=\"code-number\">3317</span>,r.unpackAlignment);<span class=\"code-keyword\">var</span> s,c=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!h&amp;&amp;(t.wrapS!==u||t.wrapT!==u||t.minFilter!==d&amp;&amp;t.minFilter!==m)}(r)&amp;&amp;!<span class=\"code-number\">1</span>===N(r.image),l=I(r.image,c,!<span class=\"code-number\">1</span>,y),p=N(l)||h,f=a.convert(r.format),v=a.convert(r.type),g=B(r.internalFormat,f,v);j(o,r,p);<span class=\"code-keyword\">var</span> w=r.mipmaps;<span class=\"code-keyword\">if</span>(r.isDepthTexture)g=<span class=\"code-number\">6402</span>,h?g=r.type===b?<span class=\"code-number\">36012</span>:r.type===_?<span class=\"code-number\">33190</span>:r.type===M?<span class=\"code-number\">35056</span>:<span class=\"code-number\">33189</span>:r.type===b&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"WebGLRenderer: Floating point depth texture requires WebGL2.\"</span>),r.format===E&amp;&amp;<span class=\"code-number\">6402</span>===g&amp;&amp;r.type!==x&amp;&amp;r.type!==_&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"</span>),r.type=x,v=a.convert(r.type)),r.format===A&amp;&amp;<span class=\"code-number\">6402</span>===g&amp;&amp;(g=<span class=\"code-number\">34041</span>,r.type!==M&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"</span>),r.type=M,v=a.convert(r.type))),n.texImage2D(<span class=\"code-number\">3553</span>,<span class=\"code-number\">0</span>,g,l.width,l.height,<span class=\"code-number\">0</span>,f,v,<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.isDataTexture)<span class=\"code-keyword\">if</span>(w.length&gt;<span class=\"code-number\">0</span>&amp;&amp;p){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>,R=w.length;L&lt;R;L++)s=w[L],n.texImage2D(<span class=\"code-number\">3553</span>,L,g,s.width,s.height,<span class=\"code-number\">0</span>,f,v,s.data);r.generateMipmaps=!<span class=\"code-number\">1</span>,e.__maxMipLevel=w.length<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span> n.texImage2D(<span class=\"code-number\">3553</span>,<span class=\"code-number\">0</span>,g,l.width,l.height,<span class=\"code-number\">0</span>,f,v,l.data),e.__maxMipLevel=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.isCompressedTexture){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> C=<span class=\"code-number\">0</span>,P=w.length;C&lt;P;C++)s=w[C],r.format!==T&amp;&amp;r.format!==S?<span class=\"code-literal\">null</span>!==f?n.compressedTexImage2D(<span class=\"code-number\">3553</span>,C,g,s.width,s.height,<span class=\"code-number\">0</span>,s.data):<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"</span>):n.texImage2D(<span class=\"code-number\">3553</span>,C,g,s.width,s.height,<span class=\"code-number\">0</span>,f,v,s.data);e.__maxMipLevel=w.length<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.isDataTexture2DArray)n.texImage3D(<span class=\"code-number\">35866</span>,<span class=\"code-number\">0</span>,g,l.width,l.height,l.depth,<span class=\"code-number\">0</span>,f,v,l.data),e.__maxMipLevel=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.isDataTexture3D)n.texImage3D(<span class=\"code-number\">32879</span>,<span class=\"code-number\">0</span>,g,l.width,l.height,l.depth,<span class=\"code-number\">0</span>,f,v,l.data),e.__maxMipLevel=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(w.length&gt;<span class=\"code-number\">0</span>&amp;&amp;p){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> z=<span class=\"code-number\">0</span>,U=w.length;z&lt;U;z++)s=w[z],n.texImage2D(<span class=\"code-number\">3553</span>,z,g,f,v,s);r.generateMipmaps=!<span class=\"code-number\">1</span>,e.__maxMipLevel=w.length<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span> n.texImage2D(<span class=\"code-number\">3553</span>,<span class=\"code-number\">0</span>,g,f,v,l),e.__maxMipLevel=<span class=\"code-number\">0</span>;D(r,p)&amp;&amp;O(o,r,l.width,l.height),e.__version=r.version,r.onUpdate&amp;&amp;r.onUpdate(r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Y</span>(<span class=\"code-params\">e,i,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=a.convert(i.texture.format),l=a.convert(i.texture.type),u=B(i.texture.internalFormat,c,l);n.texImage2D(s,<span class=\"code-number\">0</span>,u,i.width,i.height,<span class=\"code-number\">0</span>,c,l,<span class=\"code-literal\">null</span>),t.bindFramebuffer(<span class=\"code-number\">36160</span>,e),t.framebufferTexture2D(<span class=\"code-number\">36160</span>,o,s,r.get(i.texture).__webglTexture,<span class=\"code-number\">0</span>),t.bindFramebuffer(<span class=\"code-number\">36160</span>,<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Z</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(t.bindRenderbuffer(<span class=\"code-number\">36161</span>,e),n.depthBuffer&amp;&amp;!n.stencilBuffer){<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">33189</span>;<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">var</span> o=n.depthTexture;o&amp;&amp;o.isDepthTexture&amp;&amp;(o.type===b?i=<span class=\"code-number\">36012</span>:o.type===_&amp;&amp;(i=<span class=\"code-number\">33190</span>));<span class=\"code-keyword\">var</span> s=Q(n);t.renderbufferStorageMultisample(<span class=\"code-number\">36161</span>,s,i,n.width,n.height)}<span class=\"code-keyword\">else</span> t.renderbufferStorage(<span class=\"code-number\">36161</span>,i,n.width,n.height);t.framebufferRenderbuffer(<span class=\"code-number\">36160</span>,<span class=\"code-number\">36096</span>,<span class=\"code-number\">36161</span>,e)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n.depthBuffer&amp;&amp;n.stencilBuffer){<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">var</span> c=Q(n);t.renderbufferStorageMultisample(<span class=\"code-number\">36161</span>,c,<span class=\"code-number\">35056</span>,n.width,n.height)}<span class=\"code-keyword\">else</span> t.renderbufferStorage(<span class=\"code-number\">36161</span>,<span class=\"code-number\">34041</span>,n.width,n.height);t.framebufferRenderbuffer(<span class=\"code-number\">36160</span>,<span class=\"code-number\">33306</span>,<span class=\"code-number\">36161</span>,e)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> l=a.convert(n.texture.format),u=a.convert(n.texture.type),h=B(n.texture.internalFormat,l,u);<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">var</span> d=Q(n);t.renderbufferStorageMultisample(<span class=\"code-number\">36161</span>,d,h,n.width,n.height)}<span class=\"code-keyword\">else</span> t.renderbufferStorage(<span class=\"code-number\">36161</span>,h,n.width,n.height)}t.bindRenderbuffer(<span class=\"code-number\">36161</span>,<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">J</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=r.get(e),i=!<span class=\"code-number\">0</span>===e.isWebGLCubeRenderTarget;<span class=\"code-keyword\">if</span>(e.depthTexture){<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"target.depthTexture not supported in Cube render targets\"</span>);!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">if</span>(n&amp;&amp;n.isWebGLCubeRenderTarget)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Depth Texture with cube render targets is not supported\"</span>);<span class=\"code-keyword\">if</span>(t.bindFramebuffer(<span class=\"code-number\">36160</span>,e),!n.depthTexture||!n.depthTexture.isDepthTexture)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\"</span>);r.get(n.depthTexture).__webglTexture&amp;&amp;n.depthTexture.image.width===n.width&amp;&amp;n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!<span class=\"code-number\">0</span>),H(n.depthTexture,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=r.get(n.depthTexture).__webglTexture;<span class=\"code-keyword\">if</span>(n.depthTexture.format===E)t.framebufferTexture2D(<span class=\"code-number\">36160</span>,<span class=\"code-number\">36096</span>,<span class=\"code-number\">3553</span>,i,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(n.depthTexture.format!==A)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown depthTexture format\"</span>);t.framebufferTexture2D(<span class=\"code-number\">36160</span>,<span class=\"code-number\">33306</span>,<span class=\"code-number\">3553</span>,i,<span class=\"code-number\">0</span>)}}(n.__webglFramebuffer,e)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(i){n.__webglDepthbuffer=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;<span class=\"code-number\">6</span>;a++)t.bindFramebuffer(<span class=\"code-number\">36160</span>,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),Z(n.__webglDepthbuffer[a],e,!<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">else</span> t.bindFramebuffer(<span class=\"code-number\">36160</span>,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),Z(n.__webglDepthbuffer,e,!<span class=\"code-number\">1</span>);t.bindFramebuffer(<span class=\"code-number\">36160</span>,<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Q</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> h&amp;&amp;t.isWebGLMultisampleRenderTarget?<span class=\"code-built_in\">Math</span>.min(L,t.samples):<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> K=!<span class=\"code-number\">1</span>,$=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.allocateTextureUnit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=G;<span class=\"code-keyword\">return</span> t&gt;=v&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLTextures: Trying to use \"</span>+t+<span class=\"code-string\">\" texture units while this GPU supports only \"</span>+v),G+=<span class=\"code-number\">1</span>,t},<span class=\"code-keyword\">this</span>.resetTextureUnits=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{G=<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.setTexture2D=H,<span class=\"code-keyword\">this</span>.setTexture2DArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i=r.get(t);t.version&gt;<span class=\"code-number\">0</span>&amp;&amp;i.__version!==t.version?X(i,t,e):(n.activeTexture(<span class=\"code-number\">33984</span>+e),n.bindTexture(<span class=\"code-number\">35866</span>,i.__webglTexture))},<span class=\"code-keyword\">this</span>.setTexture3D=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i=r.get(t);t.version&gt;<span class=\"code-number\">0</span>&amp;&amp;i.__version!==t.version?X(i,t,e):(n.activeTexture(<span class=\"code-number\">33984</span>+e),n.bindTexture(<span class=\"code-number\">32879</span>,i.__webglTexture))},<span class=\"code-keyword\">this</span>.setTextureCube=k,<span class=\"code-keyword\">this</span>.setupRenderTarget=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=r.get(e),s=r.get(e.texture);e.addEventListener(<span class=\"code-string\">\"dispose\"</span>,F),s.__webglTexture=t.createTexture(),o.memory.textures++;<span class=\"code-keyword\">var</span> c=!<span class=\"code-number\">0</span>===e.isWebGLCubeRenderTarget,l=!<span class=\"code-number\">0</span>===e.isWebGLMultisampleRenderTarget,u=N(e)||h;<span class=\"code-keyword\">if</span>(!h||e.texture.format!==S||e.texture.type!==b&amp;&amp;e.texture.type!==w||(e.texture.format=T,<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.\"</span>)),c){i.__webglFramebuffer=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>;d&lt;<span class=\"code-number\">6</span>;d++)i.__webglFramebuffer[d]=t.createFramebuffer()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(i.__webglFramebuffer=t.createFramebuffer(),l)<span class=\"code-keyword\">if</span>(h){i.__webglMultisampledFramebuffer=t.createFramebuffer(),i.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(<span class=\"code-number\">36161</span>,i.__webglColorRenderbuffer);<span class=\"code-keyword\">var</span> p=a.convert(e.texture.format),f=a.convert(e.texture.type),m=B(e.texture.internalFormat,p,f),v=Q(e);t.renderbufferStorageMultisample(<span class=\"code-number\">36161</span>,v,m,e.width,e.height),t.bindFramebuffer(<span class=\"code-number\">36160</span>,i.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(<span class=\"code-number\">36160</span>,<span class=\"code-number\">36064</span>,<span class=\"code-number\">36161</span>,i.__webglColorRenderbuffer),t.bindRenderbuffer(<span class=\"code-number\">36161</span>,<span class=\"code-literal\">null</span>),e.depthBuffer&amp;&amp;(i.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(i.__webglDepthRenderbuffer,e,!<span class=\"code-number\">0</span>)),t.bindFramebuffer(<span class=\"code-number\">36160</span>,<span class=\"code-literal\">null</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\"</span>);<span class=\"code-keyword\">if</span>(c){n.bindTexture(<span class=\"code-number\">34067</span>,s.__webglTexture),j(<span class=\"code-number\">34067</span>,e.texture,u);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>;g&lt;<span class=\"code-number\">6</span>;g++)Y(i.__webglFramebuffer[g],e,<span class=\"code-number\">36064</span>,<span class=\"code-number\">34069</span>+g);D(e.texture,u)&amp;&amp;O(<span class=\"code-number\">34067</span>,e.texture,e.width,e.height),n.bindTexture(<span class=\"code-number\">34067</span>,<span class=\"code-literal\">null</span>)}<span class=\"code-keyword\">else</span> n.bindTexture(<span class=\"code-number\">3553</span>,s.__webglTexture),j(<span class=\"code-number\">3553</span>,e.texture,u),Y(i.__webglFramebuffer,e,<span class=\"code-number\">36064</span>,<span class=\"code-number\">3553</span>),D(e.texture,u)&amp;&amp;O(<span class=\"code-number\">3553</span>,e.texture,e.width,e.height),n.bindTexture(<span class=\"code-number\">3553</span>,<span class=\"code-literal\">null</span>);e.depthBuffer&amp;&amp;J(e)},<span class=\"code-keyword\">this</span>.updateRenderTargetMipmap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.texture;<span class=\"code-keyword\">if</span>(D(e,N(t)||h)){<span class=\"code-keyword\">var</span> i=t.isWebGLCubeRenderTarget?<span class=\"code-number\">34067</span>:<span class=\"code-number\">3553</span>,a=r.get(e).__webglTexture;n.bindTexture(i,a),O(i,e,t.width,t.height),n.bindTexture(i,<span class=\"code-literal\">null</span>)}},<span class=\"code-keyword\">this</span>.updateMultisampleRenderTarget=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.isWebGLMultisampleRenderTarget)<span class=\"code-keyword\">if</span>(h){<span class=\"code-keyword\">var</span> n=r.get(e);t.bindFramebuffer(<span class=\"code-number\">36008</span>,n.__webglMultisampledFramebuffer),t.bindFramebuffer(<span class=\"code-number\">36009</span>,n.__webglFramebuffer);<span class=\"code-keyword\">var</span> i=e.width,a=e.height,o=<span class=\"code-number\">16384</span>;e.depthBuffer&amp;&amp;(o|=<span class=\"code-number\">256</span>),e.stencilBuffer&amp;&amp;(o|=<span class=\"code-number\">1024</span>),t.blitFramebuffer(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,i,a,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,i,a,o,<span class=\"code-number\">9728</span>),t.bindFramebuffer(<span class=\"code-number\">36160</span>,n.__webglMultisampledFramebuffer)}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\"</span>)},<span class=\"code-keyword\">this</span>.safeSetTexture2D=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t&amp;&amp;t.isWebGLRenderTarget&amp;&amp;(!<span class=\"code-number\">1</span>===K&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\"</span>),K=!<span class=\"code-number\">0</span>),t=t.texture),H(t,e)},<span class=\"code-keyword\">this</span>.safeSetTextureCube=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t&amp;&amp;t.isWebGLCubeRenderTarget&amp;&amp;(!<span class=\"code-number\">1</span>===$&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"</span>),$=!<span class=\"code-number\">0</span>),t=t.texture),k(t,e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ea</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.isWebGL2;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">convert</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">if</span>(t===y)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5121</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1017</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">32819</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1018</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">32820</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1019</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">33635</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1010</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5120</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1011</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5122</span>;<span class=\"code-keyword\">if</span>(t===x)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5123</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1013</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5124</span>;<span class=\"code-keyword\">if</span>(t===_)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5125</span>;<span class=\"code-keyword\">if</span>(t===b)<span class=\"code-keyword\">return</span> <span class=\"code-number\">5126</span>;<span class=\"code-keyword\">if</span>(t===w)<span class=\"code-keyword\">return</span> r?<span class=\"code-number\">5131</span>:<span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"OES_texture_half_float\"</span>))?n.HALF_FLOAT_OES:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1021</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6406</span>;<span class=\"code-keyword\">if</span>(t===S)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6407</span>;<span class=\"code-keyword\">if</span>(t===T)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6408</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1024</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6409</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1025</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6410</span>;<span class=\"code-keyword\">if</span>(t===E)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6402</span>;<span class=\"code-keyword\">if</span>(t===A)<span class=\"code-keyword\">return</span> <span class=\"code-number\">34041</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1028</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">6403</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1029</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">36244</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1030</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">33319</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1031</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">33320</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1032</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">36248</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1033</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">36249</span>;<span class=\"code-keyword\">if</span>(t===L||t===R||t===C||t===P){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===(n=e.get(<span class=\"code-string\">\"WEBGL_compressed_texture_s3tc\"</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(t===L)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGB_S3TC_DXT1_EXT;<span class=\"code-keyword\">if</span>(t===R)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA_S3TC_DXT1_EXT;<span class=\"code-keyword\">if</span>(t===C)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA_S3TC_DXT3_EXT;<span class=\"code-keyword\">if</span>(t===P)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA_S3TC_DXT5_EXT}<span class=\"code-keyword\">if</span>(t===I||t===N||t===D||t===O){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===(n=e.get(<span class=\"code-string\">\"WEBGL_compressed_texture_pvrtc\"</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(t===I)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;<span class=\"code-keyword\">if</span>(t===N)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;<span class=\"code-keyword\">if</span>(t===D)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;<span class=\"code-keyword\">if</span>(t===O)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">36196</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"WEBGL_compressed_texture_etc1\"</span>))?n.COMPRESSED_RGB_ETC1_WEBGL:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>((t===B||t===z)&amp;&amp;<span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"WEBGL_compressed_texture_etc\"</span>))){<span class=\"code-keyword\">if</span>(t===B)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGB8_ETC2;<span class=\"code-keyword\">if</span>(t===z)<span class=\"code-keyword\">return</span> n.COMPRESSED_RGBA8_ETC2_EAC}<span class=\"code-keyword\">return</span> <span class=\"code-number\">37808</span>===t||<span class=\"code-number\">37809</span>===t||<span class=\"code-number\">37810</span>===t||<span class=\"code-number\">37811</span>===t||<span class=\"code-number\">37812</span>===t||<span class=\"code-number\">37813</span>===t||<span class=\"code-number\">37814</span>===t||<span class=\"code-number\">37815</span>===t||<span class=\"code-number\">37816</span>===t||<span class=\"code-number\">37817</span>===t||<span class=\"code-number\">37818</span>===t||<span class=\"code-number\">37819</span>===t||<span class=\"code-number\">37820</span>===t||<span class=\"code-number\">37821</span>===t||<span class=\"code-number\">37840</span>===t||<span class=\"code-number\">37841</span>===t||<span class=\"code-number\">37842</span>===t||<span class=\"code-number\">37843</span>===t||<span class=\"code-number\">37844</span>===t||<span class=\"code-number\">37845</span>===t||<span class=\"code-number\">37846</span>===t||<span class=\"code-number\">37847</span>===t||<span class=\"code-number\">37848</span>===t||<span class=\"code-number\">37849</span>===t||<span class=\"code-number\">37850</span>===t||<span class=\"code-number\">37851</span>===t||<span class=\"code-number\">37852</span>===t||<span class=\"code-number\">37853</span>===t?<span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"WEBGL_compressed_texture_astc\"</span>))?t:<span class=\"code-literal\">null</span>:<span class=\"code-number\">36492</span>===t?<span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"EXT_texture_compression_bptc\"</span>))?t:<span class=\"code-literal\">null</span>:t===M?r?<span class=\"code-number\">34042</span>:<span class=\"code-literal\">null</span>!==(n=e.get(<span class=\"code-string\">\"WEBGL_depth_texture\"</span>))?n.UNSIGNED_INT_24_8_WEBGL:<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">na</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),Xn.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.cameras=t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ra</span>(<span class=\"code-params\"></span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Group\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ia</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._targetRay=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._grip=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._hand=<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">aa</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-literal\">null</span>,i=<span class=\"code-number\">1</span>,a=<span class=\"code-literal\">null</span>,o=<span class=\"code-string\">\"local-floor\"</span>,s=<span class=\"code-literal\">null</span>,c=[],l=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>,u=<span class=\"code-keyword\">new</span> Xn;u.layers.enable(<span class=\"code-number\">1</span>),u.viewport=<span class=\"code-keyword\">new</span> xt;<span class=\"code-keyword\">var</span> h=<span class=\"code-keyword\">new</span> Xn;h.layers.enable(<span class=\"code-number\">2</span>),h.viewport=<span class=\"code-keyword\">new</span> xt;<span class=\"code-keyword\">var</span> d=[u,h],p=<span class=\"code-keyword\">new</span> na;p.layers.enable(<span class=\"code-number\">1</span>),p.layers.enable(<span class=\"code-number\">2</span>);<span class=\"code-keyword\">var</span> f=<span class=\"code-literal\">null</span>,m=<span class=\"code-literal\">null</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">v</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=l.get(t.inputSource);e&amp;&amp;e.dispatchEvent({<span class=\"code-attr\">type</span>:t.type,<span class=\"code-attr\">data</span>:t.inputSource})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">g</span>(<span class=\"code-params\"></span>)</span>{l.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.disconnect(e)})),l.clear(),t.setFramebuffer(<span class=\"code-literal\">null</span>),t.setRenderTarget(t.getRenderTarget()),S.stop(),n.isPresenting=!<span class=\"code-number\">1</span>,n.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"sessionend\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">y</span>(<span class=\"code-params\">t</span>)</span>{a=t,S.setContext(r),S.start(),n.isPresenting=!<span class=\"code-number\">0</span>,n.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"sessionstart\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">x</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=r.inputSources,n=<span class=\"code-number\">0</span>;n&lt;c.length;n++)l.set(e[n],c[n]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;t.removed.length;i++){<span class=\"code-keyword\">var</span> a=t.removed[i],o=l.get(a);o&amp;&amp;(o.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"disconnected\"</span>,<span class=\"code-attr\">data</span>:a}),l.delete(a))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>;s&lt;t.added.length;s++){<span class=\"code-keyword\">var</span> u=t.added[s],h=l.get(u);h&amp;&amp;h.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"connected\"</span>,<span class=\"code-attr\">data</span>:u})}}<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.isPresenting=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.getController=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=c[t];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> ia,c[t]=e),e.getTargetRaySpace()},<span class=\"code-keyword\">this</span>.getControllerGrip=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=c[t];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> ia,c[t]=e),e.getGripSpace()},<span class=\"code-keyword\">this</span>.getHand=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=c[t];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> ia,c[t]=e),e.getHandSpace()},<span class=\"code-keyword\">this</span>.setFramebufferScaleFactor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i=t,!<span class=\"code-number\">0</span>===n.isPresenting&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebXRManager: Cannot change framebuffer scale while presenting.\"</span>)},<span class=\"code-keyword\">this</span>.setReferenceSpaceType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{o=t,!<span class=\"code-number\">0</span>===n.isPresenting&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebXRManager: Cannot change reference space type while presenting.\"</span>)},<span class=\"code-keyword\">this</span>.getReferenceSpace=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a},<span class=\"code-keyword\">this</span>.getSession=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r},<span class=\"code-keyword\">this</span>.setSession=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==(r=t)){r.addEventListener(<span class=\"code-string\">\"select\"</span>,v),r.addEventListener(<span class=\"code-string\">\"selectstart\"</span>,v),r.addEventListener(<span class=\"code-string\">\"selectend\"</span>,v),r.addEventListener(<span class=\"code-string\">\"squeeze\"</span>,v),r.addEventListener(<span class=\"code-string\">\"squeezestart\"</span>,v),r.addEventListener(<span class=\"code-string\">\"squeezeend\"</span>,v),r.addEventListener(<span class=\"code-string\">\"end\"</span>,g);<span class=\"code-keyword\">var</span> n=e.getContextAttributes();!<span class=\"code-number\">0</span>!==n.xrCompatible&amp;&amp;e.makeXRCompatible();<span class=\"code-keyword\">var</span> a={<span class=\"code-attr\">antialias</span>:n.antialias,<span class=\"code-attr\">alpha</span>:n.alpha,<span class=\"code-attr\">depth</span>:n.depth,<span class=\"code-attr\">stencil</span>:n.stencil,<span class=\"code-attr\">framebufferScaleFactor</span>:i},s=<span class=\"code-keyword\">new</span> XRWebGLLayer(r,e,a);r.updateRenderState({<span class=\"code-attr\">baseLayer</span>:s}),r.requestReferenceSpace(o).then(y),r.addEventListener(<span class=\"code-string\">\"inputsourceschange\"</span>,x)}};<span class=\"code-keyword\">var</span> _=<span class=\"code-keyword\">new</span> Mt,b=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-literal\">null</span>===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}<span class=\"code-keyword\">this</span>.getCamera=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&amp;&amp;m===p.far||(r.updateRenderState({<span class=\"code-attr\">depthNear</span>:p.near,<span class=\"code-attr\">depthFar</span>:p.far}),f=p.near,m=p.far);<span class=\"code-keyword\">var</span> e=t.parent,n=p.cameras;w(p,e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;n.length;i++)w(n[i],e);t.matrixWorld.copy(p.matrixWorld);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=t.children,o=<span class=\"code-number\">0</span>,s=a.length;o&lt;s;o++)a[o].updateMatrixWorld(!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span>===n.length?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{_.setFromMatrixPosition(e.matrixWorld),b.setFromMatrixPosition(n.matrixWorld);<span class=\"code-keyword\">var</span> r=_.distanceTo(b),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[<span class=\"code-number\">14</span>]/(i[<span class=\"code-number\">10</span>]<span class=\"code-number\">-1</span>),s=i[<span class=\"code-number\">14</span>]/(i[<span class=\"code-number\">10</span>]+<span class=\"code-number\">1</span>),c=(i[<span class=\"code-number\">9</span>]+<span class=\"code-number\">1</span>)/i[<span class=\"code-number\">5</span>],l=(i[<span class=\"code-number\">9</span>]<span class=\"code-number\">-1</span>)/i[<span class=\"code-number\">5</span>],u=(i[<span class=\"code-number\">8</span>]<span class=\"code-number\">-1</span>)/i[<span class=\"code-number\">0</span>],h=(a[<span class=\"code-number\">8</span>]+<span class=\"code-number\">1</span>)/a[<span class=\"code-number\">0</span>],d=o*u,p=o*h,f=r/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();<span class=\"code-keyword\">var</span> v=o+f,g=s+f,y=d-m,x=p+(r-m),w=c*s/g*v,M=l*s/g*v;t.projectionMatrix.makePerspective(y,x,w,M,v,g)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};<span class=\"code-keyword\">var</span> M=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> S=<span class=\"code-keyword\">new</span> nr;S.setAnimationLoop((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==(s=n.getViewerPose(a))){<span class=\"code-keyword\">var</span> i=s.views,o=r.renderState.baseLayer;t.setFramebuffer(o.framebuffer);<span class=\"code-keyword\">var</span> l=!<span class=\"code-number\">1</span>;i.length!==p.cameras.length&amp;&amp;(p.cameras.length=<span class=\"code-number\">0</span>,l=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;i.length;u++){<span class=\"code-keyword\">var</span> h=i[u],f=o.getViewport(h),m=d[u];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),<span class=\"code-number\">0</span>===u&amp;&amp;p.matrix.copy(m.matrix),!<span class=\"code-number\">0</span>===l&amp;&amp;p.cameras.push(m)}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=r.inputSources,g=<span class=\"code-number\">0</span>;g&lt;c.length;g++){<span class=\"code-keyword\">var</span> y=c[g],x=v[g];y.update(x,n,a)}M&amp;&amp;M(e,n)})),<span class=\"code-keyword\">this</span>.setAnimationLoop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{M=t},<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oa</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{e.opacity.value=n.opacity,n.color&amp;&amp;e.diffuse.value.copy(n.color),n.emissive&amp;&amp;e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&amp;&amp;(e.map.value=n.map),n.alphaMap&amp;&amp;(e.alphaMap.value=n.alphaMap),n.specularMap&amp;&amp;(e.specularMap.value=n.specularMap);<span class=\"code-keyword\">var</span> r,i,a=t.get(n).envMap;<span class=\"code-keyword\">if</span>(a){e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture&amp;&amp;a._needsFlipEnvMap?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;<span class=\"code-keyword\">var</span> o=t.get(a).__maxMipLevel;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;(e.maxMipLevel.value=o)}n.lightMap&amp;&amp;(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&amp;&amp;(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&amp;&amp;(r=n.clearcoatRoughnessMap),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;(r.isWebGLRenderTarget&amp;&amp;(r=r.texture),!<span class=\"code-number\">0</span>===r.matrixAutoUpdate&amp;&amp;r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&amp;&amp;(i=n.lightMap),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(i.isWebGLRenderTarget&amp;&amp;(i=i.texture),!<span class=\"code-number\">0</span>===i.matrixAutoUpdate&amp;&amp;i.updateMatrix(),e.uv2Transform.value.copy(i.matrix))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,n</span>)</span>{e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&amp;&amp;(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&amp;&amp;(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&amp;&amp;(e.emissiveMap.value=n.emissiveMap),n.bumpMap&amp;&amp;(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,<span class=\"code-number\">1</span>===n.side&amp;&amp;(e.bumpScale.value*=<span class=\"code-number\">-1</span>)),n.normalMap&amp;&amp;(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),<span class=\"code-number\">1</span>===n.side&amp;&amp;e.normalScale.value.negate()),n.displacementMap&amp;&amp;(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&amp;&amp;(e.envMapIntensity.value=n.envMapIntensity)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">refreshFogUniforms</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&amp;&amp;(t.fogDensity.value=e.density)},<span class=\"code-attr\">refreshMaterialUniforms</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,r,i,a</span>)</span>{r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap)}(t,r)):r.isMeshToonMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.gradientMap&amp;&amp;(t.gradientMap.value=e.gradientMap);e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class=\"code-number\">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class=\"code-number\">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class=\"code-number\">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.specular.value.copy(e.specular),t.shininess.value=<span class=\"code-built_in\">Math</span>.max(e.shininess,<span class=\"code-number\">1e-4</span>),e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class=\"code-number\">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class=\"code-number\">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class=\"code-number\">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r),r.isMeshPhysicalMaterial?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&amp;&amp;t.sheen.value.copy(e.sheen);e.clearcoatMap&amp;&amp;(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&amp;&amp;(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&amp;&amp;(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,<span class=\"code-number\">1</span>===e.side&amp;&amp;t.clearcoatNormalScale.value.negate());t.transmission.value=e.transmission,e.transmissionMap&amp;&amp;(t.transmissionMap.value=e.transmissionMap)}(t,r):n(t,r)):r.isMeshMatcapMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.matcap&amp;&amp;(t.matcap.value=e.matcap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class=\"code-number\">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class=\"code-number\">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class=\"code-number\">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDistanceMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?(e(t,r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class=\"code-number\">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class=\"code-number\">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class=\"code-number\">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=<span class=\"code-number\">.5</span>*r,e.map&amp;&amp;(t.map.value=e.map);e.alphaMap&amp;&amp;(t.alphaMap.value=e.alphaMap);<span class=\"code-keyword\">var</span> i;e.map?i=e.map:e.alphaMap&amp;&amp;(i=e.alphaMap);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(!<span class=\"code-number\">0</span>===i.matrixAutoUpdate&amp;&amp;i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,r,i,a):r.isSpriteMaterial?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&amp;&amp;(t.map.value=e.map);e.alphaMap&amp;&amp;(t.alphaMap.value=e.alphaMap);<span class=\"code-keyword\">var</span> n;e.map?n=e.map:e.alphaMap&amp;&amp;(n=e.alphaMap);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;(!<span class=\"code-number\">0</span>===n.matrixAutoUpdate&amp;&amp;n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&amp;&amp;(r.uniformsNeedUpdate=!<span class=\"code-number\">1</span>)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sa</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(t=t||{}).canvas?t.canvas:((e=<span class=\"code-built_in\">document</span>.createElementNS(<span class=\"code-string\">\"http://www.w3.org/1999/xhtml\"</span>,<span class=\"code-string\">\"canvas\"</span>)).style.display=<span class=\"code-string\">\"block\"</span>,e),r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.context?t.context:<span class=\"code-literal\">null</span>,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.alpha&amp;&amp;t.alpha,a=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.depth||t.depth,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.stencil||t.stencil,s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.antialias&amp;&amp;t.antialias,c=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.premultipliedAlpha||t.premultipliedAlpha,l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.preserveDrawingBuffer&amp;&amp;t.preserveDrawingBuffer,u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.powerPreference?t.powerPreference:<span class=\"code-string\">\"default\"</span>,h=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.failIfMajorPerformanceCaveat&amp;&amp;t.failIfMajorPerformanceCaveat,d=<span class=\"code-literal\">null</span>,p=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">this</span>.domElement=n,<span class=\"code-keyword\">this</span>.debug={<span class=\"code-attr\">checkShaderErrors</span>:!<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.autoClear=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.autoClearColor=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.autoClearDepth=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.autoClearStencil=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.sortObjects=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.clippingPlanes=[],<span class=\"code-keyword\">this</span>.localClippingEnabled=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.gammaFactor=<span class=\"code-number\">2</span>,<span class=\"code-keyword\">this</span>.outputEncoding=q,<span class=\"code-keyword\">this</span>.physicallyCorrectLights=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.toneMapping=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.toneMappingExposure=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.maxMorphTargets=<span class=\"code-number\">8</span>,<span class=\"code-keyword\">this</span>.maxMorphNormals=<span class=\"code-number\">4</span>;<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">this</span>,m=!<span class=\"code-number\">1</span>,v=<span class=\"code-literal\">null</span>,g=<span class=\"code-number\">0</span>,x=<span class=\"code-number\">0</span>,_=<span class=\"code-literal\">null</span>,M=<span class=\"code-literal\">null</span>,S=<span class=\"code-number\">-1</span>,E=<span class=\"code-literal\">null</span>,A=<span class=\"code-literal\">null</span>,L=<span class=\"code-keyword\">new</span> xt,R=<span class=\"code-keyword\">new</span> xt,C=<span class=\"code-literal\">null</span>,P=n.width,I=n.height,N=<span class=\"code-number\">1</span>,D=<span class=\"code-literal\">null</span>,O=<span class=\"code-literal\">null</span>,B=<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,P,I),z=<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,P,I),U=!<span class=\"code-number\">1</span>,F=<span class=\"code-keyword\">new</span> er,G=!<span class=\"code-number\">1</span>,H=!<span class=\"code-number\">1</span>,k=<span class=\"code-keyword\">new</span> Qt,V=<span class=\"code-keyword\">new</span> Mt,W={<span class=\"code-attr\">background</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">fog</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">environment</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">overrideMaterial</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">isScene</span>:!<span class=\"code-number\">0</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">j</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===_?N:<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> X,Y,Z,J,Q,K,$,tt,et,nt,rt,it,at,ot,ct,lt,ut,ht,dt,ft,mt,vt=r;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gt</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;t.length;r++){<span class=\"code-keyword\">var</span> i=t[r],a=n.getContext(i,e);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==a)<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> yt={<span class=\"code-attr\">alpha</span>:i,<span class=\"code-attr\">depth</span>:a,<span class=\"code-attr\">stencil</span>:o,<span class=\"code-attr\">antialias</span>:s,<span class=\"code-attr\">premultipliedAlpha</span>:c,<span class=\"code-attr\">preserveDrawingBuffer</span>:l,<span class=\"code-attr\">powerPreference</span>:u,<span class=\"code-attr\">failIfMajorPerformanceCaveat</span>:h};<span class=\"code-keyword\">if</span>(n.addEventListener(<span class=\"code-string\">\"webglcontextlost\"</span>,Tt,!<span class=\"code-number\">1</span>),n.addEventListener(<span class=\"code-string\">\"webglcontextrestored\"</span>,Et,!<span class=\"code-number\">1</span>),<span class=\"code-literal\">null</span>===vt){<span class=\"code-keyword\">var</span> _t=[<span class=\"code-string\">\"webgl2\"</span>,<span class=\"code-string\">\"webgl\"</span>,<span class=\"code-string\">\"experimental-webgl\"</span>];<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===f.isWebGL1Renderer&amp;&amp;_t.shift(),<span class=\"code-literal\">null</span>===(vt=gt(_t,yt)))<span class=\"code-keyword\">throw</span> gt(_t)?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error creating WebGL context with your selected attributes.\"</span>):<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error creating WebGL context.\"</span>)}<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===vt.getShaderPrecisionFormat&amp;&amp;(vt.getShaderPrecisionFormat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">rangeMin</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">rangeMax</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">precision</span>:<span class=\"code-number\">1</span>}})}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer: \"</span>+t.message),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bt</span>(<span class=\"code-params\"></span>)</span>{X=<span class=\"code-keyword\">new</span> fr(vt),!<span class=\"code-number\">1</span>===(Y=<span class=\"code-keyword\">new</span> hr(vt,X,t)).isWebGL2&amp;&amp;(X.get(<span class=\"code-string\">\"WEBGL_depth_texture\"</span>),X.get(<span class=\"code-string\">\"OES_texture_float\"</span>),X.get(<span class=\"code-string\">\"OES_texture_half_float\"</span>),X.get(<span class=\"code-string\">\"OES_texture_half_float_linear\"</span>),X.get(<span class=\"code-string\">\"OES_standard_derivatives\"</span>),X.get(<span class=\"code-string\">\"OES_element_index_uint\"</span>),X.get(<span class=\"code-string\">\"OES_vertex_array_object\"</span>),X.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>)),X.get(<span class=\"code-string\">\"OES_texture_float_linear\"</span>),ft=<span class=\"code-keyword\">new</span> ea(vt,X,Y),(Z=<span class=\"code-keyword\">new</span> $i(vt,X,Y)).scissor(R.copy(z).multiplyScalar(N).floor()),Z.viewport(L.copy(B).multiplyScalar(N).floor()),J=<span class=\"code-keyword\">new</span> gr(vt),Q=<span class=\"code-keyword\">new</span> Fi,K=<span class=\"code-keyword\">new</span> ta(vt,X,Z,Q,Y,ft,J),$=<span class=\"code-keyword\">new</span> pr(f),tt=<span class=\"code-keyword\">new</span> rr(vt,Y),mt=<span class=\"code-keyword\">new</span> lr(vt,X,tt,Y),et=<span class=\"code-keyword\">new</span> mr(vt,tt,J,mt),nt=<span class=\"code-keyword\">new</span> br(vt,et,tt,J),ut=<span class=\"code-keyword\">new</span> _r(vt),ct=<span class=\"code-keyword\">new</span> dr(Q),rt=<span class=\"code-keyword\">new</span> Ui(f,$,X,Y,mt,ct),it=<span class=\"code-keyword\">new</span> oa(Q),at=<span class=\"code-keyword\">new</span> Vi(Q),ot=<span class=\"code-keyword\">new</span> Zi(X,Y),lt=<span class=\"code-keyword\">new</span> cr(f,$,Z,nt,c),ht=<span class=\"code-keyword\">new</span> ur(vt,X,J,Y),dt=<span class=\"code-keyword\">new</span> vr(vt,X,J,Y),J.programs=rt.programs,f.capabilities=Y,f.extensions=X,f.properties=Q,f.renderLists=at,f.state=Z,f.info=J}bt();<span class=\"code-keyword\">var</span> wt=<span class=\"code-keyword\">new</span> aa(f,vt);<span class=\"code-keyword\">this</span>.xr=wt;<span class=\"code-keyword\">var</span> St=<span class=\"code-keyword\">new</span> Ki(f,nt,Y.maxTextureSize);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tt</span>(<span class=\"code-params\">t</span>)</span>{t.preventDefault(),<span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"THREE.WebGLRenderer: Context Lost.\"</span>),m=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Et</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"THREE.WebGLRenderer: Context Restored.\"</span>),m=!<span class=\"code-number\">1</span>,bt()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">At</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.target;e.removeEventListener(<span class=\"code-string\">\"dispose\"</span>,At),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Lt(t),Q.remove(t)}(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lt</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Q.get(t).program;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;rt.releaseProgram(e)}<span class=\"code-keyword\">this</span>.shadowMap=St,<span class=\"code-keyword\">this</span>.getContext=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> vt},<span class=\"code-keyword\">this</span>.getContextAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> vt.getContextAttributes()},<span class=\"code-keyword\">this</span>.forceContextLoss=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=X.get(<span class=\"code-string\">\"WEBGL_lose_context\"</span>);t&amp;&amp;t.loseContext()},<span class=\"code-keyword\">this</span>.forceContextRestore=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=X.get(<span class=\"code-string\">\"WEBGL_lose_context\"</span>);t&amp;&amp;t.restoreContext()},<span class=\"code-keyword\">this</span>.getPixelRatio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> N},<span class=\"code-keyword\">this</span>.setPixelRatio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;(N=t,<span class=\"code-keyword\">this</span>.setSize(P,I,!<span class=\"code-number\">1</span>))},<span class=\"code-keyword\">this</span>.getSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"WebGLRenderer: .getsize() now requires a Vector2 as an argument\"</span>),t=<span class=\"code-keyword\">new</span> pt),t.set(P,I)},<span class=\"code-keyword\">this</span>.setSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{wt.isPresenting?<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"</span>):(P=t,I=e,n.width=<span class=\"code-built_in\">Math</span>.floor(t*N),n.height=<span class=\"code-built_in\">Math</span>.floor(e*N),!<span class=\"code-number\">1</span>!==r&amp;&amp;(n.style.width=t+<span class=\"code-string\">\"px\"</span>,n.style.height=e+<span class=\"code-string\">\"px\"</span>),<span class=\"code-keyword\">this</span>.setViewport(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e))},<span class=\"code-keyword\">this</span>.getDrawingBufferSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument\"</span>),t=<span class=\"code-keyword\">new</span> pt),t.set(P*N,I*N).floor()},<span class=\"code-keyword\">this</span>.setDrawingBufferSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r</span>)</span>{P=t,I=e,N=r,n.width=<span class=\"code-built_in\">Math</span>.floor(t*r),n.height=<span class=\"code-built_in\">Math</span>.floor(e*r),<span class=\"code-keyword\">this</span>.setViewport(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t,e)},<span class=\"code-keyword\">this</span>.getCurrentViewport=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument\"</span>),t=<span class=\"code-keyword\">new</span> xt),t.copy(L)},<span class=\"code-keyword\">this</span>.getViewport=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.copy(B)},<span class=\"code-keyword\">this</span>.setViewport=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{t.isVector4?B.set(t.x,t.y,t.z,t.w):B.set(t,e,n,r),Z.viewport(L.copy(B).multiplyScalar(N).floor())},<span class=\"code-keyword\">this</span>.getScissor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.copy(z)},<span class=\"code-keyword\">this</span>.setScissor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),Z.scissor(R.copy(z).multiplyScalar(N).floor())},<span class=\"code-keyword\">this</span>.getScissorTest=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> U},<span class=\"code-keyword\">this</span>.setScissorTest=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Z.setScissorTest(U=t)},<span class=\"code-keyword\">this</span>.setOpaqueSort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{D=t},<span class=\"code-keyword\">this</span>.setTransparentSort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{O=t},<span class=\"code-keyword\">this</span>.getClearColor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> lt.getClearColor()},<span class=\"code-keyword\">this</span>.setClearColor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{lt.setClearColor.apply(lt,<span class=\"code-built_in\">arguments</span>)},<span class=\"code-keyword\">this</span>.getClearAlpha=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> lt.getClearAlpha()},<span class=\"code-keyword\">this</span>.setClearAlpha=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{lt.setClearAlpha.apply(lt,<span class=\"code-built_in\">arguments</span>)},<span class=\"code-keyword\">this</span>.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||t)&amp;&amp;(r|=<span class=\"code-number\">16384</span>),(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||e)&amp;&amp;(r|=<span class=\"code-number\">256</span>),(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n||n)&amp;&amp;(r|=<span class=\"code-number\">1024</span>),vt.clear(r)},<span class=\"code-keyword\">this</span>.clearColor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clear(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.clearDepth=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clear(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.clearStencil=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clear(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>)},<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.removeEventListener(<span class=\"code-string\">\"webglcontextlost\"</span>,Tt,!<span class=\"code-number\">1</span>),n.removeEventListener(<span class=\"code-string\">\"webglcontextrestored\"</span>,Et,!<span class=\"code-number\">1</span>),at.dispose(),ot.dispose(),Q.dispose(),$.dispose(),nt.dispose(),mt.dispose(),wt.dispose(),Ct.stop()},<span class=\"code-keyword\">this</span>.renderBufferImmediate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{mt.initAttributes();<span class=\"code-keyword\">var</span> n=Q.get(t);t.hasPositions&amp;&amp;!n.position&amp;&amp;(n.position=vt.createBuffer()),t.hasNormals&amp;&amp;!n.normal&amp;&amp;(n.normal=vt.createBuffer()),t.hasUvs&amp;&amp;!n.uv&amp;&amp;(n.uv=vt.createBuffer()),t.hasColors&amp;&amp;!n.color&amp;&amp;(n.color=vt.createBuffer());<span class=\"code-keyword\">var</span> r=e.getAttributes();t.hasPositions&amp;&amp;(vt.bindBuffer(<span class=\"code-number\">34962</span>,n.position),vt.bufferData(<span class=\"code-number\">34962</span>,t.positionArray,<span class=\"code-number\">35048</span>),mt.enableAttribute(r.position),vt.vertexAttribPointer(r.position,<span class=\"code-number\">3</span>,<span class=\"code-number\">5126</span>,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),t.hasNormals&amp;&amp;(vt.bindBuffer(<span class=\"code-number\">34962</span>,n.normal),vt.bufferData(<span class=\"code-number\">34962</span>,t.normalArray,<span class=\"code-number\">35048</span>),mt.enableAttribute(r.normal),vt.vertexAttribPointer(r.normal,<span class=\"code-number\">3</span>,<span class=\"code-number\">5126</span>,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),t.hasUvs&amp;&amp;(vt.bindBuffer(<span class=\"code-number\">34962</span>,n.uv),vt.bufferData(<span class=\"code-number\">34962</span>,t.uvArray,<span class=\"code-number\">35048</span>),mt.enableAttribute(r.uv),vt.vertexAttribPointer(r.uv,<span class=\"code-number\">2</span>,<span class=\"code-number\">5126</span>,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),t.hasColors&amp;&amp;(vt.bindBuffer(<span class=\"code-number\">34962</span>,n.color),vt.bufferData(<span class=\"code-number\">34962</span>,t.colorArray,<span class=\"code-number\">35048</span>),mt.enableAttribute(r.color),vt.vertexAttribPointer(r.color,<span class=\"code-number\">3</span>,<span class=\"code-number\">5126</span>,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),mt.disableUnusedAttributes(),vt.drawArrays(<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,t.count),t.count=<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.renderBufferDirect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-literal\">null</span>===e&amp;&amp;(e=W);<span class=\"code-keyword\">var</span> o=i.isMesh&amp;&amp;i.matrixWorld.determinant()&lt;<span class=\"code-number\">0</span>,s=Ot(t,e,r,i);Z.setMaterial(r,o);<span class=\"code-keyword\">var</span> c=n.index,l=n.attributes.position;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===c){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l||<span class=\"code-number\">0</span>===l.count)<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===c.count)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> u,h=<span class=\"code-number\">1</span>;!<span class=\"code-number\">0</span>===r.wireframe&amp;&amp;(c=et.getWireframeAttribute(n),h=<span class=\"code-number\">2</span>),(r.morphTargets||r.morphNormals)&amp;&amp;ut.update(i,n,r,s),mt.setup(i,r,s,n,c);<span class=\"code-keyword\">var</span> d=ht;<span class=\"code-literal\">null</span>!==c&amp;&amp;(u=tt.get(c),(d=dt).setIndex(u));<span class=\"code-keyword\">var</span> p=<span class=\"code-literal\">null</span>!==c?c.count:l.count,f=n.drawRange.start*h,m=n.drawRange.count*h,v=<span class=\"code-literal\">null</span>!==a?a.start*h:<span class=\"code-number\">0</span>,g=<span class=\"code-literal\">null</span>!==a?a.count*h:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,y=<span class=\"code-built_in\">Math</span>.max(f,v),x=<span class=\"code-built_in\">Math</span>.min(p,f+m,v+g)<span class=\"code-number\">-1</span>,_=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,x-y+<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==_){<span class=\"code-keyword\">if</span>(i.isMesh)!<span class=\"code-number\">0</span>===r.wireframe?(Z.setLineWidth(r.wireframeLinewidth*j()),d.setMode(<span class=\"code-number\">1</span>)):d.setMode(<span class=\"code-number\">4</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(i.isLine){<span class=\"code-keyword\">var</span> b=r.linewidth;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===b&amp;&amp;(b=<span class=\"code-number\">1</span>),Z.setLineWidth(b*j()),i.isLineSegments?d.setMode(<span class=\"code-number\">1</span>):i.isLineLoop?d.setMode(<span class=\"code-number\">2</span>):d.setMode(<span class=\"code-number\">3</span>)}<span class=\"code-keyword\">else</span> i.isPoints?d.setMode(<span class=\"code-number\">0</span>):i.isSprite&amp;&amp;d.setMode(<span class=\"code-number\">4</span>);<span class=\"code-keyword\">if</span>(i.isInstancedMesh)d.renderInstances(y,_,i.count);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n.isInstancedBufferGeometry){<span class=\"code-keyword\">var</span> w=<span class=\"code-built_in\">Math</span>.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,w)}<span class=\"code-keyword\">else</span> d.render(y,_)}},<span class=\"code-keyword\">this</span>.compile=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{(p=ot.get(t,e)).init(),t.traverseVisible((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.isLight&amp;&amp;t.layers.test(e.layers)&amp;&amp;(p.pushLight(t),t.castShadow&amp;&amp;p.pushShadow(t))})),p.setupLights(e);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;t.traverse((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r=e.material;<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(r))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;r.length;i++){<span class=\"code-keyword\">var</span> a=r[i];!<span class=\"code-number\">1</span>===n.has(a)&amp;&amp;(Dt(a,t,e),n.set(a))}<span class=\"code-keyword\">else</span>!<span class=\"code-number\">1</span>===n.has(r)&amp;&amp;(Dt(r,t,e),n.set(r))}))};<span class=\"code-keyword\">var</span> Rt=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> Ct=<span class=\"code-keyword\">new</span> nr;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pt</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==t.visible){<span class=\"code-keyword\">if</span>(t.layers.test(e.layers))<span class=\"code-keyword\">if</span>(t.isGroup)n=t.renderOrder;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isLOD)!<span class=\"code-number\">0</span>===t.autoUpdate&amp;&amp;t.update(e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isLight)p.pushLight(t),t.castShadow&amp;&amp;p.pushShadow(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isSprite){<span class=\"code-keyword\">if</span>(!t.frustumCulled||F.intersectsSprite(t)){r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k);<span class=\"code-keyword\">var</span> i=nt.update(t),a=t.material;a.visible&amp;&amp;d.push(t,i,a,n,V.z,<span class=\"code-literal\">null</span>)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isImmediateRenderObject)r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k),d.push(t,<span class=\"code-literal\">null</span>,t.material,n,V.z,<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>((t.isMesh||t.isLine||t.isPoints)&amp;&amp;(t.isSkinnedMesh&amp;&amp;t.skeleton.frame!==J.render.frame&amp;&amp;(t.skeleton.update(),t.skeleton.frame=J.render.frame),!t.frustumCulled||F.intersectsObject(t))){r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k);<span class=\"code-keyword\">var</span> o=nt.update(t),s=t.material;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(s))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=o.groups,l=<span class=\"code-number\">0</span>,u=c.length;l&lt;u;l++){<span class=\"code-keyword\">var</span> h=c[l],f=s[h.materialIndex];f&amp;&amp;f.visible&amp;&amp;d.push(t,o,f,n,V.z,h)}<span class=\"code-keyword\">else</span> s.visible&amp;&amp;d.push(t,o,s,n,V.z,<span class=\"code-literal\">null</span>)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=t.children,v=<span class=\"code-number\">0</span>,g=m.length;v&lt;g;v++)Pt(m[v],e,n,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">It</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=!<span class=\"code-number\">0</span>===e.isScene?e.overrideMaterial:<span class=\"code-literal\">null</span>,i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=t[i],s=o.object,c=o.geometry,l=<span class=\"code-literal\">null</span>===r?o.material:r,u=o.group;<span class=\"code-keyword\">if</span>(n.isArrayCamera){A=n;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=n.cameras,d=<span class=\"code-number\">0</span>,f=h.length;d&lt;f;d++){<span class=\"code-keyword\">var</span> m=h[d];s.layers.test(m.layers)&amp;&amp;(Z.viewport(L.copy(m.viewport)),p.setupLights(m),Nt(s,e,m,c,l,u))}}<span class=\"code-keyword\">else</span> A=<span class=\"code-literal\">null</span>,Nt(s,e,n,c,l,u)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nt</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">if</span>(t.onBeforeRender(f,e,n,r,i,a),p=ot.get(e,A||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){<span class=\"code-keyword\">var</span> o=Ot(n,e,i,t);Z.setMaterial(i),mt.reset(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.render((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{f.renderBufferImmediate(t,e)}))}(t,o)}<span class=\"code-keyword\">else</span> f.renderBufferDirect(n,e,r,i,t,a);t.onAfterRender(f,e,n,r,i,a),p=ot.get(e,A||n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Dt</span>(<span class=\"code-params\">t,e,n</span>)</span>{!<span class=\"code-number\">0</span>!==e.isScene&amp;&amp;(e=W);<span class=\"code-keyword\">var</span> r=Q.get(t),i=p.state.lights,a=p.state.shadowsArray,o=i.state.version,s=rt.getParameters(t,i.state,a,e,n),c=rt.getProgramCacheKey(s),l=r.program,u=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l)t.addEventListener(<span class=\"code-string\">\"dispose\"</span>,At);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(l.cacheKey!==c)Lt(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r.lightsStateVersion!==o)u=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s.shaderID){<span class=\"code-keyword\">var</span> h=t.isMeshStandardMaterial?e.environment:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span>(r.envMap=$.<span class=\"code-keyword\">get</span>(t.envMap||h))}u=!1}u&amp;&amp;(s.uniforms=rt.getUniforms(t),t.onBeforeCompile(s,f),l=rt.acquireProgram(s,c),r.program=l,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var d=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&amp;&amp;!0!==t.clipping||(r.numClippingPlanes=ct.numPlanes,r.numIntersection=ct.numIntersection,d.clippingPlanes=ct.uniform),r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=$.<span class=\"code-keyword\">get</span>(t.envMap||r.environment),r.needsLights=function(t){<span class=\"code-keyword\">return</span> t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&amp;&amp;!<span class=\"code-number\">0</span>===t.lights}(t),r.lightsStateVersion=o,r.needsLights&amp;&amp;(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);<span class=\"code-keyword\">var</span> m=r.program.getUniforms(),v=yi.seqWithValue(m.seq,d);r.uniformsList=v}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ot</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{!<span class=\"code-number\">0</span>!==e.isScene&amp;&amp;(e=W),K.resetTextureUnits();<span class=\"code-keyword\">var</span> i=e.fog,a=n.isMeshStandardMaterial?e.environment:<span class=\"code-literal\">null</span>,o=<span class=\"code-literal\">null</span>===_?f.outputEncoding:_.texture.encoding,s=$.<span class=\"code-keyword\">get</span>(n.envMap||a),c=Q.<span class=\"code-keyword\">get</span>(n),l=p.state.lights;if(!0===G&amp;&amp;(!0===H||t!==E)){<span class=\"code-keyword\">var</span> u=t===E&amp;&amp;n.id===S;ct.setState(n,t,u)}n.version===c.__version?n.fog&amp;&amp;c.fog!==i||c.environment!==a||c.needsLights&amp;&amp;c.lightsStateVersion!==l.state.version?Dt(n,e,r):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===c.numClippingPlanes||c.numClippingPlanes===ct.numPlanes&amp;&amp;c.numIntersection===ct.numIntersection?(c.outputEncoding!==o||c.envMap!==s)&amp;&amp;Dt(n,e,r):Dt(n,e,r):(Dt(n,e,r),c.__version=n.version);<span class=\"code-keyword\">var</span> h,d,m=!<span class=\"code-number\">1</span>,v=!<span class=\"code-number\">1</span>,g=!<span class=\"code-number\">1</span>,y=c.program,x=y.getUniforms(),w=c.uniforms;<span class=\"code-keyword\">if</span>(Z.useProgram(y.program)&amp;&amp;(m=!<span class=\"code-number\">0</span>,v=!<span class=\"code-number\">0</span>,g=!<span class=\"code-number\">0</span>),n.id!==S&amp;&amp;(S=n.id,v=!<span class=\"code-number\">0</span>),m||E!==t){<span class=\"code-keyword\">if</span>(x.setValue(vt,<span class=\"code-string\">\"projectionMatrix\"</span>,t.projectionMatrix),Y.logarithmicDepthBuffer&amp;&amp;x.setValue(vt,<span class=\"code-string\">\"logDepthBufFC\"</span>,<span class=\"code-number\">2</span>/(<span class=\"code-built_in\">Math</span>.log(t.far+<span class=\"code-number\">1</span>)/<span class=\"code-built_in\">Math</span>.LN2)),E!==t&amp;&amp;(E=t,v=!<span class=\"code-number\">0</span>,g=!<span class=\"code-number\">0</span>),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){<span class=\"code-keyword\">var</span> M=x.map.cameraPosition;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==M&amp;&amp;M.setValue(vt,V.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&amp;&amp;x.setValue(vt,<span class=\"code-string\">\"isOrthographic\"</span>,!<span class=\"code-number\">0</span>===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&amp;&amp;x.setValue(vt,<span class=\"code-string\">\"viewMatrix\"</span>,t.matrixWorldInverse)}<span class=\"code-keyword\">if</span>(n.skinning){x.setOptional(vt,r,<span class=\"code-string\">\"bindMatrix\"</span>),x.setOptional(vt,r,<span class=\"code-string\">\"bindMatrixInverse\"</span>);<span class=\"code-keyword\">var</span> A=r.skeleton;<span class=\"code-keyword\">if</span>(A){<span class=\"code-keyword\">var</span> L=A.bones;<span class=\"code-keyword\">if</span>(Y.floatVertexTextures){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===A.boneTexture){<span class=\"code-keyword\">var</span> R=<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">4</span>*L.length);R=st.ceilPowerOfTwo(R),R=<span class=\"code-built_in\">Math</span>.max(R,<span class=\"code-number\">4</span>);<span class=\"code-keyword\">var</span> C=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(R*R*<span class=\"code-number\">4</span>);C.set(A.boneMatrices);<span class=\"code-keyword\">var</span> P=<span class=\"code-keyword\">new</span> Kn(C,R,R,T,b);A.boneMatrices=C,A.boneTexture=P,A.boneTextureSize=R}x.setValue(vt,<span class=\"code-string\">\"boneTexture\"</span>,A.boneTexture,K),x.setValue(vt,<span class=\"code-string\">\"boneTextureSize\"</span>,A.boneTextureSize)}<span class=\"code-keyword\">else</span> x.setOptional(vt,A,<span class=\"code-string\">\"boneMatrices\"</span>)}}<span class=\"code-keyword\">return</span>(v||c.receiveShadow!==r.receiveShadow)&amp;&amp;(c.receiveShadow=r.receiveShadow,x.setValue(vt,<span class=\"code-string\">\"receiveShadow\"</span>,r.receiveShadow)),v&amp;&amp;(x.setValue(vt,<span class=\"code-string\">\"toneMappingExposure\"</span>,f.toneMappingExposure),c.needsLights&amp;&amp;(d=g,(h=w).ambientLightColor.needsUpdate=d,h.lightProbe.needsUpdate=d,h.directionalLights.needsUpdate=d,h.directionalLightShadows.needsUpdate=d,h.pointLights.needsUpdate=d,h.pointLightShadows.needsUpdate=d,h.spotLights.needsUpdate=d,h.spotLightShadows.needsUpdate=d,h.rectAreaLights.needsUpdate=d,h.hemisphereLights.needsUpdate=d),i&amp;&amp;n.fog&amp;&amp;it.refreshFogUniforms(w,i),it.refreshMaterialUniforms(w,n,N,I),yi.upload(vt,c.uniformsList,w,K)),n.isShaderMaterial&amp;&amp;!<span class=\"code-number\">0</span>===n.uniformsNeedUpdate&amp;&amp;(yi.upload(vt,c.uniformsList,w,K),n.uniformsNeedUpdate=!<span class=\"code-number\">1</span>),n.isSpriteMaterial&amp;&amp;x.setValue(vt,<span class=\"code-string\">\"center\"</span>,r.center),x.setValue(vt,<span class=\"code-string\">\"modelViewMatrix\"</span>,r.modelViewMatrix),x.setValue(vt,<span class=\"code-string\">\"normalMatrix\"</span>,r.normalMatrix),x.setValue(vt,<span class=\"code-string\">\"modelMatrix\"</span>,r.matrixWorld),y}Ct.setAnimationLoop((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{wt.isPresenting||Rt&amp;&amp;Rt(t)})),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>&amp;&amp;Ct.setContext(<span class=\"code-built_in\">window</span>),<span class=\"code-keyword\">this</span>.setAnimationLoop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Rt=t,wt.setAnimationLoop(t),<span class=\"code-literal\">null</span>===t?Ct.stop():Ct.start()},<span class=\"code-keyword\">this</span>.render=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.\"</span>),n=<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>]&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.\"</span>),r=<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||!<span class=\"code-number\">0</span>===e.isCamera){<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>!==m){mt.resetDefaultState(),S=<span class=\"code-number\">-1</span>,E=<span class=\"code-literal\">null</span>,!<span class=\"code-number\">0</span>===t.autoUpdate&amp;&amp;t.updateMatrixWorld(),<span class=\"code-literal\">null</span>===e.parent&amp;&amp;e.updateMatrixWorld(),!<span class=\"code-number\">0</span>===wt.enabled&amp;&amp;!<span class=\"code-number\">0</span>===wt.isPresenting&amp;&amp;(e=wt.getCamera(e)),!<span class=\"code-number\">0</span>===t.isScene&amp;&amp;t.onBeforeRender(f,t,e,n||_),(p=ot.get(t,e)).init(),k.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromProjectionMatrix(k),H=<span class=\"code-keyword\">this</span>.localClippingEnabled,G=ct.init(<span class=\"code-keyword\">this</span>.clippingPlanes,H,e),(d=at.get(t,e)).init(),Pt(t,e,<span class=\"code-number\">0</span>,f.sortObjects),d.finish(),!<span class=\"code-number\">0</span>===f.sortObjects&amp;&amp;d.sort(D,O),!<span class=\"code-number\">0</span>===G&amp;&amp;ct.beginShadows();<span class=\"code-keyword\">var</span> i=p.state.shadowsArray;St.render(i,t,e),p.setupLights(e),!<span class=\"code-number\">0</span>===G&amp;&amp;ct.endShadows(),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.info.autoReset&amp;&amp;<span class=\"code-keyword\">this</span>.info.reset(),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;<span class=\"code-keyword\">this</span>.setRenderTarget(n),lt.render(d,t,e,r);<span class=\"code-keyword\">var</span> a=d.opaque,o=d.transparent;a.length&gt;<span class=\"code-number\">0</span>&amp;&amp;It(a,t,e),o.length&gt;<span class=\"code-number\">0</span>&amp;&amp;It(o,t,e),!<span class=\"code-number\">0</span>===t.isScene&amp;&amp;t.onAfterRender(f,t,e),<span class=\"code-literal\">null</span>!==_&amp;&amp;(K.updateRenderTargetMipmap(_),K.updateMultisampleRenderTarget(_)),Z.buffers.depth.setTest(!<span class=\"code-number\">0</span>),Z.buffers.depth.setMask(!<span class=\"code-number\">0</span>),Z.buffers.color.setMask(!<span class=\"code-number\">0</span>),Z.setPolygonOffset(!<span class=\"code-number\">1</span>),d=<span class=\"code-literal\">null</span>,p=<span class=\"code-literal\">null</span>}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\"</span>)},<span class=\"code-keyword\">this</span>.setFramebuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{v!==t&amp;&amp;<span class=\"code-literal\">null</span>===_&amp;&amp;vt.bindFramebuffer(<span class=\"code-number\">36160</span>,t),v=t},<span class=\"code-keyword\">this</span>.getActiveCubeFace=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> g},<span class=\"code-keyword\">this</span>.getActiveMipmapLevel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> x},<span class=\"code-keyword\">this</span>.getRenderList=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> d},<span class=\"code-keyword\">this</span>.setRenderList=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{d=t},<span class=\"code-keyword\">this</span>.getRenderState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> p},<span class=\"code-keyword\">this</span>.setRenderState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{p=t},<span class=\"code-keyword\">this</span>.getRenderTarget=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> _},<span class=\"code-keyword\">this</span>.setRenderTarget=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),_=t,g=e,x=n,t&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===Q.get(t).__webglFramebuffer&amp;&amp;K.setupRenderTarget(t);<span class=\"code-keyword\">var</span> r=v,i=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> a=Q.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=a[e],i=!<span class=\"code-number\">0</span>):r=t.isWebGLMultisampleRenderTarget?Q.get(t).__webglMultisampledFramebuffer:a,L.copy(t.viewport),R.copy(t.scissor),C=t.scissorTest}<span class=\"code-keyword\">else</span> L.copy(B).multiplyScalar(N).floor(),R.copy(z).multiplyScalar(N).floor(),C=U;<span class=\"code-keyword\">if</span>(M!==r&amp;&amp;(vt.bindFramebuffer(<span class=\"code-number\">36160</span>,r),M=r),Z.viewport(L),Z.scissor(R),Z.setScissorTest(C),i){<span class=\"code-keyword\">var</span> o=Q.get(t.texture);vt.framebufferTexture2D(<span class=\"code-number\">36160</span>,<span class=\"code-number\">36064</span>,<span class=\"code-number\">34069</span>+e,o.__webglTexture,n)}},<span class=\"code-keyword\">this</span>.readRenderTargetPixels=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">if</span>(t&amp;&amp;t.isWebGLRenderTarget){<span class=\"code-keyword\">var</span> s=Q.get(t).__webglFramebuffer;<span class=\"code-keyword\">if</span>(t.isWebGLCubeRenderTarget&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;(s=s[o]),s){<span class=\"code-keyword\">var</span> c=!<span class=\"code-number\">1</span>;s!==M&amp;&amp;(vt.bindFramebuffer(<span class=\"code-number\">36160</span>,s),c=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> l=t.texture,u=l.format,h=l.type;<span class=\"code-keyword\">if</span>(u!==T&amp;&amp;ft.convert(u)!==vt.getParameter(<span class=\"code-number\">35739</span>))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\"</span>);<span class=\"code-keyword\">if</span>(!(h===y||ft.convert(h)===vt.getParameter(<span class=\"code-number\">35738</span>)||h===b&amp;&amp;(Y.isWebGL2||X.get(<span class=\"code-string\">\"OES_texture_float\"</span>)||X.get(<span class=\"code-string\">\"WEBGL_color_buffer_float\"</span>))||h===w&amp;&amp;(Y.isWebGL2?X.get(<span class=\"code-string\">\"EXT_color_buffer_float\"</span>):X.get(<span class=\"code-string\">\"EXT_color_buffer_half_float\"</span>))))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\"</span>);<span class=\"code-number\">36053</span>===vt.checkFramebufferStatus(<span class=\"code-number\">36160</span>)?e&gt;=<span class=\"code-number\">0</span>&amp;&amp;e&lt;=t.width-r&amp;&amp;n&gt;=<span class=\"code-number\">0</span>&amp;&amp;n&lt;=t.height-i&amp;&amp;vt.readPixels(e,n,r,i,ft.convert(u),ft.convert(h),a):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\"</span>)}<span class=\"code-keyword\">finally</span>{c&amp;&amp;vt.bindFramebuffer(<span class=\"code-number\">36160</span>,M)}}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\"</span>)},<span class=\"code-keyword\">this</span>.copyFramebufferToTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,-n),i=<span class=\"code-built_in\">Math</span>.floor(e.image.width*r),a=<span class=\"code-built_in\">Math</span>.floor(e.image.height*r),o=ft.convert(e.format);K.setTexture2D(e,<span class=\"code-number\">0</span>),vt.copyTexImage2D(<span class=\"code-number\">3553</span>,n,o,t.x,t.y,i,a,<span class=\"code-number\">0</span>),Z.unbindTexture()},<span class=\"code-keyword\">this</span>.copyTextureToTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=e.image.width,a=e.image.height,o=ft.convert(n.format),s=ft.convert(n.type);K.setTexture2D(n,<span class=\"code-number\">0</span>),vt.pixelStorei(<span class=\"code-number\">37440</span>,n.flipY),vt.pixelStorei(<span class=\"code-number\">37441</span>,n.premultiplyAlpha),vt.pixelStorei(<span class=\"code-number\">3317</span>,n.unpackAlignment),e.isDataTexture?vt.texSubImage2D(<span class=\"code-number\">3553</span>,r,t.x,t.y,i,a,o,s,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(<span class=\"code-number\">3553</span>,r,t.x,t.y,e.mipmaps[<span class=\"code-number\">0</span>].width,e.mipmaps[<span class=\"code-number\">0</span>].height,o,e.mipmaps[<span class=\"code-number\">0</span>].data):vt.texSubImage2D(<span class=\"code-number\">3553</span>,r,t.x,t.y,o,s,e.image),<span class=\"code-number\">0</span>===r&amp;&amp;n.generateMipmaps&amp;&amp;vt.generateMipmap(<span class=\"code-number\">3553</span>),Z.unbindTexture()},<span class=\"code-keyword\">this</span>.initTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{K.setTexture2D(t,<span class=\"code-number\">0</span>),Z.unbindTexture()},<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class=\"code-keyword\">new</span> CustomEvent(<span class=\"code-string\">\"observe\"</span>,{<span class=\"code-attr\">detail</span>:<span class=\"code-keyword\">this</span>}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ca</span>(<span class=\"code-params\">t</span>)</span>{sa.call(<span class=\"code-keyword\">this</span>,t)}na.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Xn.prototype),{<span class=\"code-attr\">constructor</span>:na,<span class=\"code-attr\">isArrayCamera</span>:!<span class=\"code-number\">0</span>}),ra.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:ra,<span class=\"code-attr\">isGroup</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.assign(ia.prototype,{<span class=\"code-attr\">constructor</span>:ia,<span class=\"code-attr\">getHandSpace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._hand&amp;&amp;(<span class=\"code-keyword\">this</span>._hand=<span class=\"code-keyword\">new</span> ra,<span class=\"code-keyword\">this</span>._hand.matrixAutoUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._hand.visible=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._hand.joints=[],<span class=\"code-keyword\">this</span>._hand.inputState={<span class=\"code-attr\">pinching</span>:!<span class=\"code-number\">1</span>},<span class=\"code-built_in\">window</span>.XRHand))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;=<span class=\"code-built_in\">window</span>.XRHand.LITTLE_PHALANX_TIP;t++){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> ra;e.matrixAutoUpdate=!<span class=\"code-number\">1</span>,e.visible=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._hand.joints.push(e),<span class=\"code-keyword\">this</span>._hand.add(e)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._hand},<span class=\"code-attr\">getTargetRaySpace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._targetRay&amp;&amp;(<span class=\"code-keyword\">this</span>._targetRay=<span class=\"code-keyword\">new</span> ra,<span class=\"code-keyword\">this</span>._targetRay.matrixAutoUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._targetRay.visible=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>._targetRay},<span class=\"code-attr\">getGripSpace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._grip&amp;&amp;(<span class=\"code-keyword\">this</span>._grip=<span class=\"code-keyword\">new</span> ra,<span class=\"code-keyword\">this</span>._grip.matrixAutoUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._grip.visible=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>._grip},<span class=\"code-attr\">dispatchEvent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._targetRay&amp;&amp;<span class=\"code-keyword\">this</span>._targetRay.dispatchEvent(t),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._grip&amp;&amp;<span class=\"code-keyword\">this</span>._grip.dispatchEvent(t),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._hand&amp;&amp;<span class=\"code-keyword\">this</span>._hand.dispatchEvent(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">disconnect</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"disconnected\"</span>,<span class=\"code-attr\">data</span>:t}),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._targetRay&amp;&amp;(<span class=\"code-keyword\">this</span>._targetRay.visible=!<span class=\"code-number\">1</span>),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._grip&amp;&amp;(<span class=\"code-keyword\">this</span>._grip.visible=!<span class=\"code-number\">1</span>),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._hand&amp;&amp;(<span class=\"code-keyword\">this</span>._hand.visible=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-literal\">null</span>,i=<span class=\"code-literal\">null</span>,a=<span class=\"code-literal\">null</span>,o=<span class=\"code-keyword\">this</span>._targetRay,s=<span class=\"code-keyword\">this</span>._grip,c=<span class=\"code-keyword\">this</span>._hand;<span class=\"code-keyword\">if</span>(t&amp;&amp;<span class=\"code-string\">\"visible-blurred\"</span>!==e.session.visibilityState)<span class=\"code-keyword\">if</span>(c&amp;&amp;t.hand){a=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;=<span class=\"code-built_in\">window</span>.XRHand.LITTLE_PHALANX_TIP;l++)<span class=\"code-keyword\">if</span>(t.hand[l]){<span class=\"code-keyword\">var</span> u=e.getJointPose(t.hand[l],n),h=c.joints[l];<span class=\"code-literal\">null</span>!==u&amp;&amp;(h.matrix.fromArray(u.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=u.radius),h.visible=<span class=\"code-literal\">null</span>!==u;<span class=\"code-keyword\">var</span> d=c.joints[<span class=\"code-built_in\">window</span>.XRHand.INDEX_PHALANX_TIP],p=c.joints[<span class=\"code-built_in\">window</span>.XRHand.THUMB_PHALANX_TIP],f=d.position.distanceTo(p.position);c.inputState.pinching&amp;&amp;f&gt;<span class=\"code-number\">.025</span>?(c.inputState.pinching=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"pinchend\"</span>,<span class=\"code-attr\">handedness</span>:t.handedness,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>})):!c.inputState.pinching&amp;&amp;f&lt;=<span class=\"code-number\">.015</span>&amp;&amp;(c.inputState.pinching=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"pinchstart\"</span>,<span class=\"code-attr\">handedness</span>:t.handedness,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>}))}}<span class=\"code-keyword\">else</span> <span class=\"code-literal\">null</span>!==o&amp;&amp;<span class=\"code-literal\">null</span>!==(r=e.getPose(t.targetRaySpace,n))&amp;&amp;(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),<span class=\"code-literal\">null</span>!==s&amp;&amp;t.gripSpace&amp;&amp;<span class=\"code-literal\">null</span>!==(i=e.getPose(t.gripSpace,n))&amp;&amp;(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==o&amp;&amp;(o.visible=<span class=\"code-literal\">null</span>!==r),<span class=\"code-literal\">null</span>!==s&amp;&amp;(s.visible=<span class=\"code-literal\">null</span>!==i),<span class=\"code-literal\">null</span>!==c&amp;&amp;(c.visible=<span class=\"code-literal\">null</span>!==a),<span class=\"code-keyword\">this</span>}}),<span class=\"code-built_in\">Object</span>.assign(aa.prototype,rt.prototype),ca.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(sa.prototype),{<span class=\"code-attr\">constructor</span>:ca,<span class=\"code-attr\">isWebGL1Renderer</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> la=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isFogExp2\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(t),<span class=\"code-keyword\">this</span>.density=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">25e-5</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> t(<span class=\"code-keyword\">this</span>.color,<span class=\"code-keyword\">this</span>.density)},e.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"FogExp2\"</span>,<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">this</span>.color.getHex(),<span class=\"code-attr\">density</span>:<span class=\"code-keyword\">this</span>.density}},t}(),ua=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isFog\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(t),<span class=\"code-keyword\">this</span>.near=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.far=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">1e3</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> t(<span class=\"code-keyword\">this</span>.color,<span class=\"code-keyword\">this</span>.near,<span class=\"code-keyword\">this</span>.far)},e.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Fog\"</span>,<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">this</span>.color.getHex(),<span class=\"code-attr\">near</span>:<span class=\"code-keyword\">this</span>.near,<span class=\"code-attr\">far</span>:<span class=\"code-keyword\">this</span>.far}},t}(),ha=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">return</span> e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">Object</span>.defineProperty(ht(e),<span class=\"code-string\">\"isScene\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),e.type=<span class=\"code-string\">\"Scene\"</span>,e.background=<span class=\"code-literal\">null</span>,e.environment=<span class=\"code-literal\">null</span>,e.fog=<span class=\"code-literal\">null</span>,e.overrideMaterial=<span class=\"code-literal\">null</span>,e.autoUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class=\"code-keyword\">new</span> CustomEvent(<span class=\"code-string\">\"observe\"</span>,{<span class=\"code-attr\">detail</span>:ht(e)})),e}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">return</span> t.prototype.copy.call(<span class=\"code-keyword\">this</span>,e,n),<span class=\"code-literal\">null</span>!==e.background&amp;&amp;(<span class=\"code-keyword\">this</span>.background=e.background.clone()),<span class=\"code-literal\">null</span>!==e.environment&amp;&amp;(<span class=\"code-keyword\">this</span>.environment=e.environment.clone()),<span class=\"code-literal\">null</span>!==e.fog&amp;&amp;(<span class=\"code-keyword\">this</span>.fog=e.fog.clone()),<span class=\"code-literal\">null</span>!==e.overrideMaterial&amp;&amp;(<span class=\"code-keyword\">this</span>.overrideMaterial=e.overrideMaterial.clone()),<span class=\"code-keyword\">this</span>.autoUpdate=e.autoUpdate,<span class=\"code-keyword\">this</span>.matrixAutoUpdate=e.matrixAutoUpdate,<span class=\"code-keyword\">this</span>},n.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,e);<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.background&amp;&amp;(n.object.background=<span class=\"code-keyword\">this</span>.background.toJSON(e)),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.environment&amp;&amp;(n.object.environment=<span class=\"code-keyword\">this</span>.environment.toJSON(e)),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.fog&amp;&amp;(n.object.fog=<span class=\"code-keyword\">this</span>.fog.toJSON()),n},e}(we);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">da</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.array=t,<span class=\"code-keyword\">this</span>.stride=e,<span class=\"code-keyword\">this</span>.count=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t.length/e:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.usage=tt,<span class=\"code-keyword\">this</span>.updateRange={<span class=\"code-attr\">offset</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:<span class=\"code-number\">-1</span>},<span class=\"code-keyword\">this</span>.version=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.uuid=st.generateUUID()}<span class=\"code-built_in\">Object</span>.defineProperty(da.prototype,<span class=\"code-string\">\"needsUpdate\"</span>,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.version++}}),<span class=\"code-built_in\">Object</span>.assign(da.prototype,{<span class=\"code-attr\">isInterleavedBuffer</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">onUploadCallback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">setUsage</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.usage=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.array=<span class=\"code-keyword\">new</span> t.array.constructor(t.array),<span class=\"code-keyword\">this</span>.count=t.count,<span class=\"code-keyword\">this</span>.stride=t.stride,<span class=\"code-keyword\">this</span>.usage=t.usage,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{t*=<span class=\"code-keyword\">this</span>.stride,n*=e.stride;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.stride;r&lt;i;r++)<span class=\"code-keyword\">this</span>.array[t+r]=e.array[n+r];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.array.set(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.arrayBuffers&amp;&amp;(t.arrayBuffers={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.array.buffer._uuid&amp;&amp;(<span class=\"code-keyword\">this</span>.array.buffer._uuid=st.generateUUID()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.arrayBuffers[<span class=\"code-keyword\">this</span>.array.buffer._uuid]&amp;&amp;(t.arrayBuffers[<span class=\"code-keyword\">this</span>.array.buffer._uuid]=<span class=\"code-keyword\">this</span>.array.slice(<span class=\"code-number\">0</span>).buffer);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> da(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.array.constructor(t.arrayBuffers[<span class=\"code-keyword\">this</span>.array.buffer._uuid]),<span class=\"code-keyword\">this</span>.stride);<span class=\"code-keyword\">return</span> e.setUsage(<span class=\"code-keyword\">this</span>.usage),e},<span class=\"code-attr\">onUpload</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.onUploadCallback=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.arrayBuffers&amp;&amp;(t.arrayBuffers={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.array.buffer._uuid&amp;&amp;(<span class=\"code-keyword\">this</span>.array.buffer._uuid=st.generateUUID()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.arrayBuffers[<span class=\"code-keyword\">this</span>.array.buffer._uuid]&amp;&amp;(t.arrayBuffers[<span class=\"code-keyword\">this</span>.array.buffer._uuid]=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(<span class=\"code-keyword\">this</span>.array.buffer))),{<span class=\"code-attr\">uuid</span>:<span class=\"code-keyword\">this</span>.uuid,<span class=\"code-attr\">buffer</span>:<span class=\"code-keyword\">this</span>.array.buffer._uuid,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.array.constructor.name,<span class=\"code-attr\">stride</span>:<span class=\"code-keyword\">this</span>.stride}}});<span class=\"code-keyword\">var</span> pa,fa=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ma</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.data=t,<span class=\"code-keyword\">this</span>.itemSize=e,<span class=\"code-keyword\">this</span>.offset=n,<span class=\"code-keyword\">this</span>.normalized=!<span class=\"code-number\">0</span>===r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">va</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"SpriteMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.rotation=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.sizeAttenuation=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transparent=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-built_in\">Object</span>.defineProperties(ma.prototype,{<span class=\"code-attr\">count</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.count}},<span class=\"code-attr\">array</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array}},<span class=\"code-attr\">needsUpdate</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.data.needsUpdate=t}}}),<span class=\"code-built_in\">Object</span>.assign(ma.prototype,{<span class=\"code-attr\">isInterleavedBufferAttribute</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">applyMatrix4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.data.count;e&lt;n;e++)fa.x=<span class=\"code-keyword\">this</span>.getX(e),fa.y=<span class=\"code-keyword\">this</span>.getY(e),fa.z=<span class=\"code-keyword\">this</span>.getZ(e),fa.applyMatrix4(t),<span class=\"code-keyword\">this</span>.setXYZ(e,fa.x,fa.y,fa.z);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">1</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">2</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">3</span>]=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset]},<span class=\"code-attr\">getY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">1</span>]},<span class=\"code-attr\">getZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">2</span>]},<span class=\"code-attr\">getW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.array[t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset+<span class=\"code-number\">3</span>]},<span class=\"code-attr\">setXY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t=t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setXYZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> t=t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">2</span>]=r,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setXYZW</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span> t=t*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">0</span>]=e,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">2</span>]=r,<span class=\"code-keyword\">this</span>.data.array[t+<span class=\"code-number\">3</span>]=i,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t){<span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.count;n++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=n*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset,i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-keyword\">this</span>.itemSize;i++)e.push(<span class=\"code-keyword\">this</span>.data.array[r+i]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.array.constructor(e),<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-keyword\">this</span>.normalized)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.interleavedBuffers&amp;&amp;(t.interleavedBuffers={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.interleavedBuffers[<span class=\"code-keyword\">this</span>.data.uuid]&amp;&amp;(t.interleavedBuffers[<span class=\"code-keyword\">this</span>.data.uuid]=<span class=\"code-keyword\">this</span>.data.clone(t)),<span class=\"code-keyword\">new</span> ma(t.interleavedBuffers[<span class=\"code-keyword\">this</span>.data.uuid],<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-keyword\">this</span>.offset,<span class=\"code-keyword\">this</span>.normalized)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t){<span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.count;n++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=n*<span class=\"code-keyword\">this</span>.data.stride+<span class=\"code-keyword\">this</span>.offset,i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-keyword\">this</span>.itemSize;i++)e.push(<span class=\"code-keyword\">this</span>.data.array[r+i]);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">itemSize</span>:<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.array.constructor.name,<span class=\"code-attr\">array</span>:e,<span class=\"code-attr\">normalized</span>:<span class=\"code-keyword\">this</span>.normalized}}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.interleavedBuffers&amp;&amp;(t.interleavedBuffers={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.interleavedBuffers[<span class=\"code-keyword\">this</span>.data.uuid]&amp;&amp;(t.interleavedBuffers[<span class=\"code-keyword\">this</span>.data.uuid]=<span class=\"code-keyword\">this</span>.data.toJSON(t)),{<span class=\"code-attr\">isInterleavedBufferAttribute</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">itemSize</span>:<span class=\"code-keyword\">this</span>.itemSize,<span class=\"code-attr\">data</span>:<span class=\"code-keyword\">this</span>.data.uuid,<span class=\"code-attr\">offset</span>:<span class=\"code-keyword\">this</span>.offset,<span class=\"code-attr\">normalized</span>:<span class=\"code-keyword\">this</span>.normalized}}}),va.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),va.prototype.constructor=va,va.prototype.isSpriteMaterial=!<span class=\"code-number\">0</span>,va.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.rotation=t.rotation,<span class=\"code-keyword\">this</span>.sizeAttenuation=t.sizeAttenuation,<span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> ga=<span class=\"code-keyword\">new</span> Mt,ya=<span class=\"code-keyword\">new</span> Mt,xa=<span class=\"code-keyword\">new</span> Mt,_a=<span class=\"code-keyword\">new</span> pt,ba=<span class=\"code-keyword\">new</span> pt,wa=<span class=\"code-keyword\">new</span> Qt,Ma=<span class=\"code-keyword\">new</span> Mt,Sa=<span class=\"code-keyword\">new</span> Mt,Ta=<span class=\"code-keyword\">new</span> Mt,Ea=<span class=\"code-keyword\">new</span> pt,Aa=<span class=\"code-keyword\">new</span> pt,La=<span class=\"code-keyword\">new</span> pt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ra</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Sprite\"</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===pa){pa=<span class=\"code-keyword\">new</span> _n;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> da(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>([<span class=\"code-number\">-.5</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),<span class=\"code-number\">5</span>);pa.setIndex([<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>]),pa.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> ma(e,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>)),pa.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> ma(e,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,!<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">this</span>.geometry=pa,<span class=\"code-keyword\">this</span>.material=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> va,<span class=\"code-keyword\">this</span>.center=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ca</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{_a.subVectors(t,n).addScalar(<span class=\"code-number\">.5</span>).multiply(r),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?(ba.x=a*_a.x-i*_a.y,ba.y=i*_a.x+a*_a.y):ba.copy(_a),t.copy(e),t.x+=ba.x,t.y+=ba.y,t.applyMatrix4(wa)}Ra.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:Ra,<span class=\"code-attr\">isSprite</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-literal\">null</span>===t.camera&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.'</span>),ya.setFromMatrixScale(<span class=\"code-keyword\">this</span>.matrixWorld),wa.copy(t.camera.matrixWorld),<span class=\"code-keyword\">this</span>.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,<span class=\"code-keyword\">this</span>.matrixWorld),xa.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.modelViewMatrix),t.camera.isPerspectiveCamera&amp;&amp;!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.material.sizeAttenuation&amp;&amp;ya.multiplyScalar(-xa.z);<span class=\"code-keyword\">var</span> n,r,i=<span class=\"code-keyword\">this</span>.material.rotation;<span class=\"code-number\">0</span>!==i&amp;&amp;(r=<span class=\"code-built_in\">Math</span>.cos(i),n=<span class=\"code-built_in\">Math</span>.sin(i));<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.center;Ca(Ma.set(<span class=\"code-number\">-.5</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">0</span>),xa,a,ya,n,r),Ca(Sa.set(<span class=\"code-number\">.5</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">0</span>),xa,a,ya,n,r),Ca(Ta.set(<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>),xa,a,ya,n,r),Ea.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),Aa.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),La.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> o=t.ray.intersectTriangle(Ma,Sa,Ta,!<span class=\"code-number\">1</span>,ga);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==o||(Ca(Sa.set(<span class=\"code-number\">-.5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>),xa,a,ya,n,r),Aa.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-literal\">null</span>!==(o=t.ray.intersectTriangle(Ma,Ta,Sa,!<span class=\"code-number\">1</span>,ga)))){<span class=\"code-keyword\">var</span> s=t.ray.origin.distanceTo(ga);s&lt;t.near||s&gt;t.far||e.push({<span class=\"code-attr\">distance</span>:s,<span class=\"code-attr\">point</span>:ga.clone(),<span class=\"code-attr\">uv</span>:ze.getUV(ga,Ma,Sa,Ta,Ea,Aa,La,<span class=\"code-keyword\">new</span> pt),<span class=\"code-attr\">face</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">object</span>:<span class=\"code-keyword\">this</span>})}},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.center&amp;&amp;<span class=\"code-keyword\">this</span>.center.copy(t.center),<span class=\"code-keyword\">this</span>.material=t.material,<span class=\"code-keyword\">this</span>}});<span class=\"code-keyword\">var</span> Pa,Ia,Na,Da,Oa,Ba=<span class=\"code-keyword\">new</span> Mt,za=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ua</span>(<span class=\"code-params\"></span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>._currentLevel=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LOD\"</span>,<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">levels</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:[]}}),<span class=\"code-keyword\">this</span>.autoUpdate=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fa</span>(<span class=\"code-params\">t,e</span>)</span>{t&amp;&amp;t.isGeometry&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"</span>),Un.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"SkinnedMesh\"</span>,<span class=\"code-keyword\">this</span>.bindMode=<span class=\"code-string\">\"attached\"</span>,<span class=\"code-keyword\">this</span>.bindMatrix=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.bindMatrixInverse=<span class=\"code-keyword\">new</span> Qt}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ga</span>(<span class=\"code-params\"></span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Bone\"</span>}Ua.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:Ua,<span class=\"code-attr\">isLOD</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.levels,n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=e[n];<span class=\"code-keyword\">this</span>.addLevel(i.object.clone(),i.distance)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.autoUpdate=t.autoUpdate,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">addLevel</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),e=<span class=\"code-built_in\">Math</span>.abs(e);<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">this</span>.levels;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;r.length&amp;&amp;!(e&lt;r[n].distance);n++);<span class=\"code-keyword\">return</span> r.splice(n,<span class=\"code-number\">0</span>,{<span class=\"code-attr\">distance</span>:e,<span class=\"code-attr\">object</span>:t}),<span class=\"code-keyword\">this</span>.add(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getCurrentLevel</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._currentLevel},<span class=\"code-attr\">getObjectForDistance</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.levels;<span class=\"code-keyword\">if</span>(e.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> n,r;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">1</span>,r=e.length;n&lt;r&amp;&amp;!(t&lt;e[n].distance);n++);<span class=\"code-keyword\">return</span> e[n<span class=\"code-number\">-1</span>].object}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.levels.length&gt;<span class=\"code-number\">0</span>){Ba.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.matrixWorld);<span class=\"code-keyword\">var</span> n=t.ray.origin.distanceTo(Ba);<span class=\"code-keyword\">this</span>.getObjectForDistance(n).raycast(t,e)}},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.levels;<span class=\"code-keyword\">if</span>(e.length&gt;<span class=\"code-number\">1</span>){Ba.setFromMatrixPosition(t.matrixWorld),za.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.matrixWorld);<span class=\"code-keyword\">var</span> n,r,i=Ba.distanceTo(za)/t.zoom;<span class=\"code-keyword\">for</span>(e[<span class=\"code-number\">0</span>].object.visible=!<span class=\"code-number\">0</span>,n=<span class=\"code-number\">1</span>,r=e.length;n&lt;r&amp;&amp;i&gt;=e[n].distance;n++)e[n<span class=\"code-number\">-1</span>].object.visible=!<span class=\"code-number\">1</span>,e[n].object.visible=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">this</span>._currentLevel=n<span class=\"code-number\">-1</span>;n&lt;r;n++)e[n].object.visible=!<span class=\"code-number\">1</span>}},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=we.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.autoUpdate&amp;&amp;(e.object.autoUpdate=!<span class=\"code-number\">1</span>),e.object.levels=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.levels,r=<span class=\"code-number\">0</span>,i=n.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=n[r];e.object.levels.push({<span class=\"code-attr\">object</span>:a.object.uuid,<span class=\"code-attr\">distance</span>:a.distance})}<span class=\"code-keyword\">return</span> e}}),Fa.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Un.prototype),{<span class=\"code-attr\">constructor</span>:Fa,<span class=\"code-attr\">isSkinnedMesh</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Un.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.bindMode=t.bindMode,<span class=\"code-keyword\">this</span>.bindMatrix.copy(t.bindMatrix),<span class=\"code-keyword\">this</span>.bindMatrixInverse.copy(t.bindMatrixInverse),<span class=\"code-keyword\">this</span>.skeleton=t.skeleton,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">bind</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.skeleton=t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-keyword\">this</span>.updateMatrixWorld(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.skeleton.calculateInverses(),e=<span class=\"code-keyword\">this</span>.matrixWorld),<span class=\"code-keyword\">this</span>.bindMatrix.copy(e),<span class=\"code-keyword\">this</span>.bindMatrixInverse.copy(e).invert()},<span class=\"code-attr\">pose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.skeleton.pose()},<span class=\"code-attr\">normalizeSkinWeights</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> xt,e=<span class=\"code-keyword\">this</span>.geometry.attributes.skinWeight,n=<span class=\"code-number\">0</span>,r=e.count;n&lt;r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">1</span>/t.manhattanLength();i!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?t.multiplyScalar(i):t.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),e.setXYZW(n,t.x,t.y,t.z,t.w)}},<span class=\"code-attr\">updateMatrixWorld</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Un.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-string\">\"attached\"</span>===<span class=\"code-keyword\">this</span>.bindMode?<span class=\"code-keyword\">this</span>.bindMatrixInverse.copy(<span class=\"code-keyword\">this</span>.matrixWorld).invert():<span class=\"code-string\">\"detached\"</span>===<span class=\"code-keyword\">this</span>.bindMode?<span class=\"code-keyword\">this</span>.bindMatrixInverse.copy(<span class=\"code-keyword\">this</span>.bindMatrix).invert():<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.SkinnedMesh: Unrecognized bindMode: \"</span>+<span class=\"code-keyword\">this</span>.bindMode)},<span class=\"code-attr\">boneTransform</span>:(Pa=<span class=\"code-keyword\">new</span> Mt,Ia=<span class=\"code-keyword\">new</span> xt,Na=<span class=\"code-keyword\">new</span> xt,Da=<span class=\"code-keyword\">new</span> Mt,Oa=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.skeleton,r=<span class=\"code-keyword\">this</span>.geometry;Ia.fromBufferAttribute(r.attributes.skinIndex,t),Na.fromBufferAttribute(r.attributes.skinWeight,t),Pa.fromBufferAttribute(r.attributes.position,t).applyMatrix4(<span class=\"code-keyword\">this</span>.bindMatrix),e.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-number\">4</span>;i++){<span class=\"code-keyword\">var</span> a=Na.getComponent(i);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==a){<span class=\"code-keyword\">var</span> o=Ia.getComponent(i);Oa.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(Da.copy(Pa).applyMatrix4(Oa),a)}}<span class=\"code-keyword\">return</span> e.applyMatrix4(<span class=\"code-keyword\">this</span>.bindMatrixInverse)})}),Ga.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:Ga,<span class=\"code-attr\">isBone</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> Ha=<span class=\"code-keyword\">new</span> Qt,ka=<span class=\"code-keyword\">new</span> Qt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Va</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=[]),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.bones=t.slice(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.boneInverses=e,<span class=\"code-keyword\">this</span>.boneMatrices=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boneTexture=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boneTextureSize=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.frame=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.init()}<span class=\"code-built_in\">Object</span>.assign(Va.prototype,{<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.bones,e=<span class=\"code-keyword\">this</span>.boneInverses;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.boneMatrices=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">16</span>*t.length),<span class=\"code-number\">0</span>===e.length)<span class=\"code-keyword\">this</span>.calculateInverses();<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.length!==e.length){<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.\"</span>),<span class=\"code-keyword\">this</span>.boneInverses=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.bones.length;n&lt;r;n++)<span class=\"code-keyword\">this</span>.boneInverses.push(<span class=\"code-keyword\">new</span> Qt)}},<span class=\"code-attr\">calculateInverses</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.boneInverses.length=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.bones.length;t&lt;e;t++){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Qt;<span class=\"code-keyword\">this</span>.bones[t]&amp;&amp;n.copy(<span class=\"code-keyword\">this</span>.bones[t].matrixWorld).invert(),<span class=\"code-keyword\">this</span>.boneInverses.push(n)}},<span class=\"code-attr\">pose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.bones.length;t&lt;e;t++){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.bones[t];n&amp;&amp;n.matrixWorld.copy(<span class=\"code-keyword\">this</span>.boneInverses[t]).invert()}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.bones.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.bones[r];a&amp;&amp;(a.parent&amp;&amp;a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.bones,e=<span class=\"code-keyword\">this</span>.boneInverses,n=<span class=\"code-keyword\">this</span>.boneMatrices,r=<span class=\"code-keyword\">this</span>.boneTexture,i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=t[i]?t[i].matrixWorld:ka;Ha.multiplyMatrices(o,e[i]),Ha.toArray(n,<span class=\"code-number\">16</span>*i)}<span class=\"code-literal\">null</span>!==r&amp;&amp;(r.needsUpdate=!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Va(<span class=\"code-keyword\">this</span>.bones,<span class=\"code-keyword\">this</span>.boneInverses)},<span class=\"code-attr\">getBoneByName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.bones.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.bones[e];<span class=\"code-keyword\">if</span>(r.name===t)<span class=\"code-keyword\">return</span> r}},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.boneTexture&amp;&amp;(<span class=\"code-keyword\">this</span>.boneTexture.dispose(),<span class=\"code-keyword\">this</span>.boneTexture=<span class=\"code-literal\">null</span>)},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.uuid=t.uuid;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=t.bones.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t.bones[n],a=e[i];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Skeleton: No bone found with UUID:\"</span>,i),a=<span class=\"code-keyword\">new</span> Ga),<span class=\"code-keyword\">this</span>.bones.push(a),<span class=\"code-keyword\">this</span>.boneInverses.push((<span class=\"code-keyword\">new</span> Qt).fromArray(t.boneInverses[n]))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.init(),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Skeleton\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Skeleton.toJSON\"</span>},<span class=\"code-attr\">bones</span>:[],<span class=\"code-attr\">boneInverses</span>:[]};t.uuid=<span class=\"code-keyword\">this</span>.uuid;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.bones,n=<span class=\"code-keyword\">this</span>.boneInverses,r=<span class=\"code-number\">0</span>,i=e.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=e[r];t.bones.push(a.uuid);<span class=\"code-keyword\">var</span> o=n[r];t.boneInverses.push(o.toArray())}<span class=\"code-keyword\">return</span> t}});<span class=\"code-keyword\">var</span> Wa=<span class=\"code-keyword\">new</span> Qt,ja=<span class=\"code-keyword\">new</span> Qt,qa=[],Xa=<span class=\"code-keyword\">new</span> Un;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ya</span>(<span class=\"code-params\">t,e,n</span>)</span>{Un.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.instanceMatrix=<span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">16</span>*n),<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.instanceColor=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.count=n,<span class=\"code-keyword\">this</span>.frustumCulled=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Za</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineBasicMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.linewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.linecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.linejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}Ya.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Un.prototype),{<span class=\"code-attr\">constructor</span>:Ya,<span class=\"code-attr\">isInstancedMesh</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Un.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.instanceMatrix.copy(t.instanceMatrix),<span class=\"code-keyword\">this</span>.count=t.count,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getColorAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.fromArray(<span class=\"code-keyword\">this</span>.instanceColor.array,<span class=\"code-number\">3</span>*t)},<span class=\"code-attr\">getMatrixAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.fromArray(<span class=\"code-keyword\">this</span>.instanceMatrix.array,<span class=\"code-number\">16</span>*t)},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.matrixWorld,r=<span class=\"code-keyword\">this</span>.count;<span class=\"code-keyword\">if</span>(Xa.geometry=<span class=\"code-keyword\">this</span>.geometry,Xa.material=<span class=\"code-keyword\">this</span>.material,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==Xa.material)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;r;i++){<span class=\"code-keyword\">this</span>.getMatrixAt(i,Wa),ja.multiplyMatrices(n,Wa),Xa.matrixWorld=ja,Xa.raycast(t,qa);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=qa.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=qa[a];s.instanceId=i,s.object=<span class=\"code-keyword\">this</span>,e.push(s)}qa.length=<span class=\"code-number\">0</span>}},<span class=\"code-attr\">setColorAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.instanceColor&amp;&amp;(<span class=\"code-keyword\">this</span>.instanceColor=<span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*<span class=\"code-keyword\">this</span>.count),<span class=\"code-number\">3</span>)),e.toArray(<span class=\"code-keyword\">this</span>.instanceColor.array,<span class=\"code-number\">3</span>*t)},<span class=\"code-attr\">setMatrixAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e.toArray(<span class=\"code-keyword\">this</span>.instanceMatrix.array,<span class=\"code-number\">16</span>*t)},<span class=\"code-attr\">updateMorphTargets</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}),Za.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Za.prototype.constructor=Za,Za.prototype.isLineBasicMaterial=!<span class=\"code-number\">0</span>,Za.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.linewidth=t.linewidth,<span class=\"code-keyword\">this</span>.linecap=t.linecap,<span class=\"code-keyword\">this</span>.linejoin=t.linejoin,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> Ja=<span class=\"code-keyword\">new</span> Mt,Qa=<span class=\"code-keyword\">new</span> Mt,Ka=<span class=\"code-keyword\">new</span> Qt,$a=<span class=\"code-keyword\">new</span> Jt,to=<span class=\"code-keyword\">new</span> kt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">eo</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-number\">1</span>===n&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.\"</span>),we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Line\"</span>,<span class=\"code-keyword\">this</span>.geometry=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> _n,<span class=\"code-keyword\">this</span>.material=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Za,<span class=\"code-keyword\">this</span>.updateMorphTargets()}eo.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:eo,<span class=\"code-attr\">isLine</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.material=t.material,<span class=\"code-keyword\">this</span>.geometry=t.geometry,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">computeLineDistances</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry;<span class=\"code-keyword\">if</span>(t.isBufferGeometry)<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t.index){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.attributes.position,n=[<span class=\"code-number\">0</span>],r=<span class=\"code-number\">1</span>,i=e.count;r&lt;i;r++)Ja.fromBufferAttribute(e,r<span class=\"code-number\">-1</span>),Qa.fromBufferAttribute(e,r),n[r]=n[r<span class=\"code-number\">-1</span>],n[r]+=Ja.distanceTo(Qa);t.setAttribute(<span class=\"code-string\">\"lineDistance\"</span>,<span class=\"code-keyword\">new</span> sn(n,<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\"</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isGeometry){<span class=\"code-keyword\">var</span> a=t.vertices,o=t.lineDistances;o[<span class=\"code-number\">0</span>]=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">1</span>,c=a.length;s&lt;c;s++)o[s]=o[s<span class=\"code-number\">-1</span>],o[s]+=a[s<span class=\"code-number\">-1</span>].distanceTo(a[s])}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.geometry,r=<span class=\"code-keyword\">this</span>.matrixWorld,i=t.params.Line.threshold;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===n.boundingSphere&amp;&amp;n.computeBoundingSphere(),to.copy(n.boundingSphere),to.applyMatrix4(r),to.radius+=i,!<span class=\"code-number\">1</span>!==t.ray.intersectsSphere(to)){Ka.copy(r).invert(),$a.copy(t.ray).applyMatrix4(Ka);<span class=\"code-keyword\">var</span> a=i/((<span class=\"code-keyword\">this</span>.scale.x+<span class=\"code-keyword\">this</span>.scale.y+<span class=\"code-keyword\">this</span>.scale.z)/<span class=\"code-number\">3</span>),o=a*a,s=<span class=\"code-keyword\">new</span> Mt,c=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-keyword\">new</span> Mt,u=<span class=\"code-keyword\">new</span> Mt,h=<span class=\"code-keyword\">this</span>.isLineSegments?<span class=\"code-number\">2</span>:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(n.isBufferGeometry){<span class=\"code-keyword\">var</span> d=n.index,p=n.attributes.position;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==d)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=d.array,m=<span class=\"code-number\">0</span>,v=f.length<span class=\"code-number\">-1</span>;m&lt;v;m+=h){<span class=\"code-keyword\">var</span> g=f[m],y=f[m+<span class=\"code-number\">1</span>];<span class=\"code-keyword\">if</span>(s.fromBufferAttribute(p,g),c.fromBufferAttribute(p,y),!($a.distanceSqToSegment(s,c,u,l)&gt;o)){u.applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld);<span class=\"code-keyword\">var</span> x=t.ray.origin.distanceTo(u);x&lt;t.near||x&gt;t.far||e.push({<span class=\"code-attr\">distance</span>:x,<span class=\"code-attr\">point</span>:l.clone().applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld),<span class=\"code-attr\">index</span>:m,<span class=\"code-attr\">face</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">faceIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">object</span>:<span class=\"code-keyword\">this</span>})}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=<span class=\"code-number\">0</span>,b=p.count<span class=\"code-number\">-1</span>;_&lt;b;_+=h){<span class=\"code-keyword\">if</span>(s.fromBufferAttribute(p,_),c.fromBufferAttribute(p,_+<span class=\"code-number\">1</span>),!($a.distanceSqToSegment(s,c,u,l)&gt;o)){u.applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld);<span class=\"code-keyword\">var</span> w=t.ray.origin.distanceTo(u);w&lt;t.near||w&gt;t.far||e.push({<span class=\"code-attr\">distance</span>:w,<span class=\"code-attr\">point</span>:l.clone().applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld),<span class=\"code-attr\">index</span>:_,<span class=\"code-attr\">face</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">faceIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">object</span>:<span class=\"code-keyword\">this</span>})}}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n.isGeometry)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> M=n.vertices,S=M.length,T=<span class=\"code-number\">0</span>;T&lt;S<span class=\"code-number\">-1</span>;T+=h){<span class=\"code-keyword\">if</span>(!($a.distanceSqToSegment(M[T],M[T+<span class=\"code-number\">1</span>],u,l)&gt;o)){u.applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld);<span class=\"code-keyword\">var</span> E=t.ray.origin.distanceTo(u);E&lt;t.near||E&gt;t.far||e.push({<span class=\"code-attr\">distance</span>:E,<span class=\"code-attr\">point</span>:l.clone().applyMatrix4(<span class=\"code-keyword\">this</span>.matrixWorld),<span class=\"code-attr\">index</span>:T,<span class=\"code-attr\">face</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">faceIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">object</span>:<span class=\"code-keyword\">this</span>})}}}},<span class=\"code-attr\">updateMorphTargets</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry;<span class=\"code-keyword\">if</span>(t.isBufferGeometry){<span class=\"code-keyword\">var</span> e=t.morphAttributes,n=<span class=\"code-built_in\">Object</span>.keys(e);<span class=\"code-keyword\">if</span>(n.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> r=e[n[<span class=\"code-number\">0</span>]];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r){<span class=\"code-keyword\">this</span>.morphTargetInfluences=[],<span class=\"code-keyword\">this</span>.morphTargetDictionary={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=r.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=r[i].name||<span class=\"code-built_in\">String</span>(i);<span class=\"code-keyword\">this</span>.morphTargetInfluences.push(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.morphTargetDictionary[o]=i}}}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=t.morphTargets;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;s.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\"</span>)}}});<span class=\"code-keyword\">var</span> no=<span class=\"code-keyword\">new</span> Mt,ro=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">io</span>(<span class=\"code-params\">t,e</span>)</span>{eo.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineSegments\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ao</span>(<span class=\"code-params\">t,e</span>)</span>{eo.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineLoop\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oo</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"PointsMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.size=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.sizeAttenuation=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}io.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(eo.prototype),{<span class=\"code-attr\">constructor</span>:io,<span class=\"code-attr\">isLineSegments</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">computeLineDistances</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry;<span class=\"code-keyword\">if</span>(t.isBufferGeometry)<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t.index){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.attributes.position,n=[],r=<span class=\"code-number\">0</span>,i=e.count;r&lt;i;r+=<span class=\"code-number\">2</span>)no.fromBufferAttribute(e,r),ro.fromBufferAttribute(e,r+<span class=\"code-number\">1</span>),n[r]=<span class=\"code-number\">0</span>===r?<span class=\"code-number\">0</span>:n[r<span class=\"code-number\">-1</span>],n[r+<span class=\"code-number\">1</span>]=n[r]+no.distanceTo(ro);t.setAttribute(<span class=\"code-string\">\"lineDistance\"</span>,<span class=\"code-keyword\">new</span> sn(n,<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\"</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.isGeometry)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=t.vertices,o=t.lineDistances,s=<span class=\"code-number\">0</span>,c=a.length;s&lt;c;s+=<span class=\"code-number\">2</span>)no.copy(a[s]),ro.copy(a[s+<span class=\"code-number\">1</span>]),o[s]=<span class=\"code-number\">0</span>===s?<span class=\"code-number\">0</span>:o[s<span class=\"code-number\">-1</span>],o[s+<span class=\"code-number\">1</span>]=o[s]+no.distanceTo(ro);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}}),ao.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(eo.prototype),{<span class=\"code-attr\">constructor</span>:ao,<span class=\"code-attr\">isLineLoop</span>:!<span class=\"code-number\">0</span>}),oo.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),oo.prototype.constructor=oo,oo.prototype.isPointsMaterial=!<span class=\"code-number\">0</span>,oo.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.size=t.size,<span class=\"code-keyword\">this</span>.sizeAttenuation=t.sizeAttenuation,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> so=<span class=\"code-keyword\">new</span> Qt,co=<span class=\"code-keyword\">new</span> Jt,lo=<span class=\"code-keyword\">new</span> kt,uo=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ho</span>(<span class=\"code-params\">t,e</span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Points\"</span>,<span class=\"code-keyword\">this</span>.geometry=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> _n,<span class=\"code-keyword\">this</span>.material=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> oo,<span class=\"code-keyword\">this</span>.updateMorphTargets()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">po</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s=co.distanceSqToPoint(t);<span class=\"code-keyword\">if</span>(s&lt;n){<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> Mt;co.closestPointToPoint(t,c),c.applyMatrix4(r);<span class=\"code-keyword\">var</span> l=i.ray.origin.distanceTo(c);<span class=\"code-keyword\">if</span>(l&lt;i.near||l&gt;i.far)<span class=\"code-keyword\">return</span>;a.push({<span class=\"code-attr\">distance</span>:l,<span class=\"code-attr\">distanceToRay</span>:<span class=\"code-built_in\">Math</span>.sqrt(s),<span class=\"code-attr\">point</span>:c,<span class=\"code-attr\">index</span>:e,<span class=\"code-attr\">face</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">object</span>:o})}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fo</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c</span>)</span>{gt.call(<span class=\"code-keyword\">this</span>,t,e,n,r,i,a,o,s,c),<span class=\"code-keyword\">this</span>.format=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o?o:S,<span class=\"code-keyword\">this</span>.minFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a?a:m,<span class=\"code-keyword\">this</span>.magFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?i:m,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">this</span>;<span class=\"code-string\">\"requestVideoFrameCallback\"</span><span class=\"code-keyword\">in</span> t&amp;&amp;t.requestVideoFrameCallback((<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{l.needsUpdate=!<span class=\"code-number\">0</span>,t.requestVideoFrameCallback(e)}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mo</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{gt.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>,a,o,s,c,l,r,i,u,h),<span class=\"code-keyword\">this</span>.image={<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n},<span class=\"code-keyword\">this</span>.mipmaps=t,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vo</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c</span>)</span>{gt.call(<span class=\"code-keyword\">this</span>,t,e,n,r,i,a,o,s,c),<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">go</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s,c,l</span>)</span>{<span class=\"code-keyword\">if</span>((l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==l?l:E)!==E&amp;&amp;l!==A)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\"</span>);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;l===E&amp;&amp;(n=x),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;l===A&amp;&amp;(n=M),gt.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>,r,i,a,o,s,l,n,c),<span class=\"code-keyword\">this</span>.image={<span class=\"code-attr\">width</span>:t,<span class=\"code-attr\">height</span>:e},<span class=\"code-keyword\">this</span>.magFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o?o:d,<span class=\"code-keyword\">this</span>.minFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s?s:d,<span class=\"code-keyword\">this</span>.flipY=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.generateMipmaps=!<span class=\"code-number\">1</span>}ho.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:ho,<span class=\"code-attr\">isPoints</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.material=t.material,<span class=\"code-keyword\">this</span>.geometry=t.geometry,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">raycast</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.geometry,r=<span class=\"code-keyword\">this</span>.matrixWorld,i=t.params.Points.threshold;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===n.boundingSphere&amp;&amp;n.computeBoundingSphere(),lo.copy(n.boundingSphere),lo.applyMatrix4(r),lo.radius+=i,!<span class=\"code-number\">1</span>!==t.ray.intersectsSphere(lo)){so.copy(r).invert(),co.copy(t.ray).applyMatrix4(so);<span class=\"code-keyword\">var</span> a=i/((<span class=\"code-keyword\">this</span>.scale.x+<span class=\"code-keyword\">this</span>.scale.y+<span class=\"code-keyword\">this</span>.scale.z)/<span class=\"code-number\">3</span>),o=a*a;<span class=\"code-keyword\">if</span>(n.isBufferGeometry){<span class=\"code-keyword\">var</span> s=n.index,c=n.attributes.position;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==s)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=s.array,u=<span class=\"code-number\">0</span>,h=l.length;u&lt;h;u++){<span class=\"code-keyword\">var</span> d=l[u];uo.fromBufferAttribute(c,d),po(uo,d,o,r,t,e,<span class=\"code-keyword\">this</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>,f=c.count;p&lt;f;p++)uo.fromBufferAttribute(c,p),po(uo,p,o,r,t,e,<span class=\"code-keyword\">this</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=n.vertices,v=<span class=\"code-number\">0</span>,g=m.length;v&lt;g;v++)po(m[v],v,o,r,t,e,<span class=\"code-keyword\">this</span>)}},<span class=\"code-attr\">updateMorphTargets</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry;<span class=\"code-keyword\">if</span>(t.isBufferGeometry){<span class=\"code-keyword\">var</span> e=t.morphAttributes,n=<span class=\"code-built_in\">Object</span>.keys(e);<span class=\"code-keyword\">if</span>(n.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> r=e[n[<span class=\"code-number\">0</span>]];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r){<span class=\"code-keyword\">this</span>.morphTargetInfluences=[],<span class=\"code-keyword\">this</span>.morphTargetDictionary={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=r.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=r[i].name||<span class=\"code-built_in\">String</span>(i);<span class=\"code-keyword\">this</span>.morphTargetInfluences.push(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.morphTargetDictionary[o]=i}}}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=t.morphTargets;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;s.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\"</span>)}}}),fo.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(gt.prototype),{<span class=\"code-attr\">constructor</span>:fo,<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor(<span class=\"code-keyword\">this</span>.image).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">isVideoTexture</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.image;!<span class=\"code-number\">1</span>===<span class=\"code-string\">\"requestVideoFrameCallback\"</span><span class=\"code-keyword\">in</span> t&amp;&amp;t.readyState&gt;=t.HAVE_CURRENT_DATA&amp;&amp;(<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>)}}),mo.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),mo.prototype.constructor=mo,mo.prototype.isCompressedTexture=!<span class=\"code-number\">0</span>,vo.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),vo.prototype.constructor=vo,vo.prototype.isCanvasTexture=!<span class=\"code-number\">0</span>,go.prototype=<span class=\"code-built_in\">Object</span>.create(gt.prototype),go.prototype.constructor=go,go.prototype.isDepthTexture=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> yo=<span class=\"code-number\">0</span>,xo=<span class=\"code-keyword\">new</span> Qt,_o=<span class=\"code-keyword\">new</span> we,bo=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wo</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">value</span>:yo+=<span class=\"code-number\">2</span>}),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Geometry\"</span>,<span class=\"code-keyword\">this</span>.vertices=[],<span class=\"code-keyword\">this</span>.colors=[],<span class=\"code-keyword\">this</span>.faces=[],<span class=\"code-keyword\">this</span>.faceVertexUvs=[[]],<span class=\"code-keyword\">this</span>.morphTargets=[],<span class=\"code-keyword\">this</span>.morphNormals=[],<span class=\"code-keyword\">this</span>.skinWeights=[],<span class=\"code-keyword\">this</span>.skinIndices=[],<span class=\"code-keyword\">this</span>.lineDistances=[],<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.elementsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.verticesNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.uvsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.colorsNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.lineDistancesNeedUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.groupsNeedUpdate=!<span class=\"code-number\">1</span>}wo.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:wo,<span class=\"code-attr\">isGeometry</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">applyMatrix4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=(<span class=\"code-keyword\">new</span> ft).getNormalMatrix(t),n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.vertices.length;n&lt;r;n++){<span class=\"code-keyword\">this</span>.vertices[n].applyMatrix4(t)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=<span class=\"code-keyword\">this</span>.faces.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.faces[i];o.normal.applyMatrix3(e).normalize();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>,c=o.vertexNormals.length;s&lt;c;s++)o.vertexNormals[s].applyMatrix3(e).normalize()}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.boundingBox&amp;&amp;<span class=\"code-keyword\">this</span>.computeBoundingBox(),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.boundingSphere&amp;&amp;<span class=\"code-keyword\">this</span>.computeBoundingSphere(),<span class=\"code-keyword\">this</span>.verticesNeedUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalsNeedUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> xo.makeRotationX(t),<span class=\"code-keyword\">this</span>.applyMatrix4(xo),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> xo.makeRotationY(t),<span class=\"code-keyword\">this</span>.applyMatrix4(xo),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">rotateZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> xo.makeRotationZ(t),<span class=\"code-keyword\">this</span>.applyMatrix4(xo),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">translate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> xo.makeTranslation(t,e,n),<span class=\"code-keyword\">this</span>.applyMatrix4(xo),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">scale</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> xo.makeScale(t,e,n),<span class=\"code-keyword\">this</span>.applyMatrix4(xo),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">lookAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> _o.lookAt(t),_o.updateMatrix(),<span class=\"code-keyword\">this</span>.applyMatrix4(_o.matrix),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">fromBufferGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,n=<span class=\"code-literal\">null</span>!==t.index?t.index:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r=t.attributes;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r.position)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.\"</span>),<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> i=r.position,a=r.normal,o=r.color,s=r.uv,c=r.uv2;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c&amp;&amp;(<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">1</span>]=[]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;i.count;l++)e.vertices.push((<span class=\"code-keyword\">new</span> Mt).fromBufferAttribute(i,l)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;e.colors.push((<span class=\"code-keyword\">new</span> We).fromBufferAttribute(o,l));<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a?[]:[(<span class=\"code-keyword\">new</span> Mt).fromBufferAttribute(a,t),(<span class=\"code-keyword\">new</span> Mt).fromBufferAttribute(a,n),(<span class=\"code-keyword\">new</span> Mt).fromBufferAttribute(a,r)],h=<span class=\"code-keyword\">new</span> je(t,n,r,u,l,i);e.faces.push(h),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;e.faceVertexUvs[<span class=\"code-number\">0</span>].push([(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(s,t),(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(s,n),(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(s,r)]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c&amp;&amp;e.faceVertexUvs[<span class=\"code-number\">1</span>].push([(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(c,t),(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(c,n),(<span class=\"code-keyword\">new</span> pt).fromBufferAttribute(c,r)])}<span class=\"code-keyword\">var</span> h=t.groups;<span class=\"code-keyword\">if</span>(h.length&gt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>;d&lt;h.length;d++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=h[d],f=p.start,m=f,v=f+p.count;m&lt;v;m+=<span class=\"code-number\">3</span>)<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?u(n.getX(m),n.getX(m+<span class=\"code-number\">1</span>),n.getX(m+<span class=\"code-number\">2</span>),p.materialIndex):u(m,m+<span class=\"code-number\">1</span>,m+<span class=\"code-number\">2</span>,p.materialIndex);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>;g&lt;n.count;g+=<span class=\"code-number\">3</span>)u(n.getX(g),n.getX(g+<span class=\"code-number\">1</span>),n.getX(g+<span class=\"code-number\">2</span>));<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;i.count;y+=<span class=\"code-number\">3</span>)u(y,y+<span class=\"code-number\">1</span>,y+<span class=\"code-number\">2</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.computeFaceNormals(),<span class=\"code-literal\">null</span>!==t.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=t.boundingBox.clone()),<span class=\"code-literal\">null</span>!==t.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=t.boundingSphere.clone()),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">center</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.computeBoundingBox(),<span class=\"code-keyword\">this</span>.boundingBox.getCenter(bo).negate(),<span class=\"code-keyword\">this</span>.translate(bo.x,bo.y,bo.z),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">normalize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.computeBoundingSphere();<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.boundingSphere.center,e=<span class=\"code-keyword\">this</span>.boundingSphere.radius,n=<span class=\"code-number\">0</span>===e?<span class=\"code-number\">1</span>:<span class=\"code-number\">1</span>/e,r=<span class=\"code-keyword\">new</span> Qt;<span class=\"code-keyword\">return</span> r.set(n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,-n*t.x,<span class=\"code-number\">0</span>,n,<span class=\"code-number\">0</span>,-n*t.y,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n,-n*t.z,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.applyMatrix4(r),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">computeFaceNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Mt,e=<span class=\"code-keyword\">new</span> Mt,n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.faces.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.faces[n],a=<span class=\"code-keyword\">this</span>.vertices[i.a],o=<span class=\"code-keyword\">this</span>.vertices[i.b],s=<span class=\"code-keyword\">this</span>.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},<span class=\"code-attr\">computeVertexNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(<span class=\"code-keyword\">this</span>.vertices.length),n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.vertices.length;n&lt;r;n++)e[n]=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Mt,a=<span class=\"code-keyword\">new</span> Mt,o=<span class=\"code-number\">0</span>,s=<span class=\"code-keyword\">this</span>.faces.length;o&lt;s;o++){<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>.faces[o],l=<span class=\"code-keyword\">this</span>.vertices[c.a],u=<span class=\"code-keyword\">this</span>.vertices[c.b],h=<span class=\"code-keyword\">this</span>.vertices[c.c];i.subVectors(h,u),a.subVectors(l,u),i.cross(a),e[c.a].add(i),e[c.b].add(i),e[c.c].add(i)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">this</span>.computeFaceNormals();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=<span class=\"code-keyword\">this</span>.faces.length;d&lt;p;d++){<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">this</span>.faces[d];e[f.a].add(f.normal),e[f.b].add(f.normal),e[f.c].add(f.normal)}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>,v=<span class=\"code-keyword\">this</span>.vertices.length;m&lt;v;m++)e[m].normalize();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>,y=<span class=\"code-keyword\">this</span>.faces.length;g&lt;y;g++){<span class=\"code-keyword\">var</span> x=<span class=\"code-keyword\">this</span>.faces[g],_=x.vertexNormals;<span class=\"code-number\">3</span>===_.length?(_[<span class=\"code-number\">0</span>].copy(e[x.a]),_[<span class=\"code-number\">1</span>].copy(e[x.b]),_[<span class=\"code-number\">2</span>].copy(e[x.c])):(_[<span class=\"code-number\">0</span>]=e[x.a].clone(),_[<span class=\"code-number\">1</span>]=e[x.b].clone(),_[<span class=\"code-number\">2</span>]=e[x.c].clone())}<span class=\"code-keyword\">this</span>.faces.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(<span class=\"code-keyword\">this</span>.normalsNeedUpdate=!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">computeFlatVertexNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.computeFaceNormals();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.faces.length;t&lt;e;t++){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.faces[t],r=n.vertexNormals;<span class=\"code-number\">3</span>===r.length?(r[<span class=\"code-number\">0</span>].copy(n.normal),r[<span class=\"code-number\">1</span>].copy(n.normal),r[<span class=\"code-number\">2</span>].copy(n.normal)):(r[<span class=\"code-number\">0</span>]=n.normal.clone(),r[<span class=\"code-number\">1</span>]=n.normal.clone(),r[<span class=\"code-number\">2</span>]=n.normal.clone())}<span class=\"code-keyword\">this</span>.faces.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(<span class=\"code-keyword\">this</span>.normalsNeedUpdate=!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">computeMorphNormals</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.faces.length;t&lt;e;t++){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=n.vertexNormals.length;r&lt;i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> wo;a.faces=<span class=\"code-keyword\">this</span>.faces;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>,s=<span class=\"code-keyword\">this</span>.morphTargets.length;o&lt;s;o++){<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.morphNormals[o]){<span class=\"code-keyword\">this</span>.morphNormals[o]={},<span class=\"code-keyword\">this</span>.morphNormals[o].faceNormals=[],<span class=\"code-keyword\">this</span>.morphNormals[o].vertexNormals=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>.morphNormals[o].faceNormals,l=<span class=\"code-keyword\">this</span>.morphNormals[o].vertexNormals,u=<span class=\"code-number\">0</span>,h=<span class=\"code-keyword\">this</span>.faces.length;u&lt;h;u++){<span class=\"code-keyword\">var</span> d=<span class=\"code-keyword\">new</span> Mt,p={<span class=\"code-attr\">a</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">b</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">c</span>:<span class=\"code-keyword\">new</span> Mt};c.push(d),l.push(p)}}<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">this</span>.morphNormals[o];a.vertices=<span class=\"code-keyword\">this</span>.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>,v=<span class=\"code-keyword\">this</span>.faces.length;m&lt;v;m++){<span class=\"code-keyword\">var</span> g=<span class=\"code-keyword\">this</span>.faces[m],y=f.faceNormals[m],x=f.vertexNormals[m];y.copy(g.normal),x.a.copy(g.vertexNormals[<span class=\"code-number\">0</span>]),x.b.copy(g.vertexNormals[<span class=\"code-number\">1</span>]),x.c.copy(g.vertexNormals[<span class=\"code-number\">2</span>])}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=<span class=\"code-number\">0</span>,b=<span class=\"code-keyword\">this</span>.faces.length;_&lt;b;_++){<span class=\"code-keyword\">var</span> w=<span class=\"code-keyword\">this</span>.faces[_];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}},<span class=\"code-attr\">computeBoundingBox</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.boundingBox&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-keyword\">new</span> Et),<span class=\"code-keyword\">this</span>.boundingBox.setFromPoints(<span class=\"code-keyword\">this</span>.vertices)},<span class=\"code-attr\">computeBoundingSphere</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.boundingSphere&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-keyword\">new</span> kt),<span class=\"code-keyword\">this</span>.boundingSphere.setFromPoints(<span class=\"code-keyword\">this</span>.vertices)},<span class=\"code-attr\">merge</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),t&amp;&amp;t.isGeometry){<span class=\"code-keyword\">var</span> r,i=<span class=\"code-keyword\">this</span>.vertices.length,a=<span class=\"code-keyword\">this</span>.vertices,o=t.vertices,s=<span class=\"code-keyword\">this</span>.faces,c=t.faces,l=<span class=\"code-keyword\">this</span>.colors,u=t.colors;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(r=(<span class=\"code-keyword\">new</span> ft).getNormalMatrix(e));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>,d=o.length;h&lt;d;h++){<span class=\"code-keyword\">var</span> p=o[h].clone();<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;p.applyMatrix4(e),a.push(p)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,m=u.length;f&lt;m;f++)l.push(u[f].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">0</span>,g=c.length;v&lt;g;v++){<span class=\"code-keyword\">var</span> y=c[v],x=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,b=y.vertexNormals,w=y.vertexColors,M=<span class=\"code-keyword\">new</span> je(y.a+i,y.b+i,y.c+i);M.normal.copy(y.normal),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;M.normal.applyMatrix3(r).normalize();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=<span class=\"code-number\">0</span>,T=b.length;S&lt;T;S++)x=b[S].clone(),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;x.applyMatrix3(r).normalize(),M.vertexNormals.push(x);M.color.copy(y.color);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">0</span>,A=w.length;E&lt;A;E++)_=w[E],M.vertexColors.push(_.clone());M.materialIndex=y.materialIndex+n,s.push(M)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>,R=t.faceVertexUvs.length;L&lt;R;L++){<span class=\"code-keyword\">var</span> C=t.faceVertexUvs[L];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.faceVertexUvs[L]&amp;&amp;(<span class=\"code-keyword\">this</span>.faceVertexUvs[L]=[]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> P=<span class=\"code-number\">0</span>,I=C.length;P&lt;I;P++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> N=C[P],D=[],O=<span class=\"code-number\">0</span>,B=N.length;O&lt;B;O++)D.push(N[O].clone());<span class=\"code-keyword\">this</span>.faceVertexUvs[L].push(D)}}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\"</span>,t)},<span class=\"code-attr\">mergeMesh</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t&amp;&amp;t.isMesh?(t.matrixAutoUpdate&amp;&amp;t.updateMatrix(),<span class=\"code-keyword\">this</span>.merge(t.geometry,t.matrix)):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\"</span>,t)},<span class=\"code-attr\">mergeVertices</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">4</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e={},n=[],r=[],i=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">10</span>,t),a=<span class=\"code-number\">0</span>,o=<span class=\"code-keyword\">this</span>.vertices.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.vertices[a],c=<span class=\"code-built_in\">Math</span>.round(s.x*i)+<span class=\"code-string\">\"_\"</span>+<span class=\"code-built_in\">Math</span>.round(s.y*i)+<span class=\"code-string\">\"_\"</span>+<span class=\"code-built_in\">Math</span>.round(s.z*i);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e[c]?(e[c]=a,n.push(<span class=\"code-keyword\">this</span>.vertices[a]),r[a]=n.length<span class=\"code-number\">-1</span>):r[a]=r[e[c]]}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=[],u=<span class=\"code-number\">0</span>,h=<span class=\"code-keyword\">this</span>.faces.length;u&lt;h;u++){<span class=\"code-keyword\">var</span> d=<span class=\"code-keyword\">this</span>.faces[u];d.a=r[d.a],d.b=r[d.b],d.c=r[d.c];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=[d.a,d.b,d.c],f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">3</span>;f++)<span class=\"code-keyword\">if</span>(p[f]===p[(f+<span class=\"code-number\">1</span>)%<span class=\"code-number\">3</span>]){l.push(u);<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=l.length<span class=\"code-number\">-1</span>;m&gt;=<span class=\"code-number\">0</span>;m--){<span class=\"code-keyword\">var</span> v=l[m];<span class=\"code-keyword\">this</span>.faces.splice(v,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>,y=<span class=\"code-keyword\">this</span>.faceVertexUvs.length;g&lt;y;g++)<span class=\"code-keyword\">this</span>.faceVertexUvs[g].splice(v,<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">var</span> x=<span class=\"code-keyword\">this</span>.vertices.length-n.length;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.vertices=n,x},<span class=\"code-attr\">setFromPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.vertices=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t[e];<span class=\"code-keyword\">this</span>.vertices.push(<span class=\"code-keyword\">new</span> Mt(r.x,r.y,r.z||<span class=\"code-number\">0</span>))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">sortFacesByMaterialIndex</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.faces,e=t.length,n=<span class=\"code-number\">0</span>;n&lt;e;n++)t[n]._id=n;t.sort((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.materialIndex-e.materialIndex}));<span class=\"code-keyword\">var</span> r,i,a=<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">0</span>],o=<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">1</span>];a&amp;&amp;a.length===e&amp;&amp;(r=[]),o&amp;&amp;o.length===e&amp;&amp;(i=[]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>;s&lt;e;s++){<span class=\"code-keyword\">var</span> c=t[s]._id;r&amp;&amp;r.push(a[c]),i&amp;&amp;i.push(o[c])}r&amp;&amp;(<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">0</span>]=r),i&amp;&amp;(<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">1</span>]=i)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Geometry\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Geometry.toJSON\"</span>}};<span class=\"code-keyword\">if</span>(t.uuid=<span class=\"code-keyword\">this</span>.uuid,t.type=<span class=\"code-keyword\">this</span>.type,<span class=\"code-string\">\"\"</span>!==<span class=\"code-keyword\">this</span>.name&amp;&amp;(t.name=<span class=\"code-keyword\">this</span>.name),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.parameters){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.parameters;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e)<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[n]&amp;&amp;(t[n]=e[n]);<span class=\"code-keyword\">return</span> t}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-keyword\">this</span>.vertices.length;i++){<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.vertices[i];r.push(a.x,a.y,a.z)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=[],s=[],c={},l=[],u={},h=[],d={},p=<span class=\"code-number\">0</span>;p&lt;<span class=\"code-keyword\">this</span>.faces.length;p++){<span class=\"code-keyword\">var</span> f=<span class=\"code-keyword\">this</span>.faces[p],m=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">0</span>][p],v=f.normal.length()&gt;<span class=\"code-number\">0</span>,g=f.vertexNormals.length&gt;<span class=\"code-number\">0</span>,y=<span class=\"code-number\">1</span>!==f.color.r||<span class=\"code-number\">1</span>!==f.color.g||<span class=\"code-number\">1</span>!==f.color.b,x=f.vertexColors.length&gt;<span class=\"code-number\">0</span>,_=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(_=S(_,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),_=S(_,<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>),_=S(_,<span class=\"code-number\">2</span>,!<span class=\"code-number\">1</span>),_=S(_,<span class=\"code-number\">3</span>,m),_=S(_,<span class=\"code-number\">4</span>,v),_=S(_,<span class=\"code-number\">5</span>,g),_=S(_,<span class=\"code-number\">6</span>,y),_=S(_,<span class=\"code-number\">7</span>,x),o.push(_),o.push(f.a,f.b,f.c),o.push(f.materialIndex),m){<span class=\"code-keyword\">var</span> b=<span class=\"code-keyword\">this</span>.faceVertexUvs[<span class=\"code-number\">0</span>][p];o.push(A(b[<span class=\"code-number\">0</span>]),A(b[<span class=\"code-number\">1</span>]),A(b[<span class=\"code-number\">2</span>]))}<span class=\"code-keyword\">if</span>(v&amp;&amp;o.push(T(f.normal)),g){<span class=\"code-keyword\">var</span> w=f.vertexNormals;o.push(T(w[<span class=\"code-number\">0</span>]),T(w[<span class=\"code-number\">1</span>]),T(w[<span class=\"code-number\">2</span>]))}<span class=\"code-keyword\">if</span>(y&amp;&amp;o.push(E(f.color)),x){<span class=\"code-keyword\">var</span> M=f.vertexColors;o.push(E(M[<span class=\"code-number\">0</span>]),E(M[<span class=\"code-number\">1</span>]),E(M[<span class=\"code-number\">2</span>]))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">S</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> n?t|<span class=\"code-number\">1</span>&lt;&lt;e:t&amp;~(<span class=\"code-number\">1</span>&lt;&lt;e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">T</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.x.toString()+t.y.toString()+t.z.toString();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c[e]||(c[e]=s.length/<span class=\"code-number\">3</span>,s.push(t.x,t.y,t.z)),c[e]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">E</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.r.toString()+t.g.toString()+t.b.toString();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">A</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.x.toString()+t.y.toString();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==d[e]||(d[e]=h.length/<span class=\"code-number\">2</span>,h.push(t.x,t.y)),d[e]}<span class=\"code-keyword\">return</span> t.data={},t.data.vertices=r,t.data.normals=s,l.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(t.data.colors=l),h.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(t.data.uvs=[h]),t.data.faces=o,t},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> wo).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.vertices=[],<span class=\"code-keyword\">this</span>.colors=[],<span class=\"code-keyword\">this</span>.faces=[],<span class=\"code-keyword\">this</span>.faceVertexUvs=[[]],<span class=\"code-keyword\">this</span>.morphTargets=[],<span class=\"code-keyword\">this</span>.morphNormals=[],<span class=\"code-keyword\">this</span>.skinWeights=[],<span class=\"code-keyword\">this</span>.skinIndices=[],<span class=\"code-keyword\">this</span>.lineDistances=[],<span class=\"code-keyword\">this</span>.boundingBox=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundingSphere=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.name=t.name;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.vertices,n=<span class=\"code-number\">0</span>,r=e.length;n&lt;r;n++)<span class=\"code-keyword\">this</span>.vertices.push(e[n].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.colors,a=<span class=\"code-number\">0</span>,o=i.length;a&lt;o;a++)<span class=\"code-keyword\">this</span>.colors.push(i[a].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=t.faces,c=<span class=\"code-number\">0</span>,l=s.length;c&lt;l;c++)<span class=\"code-keyword\">this</span>.faces.push(s[c].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>,h=t.faceVertexUvs.length;u&lt;h;u++){<span class=\"code-keyword\">var</span> d=t.faceVertexUvs[u];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.faceVertexUvs[u]&amp;&amp;(<span class=\"code-keyword\">this</span>.faceVertexUvs[u]=[]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>,f=d.length;p&lt;f;p++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=d[p],v=[],g=<span class=\"code-number\">0</span>,y=m.length;g&lt;y;g++){<span class=\"code-keyword\">var</span> x=m[g];v.push(x.clone())}<span class=\"code-keyword\">this</span>.faceVertexUvs[u].push(v)}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=t.morphTargets,b=<span class=\"code-number\">0</span>,w=_.length;b&lt;w;b++){<span class=\"code-keyword\">var</span> M={};<span class=\"code-keyword\">if</span>(M.name=_[b].name,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==_[b].vertices){M.vertices=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=<span class=\"code-number\">0</span>,T=_[b].vertices.length;S&lt;T;S++)M.vertices.push(_[b].vertices[S].clone())}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==_[b].normals){M.normals=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">0</span>,A=_[b].normals.length;E&lt;A;E++)M.normals.push(_[b].normals[E].clone())}<span class=\"code-keyword\">this</span>.morphTargets.push(M)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=t.morphNormals,R=<span class=\"code-number\">0</span>,C=L.length;R&lt;C;R++){<span class=\"code-keyword\">var</span> P={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==L[R].vertexNormals){P.vertexNormals=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> I=<span class=\"code-number\">0</span>,N=L[R].vertexNormals.length;I&lt;N;I++){<span class=\"code-keyword\">var</span> D=L[R].vertexNormals[I],O={};O.a=D.a.clone(),O.b=D.b.clone(),O.c=D.c.clone(),P.vertexNormals.push(O)}}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==L[R].faceNormals){P.faceNormals=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> B=<span class=\"code-number\">0</span>,z=L[R].faceNormals.length;B&lt;z;B++)P.faceNormals.push(L[R].faceNormals[B].clone())}<span class=\"code-keyword\">this</span>.morphNormals.push(P)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> U=t.skinWeights,F=<span class=\"code-number\">0</span>,G=U.length;F&lt;G;F++)<span class=\"code-keyword\">this</span>.skinWeights.push(U[F].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> H=t.skinIndices,k=<span class=\"code-number\">0</span>,V=H.length;k&lt;V;k++)<span class=\"code-keyword\">this</span>.skinIndices.push(H[k].clone());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> W=t.lineDistances,j=<span class=\"code-number\">0</span>,q=W.length;j&lt;q;j++)<span class=\"code-keyword\">this</span>.lineDistances.push(W[j]);<span class=\"code-keyword\">var</span> X=t.boundingBox;<span class=\"code-literal\">null</span>!==X&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingBox=X.clone());<span class=\"code-keyword\">var</span> Y=t.boundingSphere;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==Y&amp;&amp;(<span class=\"code-keyword\">this</span>.boundingSphere=Y.clone()),<span class=\"code-keyword\">this</span>.elementsNeedUpdate=t.elementsNeedUpdate,<span class=\"code-keyword\">this</span>.verticesNeedUpdate=t.verticesNeedUpdate,<span class=\"code-keyword\">this</span>.uvsNeedUpdate=t.uvsNeedUpdate,<span class=\"code-keyword\">this</span>.normalsNeedUpdate=t.normalsNeedUpdate,<span class=\"code-keyword\">this</span>.colorsNeedUpdate=t.colorsNeedUpdate,<span class=\"code-keyword\">this</span>.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,<span class=\"code-keyword\">this</span>.groupsNeedUpdate=t.groupsNeedUpdate,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>})}});<span class=\"code-keyword\">var</span> Mo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">return</span>(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"BoxGeometry\"</span>,s.parameters={<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">depth</span>:r,<span class=\"code-attr\">widthSegments</span>:i,<span class=\"code-attr\">heightSegments</span>:a,<span class=\"code-attr\">depthSegments</span>:o},s.fromBufferGeometry(<span class=\"code-keyword\">new</span> Hn(e,n,r,i,a,o)),s.mergeVertices(),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),So=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"CircleBufferGeometry\"</span>,a.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">segments</span>:n,<span class=\"code-attr\">thetaStart</span>:r,<span class=\"code-attr\">thetaLength</span>:i},n=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">3</span>,n);<span class=\"code-keyword\">var</span> o=[],s=[],c=[],l=[],u=<span class=\"code-keyword\">new</span> Mt,h=<span class=\"code-keyword\">new</span> pt;s.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),c.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),l.push(<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=<span class=\"code-number\">3</span>;d&lt;=n;d++,p+=<span class=\"code-number\">3</span>){<span class=\"code-keyword\">var</span> f=r+d/n*i;u.x=e*<span class=\"code-built_in\">Math</span>.cos(f),u.y=e*<span class=\"code-built_in\">Math</span>.sin(f),s.push(u.x,u.y,u.z),c.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),h.x=(s[p]/e+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,h.y=(s[p+<span class=\"code-number\">1</span>]/e+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,l.push(h.x,h.y)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">1</span>;m&lt;=n;m++)o.push(m,m+<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> a.setIndex(o),a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(s,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(c,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">2</span>)),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),To=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">return</span>(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"CircleGeometry\"</span>,a.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">segments</span>:n,<span class=\"code-attr\">thetaStart</span>:r,<span class=\"code-attr\">thetaLength</span>:i},a.fromBufferGeometry(<span class=\"code-keyword\">new</span> So(e,n,r,i)),a.mergeVertices(),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Eo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s,c</span>)</span>{<span class=\"code-keyword\">var</span> l;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===c&amp;&amp;(c=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(l=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"CylinderBufferGeometry\"</span>,l.parameters={<span class=\"code-attr\">radiusTop</span>:e,<span class=\"code-attr\">radiusBottom</span>:n,<span class=\"code-attr\">height</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">heightSegments</span>:a,<span class=\"code-attr\">openEnded</span>:o,<span class=\"code-attr\">thetaStart</span>:s,<span class=\"code-attr\">thetaLength</span>:c};<span class=\"code-keyword\">var</span> u=ht(l);i=<span class=\"code-built_in\">Math</span>.floor(i),a=<span class=\"code-built_in\">Math</span>.floor(a);<span class=\"code-keyword\">var</span> h=[],d=[],p=[],f=[],m=<span class=\"code-number\">0</span>,v=[],g=r/<span class=\"code-number\">2</span>,y=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">x</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=m,a=<span class=\"code-keyword\">new</span> pt,o=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-number\">0</span>,v=!<span class=\"code-number\">0</span>===t?e:n,x=!<span class=\"code-number\">0</span>===t?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,_=<span class=\"code-number\">1</span>;_&lt;=i;_++)d.push(<span class=\"code-number\">0</span>,g*x,<span class=\"code-number\">0</span>),p.push(<span class=\"code-number\">0</span>,x,<span class=\"code-number\">0</span>),f.push(<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>),m++;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=m,w=<span class=\"code-number\">0</span>;w&lt;=i;w++){<span class=\"code-keyword\">var</span> M=w/i*c+s,S=<span class=\"code-built_in\">Math</span>.cos(M),T=<span class=\"code-built_in\">Math</span>.sin(M);o.x=v*T,o.y=g*x,o.z=v*S,d.push(o.x,o.y,o.z),p.push(<span class=\"code-number\">0</span>,x,<span class=\"code-number\">0</span>),a.x=<span class=\"code-number\">.5</span>*S+<span class=\"code-number\">.5</span>,a.y=<span class=\"code-number\">.5</span>*T*x+<span class=\"code-number\">.5</span>,f.push(a.x,a.y),m++}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">0</span>;E&lt;i;E++){<span class=\"code-keyword\">var</span> A=r+E,L=b+E;!<span class=\"code-number\">0</span>===t?h.push(L,L+<span class=\"code-number\">1</span>,A):h.push(L+<span class=\"code-number\">1</span>,L,A),l+=<span class=\"code-number\">3</span>}u.addGroup(y,l,!<span class=\"code-number\">0</span>===t?<span class=\"code-number\">1</span>:<span class=\"code-number\">2</span>),y+=l}<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Mt,o=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-number\">0</span>,x=(n-e)/r,_=<span class=\"code-number\">0</span>;_&lt;=a;_++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=[],w=_/a,M=w*(n-e)+e,S=<span class=\"code-number\">0</span>;S&lt;=i;S++){<span class=\"code-keyword\">var</span> T=S/i,E=T*c+s,A=<span class=\"code-built_in\">Math</span>.sin(E),L=<span class=\"code-built_in\">Math</span>.cos(E);o.x=M*A,o.y=-w*r+g,o.z=M*L,d.push(o.x,o.y,o.z),t.set(A,x,L).normalize(),p.push(t.x,t.y,t.z),f.push(T,<span class=\"code-number\">1</span>-w),b.push(m++)}v.push(b)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> R=<span class=\"code-number\">0</span>;R&lt;i;R++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> C=<span class=\"code-number\">0</span>;C&lt;a;C++){<span class=\"code-keyword\">var</span> P=v[C][R],I=v[C+<span class=\"code-number\">1</span>][R],N=v[C+<span class=\"code-number\">1</span>][R+<span class=\"code-number\">1</span>],D=v[C][R+<span class=\"code-number\">1</span>];h.push(P,I,D),h.push(I,N,D),l+=<span class=\"code-number\">6</span>}u.addGroup(y,l,<span class=\"code-number\">0</span>),y+=l}(),!<span class=\"code-number\">1</span>===o&amp;&amp;(e&gt;<span class=\"code-number\">0</span>&amp;&amp;x(!<span class=\"code-number\">0</span>),n&gt;<span class=\"code-number\">0</span>&amp;&amp;x(!<span class=\"code-number\">1</span>)),l.setIndex(h),l.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(d,<span class=\"code-number\">3</span>)),l.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(p,<span class=\"code-number\">3</span>)),l.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(f,<span class=\"code-number\">2</span>)),l}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Ao=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s,c</span>)</span>{<span class=\"code-keyword\">var</span> l;<span class=\"code-keyword\">return</span>(l=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"CylinderGeometry\"</span>,l.parameters={<span class=\"code-attr\">radiusTop</span>:e,<span class=\"code-attr\">radiusBottom</span>:n,<span class=\"code-attr\">height</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">heightSegments</span>:a,<span class=\"code-attr\">openEnded</span>:o,<span class=\"code-attr\">thetaStart</span>:s,<span class=\"code-attr\">thetaLength</span>:c},l.fromBufferGeometry(<span class=\"code-keyword\">new</span> Eo(e,n,r,i,a,o,s,c)),l.mergeVertices(),l}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Lo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c;<span class=\"code-keyword\">return</span>(c=t.call(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">0</span>,e,n,r,i,a,o,s)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ConeGeometry\"</span>,c.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">radialSegments</span>:r,<span class=\"code-attr\">heightSegments</span>:i,<span class=\"code-attr\">openEnded</span>:a,<span class=\"code-attr\">thetaStart</span>:o,<span class=\"code-attr\">thetaLength</span>:s},c}<span class=\"code-keyword\">return</span> ut(e,t),e}(Ao),Ro=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(c=t.call(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">0</span>,e,n,r,i,a,o,s)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ConeBufferGeometry\"</span>,c.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">radialSegments</span>:r,<span class=\"code-attr\">heightSegments</span>:i,<span class=\"code-attr\">openEnded</span>:a,<span class=\"code-attr\">thetaStart</span>:o,<span class=\"code-attr\">thetaLength</span>:s},c}<span class=\"code-keyword\">return</span> ut(e,t),e}(Eo),Co=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">0</span>),(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PolyhedronBufferGeometry\"</span>,a.parameters={<span class=\"code-attr\">vertices</span>:e,<span class=\"code-attr\">indices</span>:n,<span class=\"code-attr\">radius</span>:r,<span class=\"code-attr\">detail</span>:i};<span class=\"code-keyword\">var</span> o=[],s=[];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=r+<span class=\"code-number\">1</span>,a=[],o=<span class=\"code-number\">0</span>;o&lt;=i;o++){a[o]=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=t.clone().lerp(n,o/i),c=e.clone().lerp(n,o/i),u=i-o,h=<span class=\"code-number\">0</span>;h&lt;=u;h++)a[o][h]=<span class=\"code-number\">0</span>===h&amp;&amp;o===i?s:s.clone().lerp(c,h/u)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>;d&lt;i;d++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>;p&lt;<span class=\"code-number\">2</span>*(i-d)<span class=\"code-number\">-1</span>;p++){<span class=\"code-keyword\">var</span> f=<span class=\"code-built_in\">Math</span>.floor(p/<span class=\"code-number\">2</span>);p%<span class=\"code-number\">2</span>==<span class=\"code-number\">0</span>?(l(a[d][f+<span class=\"code-number\">1</span>]),l(a[d+<span class=\"code-number\">1</span>][f]),l(a[d][f])):(l(a[d][f+<span class=\"code-number\">1</span>]),l(a[d+<span class=\"code-number\">1</span>][f+<span class=\"code-number\">1</span>]),l(a[d+<span class=\"code-number\">1</span>][f]))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">t</span>)</span>{o.push(t.x,t.y,t.z)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">3</span>*t;n.x=e[r+<span class=\"code-number\">0</span>],n.y=e[r+<span class=\"code-number\">1</span>],n.z=e[r+<span class=\"code-number\">2</span>]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">h</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{r&lt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-number\">1</span>===t.x&amp;&amp;(s[e]=t.x<span class=\"code-number\">-1</span>),<span class=\"code-number\">0</span>===n.x&amp;&amp;<span class=\"code-number\">0</span>===n.z&amp;&amp;(s[e]=r/<span class=\"code-number\">2</span>/<span class=\"code-built_in\">Math</span>.PI+<span class=\"code-number\">.5</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">d</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.atan2(t.z,-t.x)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.atan2(-t.y,<span class=\"code-built_in\">Math</span>.sqrt(t.x*t.x+t.z*t.z))}<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> Mt,r=<span class=\"code-keyword\">new</span> Mt,i=<span class=\"code-keyword\">new</span> Mt,a=<span class=\"code-number\">0</span>;a&lt;n.length;a+=<span class=\"code-number\">3</span>)u(n[a+<span class=\"code-number\">0</span>],e),u(n[a+<span class=\"code-number\">1</span>],r),u(n[a+<span class=\"code-number\">2</span>],i),c(e,r,i,t)}(i),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> Mt,n=<span class=\"code-number\">0</span>;n&lt;o.length;n+=<span class=\"code-number\">3</span>)e.x=o[n+<span class=\"code-number\">0</span>],e.y=o[n+<span class=\"code-number\">1</span>],e.z=o[n+<span class=\"code-number\">2</span>],e.normalize().multiplyScalar(t),o[n+<span class=\"code-number\">0</span>]=e.x,o[n+<span class=\"code-number\">1</span>]=e.y,o[n+<span class=\"code-number\">2</span>]=e.z}(r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Mt,e=<span class=\"code-number\">0</span>;e&lt;o.length;e+=<span class=\"code-number\">3</span>){t.x=o[e+<span class=\"code-number\">0</span>],t.y=o[e+<span class=\"code-number\">1</span>],t.z=o[e+<span class=\"code-number\">2</span>];<span class=\"code-keyword\">var</span> n=d(t)/<span class=\"code-number\">2</span>/<span class=\"code-built_in\">Math</span>.PI+<span class=\"code-number\">.5</span>,r=p(t)/<span class=\"code-built_in\">Math</span>.PI+<span class=\"code-number\">.5</span>;s.push(n,<span class=\"code-number\">1</span>-r)}(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Mt,e=<span class=\"code-keyword\">new</span> Mt,n=<span class=\"code-keyword\">new</span> Mt,r=<span class=\"code-keyword\">new</span> Mt,i=<span class=\"code-keyword\">new</span> pt,a=<span class=\"code-keyword\">new</span> pt,c=<span class=\"code-keyword\">new</span> pt,l=<span class=\"code-number\">0</span>,u=<span class=\"code-number\">0</span>;l&lt;o.length;l+=<span class=\"code-number\">9</span>,u+=<span class=\"code-number\">6</span>){t.set(o[l+<span class=\"code-number\">0</span>],o[l+<span class=\"code-number\">1</span>],o[l+<span class=\"code-number\">2</span>]),e.set(o[l+<span class=\"code-number\">3</span>],o[l+<span class=\"code-number\">4</span>],o[l+<span class=\"code-number\">5</span>]),n.set(o[l+<span class=\"code-number\">6</span>],o[l+<span class=\"code-number\">7</span>],o[l+<span class=\"code-number\">8</span>]),i.set(s[u+<span class=\"code-number\">0</span>],s[u+<span class=\"code-number\">1</span>]),a.set(s[u+<span class=\"code-number\">2</span>],s[u+<span class=\"code-number\">3</span>]),c.set(s[u+<span class=\"code-number\">4</span>],s[u+<span class=\"code-number\">5</span>]),r.copy(t).add(e).add(n).divideScalar(<span class=\"code-number\">3</span>);<span class=\"code-keyword\">var</span> p=d(r);h(i,u+<span class=\"code-number\">0</span>,t,p),h(a,u+<span class=\"code-number\">2</span>,e,p),h(c,u+<span class=\"code-number\">4</span>,n,p)}})(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;s.length;t+=<span class=\"code-number\">6</span>){<span class=\"code-keyword\">var</span> e=s[t+<span class=\"code-number\">0</span>],n=s[t+<span class=\"code-number\">2</span>],r=s[t+<span class=\"code-number\">4</span>],i=<span class=\"code-built_in\">Math</span>.max(e,n,r),a=<span class=\"code-built_in\">Math</span>.min(e,n,r);i&gt;<span class=\"code-number\">.9</span>&amp;&amp;a&lt;<span class=\"code-number\">.1</span>&amp;&amp;(e&lt;<span class=\"code-number\">.2</span>&amp;&amp;(s[t+<span class=\"code-number\">0</span>]+=<span class=\"code-number\">1</span>),n&lt;<span class=\"code-number\">.2</span>&amp;&amp;(s[t+<span class=\"code-number\">2</span>]+=<span class=\"code-number\">1</span>),r&lt;<span class=\"code-number\">.2</span>&amp;&amp;(s[t+<span class=\"code-number\">4</span>]+=<span class=\"code-number\">1</span>))}}()}(),a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(o.slice(),<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(s,<span class=\"code-number\">2</span>)),<span class=\"code-number\">0</span>===i?a.computeVertexNormals():a.normalizeNormals(),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Po=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=(<span class=\"code-number\">1</span>+<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">5</span>))/<span class=\"code-number\">2</span>,a=<span class=\"code-number\">1</span>/i,o=[<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,-a,-i,<span class=\"code-number\">0</span>,-a,i,<span class=\"code-number\">0</span>,a,-i,<span class=\"code-number\">0</span>,a,i,-a,-i,<span class=\"code-number\">0</span>,-a,i,<span class=\"code-number\">0</span>,a,-i,<span class=\"code-number\">0</span>,a,i,<span class=\"code-number\">0</span>,-i,<span class=\"code-number\">0</span>,-a,i,<span class=\"code-number\">0</span>,-a,-i,<span class=\"code-number\">0</span>,a,i,<span class=\"code-number\">0</span>,a];<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>,o,[<span class=\"code-number\">3</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">15</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">15</span>,<span class=\"code-number\">13</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">15</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">13</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">13</span>,<span class=\"code-number\">15</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">13</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">18</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">14</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">14</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">14</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">14</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">14</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">9</span>],e,n)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"DodecahedronBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r}<span class=\"code-keyword\">return</span> ut(e,t),e}(Co),Io=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"DodecahedronGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> Po(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),No=<span class=\"code-keyword\">new</span> Mt,Do=<span class=\"code-keyword\">new</span> Mt,Oo=<span class=\"code-keyword\">new</span> Mt,Bo=<span class=\"code-keyword\">new</span> ze,zo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"EdgesGeometry\"</span>,r.parameters={<span class=\"code-attr\">thresholdAngle</span>:n},n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">1</span>,e.isGeometry&amp;&amp;(e=(<span class=\"code-keyword\">new</span> _n).fromGeometry(e));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">10</span>,<span class=\"code-number\">4</span>),a=<span class=\"code-built_in\">Math</span>.cos(st.DEG2RAD*n),o=e.getIndex(),s=e.getAttribute(<span class=\"code-string\">\"position\"</span>),c=o?o.count:s.count,l=[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],u=[<span class=\"code-string\">\"a\"</span>,<span class=\"code-string\">\"b\"</span>,<span class=\"code-string\">\"c\"</span>],h=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(<span class=\"code-number\">3</span>),d={},p=[],f=<span class=\"code-number\">0</span>;f&lt;c;f+=<span class=\"code-number\">3</span>){o?(l[<span class=\"code-number\">0</span>]=o.getX(f),l[<span class=\"code-number\">1</span>]=o.getX(f+<span class=\"code-number\">1</span>),l[<span class=\"code-number\">2</span>]=o.getX(f+<span class=\"code-number\">2</span>)):(l[<span class=\"code-number\">0</span>]=f,l[<span class=\"code-number\">1</span>]=f+<span class=\"code-number\">1</span>,l[<span class=\"code-number\">2</span>]=f+<span class=\"code-number\">2</span>);<span class=\"code-keyword\">var</span> m=Bo.a,v=Bo.b,g=Bo.c;<span class=\"code-keyword\">if</span>(m.fromBufferAttribute(s,l[<span class=\"code-number\">0</span>]),v.fromBufferAttribute(s,l[<span class=\"code-number\">1</span>]),g.fromBufferAttribute(s,l[<span class=\"code-number\">2</span>]),Bo.getNormal(Oo),h[<span class=\"code-number\">0</span>]=<span class=\"code-built_in\">Math</span>.round(m.x*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(m.y*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(m.z*i),h[<span class=\"code-number\">1</span>]=<span class=\"code-built_in\">Math</span>.round(v.x*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(v.y*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(v.z*i),h[<span class=\"code-number\">2</span>]=<span class=\"code-built_in\">Math</span>.round(g.x*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(g.y*i)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">Math</span>.round(g.z*i),h[<span class=\"code-number\">0</span>]!==h[<span class=\"code-number\">1</span>]&amp;&amp;h[<span class=\"code-number\">1</span>]!==h[<span class=\"code-number\">2</span>]&amp;&amp;h[<span class=\"code-number\">2</span>]!==h[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;<span class=\"code-number\">3</span>;y++){<span class=\"code-keyword\">var</span> x=(y+<span class=\"code-number\">1</span>)%<span class=\"code-number\">3</span>,_=h[y],b=h[x],w=Bo[u[y]],M=Bo[u[x]],S=_+<span class=\"code-string\">\"_\"</span>+b,T=b+<span class=\"code-string\">\"_\"</span>+_;T <span class=\"code-keyword\">in</span> d&amp;&amp;d[T]?(Oo.dot(d[T].normal)&lt;=a&amp;&amp;(p.push(w.x,w.y,w.z),p.push(M.x,M.y,M.z)),d[T]=<span class=\"code-literal\">null</span>):S <span class=\"code-keyword\">in</span> d||(d[S]={<span class=\"code-attr\">index0</span>:l[y],<span class=\"code-attr\">index1</span>:l[x],<span class=\"code-attr\">normal</span>:Oo.clone()})}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E <span class=\"code-keyword\">in</span> d)<span class=\"code-keyword\">if</span>(d[E]){<span class=\"code-keyword\">var</span> A=d[E],L=A.index0,R=A.index1;No.fromBufferAttribute(s,L),Do.fromBufferAttribute(s,R),p.push(No.x,No.y,No.z),p.push(Do.x,Do.y,Do.z)}<span class=\"code-keyword\">return</span> r.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(p,<span class=\"code-number\">3</span>)),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Uo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{n=n||<span class=\"code-number\">2</span>;<span class=\"code-keyword\">var</span> r,i,a,o,s,c,l,u=e&amp;&amp;e.length,h=u?e[<span class=\"code-number\">0</span>]*n:t.length,d=Fo(t,<span class=\"code-number\">0</span>,h,n,!<span class=\"code-number\">0</span>),p=[];<span class=\"code-keyword\">if</span>(!d||d.next===d.prev)<span class=\"code-keyword\">return</span> p;<span class=\"code-keyword\">if</span>(u&amp;&amp;(d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a,o,s=[];<span class=\"code-keyword\">for</span>(i=<span class=\"code-number\">0</span>,a=e.length;i&lt;a;i++)(o=Fo(t,e[i]*r,i&lt;a<span class=\"code-number\">-1</span>?e[i+<span class=\"code-number\">1</span>]*r:t.length,r,!<span class=\"code-number\">1</span>))===o.next&amp;&amp;(o.steiner=!<span class=\"code-number\">0</span>),s.push(Jo(o));<span class=\"code-keyword\">for</span>(s.sort(qo),i=<span class=\"code-number\">0</span>;i&lt;s.length;i++)Xo(s[i],n),n=Go(n,n.next);<span class=\"code-keyword\">return</span> n}(t,e,d,n)),t.length&gt;<span class=\"code-number\">80</span>*n){r=a=t[<span class=\"code-number\">0</span>],i=o=t[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=n;f&lt;h;f+=n)(s=t[f])&lt;r&amp;&amp;(r=s),(c=t[f+<span class=\"code-number\">1</span>])&lt;i&amp;&amp;(i=c),s&gt;a&amp;&amp;(a=s),c&gt;o&amp;&amp;(o=c);l=<span class=\"code-number\">0</span>!==(l=<span class=\"code-built_in\">Math</span>.max(a-r,o-i))?<span class=\"code-number\">1</span>/l:<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span> Ho(d,p,n,r,i,l),p};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fo</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a,o;<span class=\"code-keyword\">if</span>(i===<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=e,o=n-r;a&lt;n;a+=r)i+=(t[o]-t[a])*(t[a+<span class=\"code-number\">1</span>]+t[o+<span class=\"code-number\">1</span>]),o=a;<span class=\"code-keyword\">return</span> i}(t,e,n,r)&gt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">for</span>(a=e;a&lt;n;a+=r)o=os(a,t[a],t[a+<span class=\"code-number\">1</span>],o);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(a=n-r;a&gt;=e;a-=r)o=os(a,t[a],t[a+<span class=\"code-number\">1</span>],o);<span class=\"code-keyword\">return</span> o&amp;&amp;ts(o,o.next)&amp;&amp;(ss(o),o=o.next),o}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Go</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> t;e||(e=t);<span class=\"code-keyword\">var</span> n,r=t;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>(n=!<span class=\"code-number\">1</span>,r.steiner||!ts(r,r.next)&amp;&amp;<span class=\"code-number\">0</span>!==$o(r.prev,r,r.next))r=r.next;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(ss(r),(r=e=r.prev)===r.next)<span class=\"code-keyword\">break</span>;n=!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">while</span>(n||r!==e);<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ho</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">if</span>(t){!o&amp;&amp;a&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=t;<span class=\"code-keyword\">do</span>{<span class=\"code-literal\">null</span>===i.z&amp;&amp;(i.z=Zo(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}<span class=\"code-keyword\">while</span>(i!==t);i.prevZ.nextZ=<span class=\"code-literal\">null</span>,i.prevZ=<span class=\"code-literal\">null</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n,r,i,a,o,s,c,l=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">for</span>(n=t,t=<span class=\"code-literal\">null</span>,a=<span class=\"code-literal\">null</span>,o=<span class=\"code-number\">0</span>;n;){<span class=\"code-keyword\">for</span>(o++,r=n,s=<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>;e&lt;l&amp;&amp;(s++,r=r.nextZ);e++);<span class=\"code-keyword\">for</span>(c=l;s&gt;<span class=\"code-number\">0</span>||c&gt;<span class=\"code-number\">0</span>&amp;&amp;r;)<span class=\"code-number\">0</span>!==s&amp;&amp;(<span class=\"code-number\">0</span>===c||!r||n.z&lt;=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=<span class=\"code-literal\">null</span>,l*=<span class=\"code-number\">2</span>}<span class=\"code-keyword\">while</span>(o&gt;<span class=\"code-number\">1</span>)}(i)}(t,r,i,a);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s,c,l=t;t.prev!==t.next;)<span class=\"code-keyword\">if</span>(s=t.prev,c=t.next,a?Vo(t,r,i,a):ko(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),ss(t),t=c.next,l=c.next;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>((t=c)===l){o?<span class=\"code-number\">1</span>===o?Ho(t=Wo(Go(t),e,n),e,n,r,i,a,<span class=\"code-number\">2</span>):<span class=\"code-number\">2</span>===o&amp;&amp;jo(t,e,n,r,i,a):Ho(Go(t),e,n,r,i,a,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ko</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.prev,n=t,r=t.next;<span class=\"code-keyword\">if</span>($o(e,n,r)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.next.next;i!==t.prev;){<span class=\"code-keyword\">if</span>(Qo(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&amp;&amp;$o(i.prev,i,i.next)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;i=i.next}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vo</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=t.prev,a=t,o=t.next;<span class=\"code-keyword\">if</span>($o(i,a,o)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=i.x&lt;a.x?i.x&lt;o.x?i.x:o.x:a.x&lt;o.x?a.x:o.x,c=i.y&lt;a.y?i.y&lt;o.y?i.y:o.y:a.y&lt;o.y?a.y:o.y,l=i.x&gt;a.x?i.x&gt;o.x?i.x:o.x:a.x&gt;o.x?a.x:o.x,u=i.y&gt;a.y?i.y&gt;o.y?i.y:o.y:a.y&gt;o.y?a.y:o.y,h=Zo(s,c,e,n,r),d=Zo(l,u,e,n,r),p=t.prevZ,f=t.nextZ;p&amp;&amp;p.z&gt;=h&amp;&amp;f&amp;&amp;f.z&lt;=d;){<span class=\"code-keyword\">if</span>(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;$o(p.prev,p,p.next)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(p=p.prevZ,f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;$o(f.prev,f,f.next)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;f=f.nextZ}<span class=\"code-keyword\">for</span>(;p&amp;&amp;p.z&gt;=h;){<span class=\"code-keyword\">if</span>(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;$o(p.prev,p,p.next)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;p=p.prevZ}<span class=\"code-keyword\">for</span>(;f&amp;&amp;f.z&lt;=d;){<span class=\"code-keyword\">if</span>(f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;$o(f.prev,f,f.next)&gt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;f=f.nextZ}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wo</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">var</span> i=r.prev,a=r.next.next;!ts(i,a)&amp;&amp;es(i,r,r.next,a)&amp;&amp;is(i,a)&amp;&amp;is(a,i)&amp;&amp;(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),ss(r),ss(r.next),r=t=a),r=r.next}<span class=\"code-keyword\">while</span>(r!==t);<span class=\"code-keyword\">return</span> Go(r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jo</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=t;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=o.next.next;s!==o.prev;){<span class=\"code-keyword\">if</span>(o.i!==s.i&amp;&amp;Ko(o,s)){<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">as</span>(o,s);<span class=\"code-keyword\">return</span> o=Go(o,o.next),c=Go(c,c.next),Ho(o,e,n,r,i,a),<span class=\"code-keyword\">void</span> Ho(c,e,n,r,i,a)}s=s.next}o=o.next}<span class=\"code-keyword\">while</span>(o!==t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qo</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.x-e.x}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xo</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r=e,i=t.x,a=t.y,o=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>(a&lt;=r.y&amp;&amp;a&gt;=r.next.y&amp;&amp;r.next.y!==r.y){<span class=\"code-keyword\">var</span> s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);<span class=\"code-keyword\">if</span>(s&lt;=i&amp;&amp;s&gt;o){<span class=\"code-keyword\">if</span>(o=s,s===i){<span class=\"code-keyword\">if</span>(a===r.y)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">if</span>(a===r.next.y)<span class=\"code-keyword\">return</span> r.next}n=r.x&lt;r.next.x?r:r.next}}r=r.next}<span class=\"code-keyword\">while</span>(r!==e);<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(i===o)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">var</span> c,l=n,u=n.x,h=n.y,d=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>;r=n;<span class=\"code-keyword\">do</span>{i&gt;=r.x&amp;&amp;r.x&gt;=u&amp;&amp;i!==r.x&amp;&amp;Qo(a&lt;h?i:o,a,u,h,a&lt;h?o:i,a,r.x,r.y)&amp;&amp;(c=<span class=\"code-built_in\">Math</span>.abs(a-r.y)/(i-r.x),is(r,t)&amp;&amp;(c&lt;d||c===d&amp;&amp;(r.x&gt;n.x||r.x===n.x&amp;&amp;Yo(n,r)))&amp;&amp;(n=r,d=c)),r=r.next}<span class=\"code-keyword\">while</span>(r!==l);<span class=\"code-keyword\">return</span> n}(t,e)){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">as</span>(e,t);Go(e,e.next),Go(n,n.next)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yo</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> $o(t.prev,t,e.prev)&lt;<span class=\"code-number\">0</span>&amp;&amp;$o(e.next,t,t.next)&lt;<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zo</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-number\">1431655765</span>&amp;((t=<span class=\"code-number\">858993459</span>&amp;((t=<span class=\"code-number\">252645135</span>&amp;((t=<span class=\"code-number\">16711935</span>&amp;((t=<span class=\"code-number\">32767</span>*(t-n)*i)|t&lt;&lt;<span class=\"code-number\">8</span>))|t&lt;&lt;<span class=\"code-number\">4</span>))|t&lt;&lt;<span class=\"code-number\">2</span>))|t&lt;&lt;<span class=\"code-number\">1</span>))|(e=<span class=\"code-number\">1431655765</span>&amp;((e=<span class=\"code-number\">858993459</span>&amp;((e=<span class=\"code-number\">252645135</span>&amp;((e=<span class=\"code-number\">16711935</span>&amp;((e=<span class=\"code-number\">32767</span>*(e-r)*i)|e&lt;&lt;<span class=\"code-number\">8</span>))|e&lt;&lt;<span class=\"code-number\">4</span>))|e&lt;&lt;<span class=\"code-number\">2</span>))|e&lt;&lt;<span class=\"code-number\">1</span>))&lt;&lt;<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jo</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t,n=t;<span class=\"code-keyword\">do</span>{(e.x&lt;n.x||e.x===n.x&amp;&amp;e.y&lt;n.y)&amp;&amp;(n=e),e=e.next}<span class=\"code-keyword\">while</span>(e!==t);<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qo</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">return</span>(i-o)*(e-s)-(t-o)*(a-s)&gt;=<span class=\"code-number\">0</span>&amp;&amp;(t-o)*(r-s)-(n-o)*(e-s)&gt;=<span class=\"code-number\">0</span>&amp;&amp;(n-o)*(a-s)-(i-o)*(r-s)&gt;=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ko</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.next.i!==e.i&amp;&amp;t.prev.i!==e.i&amp;&amp;!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t;<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>(n.i!==t.i&amp;&amp;n.next.i!==t.i&amp;&amp;n.i!==e.i&amp;&amp;n.next.i!==e.i&amp;&amp;es(n,n.next,t,e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;n=n.next}<span class=\"code-keyword\">while</span>(n!==t);<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}(t,e)&amp;&amp;(is(t,e)&amp;&amp;is(e,t)&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t,r=!<span class=\"code-number\">1</span>,i=(t.x+e.x)/<span class=\"code-number\">2</span>,a=(t.y+e.y)/<span class=\"code-number\">2</span>;<span class=\"code-keyword\">do</span>{n.y&gt;a!=n.next.y&gt;a&amp;&amp;n.next.y!==n.y&amp;&amp;i&lt;(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&amp;&amp;(r=!r),n=n.next}<span class=\"code-keyword\">while</span>(n!==t);<span class=\"code-keyword\">return</span> r}(t,e)&amp;&amp;($o(t.prev,t,e.prev)||$o(t,e.prev,e))||ts(t,e)&amp;&amp;$o(t.prev,t,t.next)&gt;<span class=\"code-number\">0</span>&amp;&amp;$o(e.prev,e,e.next)&gt;<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$o</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span>(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ts</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.x===e.x&amp;&amp;t.y===e.y}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">es</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=rs($o(t,e,n)),a=rs($o(t,e,r)),o=rs($o(n,r,t)),s=rs($o(n,r,e));<span class=\"code-keyword\">return</span> i!==a&amp;&amp;o!==s||(!(<span class=\"code-number\">0</span>!==i||!ns(t,n,e))||(!(<span class=\"code-number\">0</span>!==a||!ns(t,r,e))||(!(<span class=\"code-number\">0</span>!==o||!ns(n,t,r))||!(<span class=\"code-number\">0</span>!==s||!ns(n,e,r)))))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ns</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> e.x&lt;=<span class=\"code-built_in\">Math</span>.max(t.x,n.x)&amp;&amp;e.x&gt;=<span class=\"code-built_in\">Math</span>.min(t.x,n.x)&amp;&amp;e.y&lt;=<span class=\"code-built_in\">Math</span>.max(t.y,n.y)&amp;&amp;e.y&gt;=<span class=\"code-built_in\">Math</span>.min(t.y,n.y)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rs</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:t&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">is</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> $o(t.prev,t,t.next)&lt;<span class=\"code-number\">0</span>?$o(t,e,t.next)&gt;=<span class=\"code-number\">0</span>&amp;&amp;$o(t,t.prev,e)&gt;=<span class=\"code-number\">0</span>:$o(t,e,t.prev)&lt;<span class=\"code-number\">0</span>||$o(t,t.next,e)&lt;<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">as</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> cs(t.i,t.x,t.y),r=<span class=\"code-keyword\">new</span> cs(e.i,e.x,e.y),i=t.next,a=e.prev;<span class=\"code-keyword\">return</span> t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">os</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> cs(t,e,n);<span class=\"code-keyword\">return</span> r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ss</span>(<span class=\"code-params\">t</span>)</span>{t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&amp;&amp;(t.prevZ.nextZ=t.nextZ),t.nextZ&amp;&amp;(t.nextZ.prevZ=t.prevZ)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cs</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.i=t,<span class=\"code-keyword\">this</span>.x=e,<span class=\"code-keyword\">this</span>.y=n,<span class=\"code-keyword\">this</span>.prev=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.next=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.z=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.prevZ=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.nextZ=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.steiner=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> ls={<span class=\"code-attr\">area</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.length,n=<span class=\"code-number\">0</span>,r=e<span class=\"code-number\">-1</span>,i=<span class=\"code-number\">0</span>;i&lt;e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;<span class=\"code-keyword\">return</span><span class=\"code-number\">.5</span>*n},<span class=\"code-attr\">isClockWise</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ls.area(t)&lt;<span class=\"code-number\">0</span>},<span class=\"code-attr\">triangulateShape</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=[],r=[],i=[];us(t),hs(n,t);<span class=\"code-keyword\">var</span> a=t.length;e.forEach(us);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;e.length;o++)r.push(a),a+=e[o].length,hs(n,e[o]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=Uo(n,r),c=<span class=\"code-number\">0</span>;c&lt;s.length;c+=<span class=\"code-number\">3</span>)i.push(s.slice(c,c+<span class=\"code-number\">3</span>));<span class=\"code-keyword\">return</span> i}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">us</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.length;e&gt;<span class=\"code-number\">2</span>&amp;&amp;t[e<span class=\"code-number\">-1</span>].equals(t[<span class=\"code-number\">0</span>])&amp;&amp;t.pop()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hs</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)t.push(e[n].x),t.push(e[n].y)}<span class=\"code-keyword\">var</span> ds=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ExtrudeBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">shapes</span>:e,<span class=\"code-attr\">options</span>:n},e=<span class=\"code-built_in\">Array</span>.isArray(e)?e:[e];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=ht(r),a=[],o=[],s=<span class=\"code-number\">0</span>,c=e.length;s&lt;c;s++){l(e[s])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[],r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.curveSegments?n.curveSegments:<span class=\"code-number\">12</span>,s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.steps?n.steps:<span class=\"code-number\">1</span>,c=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.depth?n.depth:<span class=\"code-number\">100</span>,l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.bevelEnabled||n.bevelEnabled,u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.bevelThickness?n.bevelThickness:<span class=\"code-number\">6</span>,h=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.bevelSize?n.bevelSize:u<span class=\"code-number\">-2</span>,d=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.bevelOffset?n.bevelOffset:<span class=\"code-number\">0</span>,p=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.bevelSegments?n.bevelSegments:<span class=\"code-number\">3</span>,f=n.extrudePath,m=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.UVGenerator?n.UVGenerator:ps;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.amount&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"</span>),c=n.amount);<span class=\"code-keyword\">var</span> v,g,y,x,_,b=!<span class=\"code-number\">1</span>;f&amp;&amp;(v=f.getSpacedPoints(s),b=!<span class=\"code-number\">0</span>,l=!<span class=\"code-number\">1</span>,g=f.computeFrenetFrames(s,!<span class=\"code-number\">1</span>),y=<span class=\"code-keyword\">new</span> Mt,x=<span class=\"code-keyword\">new</span> Mt,_=<span class=\"code-keyword\">new</span> Mt),l||(p=<span class=\"code-number\">0</span>,u=<span class=\"code-number\">0</span>,h=<span class=\"code-number\">0</span>,d=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> w=t.extractPoints(r),M=w.shape,S=w.holes;<span class=\"code-keyword\">if</span>(!ls.isClockWise(M)){M=M.reverse();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> T=<span class=\"code-number\">0</span>,E=S.length;T&lt;E;T++){<span class=\"code-keyword\">var</span> A=S[T];ls.isClockWise(A)&amp;&amp;(S[T]=A.reverse())}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=ls.triangulateShape(M,S),R=M,C=<span class=\"code-number\">0</span>,P=S.length;C&lt;P;C++){<span class=\"code-keyword\">var</span> I=S[C];M=M.concat(I)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">N</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> e||<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ExtrudeGeometry: vec does not exist\"</span>),e.clone().multiplyScalar(n).add(t)}<span class=\"code-keyword\">var</span> D=M.length,O=L.length;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">B</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r,i,a,o=t.x-e.x,s=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=o*o+s*s,h=o*l-s*c;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Math</span>.abs(h)&gt;<span class=\"code-built_in\">Number</span>.EPSILON){<span class=\"code-keyword\">var</span> d=<span class=\"code-built_in\">Math</span>.sqrt(u),p=<span class=\"code-built_in\">Math</span>.sqrt(c*c+l*l),f=e.x-s/d,m=e.y+o/d,v=((n.x-l/p-f)*l-(n.y+c/p-m)*c)/(o*l-s*c),g=(r=f+o*v-t.x)*r+(i=m+s*v-t.y)*i;<span class=\"code-keyword\">if</span>(g&lt;=<span class=\"code-number\">2</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> pt(r,i);a=<span class=\"code-built_in\">Math</span>.sqrt(g/<span class=\"code-number\">2</span>)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> y=!<span class=\"code-number\">1</span>;o&gt;<span class=\"code-built_in\">Number</span>.EPSILON?c&gt;<span class=\"code-built_in\">Number</span>.EPSILON&amp;&amp;(y=!<span class=\"code-number\">0</span>):o&lt;-<span class=\"code-built_in\">Number</span>.EPSILON?c&lt;-<span class=\"code-built_in\">Number</span>.EPSILON&amp;&amp;(y=!<span class=\"code-number\">0</span>):<span class=\"code-built_in\">Math</span>.sign(s)===<span class=\"code-built_in\">Math</span>.sign(l)&amp;&amp;(y=!<span class=\"code-number\">0</span>),y?(r=-s,i=o,a=<span class=\"code-built_in\">Math</span>.sqrt(u)):(r=o,i=s,a=<span class=\"code-built_in\">Math</span>.sqrt(u/<span class=\"code-number\">2</span>))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> pt(r/a,i/a)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> z=[],U=<span class=\"code-number\">0</span>,F=R.length,G=F<span class=\"code-number\">-1</span>,H=U+<span class=\"code-number\">1</span>;U&lt;F;U++,G++,H++)G===F&amp;&amp;(G=<span class=\"code-number\">0</span>),H===F&amp;&amp;(H=<span class=\"code-number\">0</span>),z[U]=B(R[U],R[G],R[H]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> k,V=[],W=z.concat(),j=<span class=\"code-number\">0</span>,q=S.length;j&lt;q;j++){<span class=\"code-keyword\">var</span> X=S[j];k=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> Y=<span class=\"code-number\">0</span>,Z=X.length,J=Z<span class=\"code-number\">-1</span>,Q=Y+<span class=\"code-number\">1</span>;Y&lt;Z;Y++,J++,Q++)J===Z&amp;&amp;(J=<span class=\"code-number\">0</span>),Q===Z&amp;&amp;(Q=<span class=\"code-number\">0</span>),k[Y]=B(X[Y],X[J],X[Q]);V.push(k),W=W.concat(k)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> K=<span class=\"code-number\">0</span>;K&lt;p;K++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> $=K/p,tt=u*<span class=\"code-built_in\">Math</span>.cos($*<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">2</span>),et=h*<span class=\"code-built_in\">Math</span>.sin($*<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">2</span>)+d,nt=<span class=\"code-number\">0</span>,rt=R.length;nt&lt;rt;nt++){<span class=\"code-keyword\">var</span> it=N(R[nt],z[nt],et);Nt(it.x,it.y,-tt)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> at=<span class=\"code-number\">0</span>,ot=S.length;at&lt;ot;at++){<span class=\"code-keyword\">var</span> st=S[at];k=V[at];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> ct=<span class=\"code-number\">0</span>,lt=st.length;ct&lt;lt;ct++){<span class=\"code-keyword\">var</span> ut=N(st[ct],k[ct],et);Nt(ut.x,ut.y,-tt)}}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> ht=h+d,dt=<span class=\"code-number\">0</span>;dt&lt;D;dt++){<span class=\"code-keyword\">var</span> ft=l?N(M[dt],W[dt],ht):M[dt];b?(x.copy(g.normals[<span class=\"code-number\">0</span>]).multiplyScalar(ft.x),y.copy(g.binormals[<span class=\"code-number\">0</span>]).multiplyScalar(ft.y),_.copy(v[<span class=\"code-number\">0</span>]).add(x).add(y),Nt(_.x,_.y,_.z)):Nt(ft.x,ft.y,<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> mt=<span class=\"code-number\">1</span>;mt&lt;=s;mt++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> vt=<span class=\"code-number\">0</span>;vt&lt;D;vt++){<span class=\"code-keyword\">var</span> gt=l?N(M[vt],W[vt],ht):M[vt];b?(x.copy(g.normals[mt]).multiplyScalar(gt.x),y.copy(g.binormals[mt]).multiplyScalar(gt.y),_.copy(v[mt]).add(x).add(y),Nt(_.x,_.y,_.z)):Nt(gt.x,gt.y,c/s*mt)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> yt=p<span class=\"code-number\">-1</span>;yt&gt;=<span class=\"code-number\">0</span>;yt--){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> xt=yt/p,_t=u*<span class=\"code-built_in\">Math</span>.cos(xt*<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">2</span>),bt=h*<span class=\"code-built_in\">Math</span>.sin(xt*<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">2</span>)+d,wt=<span class=\"code-number\">0</span>,St=R.length;wt&lt;St;wt++){<span class=\"code-keyword\">var</span> Tt=N(R[wt],z[wt],bt);Nt(Tt.x,Tt.y,c+_t)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> Et=<span class=\"code-number\">0</span>,At=S.length;Et&lt;At;Et++){<span class=\"code-keyword\">var</span> Lt=S[Et];k=V[Et];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> Rt=<span class=\"code-number\">0</span>,Ct=Lt.length;Rt&lt;Ct;Rt++){<span class=\"code-keyword\">var</span> Pt=N(Lt[Rt],k[Rt],bt);b?Nt(Pt.x,Pt.y+v[s<span class=\"code-number\">-1</span>].y,v[s<span class=\"code-number\">-1</span>].x+_t):Nt(Pt.x,Pt.y,c+_t)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">It</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=t.length;--n&gt;=<span class=\"code-number\">0</span>;){<span class=\"code-keyword\">var</span> r=n,i=n<span class=\"code-number\">-1</span>;i&lt;<span class=\"code-number\">0</span>&amp;&amp;(i=t.length<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=s+<span class=\"code-number\">2</span>*p;a&lt;o;a++){<span class=\"code-keyword\">var</span> c=D*a,l=D*(a+<span class=\"code-number\">1</span>);Ot(e+r+c,e+i+c,e+i+l,e+r+l)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nt</span>(<span class=\"code-params\">t,n,r</span>)</span>{e.push(t),e.push(n),e.push(r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Dt</span>(<span class=\"code-params\">t,e,n</span>)</span>{Bt(t),Bt(e),Bt(n);<span class=\"code-keyword\">var</span> r=a.length/<span class=\"code-number\">3</span>,o=m.generateTopUV(i,a,r<span class=\"code-number\">-3</span>,r<span class=\"code-number\">-2</span>,r<span class=\"code-number\">-1</span>);zt(o[<span class=\"code-number\">0</span>]),zt(o[<span class=\"code-number\">1</span>]),zt(o[<span class=\"code-number\">2</span>])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ot</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{Bt(t),Bt(e),Bt(r),Bt(e),Bt(n),Bt(r);<span class=\"code-keyword\">var</span> o=a.length/<span class=\"code-number\">3</span>,s=m.generateSideWallUV(i,a,o<span class=\"code-number\">-6</span>,o<span class=\"code-number\">-3</span>,o<span class=\"code-number\">-2</span>,o<span class=\"code-number\">-1</span>);zt(s[<span class=\"code-number\">0</span>]),zt(s[<span class=\"code-number\">1</span>]),zt(s[<span class=\"code-number\">3</span>]),zt(s[<span class=\"code-number\">1</span>]),zt(s[<span class=\"code-number\">2</span>]),zt(s[<span class=\"code-number\">3</span>])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bt</span>(<span class=\"code-params\">t</span>)</span>{a.push(e[<span class=\"code-number\">3</span>*t+<span class=\"code-number\">0</span>]),a.push(e[<span class=\"code-number\">3</span>*t+<span class=\"code-number\">1</span>]),a.push(e[<span class=\"code-number\">3</span>*t+<span class=\"code-number\">2</span>])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zt</span>(<span class=\"code-params\">t</span>)</span>{o.push(t.x),o.push(t.y)}!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=a.length/<span class=\"code-number\">3</span>;<span class=\"code-keyword\">if</span>(l){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=D*e,r=<span class=\"code-number\">0</span>;r&lt;O;r++){<span class=\"code-keyword\">var</span> o=L[r];Dt(o[<span class=\"code-number\">2</span>]+n,o[<span class=\"code-number\">1</span>]+n,o[<span class=\"code-number\">0</span>]+n)}n=D*(e=s+<span class=\"code-number\">2</span>*p);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;O;c++){<span class=\"code-keyword\">var</span> u=L[c];Dt(u[<span class=\"code-number\">0</span>]+n,u[<span class=\"code-number\">1</span>]+n,u[<span class=\"code-number\">2</span>]+n)}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>;h&lt;O;h++){<span class=\"code-keyword\">var</span> d=L[h];Dt(d[<span class=\"code-number\">2</span>],d[<span class=\"code-number\">1</span>],d[<span class=\"code-number\">0</span>])}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;f&lt;O;f++){<span class=\"code-keyword\">var</span> m=L[f];Dt(m[<span class=\"code-number\">0</span>]+D*s,m[<span class=\"code-number\">1</span>]+D*s,m[<span class=\"code-number\">2</span>]+D*s)}}i.addGroup(t,a.length/<span class=\"code-number\">3</span>-t,<span class=\"code-number\">0</span>)}(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=a.length/<span class=\"code-number\">3</span>,e=<span class=\"code-number\">0</span>;It(R,e),e+=R.length;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=S.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> o=S[n];It(o,e),e+=o.length}i.addGroup(t,a.length/<span class=\"code-number\">3</span>-t,<span class=\"code-number\">1</span>)}()}<span class=\"code-keyword\">return</span> r.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>)),r.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">2</span>)),r.computeVertexNormals(),r}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=_n.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(n.shapes=[],<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];n.shapes.push(a.uuid)}<span class=\"code-keyword\">else</span> n.shapes.push(t.uuid);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.extrudePath&amp;&amp;(n.options.extrudePath=e.extrudePath.toJSON());<span class=\"code-keyword\">return</span> n}(<span class=\"code-keyword\">this</span>.parameters.shapes,<span class=\"code-keyword\">this</span>.parameters.options,t)},e}(_n),ps={<span class=\"code-attr\">generateTopUV</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=e[<span class=\"code-number\">3</span>*n],o=e[<span class=\"code-number\">3</span>*n+<span class=\"code-number\">1</span>],s=e[<span class=\"code-number\">3</span>*r],c=e[<span class=\"code-number\">3</span>*r+<span class=\"code-number\">1</span>],l=e[<span class=\"code-number\">3</span>*i],u=e[<span class=\"code-number\">3</span>*i+<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span>[<span class=\"code-keyword\">new</span> pt(a,o),<span class=\"code-keyword\">new</span> pt(s,c),<span class=\"code-keyword\">new</span> pt(l,u)]},<span class=\"code-attr\">generateSideWallUV</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=e[<span class=\"code-number\">3</span>*n],s=e[<span class=\"code-number\">3</span>*n+<span class=\"code-number\">1</span>],c=e[<span class=\"code-number\">3</span>*n+<span class=\"code-number\">2</span>],l=e[<span class=\"code-number\">3</span>*r],u=e[<span class=\"code-number\">3</span>*r+<span class=\"code-number\">1</span>],h=e[<span class=\"code-number\">3</span>*r+<span class=\"code-number\">2</span>],d=e[<span class=\"code-number\">3</span>*i],p=e[<span class=\"code-number\">3</span>*i+<span class=\"code-number\">1</span>],f=e[<span class=\"code-number\">3</span>*i+<span class=\"code-number\">2</span>],m=e[<span class=\"code-number\">3</span>*a],v=e[<span class=\"code-number\">3</span>*a+<span class=\"code-number\">1</span>],g=e[<span class=\"code-number\">3</span>*a+<span class=\"code-number\">2</span>];<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(s-u)&lt;<span class=\"code-number\">.01</span>?[<span class=\"code-keyword\">new</span> pt(o,<span class=\"code-number\">1</span>-c),<span class=\"code-keyword\">new</span> pt(l,<span class=\"code-number\">1</span>-h),<span class=\"code-keyword\">new</span> pt(d,<span class=\"code-number\">1</span>-f),<span class=\"code-keyword\">new</span> pt(m,<span class=\"code-number\">1</span>-g)]:[<span class=\"code-keyword\">new</span> pt(s,<span class=\"code-number\">1</span>-c),<span class=\"code-keyword\">new</span> pt(u,<span class=\"code-number\">1</span>-h),<span class=\"code-keyword\">new</span> pt(p,<span class=\"code-number\">1</span>-f),<span class=\"code-keyword\">new</span> pt(v,<span class=\"code-number\">1</span>-g)]}};<span class=\"code-keyword\">var</span> fs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ExtrudeGeometry\"</span>,r.parameters={<span class=\"code-attr\">shapes</span>:e,<span class=\"code-attr\">options</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> ds(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(n.shapes=[],<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];n.shapes.push(a.uuid)}<span class=\"code-keyword\">else</span> n.shapes.push(t.uuid);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.extrudePath&amp;&amp;(n.options.extrudePath=e.extrudePath.toJSON());<span class=\"code-keyword\">return</span> n}(<span class=\"code-keyword\">this</span>.parameters.shapes,<span class=\"code-keyword\">this</span>.parameters.options,e)},e}(wo);<span class=\"code-keyword\">var</span> ms=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=(<span class=\"code-number\">1</span>+<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">5</span>))/<span class=\"code-number\">2</span>,a=[<span class=\"code-number\">-1</span>,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,-i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,-i,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,-i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,-i,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,-i,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,-i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>,a,[<span class=\"code-number\">0</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">11</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">9</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">1</span>],e,n)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"IcosahedronBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r}<span class=\"code-keyword\">return</span> ut(e,t),e}(Co),vs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"IcosahedronGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> ms(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),gs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">12</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"LatheBufferGeometry\"</span>,a.parameters={<span class=\"code-attr\">points</span>:e,<span class=\"code-attr\">segments</span>:n,<span class=\"code-attr\">phiStart</span>:r,<span class=\"code-attr\">phiLength</span>:i},n=<span class=\"code-built_in\">Math</span>.floor(n),i=st.clamp(i,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=[],s=[],c=[],l=<span class=\"code-number\">1</span>/n,u=<span class=\"code-keyword\">new</span> Mt,h=<span class=\"code-keyword\">new</span> pt,d=<span class=\"code-number\">0</span>;d&lt;=n;d++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=r+d*l*i,f=<span class=\"code-built_in\">Math</span>.sin(p),m=<span class=\"code-built_in\">Math</span>.cos(p),v=<span class=\"code-number\">0</span>;v&lt;=e.length<span class=\"code-number\">-1</span>;v++)u.x=e[v].x*f,u.y=e[v].y,u.z=e[v].x*m,s.push(u.x,u.y,u.z),h.x=d/n,h.y=v/(e.length<span class=\"code-number\">-1</span>),c.push(h.x,h.y);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>;g&lt;n;g++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;e.length<span class=\"code-number\">-1</span>;y++){<span class=\"code-keyword\">var</span> x=y+g*e.length,_=x,b=x+e.length,w=x+e.length+<span class=\"code-number\">1</span>,M=x+<span class=\"code-number\">1</span>;o.push(_,b,M),o.push(b,w,M)}<span class=\"code-keyword\">if</span>(a.setIndex(o),a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(s,<span class=\"code-number\">3</span>)),a.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(c,<span class=\"code-number\">2</span>)),a.computeVertexNormals(),i===<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=a.attributes.normal.array,T=<span class=\"code-keyword\">new</span> Mt,E=<span class=\"code-keyword\">new</span> Mt,A=<span class=\"code-keyword\">new</span> Mt,L=n*e.length*<span class=\"code-number\">3</span>,R=<span class=\"code-number\">0</span>,C=<span class=\"code-number\">0</span>;R&lt;e.length;R++,C+=<span class=\"code-number\">3</span>)T.x=S[C+<span class=\"code-number\">0</span>],T.y=S[C+<span class=\"code-number\">1</span>],T.z=S[C+<span class=\"code-number\">2</span>],E.x=S[L+C+<span class=\"code-number\">0</span>],E.y=S[L+C+<span class=\"code-number\">1</span>],E.z=S[L+C+<span class=\"code-number\">2</span>],A.addVectors(T,E).normalize(),S[C+<span class=\"code-number\">0</span>]=S[L+C+<span class=\"code-number\">0</span>]=A.x,S[C+<span class=\"code-number\">1</span>]=S[L+C+<span class=\"code-number\">1</span>]=A.y,S[C+<span class=\"code-number\">2</span>]=S[L+C+<span class=\"code-number\">2</span>]=A.z;<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),ys=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">return</span>(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"LatheGeometry\"</span>,a.parameters={<span class=\"code-attr\">points</span>:e,<span class=\"code-attr\">segments</span>:n,<span class=\"code-attr\">phiStart</span>:r,<span class=\"code-attr\">phiLength</span>:i},a.fromBufferGeometry(<span class=\"code-keyword\">new</span> gs(e,n,r,i)),a.mergeVertices(),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),xs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>,[<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>],[<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">2</span>],e,n)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"OctahedronBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r}<span class=\"code-keyword\">return</span> ut(e,t),e}(Co),_s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"OctahedronGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> xs(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bs</span>(<span class=\"code-params\">t,e,n</span>)</span>{_n.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ParametricBufferGeometry\"</span>,<span class=\"code-keyword\">this</span>.parameters={<span class=\"code-attr\">func</span>:t,<span class=\"code-attr\">slices</span>:e,<span class=\"code-attr\">stacks</span>:n};<span class=\"code-keyword\">var</span> r=[],i=[],a=[],o=[],s=<span class=\"code-number\">1e-5</span>,c=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-keyword\">new</span> Mt,u=<span class=\"code-keyword\">new</span> Mt,h=<span class=\"code-keyword\">new</span> Mt,d=<span class=\"code-keyword\">new</span> Mt;t.length&lt;<span class=\"code-number\">3</span>&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=e+<span class=\"code-number\">1</span>,f=<span class=\"code-number\">0</span>;f&lt;=n;f++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=f/n,v=<span class=\"code-number\">0</span>;v&lt;=e;v++){<span class=\"code-keyword\">var</span> g=v/e;t(g,m,l),i.push(l.x,l.y,l.z),g-s&gt;=<span class=\"code-number\">0</span>?(t(g-s,m,u),h.subVectors(l,u)):(t(g+s,m,u),h.subVectors(u,l)),m-s&gt;=<span class=\"code-number\">0</span>?(t(g,m-s,u),d.subVectors(l,u)):(t(g,m+s,u),d.subVectors(u,l)),c.crossVectors(h,d).normalize(),a.push(c.x,c.y,c.z),o.push(g,m)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>;y&lt;n;y++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=<span class=\"code-number\">0</span>;x&lt;e;x++){<span class=\"code-keyword\">var</span> _=y*p+x,b=y*p+x+<span class=\"code-number\">1</span>,w=(y+<span class=\"code-number\">1</span>)*p+x+<span class=\"code-number\">1</span>,M=(y+<span class=\"code-number\">1</span>)*p+x;r.push(_,b,M),r.push(b,w,M)}<span class=\"code-keyword\">this</span>.setIndex(r),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(i,<span class=\"code-number\">3</span>)),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>)),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">2</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ws</span>(<span class=\"code-params\">t,e,n</span>)</span>{wo.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ParametricGeometry\"</span>,<span class=\"code-keyword\">this</span>.parameters={<span class=\"code-attr\">func</span>:t,<span class=\"code-attr\">slices</span>:e,<span class=\"code-attr\">stacks</span>:n},<span class=\"code-keyword\">this</span>.fromBufferGeometry(<span class=\"code-keyword\">new</span> bs(t,e,n)),<span class=\"code-keyword\">this</span>.mergeVertices()}bs.prototype=<span class=\"code-built_in\">Object</span>.create(_n.prototype),bs.prototype.constructor=bs,ws.prototype=<span class=\"code-built_in\">Object</span>.create(wo.prototype),ws.prototype.constructor=ws;<span class=\"code-keyword\">var</span> Ms=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">return</span>(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PlaneGeometry\"</span>,a.parameters={<span class=\"code-attr\">width</span>:e,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">widthSegments</span>:r,<span class=\"code-attr\">heightSegments</span>:i},a.fromBufferGeometry(<span class=\"code-keyword\">new</span> ir(e,n,r,i)),a.mergeVertices(),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Ss=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">return</span>(a=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PolyhedronGeometry\"</span>,a.parameters={<span class=\"code-attr\">vertices</span>:e,<span class=\"code-attr\">indices</span>:n,<span class=\"code-attr\">radius</span>:r,<span class=\"code-attr\">detail</span>:i},a.fromBufferGeometry(<span class=\"code-keyword\">new</span> Co(e,n,r,i)),a.mergeVertices(),a}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Ts=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">.5</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"RingBufferGeometry\"</span>,s.parameters={<span class=\"code-attr\">innerRadius</span>:e,<span class=\"code-attr\">outerRadius</span>:n,<span class=\"code-attr\">thetaSegments</span>:r,<span class=\"code-attr\">phiSegments</span>:i,<span class=\"code-attr\">thetaStart</span>:a,<span class=\"code-attr\">thetaLength</span>:o},r=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">3</span>,r);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=[],u=[],h=[],d=e,p=(n-e)/(i=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">1</span>,i)),f=<span class=\"code-keyword\">new</span> Mt,m=<span class=\"code-keyword\">new</span> pt,v=<span class=\"code-number\">0</span>;v&lt;=i;v++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>;g&lt;=r;g++){<span class=\"code-keyword\">var</span> y=a+g/r*o;f.x=d*<span class=\"code-built_in\">Math</span>.cos(y),f.y=d*<span class=\"code-built_in\">Math</span>.sin(y),l.push(f.x,f.y,f.z),u.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),m.x=(f.x/n+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,m.y=(f.y/n+<span class=\"code-number\">1</span>)/<span class=\"code-number\">2</span>,h.push(m.x,m.y)}d+=p}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=<span class=\"code-number\">0</span>;x&lt;i;x++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=x*(r+<span class=\"code-number\">1</span>),b=<span class=\"code-number\">0</span>;b&lt;r;b++){<span class=\"code-keyword\">var</span> w=b+_,M=w,S=w+r+<span class=\"code-number\">1</span>,T=w+r+<span class=\"code-number\">2</span>,E=w+<span class=\"code-number\">1</span>;c.push(M,S,E),c.push(S,T,E)}<span class=\"code-keyword\">return</span> s.setIndex(c),s.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(u,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(h,<span class=\"code-number\">2</span>)),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Es=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">return</span>(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"RingGeometry\"</span>,s.parameters={<span class=\"code-attr\">innerRadius</span>:e,<span class=\"code-attr\">outerRadius</span>:n,<span class=\"code-attr\">thetaSegments</span>:r,<span class=\"code-attr\">phiSegments</span>:i,<span class=\"code-attr\">thetaStart</span>:a,<span class=\"code-attr\">thetaLength</span>:o},s.fromBufferGeometry(<span class=\"code-keyword\">new</span> Ts(e,n,r,i,a,o)),s.mergeVertices(),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),As=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">12</span>),(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ShapeBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">shapes</span>:e,<span class=\"code-attr\">curveSegments</span>:n};<span class=\"code-keyword\">var</span> i=[],a=[],o=[],s=[],c=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Array</span>.isArray(e))h(e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;e.length;u++)h(e[u]),r.addGroup(c,l,u),c+=l,l=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">h</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=a.length/<span class=\"code-number\">3</span>,r=t.extractPoints(n),c=r.shape,u=r.holes;!<span class=\"code-number\">1</span>===ls.isClockWise(c)&amp;&amp;(c=c.reverse());<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>,d=u.length;h&lt;d;h++){<span class=\"code-keyword\">var</span> p=u[h];!<span class=\"code-number\">0</span>===ls.isClockWise(p)&amp;&amp;(u[h]=p.reverse())}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=ls.triangulateShape(c,u),m=<span class=\"code-number\">0</span>,v=u.length;m&lt;v;m++){<span class=\"code-keyword\">var</span> g=u[m];c=c.concat(g)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>,x=c.length;y&lt;x;y++){<span class=\"code-keyword\">var</span> _=c[y];a.push(_.x,_.y,<span class=\"code-number\">0</span>),o.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),s.push(_.x,_.y)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=<span class=\"code-number\">0</span>,w=f.length;b&lt;w;b++){<span class=\"code-keyword\">var</span> M=f[b],S=M[<span class=\"code-number\">0</span>]+e,T=M[<span class=\"code-number\">1</span>]+e,E=M[<span class=\"code-number\">2</span>]+e;i.push(S,T,E),l+=<span class=\"code-number\">3</span>}}<span class=\"code-keyword\">return</span> r.setIndex(i),r.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>)),r.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">3</span>)),r.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(s,<span class=\"code-number\">2</span>)),r}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=_n.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(e.shapes=[],<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t[n];e.shapes.push(i.uuid)}<span class=\"code-keyword\">else</span> e.shapes.push(t.uuid);<span class=\"code-keyword\">return</span> e}(<span class=\"code-keyword\">this</span>.parameters.shapes,t)},e}(_n);<span class=\"code-keyword\">var</span> Ls=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ShapeGeometry\"</span>,<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> n&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ShapeGeometry: Options parameter has been removed.\"</span>),n=n.curveSegments),r.parameters={<span class=\"code-attr\">shapes</span>:e,<span class=\"code-attr\">curveSegments</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> As(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=wo.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(e.shapes=[],<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t[n];e.shapes.push(i.uuid)}<span class=\"code-keyword\">else</span> e.shapes.push(t.uuid);<span class=\"code-keyword\">return</span> e}(<span class=\"code-keyword\">this</span>.parameters.shapes,t)},e}(wo);<span class=\"code-keyword\">var</span> Rs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">6</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=<span class=\"code-built_in\">Math</span>.PI),(c=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"SphereBufferGeometry\"</span>,c.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">widthSegments</span>:n,<span class=\"code-attr\">heightSegments</span>:r,<span class=\"code-attr\">phiStart</span>:i,<span class=\"code-attr\">phiLength</span>:a,<span class=\"code-attr\">thetaStart</span>:o,<span class=\"code-attr\">thetaLength</span>:s},n=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">3</span>,<span class=\"code-built_in\">Math</span>.floor(n)),r=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">2</span>,<span class=\"code-built_in\">Math</span>.floor(r));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-built_in\">Math</span>.min(o+s,<span class=\"code-built_in\">Math</span>.PI),u=<span class=\"code-number\">0</span>,h=[],d=<span class=\"code-keyword\">new</span> Mt,p=<span class=\"code-keyword\">new</span> Mt,f=[],m=[],v=[],g=[],y=<span class=\"code-number\">0</span>;y&lt;=r;y++){<span class=\"code-keyword\">var</span> x=[],_=y/r,b=<span class=\"code-number\">0</span>;<span class=\"code-number\">0</span>==y&amp;&amp;<span class=\"code-number\">0</span>==o?b=<span class=\"code-number\">.5</span>/n:y==r&amp;&amp;l==<span class=\"code-built_in\">Math</span>.PI&amp;&amp;(b=<span class=\"code-number\">-.5</span>/n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">0</span>;w&lt;=n;w++){<span class=\"code-keyword\">var</span> M=w/n;d.x=-e*<span class=\"code-built_in\">Math</span>.cos(i+M*a)*<span class=\"code-built_in\">Math</span>.sin(o+_*s),d.y=e*<span class=\"code-built_in\">Math</span>.cos(o+_*s),d.z=e*<span class=\"code-built_in\">Math</span>.sin(i+M*a)*<span class=\"code-built_in\">Math</span>.sin(o+_*s),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(M+b,<span class=\"code-number\">1</span>-_),x.push(u++)}h.push(x)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=<span class=\"code-number\">0</span>;S&lt;r;S++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> T=<span class=\"code-number\">0</span>;T&lt;n;T++){<span class=\"code-keyword\">var</span> E=h[S][T+<span class=\"code-number\">1</span>],A=h[S][T],L=h[S+<span class=\"code-number\">1</span>][T],R=h[S+<span class=\"code-number\">1</span>][T+<span class=\"code-number\">1</span>];(<span class=\"code-number\">0</span>!==S||o&gt;<span class=\"code-number\">0</span>)&amp;&amp;f.push(E,A,R),(S!==r<span class=\"code-number\">-1</span>||l&lt;<span class=\"code-built_in\">Math</span>.PI)&amp;&amp;f.push(A,L,R)}<span class=\"code-keyword\">return</span> c.setIndex(f),c.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(m,<span class=\"code-number\">3</span>)),c.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(v,<span class=\"code-number\">3</span>)),c.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(g,<span class=\"code-number\">2</span>)),c}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Cs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c;<span class=\"code-keyword\">return</span>(c=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"SphereGeometry\"</span>,c.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">widthSegments</span>:n,<span class=\"code-attr\">heightSegments</span>:r,<span class=\"code-attr\">phiStart</span>:i,<span class=\"code-attr\">phiLength</span>:a,<span class=\"code-attr\">thetaStart</span>:o,<span class=\"code-attr\">thetaLength</span>:s},c.fromBufferGeometry(<span class=\"code-keyword\">new</span> Rs(e,n,r,i,a,o,s)),c.mergeVertices(),c}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Ps=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>,[<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>],[<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">1</span>],e,n)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TetrahedronBufferGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r}<span class=\"code-keyword\">return</span> ut(e,t),e}(Co),Is=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TetrahedronGeometry\"</span>,r.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">detail</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> Ps(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Ns=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n={});<span class=\"code-keyword\">var</span> i=n.font;<span class=\"code-keyword\">if</span>(!i||!i.isFont)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"</span>),<span class=\"code-keyword\">new</span> _n||ht(r);<span class=\"code-keyword\">var</span> a=i.generateShapes(e,n.size);<span class=\"code-keyword\">return</span> n.depth=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.height?n.height:<span class=\"code-number\">50</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.bevelThickness&amp;&amp;(n.bevelThickness=<span class=\"code-number\">10</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.bevelSize&amp;&amp;(n.bevelSize=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.bevelEnabled&amp;&amp;(n.bevelEnabled=!<span class=\"code-number\">1</span>),(r=t.call(<span class=\"code-keyword\">this</span>,a,n)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TextBufferGeometry\"</span>,r}<span class=\"code-keyword\">return</span> ut(e,t),e}(ds),Ds=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span>(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TextGeometry\"</span>,r.parameters={<span class=\"code-attr\">text</span>:e,<span class=\"code-attr\">parameters</span>:n},r.fromBufferGeometry(<span class=\"code-keyword\">new</span> Ns(e,n)),r.mergeVertices(),r}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Os=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">.4</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">6</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),(o=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TorusBufferGeometry\"</span>,o.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">tube</span>:n,<span class=\"code-attr\">radialSegments</span>:r,<span class=\"code-attr\">tubularSegments</span>:i,<span class=\"code-attr\">arc</span>:a},r=<span class=\"code-built_in\">Math</span>.floor(r),i=<span class=\"code-built_in\">Math</span>.floor(i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=[],c=[],l=[],u=[],h=<span class=\"code-keyword\">new</span> Mt,d=<span class=\"code-keyword\">new</span> Mt,p=<span class=\"code-keyword\">new</span> Mt,f=<span class=\"code-number\">0</span>;f&lt;=r;f++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>;m&lt;=i;m++){<span class=\"code-keyword\">var</span> v=m/i*a,g=f/r*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>;d.x=(e+n*<span class=\"code-built_in\">Math</span>.cos(g))*<span class=\"code-built_in\">Math</span>.cos(v),d.y=(e+n*<span class=\"code-built_in\">Math</span>.cos(g))*<span class=\"code-built_in\">Math</span>.sin(v),d.z=n*<span class=\"code-built_in\">Math</span>.sin(g),c.push(d.x,d.y,d.z),h.x=e*<span class=\"code-built_in\">Math</span>.cos(v),h.y=e*<span class=\"code-built_in\">Math</span>.sin(v),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(m/i),u.push(f/r)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">1</span>;y&lt;=r;y++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=<span class=\"code-number\">1</span>;x&lt;=i;x++){<span class=\"code-keyword\">var</span> _=(i+<span class=\"code-number\">1</span>)*y+x<span class=\"code-number\">-1</span>,b=(i+<span class=\"code-number\">1</span>)*(y<span class=\"code-number\">-1</span>)+x<span class=\"code-number\">-1</span>,w=(i+<span class=\"code-number\">1</span>)*(y<span class=\"code-number\">-1</span>)+x,M=(i+<span class=\"code-number\">1</span>)*y+x;s.push(_,b,M),s.push(b,w,M)}<span class=\"code-keyword\">return</span> o.setIndex(s),o.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(c,<span class=\"code-number\">3</span>)),o.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">3</span>)),o.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(u,<span class=\"code-number\">2</span>)),o}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Bs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o;<span class=\"code-keyword\">return</span>(o=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TorusGeometry\"</span>,o.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">tube</span>:n,<span class=\"code-attr\">radialSegments</span>:r,<span class=\"code-attr\">tubularSegments</span>:i,<span class=\"code-attr\">arc</span>:a},o.fromBufferGeometry(<span class=\"code-keyword\">new</span> Os(e,n,r,i,a)),o.mergeVertices(),o}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),zs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">.4</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">64</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">2</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">3</span>),(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TorusKnotBufferGeometry\"</span>,s.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">tube</span>:n,<span class=\"code-attr\">tubularSegments</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">p</span>:a,<span class=\"code-attr\">q</span>:o},r=<span class=\"code-built_in\">Math</span>.floor(r),i=<span class=\"code-built_in\">Math</span>.floor(i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=[],u=[],h=[],d=<span class=\"code-keyword\">new</span> Mt,p=<span class=\"code-keyword\">new</span> Mt,f=<span class=\"code-keyword\">new</span> Mt,m=<span class=\"code-keyword\">new</span> Mt,v=<span class=\"code-keyword\">new</span> Mt,g=<span class=\"code-keyword\">new</span> Mt,y=<span class=\"code-keyword\">new</span> Mt,x=<span class=\"code-number\">0</span>;x&lt;=r;++x){<span class=\"code-keyword\">var</span> _=x/r*a*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>;P(_,a,o,e,f),P(_+<span class=\"code-number\">.01</span>,a,o,e,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=<span class=\"code-number\">0</span>;b&lt;=i;++b){<span class=\"code-keyword\">var</span> w=b/i*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>,M=-n*<span class=\"code-built_in\">Math</span>.cos(w),S=n*<span class=\"code-built_in\">Math</span>.sin(w);d.x=f.x+(M*y.x+S*v.x),d.y=f.y+(M*y.y+S*v.y),d.z=f.z+(M*y.z+S*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),h.push(x/r),h.push(b/i)}}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> T=<span class=\"code-number\">1</span>;T&lt;=r;T++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> E=<span class=\"code-number\">1</span>;E&lt;=i;E++){<span class=\"code-keyword\">var</span> A=(i+<span class=\"code-number\">1</span>)*(T<span class=\"code-number\">-1</span>)+(E<span class=\"code-number\">-1</span>),L=(i+<span class=\"code-number\">1</span>)*T+(E<span class=\"code-number\">-1</span>),R=(i+<span class=\"code-number\">1</span>)*T+E,C=(i+<span class=\"code-number\">1</span>)*(T<span class=\"code-number\">-1</span>)+E;c.push(A,L,C),c.push(L,R,C)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">P</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Math</span>.cos(t),o=<span class=\"code-built_in\">Math</span>.sin(t),s=n/e*t,c=<span class=\"code-built_in\">Math</span>.cos(s);i.x=r*(<span class=\"code-number\">2</span>+c)*<span class=\"code-number\">.5</span>*a,i.y=r*(<span class=\"code-number\">2</span>+c)*o*<span class=\"code-number\">.5</span>,i.z=r*<span class=\"code-built_in\">Math</span>.sin(s)*<span class=\"code-number\">.5</span>}<span class=\"code-keyword\">return</span> s.setIndex(c),s.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(u,<span class=\"code-number\">3</span>)),s.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(h,<span class=\"code-number\">2</span>)),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),Us=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c;<span class=\"code-keyword\">return</span>(c=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TorusKnotGeometry\"</span>,c.parameters={<span class=\"code-attr\">radius</span>:e,<span class=\"code-attr\">tube</span>:n,<span class=\"code-attr\">tubularSegments</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">p</span>:a,<span class=\"code-attr\">q</span>:o},<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"</span>),c.fromBufferGeometry(<span class=\"code-keyword\">new</span> zs(e,n,r,i,a,o)),c.mergeVertices(),c}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Fs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">64</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=!<span class=\"code-number\">1</span>),(o=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TubeBufferGeometry\"</span>,o.parameters={<span class=\"code-attr\">path</span>:e,<span class=\"code-attr\">tubularSegments</span>:n,<span class=\"code-attr\">radius</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">closed</span>:a};<span class=\"code-keyword\">var</span> s=e.computeFrenetFrames(n,a);o.tangents=s.tangents,o.normals=s.normals,o.binormals=s.binormals;<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> Mt,l=<span class=\"code-keyword\">new</span> Mt,u=<span class=\"code-keyword\">new</span> pt,h=<span class=\"code-keyword\">new</span> Mt,d=[],p=[],f=[],m=[];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">v</span>(<span class=\"code-params\">t</span>)</span>{h=e.getPointAt(t/n,h);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=s.normals[t],o=s.binormals[t],u=<span class=\"code-number\">0</span>;u&lt;=i;u++){<span class=\"code-keyword\">var</span> f=u/i*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>,m=<span class=\"code-built_in\">Math</span>.sin(f),v=-<span class=\"code-built_in\">Math</span>.cos(f);l.x=v*a.x+m*o.x,l.y=v*a.y+m*o.y,l.z=v*a.z+m*o.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=h.x+r*l.x,c.y=h.y+r*l.y,c.z=h.z+r*l.z,d.push(c.x,c.y,c.z)}}<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;n;t++)v(t);v(!<span class=\"code-number\">1</span>===a?n:<span class=\"code-number\">0</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;=n;t++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;=i;e++)u.x=t/n,u.y=e/i,f.push(u.x,u.y)}(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>;t&lt;=n;t++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>;e&lt;=i;e++){<span class=\"code-keyword\">var</span> r=(i+<span class=\"code-number\">1</span>)*(t<span class=\"code-number\">-1</span>)+(e<span class=\"code-number\">-1</span>),a=(i+<span class=\"code-number\">1</span>)*t+(e<span class=\"code-number\">-1</span>),o=(i+<span class=\"code-number\">1</span>)*t+e,s=(i+<span class=\"code-number\">1</span>)*(t<span class=\"code-number\">-1</span>)+e;m.push(r,a,s),m.push(a,o,s)}}()}(),o.setIndex(m),o.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(d,<span class=\"code-number\">3</span>)),o.setAttribute(<span class=\"code-string\">\"normal\"</span>,<span class=\"code-keyword\">new</span> sn(p,<span class=\"code-number\">3</span>)),o.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> sn(f,<span class=\"code-number\">2</span>)),o}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=_n.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.path=<span class=\"code-keyword\">this</span>.parameters.path.toJSON(),t},e}(_n),Gs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"TubeGeometry\"</span>,s.parameters={<span class=\"code-attr\">path</span>:e,<span class=\"code-attr\">tubularSegments</span>:n,<span class=\"code-attr\">radius</span>:r,<span class=\"code-attr\">radialSegments</span>:i,<span class=\"code-attr\">closed</span>:a},<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.TubeGeometry: taper has been removed.\"</span>);<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> Fs(e,n,r,i,a);<span class=\"code-keyword\">return</span> s.tangents=c.tangents,s.normals=c.normals,s.binormals=c.binormals,s.fromBufferGeometry(c),s.mergeVertices(),s}<span class=\"code-keyword\">return</span> ut(e,t),e}(wo),Hs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n;(n=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"WireframeGeometry\"</span>;<span class=\"code-keyword\">var</span> r=[],i=[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],a={},o=[<span class=\"code-string\">\"a\"</span>,<span class=\"code-string\">\"b\"</span>,<span class=\"code-string\">\"c\"</span>];<span class=\"code-keyword\">if</span>(e&amp;&amp;e.isGeometry){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=e.faces,c=<span class=\"code-number\">0</span>,l=s.length;c&lt;l;c++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=s[c],h=<span class=\"code-number\">0</span>;h&lt;<span class=\"code-number\">3</span>;h++){<span class=\"code-keyword\">var</span> d=u[o[h]],p=u[o[(h+<span class=\"code-number\">1</span>)%<span class=\"code-number\">3</span>]];i[<span class=\"code-number\">0</span>]=<span class=\"code-built_in\">Math</span>.min(d,p),i[<span class=\"code-number\">1</span>]=<span class=\"code-built_in\">Math</span>.max(d,p);<span class=\"code-keyword\">var</span> f=i[<span class=\"code-number\">0</span>]+<span class=\"code-string\">\",\"</span>+i[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a[f]&amp;&amp;(a[f]={<span class=\"code-attr\">index1</span>:i[<span class=\"code-number\">0</span>],<span class=\"code-attr\">index2</span>:i[<span class=\"code-number\">1</span>]})}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m <span class=\"code-keyword\">in</span> a){<span class=\"code-keyword\">var</span> v=a[m],g=e.vertices[v.index1];r.push(g.x,g.y,g.z),g=e.vertices[v.index2],r.push(g.x,g.y,g.z)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e&amp;&amp;e.isBufferGeometry){<span class=\"code-keyword\">var</span> y=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==e.index){<span class=\"code-keyword\">var</span> x=e.attributes.position,_=e.index,b=e.groups;<span class=\"code-number\">0</span>===b.length&amp;&amp;(b=[{<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:_.count,<span class=\"code-attr\">materialIndex</span>:<span class=\"code-number\">0</span>}]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">0</span>,M=b.length;w&lt;M;++w)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> S=b[w],T=S.start,E=T,A=T+S.count;E&lt;A;E+=<span class=\"code-number\">3</span>)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>;L&lt;<span class=\"code-number\">3</span>;L++){<span class=\"code-keyword\">var</span> R=_.getX(E+L),C=_.getX(E+(L+<span class=\"code-number\">1</span>)%<span class=\"code-number\">3</span>);i[<span class=\"code-number\">0</span>]=<span class=\"code-built_in\">Math</span>.min(R,C),i[<span class=\"code-number\">1</span>]=<span class=\"code-built_in\">Math</span>.max(R,C);<span class=\"code-keyword\">var</span> P=i[<span class=\"code-number\">0</span>]+<span class=\"code-string\">\",\"</span>+i[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a[P]&amp;&amp;(a[P]={<span class=\"code-attr\">index1</span>:i[<span class=\"code-number\">0</span>],<span class=\"code-attr\">index2</span>:i[<span class=\"code-number\">1</span>]})}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> I <span class=\"code-keyword\">in</span> a){<span class=\"code-keyword\">var</span> N=a[I];y.fromBufferAttribute(x,N.index1),r.push(y.x,y.y,y.z),y.fromBufferAttribute(x,N.index2),r.push(y.x,y.y,y.z)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> D=e.attributes.position,O=<span class=\"code-number\">0</span>,B=D.count/<span class=\"code-number\">3</span>;O&lt;B;O++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> z=<span class=\"code-number\">0</span>;z&lt;<span class=\"code-number\">3</span>;z++){<span class=\"code-keyword\">var</span> U=<span class=\"code-number\">3</span>*O+z;y.fromBufferAttribute(D,U),r.push(y.x,y.y,y.z);<span class=\"code-keyword\">var</span> F=<span class=\"code-number\">3</span>*O+(z+<span class=\"code-number\">1</span>)%<span class=\"code-number\">3</span>;y.fromBufferAttribute(D,F),r.push(y.x,y.y,y.z)}}<span class=\"code-keyword\">return</span> n.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(r,<span class=\"code-number\">3</span>)),n}<span class=\"code-keyword\">return</span> ut(e,t),e}(_n),ks=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">BoxGeometry</span>:Mo,<span class=\"code-attr\">BoxBufferGeometry</span>:Hn,<span class=\"code-attr\">CircleGeometry</span>:To,<span class=\"code-attr\">CircleBufferGeometry</span>:So,<span class=\"code-attr\">ConeGeometry</span>:Lo,<span class=\"code-attr\">ConeBufferGeometry</span>:Ro,<span class=\"code-attr\">CylinderGeometry</span>:Ao,<span class=\"code-attr\">CylinderBufferGeometry</span>:Eo,<span class=\"code-attr\">DodecahedronGeometry</span>:Io,<span class=\"code-attr\">DodecahedronBufferGeometry</span>:Po,<span class=\"code-attr\">EdgesGeometry</span>:zo,<span class=\"code-attr\">ExtrudeGeometry</span>:fs,<span class=\"code-attr\">ExtrudeBufferGeometry</span>:ds,<span class=\"code-attr\">IcosahedronGeometry</span>:vs,<span class=\"code-attr\">IcosahedronBufferGeometry</span>:ms,<span class=\"code-attr\">LatheGeometry</span>:ys,<span class=\"code-attr\">LatheBufferGeometry</span>:gs,<span class=\"code-attr\">OctahedronGeometry</span>:_s,<span class=\"code-attr\">OctahedronBufferGeometry</span>:xs,<span class=\"code-attr\">ParametricGeometry</span>:ws,<span class=\"code-attr\">ParametricBufferGeometry</span>:bs,<span class=\"code-attr\">PlaneGeometry</span>:Ms,<span class=\"code-attr\">PlaneBufferGeometry</span>:ir,<span class=\"code-attr\">PolyhedronGeometry</span>:Ss,<span class=\"code-attr\">PolyhedronBufferGeometry</span>:Co,<span class=\"code-attr\">RingGeometry</span>:Es,<span class=\"code-attr\">RingBufferGeometry</span>:Ts,<span class=\"code-attr\">ShapeGeometry</span>:Ls,<span class=\"code-attr\">ShapeBufferGeometry</span>:As,<span class=\"code-attr\">SphereGeometry</span>:Cs,<span class=\"code-attr\">SphereBufferGeometry</span>:Rs,<span class=\"code-attr\">TetrahedronGeometry</span>:Is,<span class=\"code-attr\">TetrahedronBufferGeometry</span>:Ps,<span class=\"code-attr\">TextGeometry</span>:Ds,<span class=\"code-attr\">TextBufferGeometry</span>:Ns,<span class=\"code-attr\">TorusGeometry</span>:Bs,<span class=\"code-attr\">TorusBufferGeometry</span>:Os,<span class=\"code-attr\">TorusKnotGeometry</span>:Us,<span class=\"code-attr\">TorusKnotBufferGeometry</span>:zs,<span class=\"code-attr\">TubeGeometry</span>:Gs,<span class=\"code-attr\">TubeBufferGeometry</span>:Fs,<span class=\"code-attr\">WireframeGeometry</span>:Hs});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vs</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ShadowMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.transparent=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ws</span>(<span class=\"code-params\">t</span>)</span>{jn.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"RawShaderMaterial\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">js</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">STANDARD</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshStandardMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.roughness=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.metalness=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aoMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.aoMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissive=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.emissiveIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissiveMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalMapType=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.roughnessMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.metalnessMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.envMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.envMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.refractionRatio=<span class=\"code-number\">.98</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.wireframeLinejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.vertexTangents=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qs</span>(<span class=\"code-params\">t</span>)</span>{js.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">STANDARD</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">PHYSICAL</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshPhysicalMaterial\"</span>,<span class=\"code-keyword\">this</span>.clearcoat=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.clearcoatMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.clearcoatRoughness=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.clearcoatRoughnessMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.clearcoatNormalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.clearcoatNormalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.reflectivity=<span class=\"code-number\">.5</span>,<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"ior\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-number\">1</span>+<span class=\"code-number\">.4</span>*<span class=\"code-keyword\">this</span>.reflectivity)/(<span class=\"code-number\">1</span><span class=\"code-number\">-.4</span>*<span class=\"code-keyword\">this</span>.reflectivity)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.reflectivity=st.clamp(<span class=\"code-number\">2.5</span>*(t<span class=\"code-number\">-1</span>)/(t+<span class=\"code-number\">1</span>),<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)}}),<span class=\"code-keyword\">this</span>.sheen=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.transmission=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transmissionMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xs</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshPhongMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.specular=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">1118481</span>),<span class=\"code-keyword\">this</span>.shininess=<span class=\"code-number\">30</span>,<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aoMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.aoMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissive=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.emissiveIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissiveMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalMapType=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.specularMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.envMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.combine=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.reflectivity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.refractionRatio=<span class=\"code-number\">.98</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.wireframeLinejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ys</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">TOON</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshToonMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.gradientMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aoMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.aoMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissive=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.emissiveIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissiveMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalMapType=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.wireframeLinejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zs</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshNormalMaterial\"</span>,<span class=\"code-keyword\">this</span>.bumpMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalMapType=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.fog=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Js</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshLambertMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.lightMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aoMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.aoMapIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissive=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.emissiveIntensity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.emissiveMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.specularMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.envMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.combine=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.reflectivity=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.refractionRatio=<span class=\"code-number\">.98</span>,<span class=\"code-keyword\">this</span>.wireframe=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinewidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wireframeLinecap=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.wireframeLinejoin=<span class=\"code-string\">\"round\"</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qs</span>(<span class=\"code-params\">t</span>)</span>{Xe.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">MATCAP</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"MeshMatcapMaterial\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),<span class=\"code-keyword\">this</span>.matcap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.bumpScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.normalMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalMapType=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalScale=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.displacementMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.displacementScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.displacementBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.alphaMap=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.skinning=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphTargets=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.morphNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ks</span>(<span class=\"code-params\">t</span>)</span>{Za.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineDashedMaterial\"</span>,<span class=\"code-keyword\">this</span>.scale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.dashSize=<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>.gapSize=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.setValues(t)}Vs.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isShadowMaterial=!<span class=\"code-number\">0</span>,Vs.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>},Ws.prototype=<span class=\"code-built_in\">Object</span>.create(jn.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isRawShaderMaterial=!<span class=\"code-number\">0</span>,js.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),js.prototype.constructor=js,js.prototype.isMeshStandardMaterial=!<span class=\"code-number\">0</span>,js.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">STANDARD</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.roughness=t.roughness,<span class=\"code-keyword\">this</span>.metalness=t.metalness,<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.lightMap=t.lightMap,<span class=\"code-keyword\">this</span>.lightMapIntensity=t.lightMapIntensity,<span class=\"code-keyword\">this</span>.aoMap=t.aoMap,<span class=\"code-keyword\">this</span>.aoMapIntensity=t.aoMapIntensity,<span class=\"code-keyword\">this</span>.emissive.copy(t.emissive),<span class=\"code-keyword\">this</span>.emissiveMap=t.emissiveMap,<span class=\"code-keyword\">this</span>.emissiveIntensity=t.emissiveIntensity,<span class=\"code-keyword\">this</span>.bumpMap=t.bumpMap,<span class=\"code-keyword\">this</span>.bumpScale=t.bumpScale,<span class=\"code-keyword\">this</span>.normalMap=t.normalMap,<span class=\"code-keyword\">this</span>.normalMapType=t.normalMapType,<span class=\"code-keyword\">this</span>.normalScale.copy(t.normalScale),<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.roughnessMap=t.roughnessMap,<span class=\"code-keyword\">this</span>.metalnessMap=t.metalnessMap,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.envMap=t.envMap,<span class=\"code-keyword\">this</span>.envMapIntensity=t.envMapIntensity,<span class=\"code-keyword\">this</span>.refractionRatio=t.refractionRatio,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.wireframeLinecap=t.wireframeLinecap,<span class=\"code-keyword\">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>.vertexTangents=t.vertexTangents,<span class=\"code-keyword\">this</span>},qs.prototype=<span class=\"code-built_in\">Object</span>.create(js.prototype),qs.prototype.constructor=qs,qs.prototype.isMeshPhysicalMaterial=!<span class=\"code-number\">0</span>,qs.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> js.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">STANDARD</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">PHYSICAL</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.clearcoat=t.clearcoat,<span class=\"code-keyword\">this</span>.clearcoatMap=t.clearcoatMap,<span class=\"code-keyword\">this</span>.clearcoatRoughness=t.clearcoatRoughness,<span class=\"code-keyword\">this</span>.clearcoatRoughnessMap=t.clearcoatRoughnessMap,<span class=\"code-keyword\">this</span>.clearcoatNormalMap=t.clearcoatNormalMap,<span class=\"code-keyword\">this</span>.clearcoatNormalScale.copy(t.clearcoatNormalScale),<span class=\"code-keyword\">this</span>.reflectivity=t.reflectivity,t.sheen?<span class=\"code-keyword\">this</span>.sheen=(<span class=\"code-keyword\">this</span>.sheen||<span class=\"code-keyword\">new</span> We).copy(t.sheen):<span class=\"code-keyword\">this</span>.sheen=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.transmission=t.transmission,<span class=\"code-keyword\">this</span>.transmissionMap=t.transmissionMap,<span class=\"code-keyword\">this</span>},Xs.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isMeshPhongMaterial=!<span class=\"code-number\">0</span>,Xs.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.specular.copy(t.specular),<span class=\"code-keyword\">this</span>.shininess=t.shininess,<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.lightMap=t.lightMap,<span class=\"code-keyword\">this</span>.lightMapIntensity=t.lightMapIntensity,<span class=\"code-keyword\">this</span>.aoMap=t.aoMap,<span class=\"code-keyword\">this</span>.aoMapIntensity=t.aoMapIntensity,<span class=\"code-keyword\">this</span>.emissive.copy(t.emissive),<span class=\"code-keyword\">this</span>.emissiveMap=t.emissiveMap,<span class=\"code-keyword\">this</span>.emissiveIntensity=t.emissiveIntensity,<span class=\"code-keyword\">this</span>.bumpMap=t.bumpMap,<span class=\"code-keyword\">this</span>.bumpScale=t.bumpScale,<span class=\"code-keyword\">this</span>.normalMap=t.normalMap,<span class=\"code-keyword\">this</span>.normalMapType=t.normalMapType,<span class=\"code-keyword\">this</span>.normalScale.copy(t.normalScale),<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.specularMap=t.specularMap,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.envMap=t.envMap,<span class=\"code-keyword\">this</span>.combine=t.combine,<span class=\"code-keyword\">this</span>.reflectivity=t.reflectivity,<span class=\"code-keyword\">this</span>.refractionRatio=t.refractionRatio,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.wireframeLinecap=t.wireframeLinecap,<span class=\"code-keyword\">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>},Ys.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isMeshToonMaterial=!<span class=\"code-number\">0</span>,Ys.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.gradientMap=t.gradientMap,<span class=\"code-keyword\">this</span>.lightMap=t.lightMap,<span class=\"code-keyword\">this</span>.lightMapIntensity=t.lightMapIntensity,<span class=\"code-keyword\">this</span>.aoMap=t.aoMap,<span class=\"code-keyword\">this</span>.aoMapIntensity=t.aoMapIntensity,<span class=\"code-keyword\">this</span>.emissive.copy(t.emissive),<span class=\"code-keyword\">this</span>.emissiveMap=t.emissiveMap,<span class=\"code-keyword\">this</span>.emissiveIntensity=t.emissiveIntensity,<span class=\"code-keyword\">this</span>.bumpMap=t.bumpMap,<span class=\"code-keyword\">this</span>.bumpScale=t.bumpScale,<span class=\"code-keyword\">this</span>.normalMap=t.normalMap,<span class=\"code-keyword\">this</span>.normalMapType=t.normalMapType,<span class=\"code-keyword\">this</span>.normalScale.copy(t.normalScale),<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.wireframeLinecap=t.wireframeLinecap,<span class=\"code-keyword\">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>},Zs.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isMeshNormalMaterial=!<span class=\"code-number\">0</span>,Zs.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.bumpMap=t.bumpMap,<span class=\"code-keyword\">this</span>.bumpScale=t.bumpScale,<span class=\"code-keyword\">this</span>.normalMap=t.normalMap,<span class=\"code-keyword\">this</span>.normalMapType=t.normalMapType,<span class=\"code-keyword\">this</span>.normalScale.copy(t.normalScale),<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>},Js.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Js.prototype.constructor=Js,Js.prototype.isMeshLambertMaterial=!<span class=\"code-number\">0</span>,Js.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.lightMap=t.lightMap,<span class=\"code-keyword\">this</span>.lightMapIntensity=t.lightMapIntensity,<span class=\"code-keyword\">this</span>.aoMap=t.aoMap,<span class=\"code-keyword\">this</span>.aoMapIntensity=t.aoMapIntensity,<span class=\"code-keyword\">this</span>.emissive.copy(t.emissive),<span class=\"code-keyword\">this</span>.emissiveMap=t.emissiveMap,<span class=\"code-keyword\">this</span>.emissiveIntensity=t.emissiveIntensity,<span class=\"code-keyword\">this</span>.specularMap=t.specularMap,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.envMap=t.envMap,<span class=\"code-keyword\">this</span>.combine=t.combine,<span class=\"code-keyword\">this</span>.reflectivity=t.reflectivity,<span class=\"code-keyword\">this</span>.refractionRatio=t.refractionRatio,<span class=\"code-keyword\">this</span>.wireframe=t.wireframe,<span class=\"code-keyword\">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class=\"code-keyword\">this</span>.wireframeLinecap=t.wireframeLinecap,<span class=\"code-keyword\">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>},Qs.prototype=<span class=\"code-built_in\">Object</span>.create(Xe.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isMeshMatcapMaterial=!<span class=\"code-number\">0</span>,Qs.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.defines={<span class=\"code-attr\">MATCAP</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.matcap=t.matcap,<span class=\"code-keyword\">this</span>.map=t.map,<span class=\"code-keyword\">this</span>.bumpMap=t.bumpMap,<span class=\"code-keyword\">this</span>.bumpScale=t.bumpScale,<span class=\"code-keyword\">this</span>.normalMap=t.normalMap,<span class=\"code-keyword\">this</span>.normalMapType=t.normalMapType,<span class=\"code-keyword\">this</span>.normalScale.copy(t.normalScale),<span class=\"code-keyword\">this</span>.displacementMap=t.displacementMap,<span class=\"code-keyword\">this</span>.displacementScale=t.displacementScale,<span class=\"code-keyword\">this</span>.displacementBias=t.displacementBias,<span class=\"code-keyword\">this</span>.alphaMap=t.alphaMap,<span class=\"code-keyword\">this</span>.skinning=t.skinning,<span class=\"code-keyword\">this</span>.morphTargets=t.morphTargets,<span class=\"code-keyword\">this</span>.morphNormals=t.morphNormals,<span class=\"code-keyword\">this</span>},Ks.prototype=<span class=\"code-built_in\">Object</span>.create(Za.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isLineDashedMaterial=!<span class=\"code-number\">0</span>,Ks.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Za.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.scale=t.scale,<span class=\"code-keyword\">this</span>.dashSize=t.dashSize,<span class=\"code-keyword\">this</span>.gapSize=t.gapSize,<span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> $s=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">ShadowMaterial</span>:Vs,<span class=\"code-attr\">SpriteMaterial</span>:va,<span class=\"code-attr\">RawShaderMaterial</span>:Ws,<span class=\"code-attr\">ShaderMaterial</span>:jn,<span class=\"code-attr\">PointsMaterial</span>:oo,<span class=\"code-attr\">MeshPhysicalMaterial</span>:qs,<span class=\"code-attr\">MeshStandardMaterial</span>:js,<span class=\"code-attr\">MeshPhongMaterial</span>:Xs,<span class=\"code-attr\">MeshToonMaterial</span>:Ys,<span class=\"code-attr\">MeshNormalMaterial</span>:Zs,<span class=\"code-attr\">MeshLambertMaterial</span>:Js,<span class=\"code-attr\">MeshDepthMaterial</span>:Ji,<span class=\"code-attr\">MeshDistanceMaterial</span>:Qi,<span class=\"code-attr\">MeshBasicMaterial</span>:Ye,<span class=\"code-attr\">MeshMatcapMaterial</span>:Qs,<span class=\"code-attr\">LineDashedMaterial</span>:Ks,<span class=\"code-attr\">LineBasicMaterial</span>:Za,<span class=\"code-attr\">Material</span>:Xe}),tc={<span class=\"code-attr\">arraySlice</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> tc.isTypedArray(t)?<span class=\"code-keyword\">new</span> t.constructor(t.subarray(e,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:t.length)):t.slice(e,n)},<span class=\"code-attr\">convertArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span>!t||!n&amp;&amp;t.constructor===e?t:<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.BYTES_PER_ELEMENT?<span class=\"code-keyword\">new</span> e(t):<span class=\"code-built_in\">Array</span>.prototype.slice.call(t)},<span class=\"code-attr\">isTypedArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">ArrayBuffer</span>.isView(t)&amp;&amp;!(t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">DataView</span>)},<span class=\"code-attr\">getKeyframeOrder</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t.length,n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),r=<span class=\"code-number\">0</span>;r!==e;++r)n[r]=r;<span class=\"code-keyword\">return</span> n.sort((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">return</span> t[e]-t[n]})),n},<span class=\"code-attr\">sortedArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=t.length,i=<span class=\"code-keyword\">new</span> t.constructor(r),a=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">0</span>;o!==r;++a)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=n[a]*e,c=<span class=\"code-number\">0</span>;c!==e;++c)i[o++]=t[s+c];<span class=\"code-keyword\">return</span> i},<span class=\"code-attr\">flattenJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">1</span>,a=t[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a[r];)a=t[i++];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a){<span class=\"code-keyword\">var</span> o=a[r];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o)<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(o))<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),n.push.apply(n,o)),a=t[i++]}<span class=\"code-keyword\">while</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.toArray)<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}<span class=\"code-keyword\">while</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),n.push(o)),a=t[i++]}<span class=\"code-keyword\">while</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a)}},<span class=\"code-attr\">subclip</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">30</span>);<span class=\"code-keyword\">var</span> a=t.clone();a.name=e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=[],s=<span class=\"code-number\">0</span>;s&lt;a.tracks.length;++s){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=a.tracks[s],l=c.getValueSize(),u=[],h=[],d=<span class=\"code-number\">0</span>;d&lt;c.times.length;++d){<span class=\"code-keyword\">var</span> p=c.times[d]*i;<span class=\"code-keyword\">if</span>(!(p&lt;n||p&gt;=r)){u.push(c.times[d]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;f&lt;l;++f)h.push(c.values[d*l+f])}}<span class=\"code-number\">0</span>!==u.length&amp;&amp;(c.times=tc.convertArray(u,c.times.constructor),c.values=tc.convertArray(h,c.values.constructor),o.push(c))}a.tracks=o;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,v=<span class=\"code-number\">0</span>;v&lt;a.tracks.length;++v)m&gt;a.tracks[v].times[<span class=\"code-number\">0</span>]&amp;&amp;(m=a.tracks[v].times[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>;g&lt;a.tracks.length;++g)a.tracks[g].shift(<span class=\"code-number\">-1</span>*m);<span class=\"code-keyword\">return</span> a.resetDuration(),a},<span class=\"code-attr\">makeClipAdditive</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=t),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">30</span>),r&lt;=<span class=\"code-number\">0</span>&amp;&amp;(r=<span class=\"code-number\">30</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n.tracks.length,a=e/r,o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r=n.tracks[e],i=r.ValueTypeName;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"bool\"</span>===i||<span class=\"code-string\">\"string\"</span>===i)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"continue\"</span>;<span class=\"code-keyword\">var</span> o=t.tracks.find((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.name===r.name&amp;&amp;t.ValueTypeName===i}));<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"continue\"</span>;<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>,c=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(s=c/<span class=\"code-number\">3</span>);<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>,u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(l=u/<span class=\"code-number\">3</span>);<span class=\"code-keyword\">var</span> h=r.times.length<span class=\"code-number\">-1</span>,d=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(a&lt;=r.times[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">var</span> p=s,f=c-s;d=tc.arraySlice(r.values,p,f)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(a&gt;=r.times[h]){<span class=\"code-keyword\">var</span> m=h*c+s,v=m+c-s;d=tc.arraySlice(r.values,m,v)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> g=r.createInterpolant(),y=s,x=c-s;g.evaluate(a),d=tc.arraySlice(g.resultBuffer,y,x)}<span class=\"code-string\">\"quaternion\"</span>===i&amp;&amp;(<span class=\"code-keyword\">new</span> wt).fromArray(d).normalize().conjugate().toArray(d);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=o.times.length,b=<span class=\"code-number\">0</span>;b&lt;_;++b){<span class=\"code-keyword\">var</span> w=b*u+l;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"quaternion\"</span>===i)wt.multiplyQuaternionsFlat(o.values,w,d,<span class=\"code-number\">0</span>,o.values,w);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> M=u<span class=\"code-number\">-2</span>*l,S=<span class=\"code-number\">0</span>;S&lt;M;++S)o.values[w+S]-=d[S]}},s=<span class=\"code-number\">0</span>;s&lt;i;++s)o(s);<span class=\"code-keyword\">return</span> t.blendMode=j,t}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ec</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">this</span>.parameterPositions=t,<span class=\"code-keyword\">this</span>._cachedIndex=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.resultBuffer=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-keyword\">new</span> e.constructor(n),<span class=\"code-keyword\">this</span>.sampleValues=e,<span class=\"code-keyword\">this</span>.valueSize=n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ec.call(<span class=\"code-keyword\">this</span>,t,e,n,r),<span class=\"code-keyword\">this</span>._weightPrev=<span class=\"code-number\">-0</span>,<span class=\"code-keyword\">this</span>._offsetPrev=<span class=\"code-number\">-0</span>,<span class=\"code-keyword\">this</span>._weightNext=<span class=\"code-number\">-0</span>,<span class=\"code-keyword\">this</span>._offsetNext=<span class=\"code-number\">-0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ec.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ic</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ec.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ac</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"THREE.KeyframeTrack: track name is undefined\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||<span class=\"code-number\">0</span>===e.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"THREE.KeyframeTrack: no keyframes in track named \"</span>+t);<span class=\"code-keyword\">this</span>.name=t,<span class=\"code-keyword\">this</span>.times=tc.convertArray(e,<span class=\"code-keyword\">this</span>.TimeBufferType),<span class=\"code-keyword\">this</span>.values=tc.convertArray(n,<span class=\"code-keyword\">this</span>.ValueBufferType),<span class=\"code-keyword\">this</span>.setInterpolation(r||<span class=\"code-keyword\">this</span>.DefaultInterpolation)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oc</span>(<span class=\"code-params\">t,e,n</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ec.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">uc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{ac.call(<span class=\"code-keyword\">this</span>,t,e,n,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">this</span>.name=t,<span class=\"code-keyword\">this</span>.tracks=n,<span class=\"code-keyword\">this</span>.duration=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.blendMode=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:W,<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.duration&lt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>.resetDuration()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fc</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.type)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"THREE.KeyframeTrack: track type undefined, can not parse\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.toLowerCase()){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"scalar\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"double\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"float\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"number\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"integer\"</span>:<span class=\"code-keyword\">return</span> cc;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"vector\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"vector2\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"vector3\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"vector4\"</span>:<span class=\"code-keyword\">return</span> dc;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"color\"</span>:<span class=\"code-keyword\">return</span> sc;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"quaternion\"</span>:<span class=\"code-keyword\">return</span> uc;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"bool\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"boolean\"</span>:<span class=\"code-keyword\">return</span> oc;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"string\"</span>:<span class=\"code-keyword\">return</span> hc}<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"THREE.KeyframeTrack: Unsupported typeName: \"</span>+t)}(t.type);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.times){<span class=\"code-keyword\">var</span> n=[],r=[];tc.flattenJSON(t.keys,n,r,<span class=\"code-string\">\"value\"</span>),t.times=n,t.values=r}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.parse?e.parse(t):<span class=\"code-keyword\">new</span> e(t.name,t.times,t.values,t.interpolation)}<span class=\"code-built_in\">Object</span>.assign(ec.prototype,{<span class=\"code-attr\">evaluate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.parameterPositions,n=<span class=\"code-keyword\">this</span>._cachedIndex,r=e[n],i=e[n<span class=\"code-number\">-1</span>];t:{<span class=\"code-attr\">e</span>:{<span class=\"code-keyword\">var</span> a;n:{<span class=\"code-attr\">r</span>:<span class=\"code-keyword\">if</span>(!(t&lt;r)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=n+<span class=\"code-number\">2</span>;;){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r){<span class=\"code-keyword\">if</span>(t&lt;i)<span class=\"code-keyword\">break</span> r;<span class=\"code-keyword\">return</span> n=e.length,<span class=\"code-keyword\">this</span>._cachedIndex=n,<span class=\"code-keyword\">this</span>.afterEnd_(n<span class=\"code-number\">-1</span>,t,i)}<span class=\"code-keyword\">if</span>(n===o)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(i=r,t&lt;(r=e[++n]))<span class=\"code-keyword\">break</span> e}a=e.length;<span class=\"code-keyword\">break</span> n}<span class=\"code-keyword\">if</span>(t&gt;=i)<span class=\"code-keyword\">break</span> t;<span class=\"code-keyword\">var</span> s=e[<span class=\"code-number\">1</span>];t&lt;s&amp;&amp;(n=<span class=\"code-number\">2</span>,i=s);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=n<span class=\"code-number\">-2</span>;;){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._cachedIndex=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.beforeStart_(<span class=\"code-number\">0</span>,t,r);<span class=\"code-keyword\">if</span>(n===c)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(r=i,t&gt;=(i=e[--n<span class=\"code-number\">-1</span>]))<span class=\"code-keyword\">break</span> e}a=n,n=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">for</span>(;n&lt;a;){<span class=\"code-keyword\">var</span> l=n+a&gt;&gt;&gt;<span class=\"code-number\">1</span>;t&lt;e[l]?a=l:n=l+<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(r=e[n],<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(i=e[n<span class=\"code-number\">-1</span>]))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._cachedIndex=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.beforeStart_(<span class=\"code-number\">0</span>,t,r);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r)<span class=\"code-keyword\">return</span> n=e.length,<span class=\"code-keyword\">this</span>._cachedIndex=n,<span class=\"code-keyword\">this</span>.afterEnd_(n<span class=\"code-number\">-1</span>,i,t)}<span class=\"code-keyword\">this</span>._cachedIndex=n,<span class=\"code-keyword\">this</span>.intervalChanged_(n,i,r)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.interpolate_(n,i,t,r)},<span class=\"code-attr\">settings</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">DefaultSettings_</span>:{},<span class=\"code-attr\">getSettings_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.settings||<span class=\"code-keyword\">this</span>.DefaultSettings_},<span class=\"code-attr\">copySampleValue_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.resultBuffer,n=<span class=\"code-keyword\">this</span>.sampleValues,r=<span class=\"code-keyword\">this</span>.valueSize,i=t*r,a=<span class=\"code-number\">0</span>;a!==r;++a)e[a]=n[i+a];<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">interpolate_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"call to abstract method\"</span>)},<span class=\"code-attr\">intervalChanged_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}),<span class=\"code-built_in\">Object</span>.assign(ec.prototype,{<span class=\"code-attr\">beforeStart_</span>:ec.prototype.copySampleValue_,<span class=\"code-attr\">afterEnd_</span>:ec.prototype.copySampleValue_}),nc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ec.prototype),{<span class=\"code-attr\">constructor</span>:nc,<span class=\"code-attr\">DefaultSettings_</span>:{<span class=\"code-attr\">endingStart</span>:H,<span class=\"code-attr\">endingEnd</span>:H},<span class=\"code-attr\">intervalChanged_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.parameterPositions,i=t<span class=\"code-number\">-2</span>,a=t+<span class=\"code-number\">1</span>,o=r[i],s=r[a];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o)<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.getSettings_().endingStart){<span class=\"code-keyword\">case</span> k:i=t,o=<span class=\"code-number\">2</span>*e-n;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> V:o=e+r[i=r.length<span class=\"code-number\">-2</span>]-r[i+<span class=\"code-number\">1</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:i=t,o=n}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s)<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.getSettings_().endingEnd){<span class=\"code-keyword\">case</span> k:a=t,s=<span class=\"code-number\">2</span>*n-e;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> V:a=<span class=\"code-number\">1</span>,s=n+r[<span class=\"code-number\">1</span>]-r[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:a=t<span class=\"code-number\">-1</span>,s=e}<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">.5</span>*(n-e),l=<span class=\"code-keyword\">this</span>.valueSize;<span class=\"code-keyword\">this</span>._weightPrev=c/(e-o),<span class=\"code-keyword\">this</span>._weightNext=c/(s-n),<span class=\"code-keyword\">this</span>._offsetPrev=i*l,<span class=\"code-keyword\">this</span>._offsetNext=a*l},<span class=\"code-attr\">interpolate_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.resultBuffer,a=<span class=\"code-keyword\">this</span>.sampleValues,o=<span class=\"code-keyword\">this</span>.valueSize,s=t*o,c=s-o,l=<span class=\"code-keyword\">this</span>._offsetPrev,u=<span class=\"code-keyword\">this</span>._offsetNext,h=<span class=\"code-keyword\">this</span>._weightPrev,d=<span class=\"code-keyword\">this</span>._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,v=-h*m+<span class=\"code-number\">2</span>*h*f-h*p,g=(<span class=\"code-number\">1</span>+h)*m+(<span class=\"code-number\">-1.5</span><span class=\"code-number\">-2</span>*h)*f+(<span class=\"code-number\">-.5</span>+h)*p+<span class=\"code-number\">1</span>,y=(<span class=\"code-number\">-1</span>-d)*m+(<span class=\"code-number\">1.5</span>+d)*f+<span class=\"code-number\">.5</span>*p,x=d*m-d*f,_=<span class=\"code-number\">0</span>;_!==o;++_)i[_]=v*a[l+_]+g*a[c+_]+y*a[s+_]+x*a[u+_];<span class=\"code-keyword\">return</span> i}}),rc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ec.prototype),{<span class=\"code-attr\">constructor</span>:rc,<span class=\"code-attr\">interpolate_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.resultBuffer,a=<span class=\"code-keyword\">this</span>.sampleValues,o=<span class=\"code-keyword\">this</span>.valueSize,s=t*o,c=s-o,l=(n-e)/(r-e),u=<span class=\"code-number\">1</span>-l,h=<span class=\"code-number\">0</span>;h!==o;++h)i[h]=a[c+h]*u+a[s+h]*l;<span class=\"code-keyword\">return</span> i}}),ic.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ec.prototype),{<span class=\"code-attr\">constructor</span>:ic,<span class=\"code-attr\">interpolate_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.copySampleValue_(t<span class=\"code-number\">-1</span>)}}),<span class=\"code-built_in\">Object</span>.assign(ac,{<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n=t.constructor;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.toJSON)e=n.toJSON(t);<span class=\"code-keyword\">else</span>{e={<span class=\"code-attr\">name</span>:t.name,<span class=\"code-attr\">times</span>:tc.convertArray(t.times,<span class=\"code-built_in\">Array</span>),<span class=\"code-attr\">values</span>:tc.convertArray(t.values,<span class=\"code-built_in\">Array</span>)};<span class=\"code-keyword\">var</span> r=t.getInterpolation();r!==t.DefaultInterpolation&amp;&amp;(e.interpolation=r)}<span class=\"code-keyword\">return</span> e.type=t.ValueTypeName,e}}),<span class=\"code-built_in\">Object</span>.assign(ac.prototype,{<span class=\"code-attr\">constructor</span>:ac,<span class=\"code-attr\">TimeBufferType</span>:<span class=\"code-built_in\">Float32Array</span>,<span class=\"code-attr\">ValueBufferType</span>:<span class=\"code-built_in\">Float32Array</span>,<span class=\"code-attr\">DefaultInterpolation</span>:F,<span class=\"code-attr\">InterpolantFactoryMethodDiscrete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> ic(<span class=\"code-keyword\">this</span>.times,<span class=\"code-keyword\">this</span>.values,<span class=\"code-keyword\">this</span>.getValueSize(),t)},<span class=\"code-attr\">InterpolantFactoryMethodLinear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> rc(<span class=\"code-keyword\">this</span>.times,<span class=\"code-keyword\">this</span>.values,<span class=\"code-keyword\">this</span>.getValueSize(),t)},<span class=\"code-attr\">InterpolantFactoryMethodSmooth</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> nc(<span class=\"code-keyword\">this</span>.times,<span class=\"code-keyword\">this</span>.values,<span class=\"code-keyword\">this</span>.getValueSize(),t)},<span class=\"code-attr\">setInterpolation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span> U:e=<span class=\"code-keyword\">this</span>.InterpolantFactoryMethodDiscrete;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> F:e=<span class=\"code-keyword\">this</span>.InterpolantFactoryMethodLinear;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> G:e=<span class=\"code-keyword\">this</span>.InterpolantFactoryMethodSmooth}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e){<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"unsupported interpolation for \"</span>+<span class=\"code-keyword\">this</span>.ValueTypeName+<span class=\"code-string\">\" keyframe track named \"</span>+<span class=\"code-keyword\">this</span>.name;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.createInterpolant){<span class=\"code-keyword\">if</span>(t===<span class=\"code-keyword\">this</span>.DefaultInterpolation)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(n);<span class=\"code-keyword\">this</span>.setInterpolation(<span class=\"code-keyword\">this</span>.DefaultInterpolation)}<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.KeyframeTrack:\"</span>,n),<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.createInterpolant=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">getInterpolation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.createInterpolant){<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.InterpolantFactoryMethodDiscrete:<span class=\"code-keyword\">return</span> U;<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.InterpolantFactoryMethodLinear:<span class=\"code-keyword\">return</span> F;<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.InterpolantFactoryMethodSmooth:<span class=\"code-keyword\">return</span> G}},<span class=\"code-attr\">getValueSize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.values.length/<span class=\"code-keyword\">this</span>.times.length},<span class=\"code-attr\">shift</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.times,n=<span class=\"code-number\">0</span>,r=e.length;n!==r;++n)e[n]+=t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">scale</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.times,n=<span class=\"code-number\">0</span>,r=e.length;n!==r;++n)e[n]*=t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">trim</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.times,r=n.length,i=<span class=\"code-number\">0</span>,a=r<span class=\"code-number\">-1</span>;i!==r&amp;&amp;n[i]&lt;t;)++i;<span class=\"code-keyword\">for</span>(;<span class=\"code-number\">-1</span>!==a&amp;&amp;n[a]&gt;e;)--a;<span class=\"code-keyword\">if</span>(++a,<span class=\"code-number\">0</span>!==i||a!==r){i&gt;=a&amp;&amp;(i=(a=<span class=\"code-built_in\">Math</span>.max(a,<span class=\"code-number\">1</span>))<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.getValueSize();<span class=\"code-keyword\">this</span>.times=tc.arraySlice(n,i,a),<span class=\"code-keyword\">this</span>.values=tc.arraySlice(<span class=\"code-keyword\">this</span>.values,i*o,a*o)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">validate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=!<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.getValueSize();e-<span class=\"code-built_in\">Math</span>.floor(e)!=<span class=\"code-number\">0</span>&amp;&amp;(<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.KeyframeTrack: Invalid value size in track.\"</span>,<span class=\"code-keyword\">this</span>),t=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.times,r=<span class=\"code-keyword\">this</span>.values,i=n.length;<span class=\"code-number\">0</span>===i&amp;&amp;(<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.KeyframeTrack: Track is empty.\"</span>,<span class=\"code-keyword\">this</span>),t=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>,o=<span class=\"code-number\">0</span>;o!==i;o++){<span class=\"code-keyword\">var</span> s=n[o];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> s&amp;&amp;<span class=\"code-built_in\">isNaN</span>(s)){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.KeyframeTrack: Time is not a valid number.\"</span>,<span class=\"code-keyword\">this</span>,o,s),t=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==a&amp;&amp;a&gt;s){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.KeyframeTrack: Out of order keys.\"</span>,<span class=\"code-keyword\">this</span>,o,s,a),t=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>}a=s}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;tc.isTypedArray(r))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>,l=r.length;c!==l;++c){<span class=\"code-keyword\">var</span> u=r[c];<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">isNaN</span>(u)){<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.KeyframeTrack: Value is not a valid number.\"</span>,<span class=\"code-keyword\">this</span>,c,u),t=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">optimize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=tc.arraySlice(<span class=\"code-keyword\">this</span>.times),e=tc.arraySlice(<span class=\"code-keyword\">this</span>.values),n=<span class=\"code-keyword\">this</span>.getValueSize(),r=<span class=\"code-keyword\">this</span>.getInterpolation()===G,i=t.length<span class=\"code-number\">-1</span>,a=<span class=\"code-number\">1</span>,o=<span class=\"code-number\">1</span>;o&lt;i;++o){<span class=\"code-keyword\">var</span> s=!<span class=\"code-number\">1</span>,c=t[o];<span class=\"code-keyword\">if</span>(c!==t[o+<span class=\"code-number\">1</span>]&amp;&amp;(<span class=\"code-number\">1</span>!==o||c!==c[<span class=\"code-number\">0</span>]))<span class=\"code-keyword\">if</span>(r)s=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=o*n,u=l-n,h=l+n,d=<span class=\"code-number\">0</span>;d!==n;++d){<span class=\"code-keyword\">var</span> p=e[l+d];<span class=\"code-keyword\">if</span>(p!==e[u+d]||p!==e[h+d]){s=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">if</span>(s){<span class=\"code-keyword\">if</span>(o!==a){t[a]=t[o];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=o*n,m=a*n,v=<span class=\"code-number\">0</span>;v!==n;++v)e[m+v]=e[f+v]}++a}}<span class=\"code-keyword\">if</span>(i&gt;<span class=\"code-number\">0</span>){t[a]=t[i];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=i*n,y=a*n,x=<span class=\"code-number\">0</span>;x!==n;++x)e[y+x]=e[g+x];++a}<span class=\"code-keyword\">return</span> a!==t.length?(<span class=\"code-keyword\">this</span>.times=tc.arraySlice(t,<span class=\"code-number\">0</span>,a),<span class=\"code-keyword\">this</span>.values=tc.arraySlice(e,<span class=\"code-number\">0</span>,a*n)):(<span class=\"code-keyword\">this</span>.times=t,<span class=\"code-keyword\">this</span>.values=e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=tc.arraySlice(<span class=\"code-keyword\">this</span>.times,<span class=\"code-number\">0</span>),e=tc.arraySlice(<span class=\"code-keyword\">this</span>.values,<span class=\"code-number\">0</span>),n=<span class=\"code-keyword\">new</span>(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.constructor)(<span class=\"code-keyword\">this</span>.name,t,e);<span class=\"code-keyword\">return</span> n.createInterpolant=<span class=\"code-keyword\">this</span>.createInterpolant,n}}),oc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:oc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"bool\"</span>,<span class=\"code-attr\">ValueBufferType</span>:<span class=\"code-built_in\">Array</span>,<span class=\"code-attr\">DefaultInterpolation</span>:U,<span class=\"code-attr\">InterpolantFactoryMethodLinear</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">InterpolantFactoryMethodSmooth</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}),sc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:sc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"color\"</span>}),cc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:cc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"number\"</span>}),lc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ec.prototype),{<span class=\"code-attr\">constructor</span>:lc,<span class=\"code-attr\">interpolate_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.resultBuffer,a=<span class=\"code-keyword\">this</span>.sampleValues,o=<span class=\"code-keyword\">this</span>.valueSize,s=(n-e)/(r-e),c=t*o,l=c+o;c!==l;c+=<span class=\"code-number\">4</span>)wt.slerpFlat(i,<span class=\"code-number\">0</span>,a,c-o,a,c,s);<span class=\"code-keyword\">return</span> i}}),uc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:uc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"quaternion\"</span>,<span class=\"code-attr\">DefaultInterpolation</span>:F,<span class=\"code-attr\">InterpolantFactoryMethodLinear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> lc(<span class=\"code-keyword\">this</span>.times,<span class=\"code-keyword\">this</span>.values,<span class=\"code-keyword\">this</span>.getValueSize(),t)},<span class=\"code-attr\">InterpolantFactoryMethodSmooth</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}),hc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:hc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"string\"</span>,<span class=\"code-attr\">ValueBufferType</span>:<span class=\"code-built_in\">Array</span>,<span class=\"code-attr\">DefaultInterpolation</span>:U,<span class=\"code-attr\">InterpolantFactoryMethodLinear</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">InterpolantFactoryMethodSmooth</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}),dc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ac.prototype),{<span class=\"code-attr\">constructor</span>:dc,<span class=\"code-attr\">ValueTypeName</span>:<span class=\"code-string\">\"vector\"</span>}),<span class=\"code-built_in\">Object</span>.assign(pc,{<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=t.tracks,r=<span class=\"code-number\">1</span>/(t.fps||<span class=\"code-number\">1</span>),i=<span class=\"code-number\">0</span>,a=n.length;i!==a;++i)e.push(fc(n[i]).scale(r));<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> pc(t.name,t.duration,e,t.blendMode);<span class=\"code-keyword\">return</span> o.uuid=t.uuid,o},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=t.tracks,r={<span class=\"code-attr\">name</span>:t.name,<span class=\"code-attr\">duration</span>:t.duration,<span class=\"code-attr\">tracks</span>:e,<span class=\"code-attr\">uuid</span>:t.uuid,<span class=\"code-attr\">blendMode</span>:t.blendMode},i=<span class=\"code-number\">0</span>,a=n.length;i!==a;++i)e.push(ac.toJSON(n[i]));<span class=\"code-keyword\">return</span> r},<span class=\"code-attr\">CreateFromMorphTargetSequence</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.length,a=[],o=<span class=\"code-number\">0</span>;o&lt;i;o++){<span class=\"code-keyword\">var</span> s=[],c=[];s.push((o+i<span class=\"code-number\">-1</span>)%i,o,(o+<span class=\"code-number\">1</span>)%i),c.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> l=tc.getKeyframeOrder(s);s=tc.sortedArray(s,<span class=\"code-number\">1</span>,l),c=tc.sortedArray(c,<span class=\"code-number\">1</span>,l),r||<span class=\"code-number\">0</span>!==s[<span class=\"code-number\">0</span>]||(s.push(i),c.push(c[<span class=\"code-number\">0</span>])),a.push(<span class=\"code-keyword\">new</span> cc(<span class=\"code-string\">\".morphTargetInfluences[\"</span>+e[o].name+<span class=\"code-string\">\"]\"</span>,s,c).scale(<span class=\"code-number\">1</span>/n))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> pc(t,<span class=\"code-number\">-1</span>,a)},<span class=\"code-attr\">findByName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t;<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">Array</span>.isArray(t)){<span class=\"code-keyword\">var</span> r=t;n=r.geometry&amp;&amp;r.geometry.animations||r.animations}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;n.length;i++)<span class=\"code-keyword\">if</span>(n[i].name===e)<span class=\"code-keyword\">return</span> n[i];<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">CreateClipsFromMorphTargetSequences</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r={},i=<span class=\"code-regexp\">/^([\\w-]*?)([\\d]+)$/</span>,a=<span class=\"code-number\">0</span>,o=t.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=t[a],c=s.name.match(i);<span class=\"code-keyword\">if</span>(c&amp;&amp;c.length&gt;<span class=\"code-number\">1</span>){<span class=\"code-keyword\">var</span> l=c[<span class=\"code-number\">1</span>],u=r[l];u||(r[l]=u=[]),u.push(s)}}<span class=\"code-keyword\">var</span> h=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d <span class=\"code-keyword\">in</span> r)h.push(pc.CreateFromMorphTargetSequence(d,r[d],e,n));<span class=\"code-keyword\">return</span> h},<span class=\"code-attr\">parseAnimation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.AnimationClip: No animation in JSONLoader data.\"</span>),<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==n.length){<span class=\"code-keyword\">var</span> a=[],o=[];tc.flattenJSON(n,a,o,r),<span class=\"code-number\">0</span>!==a.length&amp;&amp;i.push(<span class=\"code-keyword\">new</span> t(e,a,o))}},r=[],i=t.name||<span class=\"code-string\">\"default\"</span>,a=t.fps||<span class=\"code-number\">30</span>,o=t.blendMode,s=t.length||<span class=\"code-number\">-1</span>,c=t.hierarchy||[],l=<span class=\"code-number\">0</span>;l&lt;c.length;l++){<span class=\"code-keyword\">var</span> u=c[l].keys;<span class=\"code-keyword\">if</span>(u&amp;&amp;<span class=\"code-number\">0</span>!==u.length)<span class=\"code-keyword\">if</span>(u[<span class=\"code-number\">0</span>].morphTargets){<span class=\"code-keyword\">var</span> h={},d=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(d=<span class=\"code-number\">0</span>;d&lt;u.length;d++)<span class=\"code-keyword\">if</span>(u[d].morphTargets)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>;p&lt;u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f <span class=\"code-keyword\">in</span> h){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=[],v=[],g=<span class=\"code-number\">0</span>;g!==u[d].morphTargets.length;++g){<span class=\"code-keyword\">var</span> y=u[d];m.push(y.time),v.push(y.morphTarget===f?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>)}r.push(<span class=\"code-keyword\">new</span> cc(<span class=\"code-string\">\".morphTargetInfluence[\"</span>+f+<span class=\"code-string\">\"]\"</span>,m,v))}s=h.length*(a||<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> x=<span class=\"code-string\">\".bones[\"</span>+e[l].name+<span class=\"code-string\">\"]\"</span>;n(dc,x+<span class=\"code-string\">\".position\"</span>,u,<span class=\"code-string\">\"pos\"</span>,r),n(uc,x+<span class=\"code-string\">\".quaternion\"</span>,u,<span class=\"code-string\">\"rot\"</span>,r),n(dc,x+<span class=\"code-string\">\".scale\"</span>,u,<span class=\"code-string\">\"scl\"</span>,r)}}<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===r.length?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">new</span> pc(i,s,r,o)}}),<span class=\"code-built_in\">Object</span>.assign(pc.prototype,{<span class=\"code-attr\">resetDuration</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.tracks.length;e!==n;++e){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.tracks[e];t=<span class=\"code-built_in\">Math</span>.max(t,r.times[r.times.length<span class=\"code-number\">-1</span>])}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.duration=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">trim</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-keyword\">this</span>.tracks.length;t++)<span class=\"code-keyword\">this</span>.tracks[t].trim(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.duration);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">validate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=!<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-keyword\">this</span>.tracks.length;e++)t=t&amp;&amp;<span class=\"code-keyword\">this</span>.tracks[e].validate();<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">optimize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-keyword\">this</span>.tracks.length;t++)<span class=\"code-keyword\">this</span>.tracks[t].optimize();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-keyword\">this</span>.tracks.length;e++)t.push(<span class=\"code-keyword\">this</span>.tracks[e].clone());<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> pc(<span class=\"code-keyword\">this</span>.name,<span class=\"code-keyword\">this</span>.duration,t,<span class=\"code-keyword\">this</span>.blendMode)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> pc.toJSON(<span class=\"code-keyword\">this</span>)}});<span class=\"code-keyword\">var</span> mc={<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">files</span>:{},<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.enabled&amp;&amp;(<span class=\"code-keyword\">this</span>.files[t]=e)},<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.enabled)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.files[t]},<span class=\"code-attr\">remove</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.files[t]},<span class=\"code-attr\">clear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.files={}}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vc</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,i=!<span class=\"code-number\">1</span>,a=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">0</span>,s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,c=[];<span class=\"code-keyword\">this</span>.onStart=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.onLoad=t,<span class=\"code-keyword\">this</span>.onProgress=e,<span class=\"code-keyword\">this</span>.onError=n,<span class=\"code-keyword\">this</span>.itemStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{o++,!<span class=\"code-number\">1</span>===i&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.onStart&amp;&amp;r.onStart(t,a,o),i=!<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.itemEnd=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{a++,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.onProgress&amp;&amp;r.onProgress(t,a,o),a===o&amp;&amp;(i=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.onLoad&amp;&amp;r.onLoad())},<span class=\"code-keyword\">this</span>.itemError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.onError&amp;&amp;r.onError(t)},<span class=\"code-keyword\">this</span>.resolveURL=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> s?s(t):t},<span class=\"code-keyword\">this</span>.setURLModifier=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> s=t,<span class=\"code-keyword\">this</span>},<span class=\"code-keyword\">this</span>.addHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> c.push(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-keyword\">this</span>.removeHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=c.indexOf(t);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==e&amp;&amp;c.splice(e,<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>},<span class=\"code-keyword\">this</span>.getHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=c.length;e&lt;n;e+=<span class=\"code-number\">2</span>){<span class=\"code-keyword\">var</span> r=c[e],i=c[e+<span class=\"code-number\">1</span>];<span class=\"code-keyword\">if</span>(r.global&amp;&amp;(r.lastIndex=<span class=\"code-number\">0</span>),r.test(t))<span class=\"code-keyword\">return</span> i}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}<span class=\"code-keyword\">var</span> gc=<span class=\"code-keyword\">new</span> vc;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yc</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.manager=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:gc,<span class=\"code-keyword\">this</span>.crossOrigin=<span class=\"code-string\">\"anonymous\"</span>,<span class=\"code-keyword\">this</span>.withCredentials=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.path=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.resourcePath=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.requestHeader={}}<span class=\"code-built_in\">Object</span>.assign(yc.prototype,{<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">loadAsync</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,i</span>)</span>{n.load(t,r,e,i)}))},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">setCrossOrigin</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.crossOrigin=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setWithCredentials</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.withCredentials=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setPath</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.path=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setResourcePath</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.resourcePath=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setRequestHeader</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.requestHeader=t,<span class=\"code-keyword\">this</span>}});<span class=\"code-keyword\">var</span> xc={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_c</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bc</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wc</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mc</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Sc</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tc</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ec</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ac</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Curve\"</span>,<span class=\"code-keyword\">this</span>.arcLengthDivisions=<span class=\"code-number\">200</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lc</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"EllipseCurve\"</span>,<span class=\"code-keyword\">this</span>.aX=t||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.aY=e||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.xRadius=n||<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.yRadius=r||<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aStartAngle=i||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.aEndAngle=a||<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI,<span class=\"code-keyword\">this</span>.aClockwise=o||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.aRotation=s||<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rc</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{Lc.call(<span class=\"code-keyword\">this</span>,t,e,n,n,r,i,a),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ArcCurve\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Cc</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">i,a,o,s</span>)</span>{t=i,e=o,n=<span class=\"code-number\">-3</span>*i+<span class=\"code-number\">3</span>*a<span class=\"code-number\">-2</span>*o-s,r=<span class=\"code-number\">2</span>*i<span class=\"code-number\">-2</span>*a+o+s}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">initCatmullRom</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,a</span>)</span>{i(e,n,a*(n-t),a*(r-e))},<span class=\"code-attr\">initNonuniformCatmullRom</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=(e-t)/a-(n-t)/(a+o)+(n-e)/o,l=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,c*=o,l*=o)},<span class=\"code-attr\">calc</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> a=i*i;<span class=\"code-keyword\">return</span> t+e*i+n*a+r*(a*i)}}}_c.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:_c,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.path&amp;&amp;(t=<span class=\"code-keyword\">this</span>.path+t),t=<span class=\"code-keyword\">this</span>.manager.resolveURL(t);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=mc.get(t);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a)<span class=\"code-keyword\">return</span> i.manager.itemStart(t),setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class=\"code-number\">0</span>),a;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===xc[t]){<span class=\"code-keyword\">var</span> o,s=t.match(<span class=\"code-regexp\">/^data:(.*?)(;base64)?,(.*)$/</span>);<span class=\"code-keyword\">if</span>(s){<span class=\"code-keyword\">var</span> c=s[<span class=\"code-number\">1</span>],l=!!s[<span class=\"code-number\">2</span>],u=s[<span class=\"code-number\">3</span>];u=<span class=\"code-built_in\">decodeURIComponent</span>(u),l&amp;&amp;(u=atob(u));<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> h,d=(<span class=\"code-keyword\">this</span>.responseType||<span class=\"code-string\">\"\"</span>).toLowerCase();<span class=\"code-keyword\">switch</span>(d){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"arraybuffer\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"blob\"</span>:<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(u.length),f=<span class=\"code-number\">0</span>;f&lt;u.length;f++)p[f]=u.charCodeAt(f);h=<span class=\"code-string\">\"blob\"</span>===d?<span class=\"code-keyword\">new</span> Blob([p.buffer],{<span class=\"code-attr\">type</span>:c}):p.buffer;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"document\"</span>:<span class=\"code-keyword\">var</span> m=<span class=\"code-keyword\">new</span> DOMParser;h=m.parseFromString(u,c);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"json\"</span>:h=<span class=\"code-built_in\">JSON</span>.parse(u);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:h=u}setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e&amp;&amp;e(h),i.manager.itemEnd(t)}),<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">catch</span>(e){setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),<span class=\"code-number\">0</span>)}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v <span class=\"code-keyword\">in</span> xc[t]=[],xc[t].push({<span class=\"code-attr\">onLoad</span>:e,<span class=\"code-attr\">onProgress</span>:n,<span class=\"code-attr\">onError</span>:r}),(o=<span class=\"code-keyword\">new</span> XMLHttpRequest).open(<span class=\"code-string\">\"GET\"</span>,t,!<span class=\"code-number\">0</span>),o.addEventListener(<span class=\"code-string\">\"load\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.response,r=xc[t];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">delete</span> xc[t],<span class=\"code-number\">200</span>===<span class=\"code-keyword\">this</span>.status||<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.status){<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.status&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.FileLoader: HTTP Status 0 received.\"</span>),mc.add(t,n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=r.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=r[a];s.onLoad&amp;&amp;s.onLoad(n)}i.manager.itemEnd(t)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>,l=r.length;c&lt;l;c++){<span class=\"code-keyword\">var</span> u=r[c];u.onError&amp;&amp;u.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!<span class=\"code-number\">1</span>),o.addEventListener(<span class=\"code-string\">\"progress\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=xc[t],r=<span class=\"code-number\">0</span>,i=n.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=n[r];a.onProgress&amp;&amp;a.onProgress(e)}}),!<span class=\"code-number\">1</span>),o.addEventListener(<span class=\"code-string\">\"error\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=xc[t];<span class=\"code-keyword\">delete</span> xc[t];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,a=n.length;r&lt;a;r++){<span class=\"code-keyword\">var</span> o=n[r];o.onError&amp;&amp;o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!<span class=\"code-number\">1</span>),o.addEventListener(<span class=\"code-string\">\"abort\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=xc[t];<span class=\"code-keyword\">delete</span> xc[t];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,a=n.length;r&lt;a;r++){<span class=\"code-keyword\">var</span> o=n[r];o.onError&amp;&amp;o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.responseType&amp;&amp;(o.responseType=<span class=\"code-keyword\">this</span>.responseType),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.withCredentials&amp;&amp;(o.withCredentials=<span class=\"code-keyword\">this</span>.withCredentials),o.overrideMimeType&amp;&amp;o.overrideMimeType(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.mimeType?<span class=\"code-keyword\">this</span>.mimeType:<span class=\"code-string\">\"text/plain\"</span>),<span class=\"code-keyword\">this</span>.requestHeader)o.setRequestHeader(v,<span class=\"code-keyword\">this</span>.requestHeader[v]);o.send(<span class=\"code-literal\">null</span>)}<span class=\"code-keyword\">return</span> i.manager.itemStart(t),o}xc[t].push({<span class=\"code-attr\">onLoad</span>:e,<span class=\"code-attr\">onProgress</span>:n,<span class=\"code-attr\">onError</span>:r})},<span class=\"code-attr\">setResponseType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.responseType=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setMimeType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.mimeType=t,<span class=\"code-keyword\">this</span>}}),bc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:bc,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">try</span>{e(i.parse(<span class=\"code-built_in\">JSON</span>.parse(n)))}<span class=\"code-keyword\">catch</span>(e){r?r(e):<span class=\"code-built_in\">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=pc.parse(t[n]);e.push(r)}<span class=\"code-keyword\">return</span> e}}),wc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:wc,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=[],o=<span class=\"code-keyword\">new</span> mo;o.image=a;<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> _c(<span class=\"code-keyword\">this</span>.manager);s.setPath(<span class=\"code-keyword\">this</span>.path),s.setResponseType(<span class=\"code-string\">\"arraybuffer\"</span>),s.setRequestHeader(<span class=\"code-keyword\">this</span>.requestHeader),s.setWithCredentials(i.withCredentials);<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">l</span>)</span>{s.load(t[l],(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=i.parse(t,!<span class=\"code-number\">0</span>);a[l]={<span class=\"code-attr\">width</span>:n.width,<span class=\"code-attr\">height</span>:n.height,<span class=\"code-attr\">format</span>:n.format,<span class=\"code-attr\">mipmaps</span>:n.mipmaps},<span class=\"code-number\">6</span>===(c+=<span class=\"code-number\">1</span>)&amp;&amp;(<span class=\"code-number\">1</span>===n.mipmapCount&amp;&amp;(o.minFilter=m),o.format=n.format,o.needsUpdate=!<span class=\"code-number\">0</span>,e&amp;&amp;e(o))}),n,r)}<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>,h=t.length;u&lt;h;++u)l(u);<span class=\"code-keyword\">else</span> s.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=i.parse(t,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(n.isCubemap)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=n.mipmaps.length/n.mipmapCount,s=<span class=\"code-number\">0</span>;s&lt;r;s++){a[s]={<span class=\"code-attr\">mipmaps</span>:[]};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}<span class=\"code-keyword\">else</span> o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;<span class=\"code-number\">1</span>===n.mipmapCount&amp;&amp;(o.minFilter=m),o.format=n.format,o.needsUpdate=!<span class=\"code-number\">0</span>,e&amp;&amp;e(o)}),n,r);<span class=\"code-keyword\">return</span> o}}),Mc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:Mc,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.path&amp;&amp;(t=<span class=\"code-keyword\">this</span>.path+t),t=<span class=\"code-keyword\">this</span>.manager.resolveURL(t);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=mc.get(t);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a)<span class=\"code-keyword\">return</span> i.manager.itemStart(t),setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class=\"code-number\">0</span>),a;<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">document</span>.createElementNS(<span class=\"code-string\">\"http://www.w3.org/1999/xhtml\"</span>,<span class=\"code-string\">\"img\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\"></span>)</span>{o.removeEventListener(<span class=\"code-string\">\"load\"</span>,s,!<span class=\"code-number\">1</span>),o.removeEventListener(<span class=\"code-string\">\"error\"</span>,c,!<span class=\"code-number\">1</span>),mc.add(t,<span class=\"code-keyword\">this</span>),e&amp;&amp;e(<span class=\"code-keyword\">this</span>),i.manager.itemEnd(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\">e</span>)</span>{o.removeEventListener(<span class=\"code-string\">\"load\"</span>,s,!<span class=\"code-number\">1</span>),o.removeEventListener(<span class=\"code-string\">\"error\"</span>,c,!<span class=\"code-number\">1</span>),r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)}<span class=\"code-keyword\">return</span> o.addEventListener(<span class=\"code-string\">\"load\"</span>,s,!<span class=\"code-number\">1</span>),o.addEventListener(<span class=\"code-string\">\"error\"</span>,c,!<span class=\"code-number\">1</span>),<span class=\"code-string\">\"data:\"</span>!==t.substr(<span class=\"code-number\">0</span>,<span class=\"code-number\">5</span>)&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.crossOrigin&amp;&amp;(o.crossOrigin=<span class=\"code-keyword\">this</span>.crossOrigin),i.manager.itemStart(t),o.src=t,o}}),Sc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:Sc,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Jn,a=<span class=\"code-keyword\">new</span> Mc(<span class=\"code-keyword\">this</span>.manager);a.setCrossOrigin(<span class=\"code-keyword\">this</span>.crossOrigin),a.setPath(<span class=\"code-keyword\">this</span>.path);<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">n</span>)</span>{a.load(t[n],(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i.images[n]=t,<span class=\"code-number\">6</span>===++o&amp;&amp;(i.needsUpdate=!<span class=\"code-number\">0</span>,e&amp;&amp;e(i))}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;t.length;++c)s(c);<span class=\"code-keyword\">return</span> i}}),Tc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:Tc,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> Kn,o=<span class=\"code-keyword\">new</span> _c(<span class=\"code-keyword\">this</span>.manager);<span class=\"code-keyword\">return</span> o.setResponseType(<span class=\"code-string\">\"arraybuffer\"</span>),o.setRequestHeader(<span class=\"code-keyword\">this</span>.requestHeader),o.setPath(<span class=\"code-keyword\">this</span>.path),o.setWithCredentials(i.withCredentials),o.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=i.parse(t);n&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.image?a.image=n.image:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.data&amp;&amp;(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.wrapS?n.wrapS:u,a.wrapT=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.wrapT?n.wrapT:u,a.magFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.magFilter?n.magFilter:m,a.minFilter=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.minFilter?n.minFilter:m,a.anisotropy=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.anisotropy?n.anisotropy:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.format&amp;&amp;(a.format=n.format),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.type&amp;&amp;(a.type=n.type),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.mipmaps&amp;&amp;(a.mipmaps=n.mipmaps,a.minFilter=g),<span class=\"code-number\">1</span>===n.mipmapCount&amp;&amp;(a.minFilter=m),a.needsUpdate=!<span class=\"code-number\">0</span>,e&amp;&amp;e(a,n))}),n,r),a}}),Ec.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:Ec,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> gt,a=<span class=\"code-keyword\">new</span> Mc(<span class=\"code-keyword\">this</span>.manager);<span class=\"code-keyword\">return</span> a.setCrossOrigin(<span class=\"code-keyword\">this</span>.crossOrigin),a.setPath(<span class=\"code-keyword\">this</span>.path),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{i.image=n;<span class=\"code-keyword\">var</span> r=t.search(<span class=\"code-regexp\">/\\.jpe?g($|\\?)/i</span>)&gt;<span class=\"code-number\">0</span>||<span class=\"code-number\">0</span>===t.search(<span class=\"code-regexp\">/^data\\:image\\/jpeg/</span>);i.format=r?S:T,i.needsUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;e(i)}),n,r),i}}),<span class=\"code-built_in\">Object</span>.assign(Ac.prototype,{<span class=\"code-attr\">getPoint</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Curve: .getPoint() not implemented.\"</span>),<span class=\"code-literal\">null</span>},<span class=\"code-attr\">getPointAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.getUtoTmapping(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getPoint(n,e)},<span class=\"code-attr\">getPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">5</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;=t;n++)e.push(<span class=\"code-keyword\">this</span>.getPoint(n/t));<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">getSpacedPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">5</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;=t;n++)e.push(<span class=\"code-keyword\">this</span>.getPointAt(n/t));<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">getLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getLengths();<span class=\"code-keyword\">return</span> t[t.length<span class=\"code-number\">-1</span>]},<span class=\"code-attr\">getLengths</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">this</span>.arcLengthDivisions),<span class=\"code-keyword\">this</span>.cacheArcLengths&amp;&amp;<span class=\"code-keyword\">this</span>.cacheArcLengths.length===t+<span class=\"code-number\">1</span>&amp;&amp;!<span class=\"code-keyword\">this</span>.needsUpdate)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cacheArcLengths;<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> e,n=[],r=<span class=\"code-keyword\">this</span>.getPoint(<span class=\"code-number\">0</span>),i=<span class=\"code-number\">0</span>;n.push(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">1</span>;a&lt;=t;a++)i+=(e=<span class=\"code-keyword\">this</span>.getPoint(a/t)).distanceTo(r),n.push(i),r=e;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cacheArcLengths=n,n},<span class=\"code-attr\">updateArcLengths</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.getLengths()},<span class=\"code-attr\">getUtoTmapping</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">this</span>.getLengths(),i=<span class=\"code-number\">0</span>,a=r.length;n=e||t*r[a<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o,s=<span class=\"code-number\">0</span>,c=a<span class=\"code-number\">-1</span>;s&lt;=c;)<span class=\"code-keyword\">if</span>((o=r[i=<span class=\"code-built_in\">Math</span>.floor(s+(c-s)/<span class=\"code-number\">2</span>)]-n)&lt;<span class=\"code-number\">0</span>)s=i+<span class=\"code-number\">1</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(o&gt;<span class=\"code-number\">0</span>)){c=i;<span class=\"code-keyword\">break</span>}c=i<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">if</span>(r[i=c]===n)<span class=\"code-keyword\">return</span> i/(a<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">var</span> l=r[i];<span class=\"code-keyword\">return</span>(i+(n-l)/(r[i+<span class=\"code-number\">1</span>]-l))/(a<span class=\"code-number\">-1</span>)},<span class=\"code-attr\">getTangent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">1e-4</span>,r=t-n,i=t+n;r&lt;<span class=\"code-number\">0</span>&amp;&amp;(r=<span class=\"code-number\">0</span>),i&gt;<span class=\"code-number\">1</span>&amp;&amp;(i=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.getPoint(r),o=<span class=\"code-keyword\">this</span>.getPoint(i),s=e||(a.isVector2?<span class=\"code-keyword\">new</span> pt:<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">return</span> s.copy(o).sub(a).normalize(),s},<span class=\"code-attr\">getTangentAt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.getUtoTmapping(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getTangent(n,e)},<span class=\"code-attr\">computeFrenetFrames</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Mt,r=[],i=[],a=[],o=<span class=\"code-keyword\">new</span> Mt,s=<span class=\"code-keyword\">new</span> Qt,c=<span class=\"code-number\">0</span>;c&lt;=t;c++){<span class=\"code-keyword\">var</span> l=c/t;r[c]=<span class=\"code-keyword\">this</span>.getTangentAt(l,<span class=\"code-keyword\">new</span> Mt),r[c].normalize()}i[<span class=\"code-number\">0</span>]=<span class=\"code-keyword\">new</span> Mt,a[<span class=\"code-number\">0</span>]=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-keyword\">var</span> u=<span class=\"code-built_in\">Number</span>.MAX_VALUE,h=<span class=\"code-built_in\">Math</span>.abs(r[<span class=\"code-number\">0</span>].x),d=<span class=\"code-built_in\">Math</span>.abs(r[<span class=\"code-number\">0</span>].y),p=<span class=\"code-built_in\">Math</span>.abs(r[<span class=\"code-number\">0</span>].z);h&lt;=u&amp;&amp;(u=h,n.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),d&lt;=u&amp;&amp;(u=d,n.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>)),p&lt;=u&amp;&amp;n.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),o.crossVectors(r[<span class=\"code-number\">0</span>],n).normalize(),i[<span class=\"code-number\">0</span>].crossVectors(r[<span class=\"code-number\">0</span>],o),a[<span class=\"code-number\">0</span>].crossVectors(r[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">1</span>;f&lt;=t;f++){<span class=\"code-keyword\">if</span>(i[f]=i[f<span class=\"code-number\">-1</span>].clone(),a[f]=a[f<span class=\"code-number\">-1</span>].clone(),o.crossVectors(r[f<span class=\"code-number\">-1</span>],r[f]),o.length()&gt;<span class=\"code-built_in\">Number</span>.EPSILON){o.normalize();<span class=\"code-keyword\">var</span> m=<span class=\"code-built_in\">Math</span>.acos(st.clamp(r[f<span class=\"code-number\">-1</span>].dot(r[f]),<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>));i[f].applyMatrix4(s.makeRotationAxis(o,m))}a[f].crossVectors(r[f],i[f])}<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e){<span class=\"code-keyword\">var</span> v=<span class=\"code-built_in\">Math</span>.acos(st.clamp(i[<span class=\"code-number\">0</span>].dot(i[t]),<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>));v/=t,r[<span class=\"code-number\">0</span>].dot(o.crossVectors(i[<span class=\"code-number\">0</span>],i[t]))&gt;<span class=\"code-number\">0</span>&amp;&amp;(v=-v);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">1</span>;g&lt;=t;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),a[g].crossVectors(r[g],i[g])}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">tangents</span>:r,<span class=\"code-attr\">normals</span>:i,<span class=\"code-attr\">binormals</span>:a}},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.arcLengthDivisions=t.arcLengthDivisions,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">metadata</span>:{<span class=\"code-attr\">version</span>:<span class=\"code-number\">4.5</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"Curve\"</span>,<span class=\"code-attr\">generator</span>:<span class=\"code-string\">\"Curve.toJSON\"</span>}};<span class=\"code-keyword\">return</span> t.arcLengthDivisions=<span class=\"code-keyword\">this</span>.arcLengthDivisions,t.type=<span class=\"code-keyword\">this</span>.type,t},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.arcLengthDivisions=t.arcLengthDivisions,<span class=\"code-keyword\">this</span>}}),Lc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isEllipseCurve=!<span class=\"code-number\">0</span>,Lc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e||<span class=\"code-keyword\">new</span> pt,r=<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI,i=<span class=\"code-keyword\">this</span>.aEndAngle-<span class=\"code-keyword\">this</span>.aStartAngle,a=<span class=\"code-built_in\">Math</span>.abs(i)&lt;<span class=\"code-built_in\">Number</span>.EPSILON;i&lt;<span class=\"code-number\">0</span>;)i+=r;<span class=\"code-keyword\">for</span>(;i&gt;r;)i-=r;i&lt;<span class=\"code-built_in\">Number</span>.EPSILON&amp;&amp;(i=a?<span class=\"code-number\">0</span>:r),!<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.aClockwise||a||(i===r?i=-r:i-=r);<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.aStartAngle+t*i,s=<span class=\"code-keyword\">this</span>.aX+<span class=\"code-keyword\">this</span>.xRadius*<span class=\"code-built_in\">Math</span>.cos(o),c=<span class=\"code-keyword\">this</span>.aY+<span class=\"code-keyword\">this</span>.yRadius*<span class=\"code-built_in\">Math</span>.sin(o);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.aRotation){<span class=\"code-keyword\">var</span> l=<span class=\"code-built_in\">Math</span>.cos(<span class=\"code-keyword\">this</span>.aRotation),u=<span class=\"code-built_in\">Math</span>.sin(<span class=\"code-keyword\">this</span>.aRotation),h=s-<span class=\"code-keyword\">this</span>.aX,d=c-<span class=\"code-keyword\">this</span>.aY;s=h*l-d*u+<span class=\"code-keyword\">this</span>.aX,c=h*u+d*l+<span class=\"code-keyword\">this</span>.aY}<span class=\"code-keyword\">return</span> n.set(s,c)},Lc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.aX=t.aX,<span class=\"code-keyword\">this</span>.aY=t.aY,<span class=\"code-keyword\">this</span>.xRadius=t.xRadius,<span class=\"code-keyword\">this</span>.yRadius=t.yRadius,<span class=\"code-keyword\">this</span>.aStartAngle=t.aStartAngle,<span class=\"code-keyword\">this</span>.aEndAngle=t.aEndAngle,<span class=\"code-keyword\">this</span>.aClockwise=t.aClockwise,<span class=\"code-keyword\">this</span>.aRotation=t.aRotation,<span class=\"code-keyword\">this</span>},Lc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.aX=<span class=\"code-keyword\">this</span>.aX,t.aY=<span class=\"code-keyword\">this</span>.aY,t.xRadius=<span class=\"code-keyword\">this</span>.xRadius,t.yRadius=<span class=\"code-keyword\">this</span>.yRadius,t.aStartAngle=<span class=\"code-keyword\">this</span>.aStartAngle,t.aEndAngle=<span class=\"code-keyword\">this</span>.aEndAngle,t.aClockwise=<span class=\"code-keyword\">this</span>.aClockwise,t.aRotation=<span class=\"code-keyword\">this</span>.aRotation,t},Lc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.aX=t.aX,<span class=\"code-keyword\">this</span>.aY=t.aY,<span class=\"code-keyword\">this</span>.xRadius=t.xRadius,<span class=\"code-keyword\">this</span>.yRadius=t.yRadius,<span class=\"code-keyword\">this</span>.aStartAngle=t.aStartAngle,<span class=\"code-keyword\">this</span>.aEndAngle=t.aEndAngle,<span class=\"code-keyword\">this</span>.aClockwise=t.aClockwise,<span class=\"code-keyword\">this</span>.aRotation=t.aRotation,<span class=\"code-keyword\">this</span>},Rc.prototype=<span class=\"code-built_in\">Object</span>.create(Lc.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isArcCurve=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> Pc=<span class=\"code-keyword\">new</span> Mt,Ic=<span class=\"code-keyword\">new</span> Cc,Nc=<span class=\"code-keyword\">new</span> Cc,Dc=<span class=\"code-keyword\">new</span> Cc;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-string\">\"centripetal\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">.5</span>),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"CatmullRomCurve3\"</span>,<span class=\"code-keyword\">this</span>.points=t,<span class=\"code-keyword\">this</span>.closed=e,<span class=\"code-keyword\">this</span>.curveType=n,<span class=\"code-keyword\">this</span>.tension=r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bc</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">.5</span>*(r-e),o=<span class=\"code-number\">.5</span>*(i-n),s=t*t;<span class=\"code-keyword\">return</span>(<span class=\"code-number\">2</span>*n<span class=\"code-number\">-2</span>*r+a+o)*(t*s)+(<span class=\"code-number\">-3</span>*n+<span class=\"code-number\">3</span>*r<span class=\"code-number\">-2</span>*a-o)*s+a*t+n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">1</span>-t;<span class=\"code-keyword\">return</span> n*n*e}(t,e)+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">2</span>*(<span class=\"code-number\">1</span>-t)*t*e}(t,n)+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t*t*e}(t,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Uc</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">1</span>-t;<span class=\"code-keyword\">return</span> n*n*n*e}(t,e)+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">1</span>-t;<span class=\"code-keyword\">return</span> <span class=\"code-number\">3</span>*n*n*t*e}(t,n)+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">3</span>*(<span class=\"code-number\">1</span>-t)*t*t*e}(t,r)+<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t*t*t*e}(t,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-keyword\">new</span> pt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"CubicBezierCurve\"</span>,<span class=\"code-keyword\">this</span>.v0=t,<span class=\"code-keyword\">this</span>.v1=e,<span class=\"code-keyword\">this</span>.v2=n,<span class=\"code-keyword\">this</span>.v3=r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gc</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-keyword\">new</span> Mt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"CubicBezierCurve3\"</span>,<span class=\"code-keyword\">this</span>.v0=t,<span class=\"code-keyword\">this</span>.v1=e,<span class=\"code-keyword\">this</span>.v2=n,<span class=\"code-keyword\">this</span>.v3=r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hc</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineCurve\"</span>,<span class=\"code-keyword\">this</span>.v1=t,<span class=\"code-keyword\">this</span>.v2=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kc</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LineCurve3\"</span>,<span class=\"code-keyword\">this</span>.v1=t,<span class=\"code-keyword\">this</span>.v2=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vc</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> pt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"QuadraticBezierCurve\"</span>,<span class=\"code-keyword\">this</span>.v0=t,<span class=\"code-keyword\">this</span>.v1=e,<span class=\"code-keyword\">this</span>.v2=n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wc</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> Mt),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"QuadraticBezierCurve3\"</span>,<span class=\"code-keyword\">this</span>.v0=t,<span class=\"code-keyword\">this</span>.v1=e,<span class=\"code-keyword\">this</span>.v2=n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jc</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"SplineCurve\"</span>,<span class=\"code-keyword\">this</span>.points=t}Oc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isCatmullRomCurve3=!<span class=\"code-number\">0</span>,Oc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n,r,i=e,a=<span class=\"code-keyword\">this</span>.points,o=a.length,s=(o-(<span class=\"code-keyword\">this</span>.closed?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>))*t,c=<span class=\"code-built_in\">Math</span>.floor(s),l=s-c;<span class=\"code-keyword\">this</span>.closed?c+=c&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:(<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-built_in\">Math</span>.abs(c)/o)+<span class=\"code-number\">1</span>)*o:<span class=\"code-number\">0</span>===l&amp;&amp;c===o<span class=\"code-number\">-1</span>&amp;&amp;(c=o<span class=\"code-number\">-2</span>,l=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.closed||c&gt;<span class=\"code-number\">0</span>?n=a[(c<span class=\"code-number\">-1</span>)%o]:(Pc.subVectors(a[<span class=\"code-number\">0</span>],a[<span class=\"code-number\">1</span>]).add(a[<span class=\"code-number\">0</span>]),n=Pc);<span class=\"code-keyword\">var</span> u=a[c%o],h=a[(c+<span class=\"code-number\">1</span>)%o];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.closed||c+<span class=\"code-number\">2</span>&lt;o?r=a[(c+<span class=\"code-number\">2</span>)%o]:(Pc.subVectors(a[o<span class=\"code-number\">-1</span>],a[o<span class=\"code-number\">-2</span>]).add(a[o<span class=\"code-number\">-1</span>]),r=Pc),<span class=\"code-string\">\"centripetal\"</span>===<span class=\"code-keyword\">this</span>.curveType||<span class=\"code-string\">\"chordal\"</span>===<span class=\"code-keyword\">this</span>.curveType){<span class=\"code-keyword\">var</span> d=<span class=\"code-string\">\"chordal\"</span>===<span class=\"code-keyword\">this</span>.curveType?<span class=\"code-number\">.5</span>:<span class=\"code-number\">.25</span>,p=<span class=\"code-built_in\">Math</span>.pow(n.distanceToSquared(u),d),f=<span class=\"code-built_in\">Math</span>.pow(u.distanceToSquared(h),d),m=<span class=\"code-built_in\">Math</span>.pow(h.distanceToSquared(r),d);f&lt;<span class=\"code-number\">1e-4</span>&amp;&amp;(f=<span class=\"code-number\">1</span>),p&lt;<span class=\"code-number\">1e-4</span>&amp;&amp;(p=f),m&lt;<span class=\"code-number\">1e-4</span>&amp;&amp;(m=f),Ic.initNonuniformCatmullRom(n.x,u.x,h.x,r.x,p,f,m),Nc.initNonuniformCatmullRom(n.y,u.y,h.y,r.y,p,f,m),Dc.initNonuniformCatmullRom(n.z,u.z,h.z,r.z,p,f,m)}<span class=\"code-keyword\">else</span><span class=\"code-string\">\"catmullrom\"</span>===<span class=\"code-keyword\">this</span>.curveType&amp;&amp;(Ic.initCatmullRom(n.x,u.x,h.x,r.x,<span class=\"code-keyword\">this</span>.tension),Nc.initCatmullRom(n.y,u.y,h.y,r.y,<span class=\"code-keyword\">this</span>.tension),Dc.initCatmullRom(n.z,u.z,h.z,r.z,<span class=\"code-keyword\">this</span>.tension));<span class=\"code-keyword\">return</span> i.set(Ic.calc(l),Nc.calc(l),Dc.calc(l)),i},Oc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.points[e];<span class=\"code-keyword\">this</span>.points.push(r.clone())}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.closed=t.closed,<span class=\"code-keyword\">this</span>.curveType=t.curveType,<span class=\"code-keyword\">this</span>.tension=t.tension,<span class=\"code-keyword\">this</span>},Oc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);t.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.points[e];t.points.push(r.toArray())}<span class=\"code-keyword\">return</span> t.closed=<span class=\"code-keyword\">this</span>.closed,t.curveType=<span class=\"code-keyword\">this</span>.curveType,t.tension=<span class=\"code-keyword\">this</span>.tension,t},Oc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.points[e];<span class=\"code-keyword\">this</span>.points.push((<span class=\"code-keyword\">new</span> Mt).fromArray(r))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.closed=t.closed,<span class=\"code-keyword\">this</span>.curveType=t.curveType,<span class=\"code-keyword\">this</span>.tension=t.tension,<span class=\"code-keyword\">this</span>},Fc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isCubicBezierCurve=!<span class=\"code-number\">0</span>,Fc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt);<span class=\"code-keyword\">var</span> n=e,r=<span class=\"code-keyword\">this</span>.v0,i=<span class=\"code-keyword\">this</span>.v1,a=<span class=\"code-keyword\">this</span>.v2,o=<span class=\"code-keyword\">this</span>.v3;<span class=\"code-keyword\">return</span> n.set(Uc(t,r.x,i.x,a.x,o.x),Uc(t,r.y,i.y,a.y,o.y)),n},Fc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.copy(t.v0),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>.v3.copy(t.v3),<span class=\"code-keyword\">this</span>},Fc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v0=<span class=\"code-keyword\">this</span>.v0.toArray(),t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t.v3=<span class=\"code-keyword\">this</span>.v3.toArray(),t},Fc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.fromArray(t.v0),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>.v3.fromArray(t.v3),<span class=\"code-keyword\">this</span>},Gc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isCubicBezierCurve3=!<span class=\"code-number\">0</span>,Gc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n=e,r=<span class=\"code-keyword\">this</span>.v0,i=<span class=\"code-keyword\">this</span>.v1,a=<span class=\"code-keyword\">this</span>.v2,o=<span class=\"code-keyword\">this</span>.v3;<span class=\"code-keyword\">return</span> n.set(Uc(t,r.x,i.x,a.x,o.x),Uc(t,r.y,i.y,a.y,o.y),Uc(t,r.z,i.z,a.z,o.z)),n},Gc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.copy(t.v0),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>.v3.copy(t.v3),<span class=\"code-keyword\">this</span>},Gc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v0=<span class=\"code-keyword\">this</span>.v0.toArray(),t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t.v3=<span class=\"code-keyword\">this</span>.v3.toArray(),t},Gc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.fromArray(t.v0),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>.v3.fromArray(t.v3),<span class=\"code-keyword\">this</span>},Hc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isLineCurve=!<span class=\"code-number\">0</span>,Hc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt);<span class=\"code-keyword\">var</span> n=e;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>===t?n.copy(<span class=\"code-keyword\">this</span>.v2):(n.copy(<span class=\"code-keyword\">this</span>.v2).sub(<span class=\"code-keyword\">this</span>.v1),n.multiplyScalar(t).add(<span class=\"code-keyword\">this</span>.v1)),n},Hc.prototype.getPointAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getPoint(t,e)},Hc.prototype.getTangent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=e||<span class=\"code-keyword\">new</span> pt;<span class=\"code-keyword\">return</span> n.copy(<span class=\"code-keyword\">this</span>.v2).sub(<span class=\"code-keyword\">this</span>.v1).normalize(),n},Hc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>},Hc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t},Hc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>},kc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),kc.prototype.constructor=kc,kc.prototype.isLineCurve3=!<span class=\"code-number\">0</span>,kc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n=e;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>===t?n.copy(<span class=\"code-keyword\">this</span>.v2):(n.copy(<span class=\"code-keyword\">this</span>.v2).sub(<span class=\"code-keyword\">this</span>.v1),n.multiplyScalar(t).add(<span class=\"code-keyword\">this</span>.v1)),n},kc.prototype.getPointAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getPoint(t,e)},kc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>},kc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t},kc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>},Vc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Vc.prototype.constructor=Vc,Vc.prototype.isQuadraticBezierCurve=!<span class=\"code-number\">0</span>,Vc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt);<span class=\"code-keyword\">var</span> n=e,r=<span class=\"code-keyword\">this</span>.v0,i=<span class=\"code-keyword\">this</span>.v1,a=<span class=\"code-keyword\">this</span>.v2;<span class=\"code-keyword\">return</span> n.set(zc(t,r.x,i.x,a.x),zc(t,r.y,i.y,a.y)),n},Vc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.copy(t.v0),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>},Vc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v0=<span class=\"code-keyword\">this</span>.v0.toArray(),t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t},Vc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.fromArray(t.v0),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>},Wc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),Wc.prototype.constructor=Wc,Wc.prototype.isQuadraticBezierCurve3=!<span class=\"code-number\">0</span>,Wc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt);<span class=\"code-keyword\">var</span> n=e,r=<span class=\"code-keyword\">this</span>.v0,i=<span class=\"code-keyword\">this</span>.v1,a=<span class=\"code-keyword\">this</span>.v2;<span class=\"code-keyword\">return</span> n.set(zc(t,r.x,i.x,a.x),zc(t,r.y,i.y,a.y),zc(t,r.z,i.z,a.z)),n},Wc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.copy(t.v0),<span class=\"code-keyword\">this</span>.v1.copy(t.v1),<span class=\"code-keyword\">this</span>.v2.copy(t.v2),<span class=\"code-keyword\">this</span>},Wc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.v0=<span class=\"code-keyword\">this</span>.v0.toArray(),t.v1=<span class=\"code-keyword\">this</span>.v1.toArray(),t.v2=<span class=\"code-keyword\">this</span>.v2.toArray(),t},Wc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.v0.fromArray(t.v0),<span class=\"code-keyword\">this</span>.v1.fromArray(t.v1),<span class=\"code-keyword\">this</span>.v2.fromArray(t.v2),<span class=\"code-keyword\">this</span>},jc.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),jc.prototype.constructor=jc,jc.prototype.isSplineCurve=!<span class=\"code-number\">0</span>,jc.prototype.getPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> pt);<span class=\"code-keyword\">var</span> n=e,r=<span class=\"code-keyword\">this</span>.points,i=(r.length<span class=\"code-number\">-1</span>)*t,a=<span class=\"code-built_in\">Math</span>.floor(i),o=i-a,s=r[<span class=\"code-number\">0</span>===a?a:a<span class=\"code-number\">-1</span>],c=r[a],l=r[a&gt;r.length<span class=\"code-number\">-2</span>?r.length<span class=\"code-number\">-1</span>:a+<span class=\"code-number\">1</span>],u=r[a&gt;r.length<span class=\"code-number\">-3</span>?r.length<span class=\"code-number\">-1</span>:a+<span class=\"code-number\">2</span>];<span class=\"code-keyword\">return</span> n.set(Bc(o,s.x,c.x,l.x,u.x),Bc(o,s.y,c.y,l.y,u.y)),n},jc.prototype.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.points[e];<span class=\"code-keyword\">this</span>.points.push(r.clone())}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},jc.prototype.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);t.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.points[e];t.points.push(r.toArray())}<span class=\"code-keyword\">return</span> t},jc.prototype.fromJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.points=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.points.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.points[e];<span class=\"code-keyword\">this</span>.points.push((<span class=\"code-keyword\">new</span> pt).fromArray(r))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>};<span class=\"code-keyword\">var</span> qc=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">ArcCurve</span>:Rc,<span class=\"code-attr\">CatmullRomCurve3</span>:Oc,<span class=\"code-attr\">CubicBezierCurve</span>:Fc,<span class=\"code-attr\">CubicBezierCurve3</span>:Gc,<span class=\"code-attr\">EllipseCurve</span>:Lc,<span class=\"code-attr\">LineCurve</span>:Hc,<span class=\"code-attr\">LineCurve3</span>:kc,<span class=\"code-attr\">QuadraticBezierCurve</span>:Vc,<span class=\"code-attr\">QuadraticBezierCurve3</span>:Wc,<span class=\"code-attr\">SplineCurve</span>:jc});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xc</span>(<span class=\"code-params\"></span>)</span>{Ac.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"CurvePath\"</span>,<span class=\"code-keyword\">this</span>.curves=[],<span class=\"code-keyword\">this</span>.autoClose=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yc</span>(<span class=\"code-params\">t</span>)</span>{Xc.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Path\"</span>,<span class=\"code-keyword\">this</span>.currentPoint=<span class=\"code-keyword\">new</span> pt,t&amp;&amp;<span class=\"code-keyword\">this</span>.setFromPoints(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zc</span>(<span class=\"code-params\">t</span>)</span>{Yc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Shape\"</span>,<span class=\"code-keyword\">this</span>.holes=[]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jc</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>),we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Light\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We(t),<span class=\"code-keyword\">this</span>.intensity=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qc</span>(<span class=\"code-params\">t,e,n</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,n),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"HemisphereLight\"</span>,<span class=\"code-keyword\">this</span>.position.copy(we.DefaultUp),<span class=\"code-keyword\">this</span>.updateMatrix(),<span class=\"code-keyword\">this</span>.groundColor=<span class=\"code-keyword\">new</span> We(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Kc</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.camera=t,<span class=\"code-keyword\">this</span>.bias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.normalBias=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.radius=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.mapSize=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">512</span>,<span class=\"code-number\">512</span>),<span class=\"code-keyword\">this</span>.map=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.mapPass=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.matrix=<span class=\"code-keyword\">new</span> Qt,<span class=\"code-keyword\">this</span>.autoUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._frustum=<span class=\"code-keyword\">new</span> er,<span class=\"code-keyword\">this</span>._frameExtents=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>._viewportCount=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._viewports=[<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$c</span>(<span class=\"code-params\"></span>)</span>{Kc.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> Xn(<span class=\"code-number\">50</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">500</span>)),<span class=\"code-keyword\">this</span>.focus=<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tl</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"SpotLight\"</span>,<span class=\"code-keyword\">this</span>.position.copy(we.DefaultUp),<span class=\"code-keyword\">this</span>.updateMatrix(),<span class=\"code-keyword\">this</span>.target=<span class=\"code-keyword\">new</span> we,<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"power\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.intensity*<span class=\"code-built_in\">Math</span>.PI},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.intensity=t/<span class=\"code-built_in\">Math</span>.PI}}),<span class=\"code-keyword\">this</span>.distance=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.angle=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>.penumbra=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?i:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.decay=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a?a:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.shadow=<span class=\"code-keyword\">new</span> $c}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">el</span>(<span class=\"code-params\"></span>)</span>{Kc.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> Xn(<span class=\"code-number\">90</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">500</span>)),<span class=\"code-keyword\">this</span>._frameExtents=<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">4</span>,<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>._viewportCount=<span class=\"code-number\">6</span>,<span class=\"code-keyword\">this</span>._viewports=[<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">3</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> xt(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)],<span class=\"code-keyword\">this</span>._cubeDirections=[<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>)],<span class=\"code-keyword\">this</span>._cubeUps=[<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>)]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nl</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"PointLight\"</span>,<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"power\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">4</span>*<span class=\"code-keyword\">this</span>.intensity*<span class=\"code-built_in\">Math</span>.PI},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.intensity=t/(<span class=\"code-number\">4</span>*<span class=\"code-built_in\">Math</span>.PI)}}),<span class=\"code-keyword\">this</span>.distance=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.decay=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.shadow=<span class=\"code-keyword\">new</span> el}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rl</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{qn.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"OrthographicCamera\"</span>,<span class=\"code-keyword\">this</span>.zoom=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.view=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.left=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.right=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.top=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.bottom=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.near=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?i:<span class=\"code-number\">.1</span>,<span class=\"code-keyword\">this</span>.far=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a?a:<span class=\"code-number\">2e3</span>,<span class=\"code-keyword\">this</span>.updateProjectionMatrix()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">il</span>(<span class=\"code-params\"></span>)</span>{Kc.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">new</span> rl(<span class=\"code-number\">-5</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">-5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">500</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">al</span>(<span class=\"code-params\">t,e</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"DirectionalLight\"</span>,<span class=\"code-keyword\">this</span>.position.copy(we.DefaultUp),<span class=\"code-keyword\">this</span>.updateMatrix(),<span class=\"code-keyword\">this</span>.target=<span class=\"code-keyword\">new</span> we,<span class=\"code-keyword\">this</span>.shadow=<span class=\"code-keyword\">new</span> il}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ol</span>(<span class=\"code-params\">t,e</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"AmbientLight\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sl</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"RectAreaLight\"</span>,<span class=\"code-keyword\">this</span>.width=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">10</span>,<span class=\"code-keyword\">this</span>.height=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:<span class=\"code-number\">10</span>}Xc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Ac.prototype),{<span class=\"code-attr\">constructor</span>:Xc,<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.curves.push(t)},<span class=\"code-attr\">closePath</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.curves[<span class=\"code-number\">0</span>].getPoint(<span class=\"code-number\">0</span>),e=<span class=\"code-keyword\">this</span>.curves[<span class=\"code-keyword\">this</span>.curves.length<span class=\"code-number\">-1</span>].getPoint(<span class=\"code-number\">1</span>);t.equals(e)||<span class=\"code-keyword\">this</span>.curves.push(<span class=\"code-keyword\">new</span> Hc(e,t))},<span class=\"code-attr\">getPoint</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t*<span class=\"code-keyword\">this</span>.getLength(),n=<span class=\"code-keyword\">this</span>.getCurveLengths(),r=<span class=\"code-number\">0</span>;r&lt;n.length;){<span class=\"code-keyword\">if</span>(n[r]&gt;=e){<span class=\"code-keyword\">var</span> i=n[r]-e,a=<span class=\"code-keyword\">this</span>.curves[r],o=a.getLength(),s=<span class=\"code-number\">0</span>===o?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>-i/o;<span class=\"code-keyword\">return</span> a.getPointAt(s)}r++}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">getLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getCurveLengths();<span class=\"code-keyword\">return</span> t[t.length<span class=\"code-number\">-1</span>]},<span class=\"code-attr\">updateArcLengths</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.needsUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.cacheLengths=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.getCurveLengths()},<span class=\"code-attr\">getCurveLengths</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.cacheLengths&amp;&amp;<span class=\"code-keyword\">this</span>.cacheLengths.length===<span class=\"code-keyword\">this</span>.curves.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cacheLengths;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.curves.length;n&lt;r;n++)e+=<span class=\"code-keyword\">this</span>.curves[n].getLength(),t.push(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cacheLengths=t,t},<span class=\"code-attr\">getSpacedPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">40</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>;n&lt;=t;n++)e.push(<span class=\"code-keyword\">this</span>.getPoint(n/t));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.autoClose&amp;&amp;e.push(e[<span class=\"code-number\">0</span>]),e},<span class=\"code-attr\">getPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">12</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,n=[],r=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.curves;r&lt;i.length;r++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=i[r],o=a&amp;&amp;a.isEllipseCurve?<span class=\"code-number\">2</span>*t:a&amp;&amp;(a.isLineCurve||a.isLineCurve3)?<span class=\"code-number\">1</span>:a&amp;&amp;a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=<span class=\"code-number\">0</span>;c&lt;s.length;c++){<span class=\"code-keyword\">var</span> l=s[c];e&amp;&amp;e.equals(l)||(n.push(l),e=l)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.autoClose&amp;&amp;n.length&gt;<span class=\"code-number\">1</span>&amp;&amp;!n[n.length<span class=\"code-number\">-1</span>].equals(n[<span class=\"code-number\">0</span>])&amp;&amp;n.push(n[<span class=\"code-number\">0</span>]),n},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.curves=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.curves.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.curves[e];<span class=\"code-keyword\">this</span>.curves.push(r.clone())}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.autoClose=t.autoClose,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Ac.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);t.autoClose=<span class=\"code-keyword\">this</span>.autoClose,t.curves=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.curves.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.curves[e];t.curves.push(r.toJSON())}<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Ac.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.autoClose=t.autoClose,<span class=\"code-keyword\">this</span>.curves=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.curves.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.curves[e];<span class=\"code-keyword\">this</span>.curves.push((<span class=\"code-keyword\">new</span> qc[r.type]).fromJSON(r))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}}),Yc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Xc.prototype),{<span class=\"code-attr\">constructor</span>:Yc,<span class=\"code-attr\">setFromPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.moveTo(t[<span class=\"code-number\">0</span>].x,t[<span class=\"code-number\">0</span>].y);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>,n=t.length;e&lt;n;e++)<span class=\"code-keyword\">this</span>.lineTo(t[e].x,t[e].y);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">moveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPoint.set(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">lineTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> Hc(<span class=\"code-keyword\">this</span>.currentPoint.clone(),<span class=\"code-keyword\">new</span> pt(t,e));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.curves.push(n),<span class=\"code-keyword\">this</span>.currentPoint.set(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">quadraticCurveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Vc(<span class=\"code-keyword\">this</span>.currentPoint.clone(),<span class=\"code-keyword\">new</span> pt(t,e),<span class=\"code-keyword\">new</span> pt(n,r));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.curves.push(i),<span class=\"code-keyword\">this</span>.currentPoint.set(n,r),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">bezierCurveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> Fc(<span class=\"code-keyword\">this</span>.currentPoint.clone(),<span class=\"code-keyword\">new</span> pt(t,e),<span class=\"code-keyword\">new</span> pt(n,r),<span class=\"code-keyword\">new</span> pt(i,a));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.curves.push(o),<span class=\"code-keyword\">this</span>.currentPoint.set(i,a),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">splineThru</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> jc([<span class=\"code-keyword\">this</span>.currentPoint.clone()].concat(t));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.curves.push(e),<span class=\"code-keyword\">this</span>.currentPoint.copy(t[t.length<span class=\"code-number\">-1</span>]),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">arc</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.currentPoint.x,s=<span class=\"code-keyword\">this</span>.currentPoint.y;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.absarc(t+o,e+s,n,r,i,a),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">absarc</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.absellipse(t,e,n,n,r,i,a),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">ellipse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>.currentPoint.x,l=<span class=\"code-keyword\">this</span>.currentPoint.y;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.absellipse(t+c,e+l,n,r,i,a,o,s),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">absellipse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o,s</span>)</span>{<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> Lc(t,e,n,r,i,a,o,s);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.curves.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> l=c.getPoint(<span class=\"code-number\">0</span>);l.equals(<span class=\"code-keyword\">this</span>.currentPoint)||<span class=\"code-keyword\">this</span>.lineTo(l.x,l.y)}<span class=\"code-keyword\">this</span>.curves.push(c);<span class=\"code-keyword\">var</span> u=c.getPoint(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPoint.copy(u),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.currentPoint.copy(t.currentPoint),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Xc.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.currentPoint=<span class=\"code-keyword\">this</span>.currentPoint.toArray(),t},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Xc.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.currentPoint.fromArray(t.currentPoint),<span class=\"code-keyword\">this</span>}}),Zc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Yc.prototype),{<span class=\"code-attr\">constructor</span>:Zc,<span class=\"code-attr\">getPointsHoles</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">this</span>.holes.length;n&lt;r;n++)e[n]=<span class=\"code-keyword\">this</span>.holes[n].getPoints(t);<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">extractPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">shape</span>:<span class=\"code-keyword\">this</span>.getPoints(t),<span class=\"code-attr\">holes</span>:<span class=\"code-keyword\">this</span>.getPointsHoles(t)}},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Yc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.holes=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.holes.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.holes[e];<span class=\"code-keyword\">this</span>.holes.push(r.clone())}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Yc.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);t.uuid=<span class=\"code-keyword\">this</span>.uuid,t.holes=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.holes.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.holes[e];t.holes.push(r.toJSON())}<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Yc.prototype.fromJSON.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.uuid=t.uuid,<span class=\"code-keyword\">this</span>.holes=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.holes.length;e&lt;n;e++){<span class=\"code-keyword\">var</span> r=t.holes[e];<span class=\"code-keyword\">this</span>.holes.push((<span class=\"code-keyword\">new</span> Yc).fromJSON(r))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}}),Jc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(we.prototype),{<span class=\"code-attr\">constructor</span>:Jc,<span class=\"code-attr\">isLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> we.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.color.copy(t.color),<span class=\"code-keyword\">this</span>.intensity=t.intensity,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=we.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.object.color=<span class=\"code-keyword\">this</span>.color.getHex(),e.object.intensity=<span class=\"code-keyword\">this</span>.intensity,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.groundColor&amp;&amp;(e.object.groundColor=<span class=\"code-keyword\">this</span>.groundColor.getHex()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.distance&amp;&amp;(e.object.distance=<span class=\"code-keyword\">this</span>.distance),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.angle&amp;&amp;(e.object.angle=<span class=\"code-keyword\">this</span>.angle),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.decay&amp;&amp;(e.object.decay=<span class=\"code-keyword\">this</span>.decay),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.penumbra&amp;&amp;(e.object.penumbra=<span class=\"code-keyword\">this</span>.penumbra),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.shadow&amp;&amp;(e.object.shadow=<span class=\"code-keyword\">this</span>.shadow.toJSON()),e}}),Qc.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:Qc,<span class=\"code-attr\">isHemisphereLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.groundColor.copy(t.groundColor),<span class=\"code-keyword\">this</span>}}),<span class=\"code-built_in\">Object</span>.assign(Kc.prototype,{<span class=\"code-attr\">_projScreenMatrix</span>:<span class=\"code-keyword\">new</span> Qt,<span class=\"code-attr\">_lightPositionWorld</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">_lookTarget</span>:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-attr\">getViewportCount</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._viewportCount},<span class=\"code-attr\">getFrustum</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._frustum},<span class=\"code-attr\">updateMatrices</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.camera,n=<span class=\"code-keyword\">this</span>.matrix,r=<span class=\"code-keyword\">this</span>._projScreenMatrix,i=<span class=\"code-keyword\">this</span>._lookTarget,a=<span class=\"code-keyword\">this</span>._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),i.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(i),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),<span class=\"code-keyword\">this</span>._frustum.setFromProjectionMatrix(r),n.set(<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},<span class=\"code-attr\">getViewport</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._viewports[t]},<span class=\"code-attr\">getFrameExtents</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._frameExtents},<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.camera=t.camera.clone(),<span class=\"code-keyword\">this</span>.bias=t.bias,<span class=\"code-keyword\">this</span>.radius=t.radius,<span class=\"code-keyword\">this</span>.mapSize.copy(t.mapSize),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={};<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.bias&amp;&amp;(t.bias=<span class=\"code-keyword\">this</span>.bias),<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.normalBias&amp;&amp;(t.normalBias=<span class=\"code-keyword\">this</span>.normalBias),<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.radius&amp;&amp;(t.radius=<span class=\"code-keyword\">this</span>.radius),<span class=\"code-number\">512</span>===<span class=\"code-keyword\">this</span>.mapSize.x&amp;&amp;<span class=\"code-number\">512</span>===<span class=\"code-keyword\">this</span>.mapSize.y||(t.mapSize=<span class=\"code-keyword\">this</span>.mapSize.toArray()),t.camera=<span class=\"code-keyword\">this</span>.camera.toJSON(!<span class=\"code-number\">1</span>).object,<span class=\"code-keyword\">delete</span> t.camera.matrix,t}}),$c.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Kc.prototype),{<span class=\"code-attr\">constructor</span>:$c,<span class=\"code-attr\">isSpotLightShadow</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">updateMatrices</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.camera,n=<span class=\"code-number\">2</span>*st.RAD2DEG*t.angle*<span class=\"code-keyword\">this</span>.focus,r=<span class=\"code-keyword\">this</span>.mapSize.width/<span class=\"code-keyword\">this</span>.mapSize.height,i=t.distance||e.far;n===e.fov&amp;&amp;r===e.aspect&amp;&amp;i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),Kc.prototype.updateMatrices.call(<span class=\"code-keyword\">this</span>,t)}}),tl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:tl,<span class=\"code-attr\">isSpotLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.distance=t.distance,<span class=\"code-keyword\">this</span>.angle=t.angle,<span class=\"code-keyword\">this</span>.penumbra=t.penumbra,<span class=\"code-keyword\">this</span>.decay=t.decay,<span class=\"code-keyword\">this</span>.target=t.target.clone(),<span class=\"code-keyword\">this</span>.shadow=t.shadow.clone(),<span class=\"code-keyword\">this</span>}}),el.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Kc.prototype),{<span class=\"code-attr\">constructor</span>:el,<span class=\"code-attr\">isPointLightShadow</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">updateMatrices</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.camera,r=<span class=\"code-keyword\">this</span>.matrix,i=<span class=\"code-keyword\">this</span>._lightPositionWorld,a=<span class=\"code-keyword\">this</span>._lookTarget,o=<span class=\"code-keyword\">this</span>._projScreenMatrix;i.setFromMatrixPosition(t.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(<span class=\"code-keyword\">this</span>._cubeDirections[e]),n.up.copy(<span class=\"code-keyword\">this</span>._cubeUps[e]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),<span class=\"code-keyword\">this</span>._frustum.setFromProjectionMatrix(o)}}),nl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:nl,<span class=\"code-attr\">isPointLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.distance=t.distance,<span class=\"code-keyword\">this</span>.decay=t.decay,<span class=\"code-keyword\">this</span>.shadow=t.shadow.clone(),<span class=\"code-keyword\">this</span>}}),rl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(qn.prototype),{<span class=\"code-attr\">constructor</span>:rl,<span class=\"code-attr\">isOrthographicCamera</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> qn.prototype.copy.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.left=t.left,<span class=\"code-keyword\">this</span>.right=t.right,<span class=\"code-keyword\">this</span>.top=t.top,<span class=\"code-keyword\">this</span>.bottom=t.bottom,<span class=\"code-keyword\">this</span>.near=t.near,<span class=\"code-keyword\">this</span>.far=t.far,<span class=\"code-keyword\">this</span>.zoom=t.zoom,<span class=\"code-keyword\">this</span>.view=<span class=\"code-literal\">null</span>===t.view?<span class=\"code-literal\">null</span>:<span class=\"code-built_in\">Object</span>.assign({},t.view),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setViewOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.view&amp;&amp;(<span class=\"code-keyword\">this</span>.view={<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">fullWidth</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">fullHeight</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">offsetX</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">offsetY</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">width</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">height</span>:<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">this</span>.view.enabled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.view.fullWidth=t,<span class=\"code-keyword\">this</span>.view.fullHeight=e,<span class=\"code-keyword\">this</span>.view.offsetX=n,<span class=\"code-keyword\">this</span>.view.offsetY=r,<span class=\"code-keyword\">this</span>.view.width=i,<span class=\"code-keyword\">this</span>.view.height=a,<span class=\"code-keyword\">this</span>.updateProjectionMatrix()},<span class=\"code-attr\">clearViewOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;(<span class=\"code-keyword\">this</span>.view.enabled=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.updateProjectionMatrix()},<span class=\"code-attr\">updateProjectionMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=(<span class=\"code-keyword\">this</span>.right-<span class=\"code-keyword\">this</span>.left)/(<span class=\"code-number\">2</span>*<span class=\"code-keyword\">this</span>.zoom),e=(<span class=\"code-keyword\">this</span>.top-<span class=\"code-keyword\">this</span>.bottom)/(<span class=\"code-number\">2</span>*<span class=\"code-keyword\">this</span>.zoom),n=(<span class=\"code-keyword\">this</span>.right+<span class=\"code-keyword\">this</span>.left)/<span class=\"code-number\">2</span>,r=(<span class=\"code-keyword\">this</span>.top+<span class=\"code-keyword\">this</span>.bottom)/<span class=\"code-number\">2</span>,i=n-t,a=n+t,o=r+e,s=r-e;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;<span class=\"code-keyword\">this</span>.view.enabled){<span class=\"code-keyword\">var</span> c=(<span class=\"code-keyword\">this</span>.right-<span class=\"code-keyword\">this</span>.left)/<span class=\"code-keyword\">this</span>.view.fullWidth/<span class=\"code-keyword\">this</span>.zoom,l=(<span class=\"code-keyword\">this</span>.top-<span class=\"code-keyword\">this</span>.bottom)/<span class=\"code-keyword\">this</span>.view.fullHeight/<span class=\"code-keyword\">this</span>.zoom;a=(i+=c*<span class=\"code-keyword\">this</span>.view.offsetX)+c*<span class=\"code-keyword\">this</span>.view.width,s=(o-=l*<span class=\"code-keyword\">this</span>.view.offsetY)-l*<span class=\"code-keyword\">this</span>.view.height}<span class=\"code-keyword\">this</span>.projectionMatrix.makeOrthographic(i,a,o,s,<span class=\"code-keyword\">this</span>.near,<span class=\"code-keyword\">this</span>.far),<span class=\"code-keyword\">this</span>.projectionMatrixInverse.copy(<span class=\"code-keyword\">this</span>.projectionMatrix).invert()},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=we.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.object.zoom=<span class=\"code-keyword\">this</span>.zoom,e.object.left=<span class=\"code-keyword\">this</span>.left,e.object.right=<span class=\"code-keyword\">this</span>.right,e.object.top=<span class=\"code-keyword\">this</span>.top,e.object.bottom=<span class=\"code-keyword\">this</span>.bottom,e.object.near=<span class=\"code-keyword\">this</span>.near,e.object.far=<span class=\"code-keyword\">this</span>.far,<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.view&amp;&amp;(e.object.view=<span class=\"code-built_in\">Object</span>.assign({},<span class=\"code-keyword\">this</span>.view)),e}}),il.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Kc.prototype),{<span class=\"code-attr\">constructor</span>:il,<span class=\"code-attr\">isDirectionalLightShadow</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">updateMatrices</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Kc.prototype.updateMatrices.call(<span class=\"code-keyword\">this</span>,t)}}),al.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:al,<span class=\"code-attr\">isDirectionalLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.target=t.target.clone(),<span class=\"code-keyword\">this</span>.shadow=t.shadow.clone(),<span class=\"code-keyword\">this</span>}}),ol.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:ol,<span class=\"code-attr\">isAmbientLight</span>:!<span class=\"code-number\">0</span>}),sl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:sl,<span class=\"code-attr\">isRectAreaLight</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.width=t.width,<span class=\"code-keyword\">this</span>.height=t.height,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Jc.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.object.width=<span class=\"code-keyword\">this</span>.width,e.object.height=<span class=\"code-keyword\">this</span>.height,e}});<span class=\"code-keyword\">var</span> cl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isSphericalHarmonics3\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.coefficients=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-number\">9</span>;t++)<span class=\"code-keyword\">this</span>.coefficients.push(<span class=\"code-keyword\">new</span> Mt)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">9</span>;e++)<span class=\"code-keyword\">this</span>.coefficients[e].copy(t[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.zero=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-number\">9</span>;t++)<span class=\"code-keyword\">this</span>.coefficients[t].set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.getAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.x,r=t.y,i=t.z,a=<span class=\"code-keyword\">this</span>.coefficients;<span class=\"code-keyword\">return</span> e.copy(a[<span class=\"code-number\">0</span>]).multiplyScalar(<span class=\"code-number\">.282095</span>),e.addScaledVector(a[<span class=\"code-number\">1</span>],<span class=\"code-number\">.488603</span>*r),e.addScaledVector(a[<span class=\"code-number\">2</span>],<span class=\"code-number\">.488603</span>*i),e.addScaledVector(a[<span class=\"code-number\">3</span>],<span class=\"code-number\">.488603</span>*n),e.addScaledVector(a[<span class=\"code-number\">4</span>],n*r*<span class=\"code-number\">1.092548</span>),e.addScaledVector(a[<span class=\"code-number\">5</span>],r*i*<span class=\"code-number\">1.092548</span>),e.addScaledVector(a[<span class=\"code-number\">6</span>],<span class=\"code-number\">.315392</span>*(<span class=\"code-number\">3</span>*i*i<span class=\"code-number\">-1</span>)),e.addScaledVector(a[<span class=\"code-number\">7</span>],n*i*<span class=\"code-number\">1.092548</span>),e.addScaledVector(a[<span class=\"code-number\">8</span>],<span class=\"code-number\">.546274</span>*(n*n-r*r)),e},e.getIrradianceAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.x,r=t.y,i=t.z,a=<span class=\"code-keyword\">this</span>.coefficients;<span class=\"code-keyword\">return</span> e.copy(a[<span class=\"code-number\">0</span>]).multiplyScalar(<span class=\"code-number\">.886227</span>),e.addScaledVector(a[<span class=\"code-number\">1</span>],<span class=\"code-number\">1.023328</span>*r),e.addScaledVector(a[<span class=\"code-number\">2</span>],<span class=\"code-number\">1.023328</span>*i),e.addScaledVector(a[<span class=\"code-number\">3</span>],<span class=\"code-number\">1.023328</span>*n),e.addScaledVector(a[<span class=\"code-number\">4</span>],<span class=\"code-number\">.858086</span>*n*r),e.addScaledVector(a[<span class=\"code-number\">5</span>],<span class=\"code-number\">.858086</span>*r*i),e.addScaledVector(a[<span class=\"code-number\">6</span>],<span class=\"code-number\">.743125</span>*i*i<span class=\"code-number\">-.247708</span>),e.addScaledVector(a[<span class=\"code-number\">7</span>],<span class=\"code-number\">.858086</span>*n*i),e.addScaledVector(a[<span class=\"code-number\">8</span>],<span class=\"code-number\">.429043</span>*(n*n-r*r)),e},e.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">9</span>;e++)<span class=\"code-keyword\">this</span>.coefficients[e].add(t.coefficients[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.addScaledSH=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">9</span>;n++)<span class=\"code-keyword\">this</span>.coefficients[n].addScaledVector(t.coefficients[n],e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.scale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">9</span>;e++)<span class=\"code-keyword\">this</span>.coefficients[e].multiplyScalar(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.lerp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">9</span>;n++)<span class=\"code-keyword\">this</span>.coefficients[n].lerp(t.coefficients[n],e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">9</span>;e++)<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.coefficients[e].equals(t.coefficients[e]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set(t.coefficients)},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.fromArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.coefficients,r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">9</span>;r++)n[r].fromArray(t,e+<span class=\"code-number\">3</span>*r);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.toArray=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.coefficients,r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">9</span>;r++)n[r].toArray(t,e+<span class=\"code-number\">3</span>*r);<span class=\"code-keyword\">return</span> t},t.getBasisAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.x,r=t.y,i=t.z;e[<span class=\"code-number\">0</span>]=<span class=\"code-number\">.282095</span>,e[<span class=\"code-number\">1</span>]=<span class=\"code-number\">.488603</span>*r,e[<span class=\"code-number\">2</span>]=<span class=\"code-number\">.488603</span>*i,e[<span class=\"code-number\">3</span>]=<span class=\"code-number\">.488603</span>*n,e[<span class=\"code-number\">4</span>]=<span class=\"code-number\">1.092548</span>*n*r,e[<span class=\"code-number\">5</span>]=<span class=\"code-number\">1.092548</span>*r*i,e[<span class=\"code-number\">6</span>]=<span class=\"code-number\">.315392</span>*(<span class=\"code-number\">3</span>*i*i<span class=\"code-number\">-1</span>),e[<span class=\"code-number\">7</span>]=<span class=\"code-number\">1.092548</span>*n*i,e[<span class=\"code-number\">8</span>]=<span class=\"code-number\">.546274</span>*(n*n-r*r)},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ll</span>(<span class=\"code-params\">t,e</span>)</span>{Jc.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"LightProbe\"</span>,<span class=\"code-keyword\">this</span>.sh=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> cl}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ul</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.textures={}}ll.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Jc.prototype),{<span class=\"code-attr\">constructor</span>:ll,<span class=\"code-attr\">isLightProbe</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Jc.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.sh.copy(t.sh),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">fromJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.intensity=t.intensity,<span class=\"code-keyword\">this</span>.sh.fromArray(t.sh),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=Jc.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.object.sh=<span class=\"code-keyword\">this</span>.sh.toArray(),e}}),ul.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:ul,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">try</span>{e(i.parse(<span class=\"code-built_in\">JSON</span>.parse(n)))}<span class=\"code-keyword\">catch</span>(e){r?r(e):<span class=\"code-built_in\">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.textures;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e[t]&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MaterialLoader: Undefined texture\"</span>,t),e[t]}<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> $s[t.type];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.uuid&amp;&amp;(r.uuid=t.uuid),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.name&amp;&amp;(r.name=t.name),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.color&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.color&amp;&amp;r.color.setHex(t.color),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.roughness&amp;&amp;(r.roughness=t.roughness),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.metalness&amp;&amp;(r.metalness=t.metalness),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.sheen&amp;&amp;(r.sheen=(<span class=\"code-keyword\">new</span> We).setHex(t.sheen)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.emissive&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.emissive&amp;&amp;r.emissive.setHex(t.emissive),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.specular&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.specular&amp;&amp;r.specular.setHex(t.specular),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shininess&amp;&amp;(r.shininess=t.shininess),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoat&amp;&amp;(r.clearcoat=t.clearcoat),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoatRoughness&amp;&amp;(r.clearcoatRoughness=t.clearcoatRoughness),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.fog&amp;&amp;(r.fog=t.fog),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.flatShading&amp;&amp;(r.flatShading=t.flatShading),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.blending&amp;&amp;(r.blending=t.blending),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.combine&amp;&amp;(r.combine=t.combine),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.side&amp;&amp;(r.side=t.side),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.opacity&amp;&amp;(r.opacity=t.opacity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.transparent&amp;&amp;(r.transparent=t.transparent),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.alphaTest&amp;&amp;(r.alphaTest=t.alphaTest),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.depthTest&amp;&amp;(r.depthTest=t.depthTest),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.depthWrite&amp;&amp;(r.depthWrite=t.depthWrite),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.colorWrite&amp;&amp;(r.colorWrite=t.colorWrite),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilWrite&amp;&amp;(r.stencilWrite=t.stencilWrite),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilWriteMask&amp;&amp;(r.stencilWriteMask=t.stencilWriteMask),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilFunc&amp;&amp;(r.stencilFunc=t.stencilFunc),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilRef&amp;&amp;(r.stencilRef=t.stencilRef),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilFuncMask&amp;&amp;(r.stencilFuncMask=t.stencilFuncMask),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilFail&amp;&amp;(r.stencilFail=t.stencilFail),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilZFail&amp;&amp;(r.stencilZFail=t.stencilZFail),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.stencilZPass&amp;&amp;(r.stencilZPass=t.stencilZPass),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.wireframe&amp;&amp;(r.wireframe=t.wireframe),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.wireframeLinewidth&amp;&amp;(r.wireframeLinewidth=t.wireframeLinewidth),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.wireframeLinecap&amp;&amp;(r.wireframeLinecap=t.wireframeLinecap),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.wireframeLinejoin&amp;&amp;(r.wireframeLinejoin=t.wireframeLinejoin),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.rotation&amp;&amp;(r.rotation=t.rotation),<span class=\"code-number\">1</span>!==t.linewidth&amp;&amp;(r.linewidth=t.linewidth),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.dashSize&amp;&amp;(r.dashSize=t.dashSize),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.gapSize&amp;&amp;(r.gapSize=t.gapSize),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.scale&amp;&amp;(r.scale=t.scale),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.polygonOffset&amp;&amp;(r.polygonOffset=t.polygonOffset),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.polygonOffsetFactor&amp;&amp;(r.polygonOffsetFactor=t.polygonOffsetFactor),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.polygonOffsetUnits&amp;&amp;(r.polygonOffsetUnits=t.polygonOffsetUnits),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.skinning&amp;&amp;(r.skinning=t.skinning),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.morphTargets&amp;&amp;(r.morphTargets=t.morphTargets),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.morphNormals&amp;&amp;(r.morphNormals=t.morphNormals),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.dithering&amp;&amp;(r.dithering=t.dithering),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.vertexTangents&amp;&amp;(r.vertexTangents=t.vertexTangents),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.visible&amp;&amp;(r.visible=t.visible),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.toneMapped&amp;&amp;(r.toneMapped=t.toneMapped),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.userData&amp;&amp;(r.userData=t.userData),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.vertexColors&amp;&amp;(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.vertexColors?r.vertexColors=t.vertexColors&gt;<span class=\"code-number\">0</span>:r.vertexColors=t.vertexColors),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.uniforms)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> t.uniforms){<span class=\"code-keyword\">var</span> a=t.uniforms[i];<span class=\"code-keyword\">switch</span>(r.uniforms[i]={},a.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"t\"</span>:r.uniforms[i].value=n(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"c\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> We).setHex(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"v2\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> pt).fromArray(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"v3\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> Mt).fromArray(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"v4\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> xt).fromArray(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"m3\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> ft).fromArray(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"m4\"</span>:r.uniforms[i].value=(<span class=\"code-keyword\">new</span> Qt).fromArray(a.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r.uniforms[i].value=a.value}}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.defines&amp;&amp;(r.defines=t.defines),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.vertexShader&amp;&amp;(r.vertexShader=t.vertexShader),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.fragmentShader&amp;&amp;(r.fragmentShader=t.fragmentShader),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.extensions)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> t.extensions)r.extensions[o]=t.extensions[o];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shading&amp;&amp;(r.flatShading=<span class=\"code-number\">1</span>===t.shading),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.size&amp;&amp;(r.size=t.size),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.sizeAttenuation&amp;&amp;(r.sizeAttenuation=t.sizeAttenuation),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.map&amp;&amp;(r.map=n(t.map)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.matcap&amp;&amp;(r.matcap=n(t.matcap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.alphaMap&amp;&amp;(r.alphaMap=n(t.alphaMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.bumpMap&amp;&amp;(r.bumpMap=n(t.bumpMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.bumpScale&amp;&amp;(r.bumpScale=t.bumpScale),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.normalMap&amp;&amp;(r.normalMap=n(t.normalMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.normalMapType&amp;&amp;(r.normalMapType=t.normalMapType),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.normalScale){<span class=\"code-keyword\">var</span> s=t.normalScale;!<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Array</span>.isArray(s)&amp;&amp;(s=[s,s]),r.normalScale=(<span class=\"code-keyword\">new</span> pt).fromArray(s)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.displacementMap&amp;&amp;(r.displacementMap=n(t.displacementMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.displacementScale&amp;&amp;(r.displacementScale=t.displacementScale),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.displacementBias&amp;&amp;(r.displacementBias=t.displacementBias),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.roughnessMap&amp;&amp;(r.roughnessMap=n(t.roughnessMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.metalnessMap&amp;&amp;(r.metalnessMap=n(t.metalnessMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.emissiveMap&amp;&amp;(r.emissiveMap=n(t.emissiveMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.emissiveIntensity&amp;&amp;(r.emissiveIntensity=t.emissiveIntensity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.specularMap&amp;&amp;(r.specularMap=n(t.specularMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.envMap&amp;&amp;(r.envMap=n(t.envMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.envMapIntensity&amp;&amp;(r.envMapIntensity=t.envMapIntensity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.reflectivity&amp;&amp;(r.reflectivity=t.reflectivity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.refractionRatio&amp;&amp;(r.refractionRatio=t.refractionRatio),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.lightMap&amp;&amp;(r.lightMap=n(t.lightMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.lightMapIntensity&amp;&amp;(r.lightMapIntensity=t.lightMapIntensity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.aoMap&amp;&amp;(r.aoMap=n(t.aoMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.aoMapIntensity&amp;&amp;(r.aoMapIntensity=t.aoMapIntensity),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.gradientMap&amp;&amp;(r.gradientMap=n(t.gradientMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoatMap&amp;&amp;(r.clearcoatMap=n(t.clearcoatMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoatRoughnessMap&amp;&amp;(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoatNormalMap&amp;&amp;(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.clearcoatNormalScale&amp;&amp;(r.clearcoatNormalScale=(<span class=\"code-keyword\">new</span> pt).fromArray(t.clearcoatNormalScale)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.transmission&amp;&amp;(r.transmission=t.transmission),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.transmissionMap&amp;&amp;(r.transmissionMap=n(t.transmissionMap)),r},<span class=\"code-attr\">setTextures</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.textures=t,<span class=\"code-keyword\">this</span>}});<span class=\"code-keyword\">var</span> hl={<span class=\"code-attr\">decodeText</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> TextDecoder)<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> TextDecoder).decode(t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"\"</span>,n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++)e+=<span class=\"code-built_in\">String</span>.fromCharCode(t[n]);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-built_in\">escape</span>(e))}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">return</span> e}},<span class=\"code-attr\">extractUrlBase</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.lastIndexOf(<span class=\"code-string\">\"/\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===e?<span class=\"code-string\">\"./\"</span>:t.substr(<span class=\"code-number\">0</span>,e+<span class=\"code-number\">1</span>)}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dl</span>(<span class=\"code-params\"></span>)</span>{_n.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"InstancedBufferGeometry\"</span>,<span class=\"code-keyword\">this</span>.instanceCount=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pl</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> n&amp;&amp;(r=n,n=!<span class=\"code-number\">1</span>,<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\"</span>)),Qe.call(<span class=\"code-keyword\">this</span>,t,e,n),<span class=\"code-keyword\">this</span>.meshPerAttribute=r||<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fl</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}dl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(_n.prototype),{<span class=\"code-attr\">constructor</span>:dl,<span class=\"code-attr\">isInstancedBufferGeometry</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> _n.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.instanceCount=t.instanceCount,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=_n.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.instanceCount=<span class=\"code-keyword\">this</span>.instanceCount,t.isInstancedBufferGeometry=!<span class=\"code-number\">0</span>,t}}),pl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(Qe.prototype),{<span class=\"code-attr\">constructor</span>:pl,<span class=\"code-attr\">isInstancedBufferAttribute</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> Qe.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.meshPerAttribute=t.meshPerAttribute,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=Qe.prototype.toJSON.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> t.meshPerAttribute=<span class=\"code-keyword\">this</span>.meshPerAttribute,t.isInstancedBufferAttribute=!<span class=\"code-number\">0</span>,t}}),fl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:fl,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">try</span>{e(i.parse(<span class=\"code-built_in\">JSON</span>.parse(n)))}<span class=\"code-keyword\">catch</span>(e){r?r(e):<span class=\"code-built_in\">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={},n={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[r])<span class=\"code-keyword\">return</span> e[r];<span class=\"code-keyword\">var</span> i=t.interleavedBuffers[r],a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n[e])<span class=\"code-keyword\">return</span> n[e];<span class=\"code-keyword\">var</span> r=t.arrayBuffers[e],i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(r).buffer;<span class=\"code-keyword\">return</span> n[e]=i,i}(t,i.buffer),o=<span class=\"code-keyword\">new</span> da(dn(i.type,a),i.stride);<span class=\"code-keyword\">return</span> o.uuid=i.uuid,e[r]=o,o}<span class=\"code-keyword\">var</span> i=t.isInstancedBufferGeometry?<span class=\"code-keyword\">new</span> dl:<span class=\"code-keyword\">new</span> _n,a=t.data.index;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a){<span class=\"code-keyword\">var</span> o=dn(a.type,a.array);i.setIndex(<span class=\"code-keyword\">new</span> Qe(o,<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">var</span> s=t.data.attributes;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c <span class=\"code-keyword\">in</span> s){<span class=\"code-keyword\">var</span> l=s[c],u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(l.isInterleavedBufferAttribute){u=<span class=\"code-keyword\">new</span> ma(r(t.data,l.data),l.itemSize,l.offset,l.normalized)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> h=dn(l.type,l.array);u=<span class=\"code-keyword\">new</span>(l.isInstancedBufferAttribute?pl:Qe)(h,l.itemSize,l.normalized)}<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==l.name&amp;&amp;(u.name=l.name),i.setAttribute(c,u)}<span class=\"code-keyword\">var</span> d=t.data.morphAttributes;<span class=\"code-keyword\">if</span>(d)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p <span class=\"code-keyword\">in</span> d){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=d[p],m=[],v=<span class=\"code-number\">0</span>,g=f.length;v&lt;g;v++){<span class=\"code-keyword\">var</span> y=f[v],x=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(y.isInterleavedBufferAttribute)x=<span class=\"code-keyword\">new</span> ma(r(t.data,y.data),y.itemSize,y.offset,y.normalized);<span class=\"code-keyword\">else</span> x=<span class=\"code-keyword\">new</span> Qe(dn(y.type,y.array),y.itemSize,y.normalized);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==y.name&amp;&amp;(x.name=y.name),m.push(x)}i.morphAttributes[p]=m}t.data.morphTargetsRelative&amp;&amp;(i.morphTargetsRelative=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> _=t.data.groups||t.data.drawcalls||t.data.offsets;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==_)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> b=<span class=\"code-number\">0</span>,w=_.length;b!==w;++b){<span class=\"code-keyword\">var</span> M=_[b];i.addGroup(M.start,M.count,M.materialIndex)}<span class=\"code-keyword\">var</span> S=t.data.boundingSphere;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==S){<span class=\"code-keyword\">var</span> T=<span class=\"code-keyword\">new</span> Mt;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==S.center&amp;&amp;T.fromArray(S.center),i.boundingSphere=<span class=\"code-keyword\">new</span> kt(T,S.radius)}<span class=\"code-keyword\">return</span> t.name&amp;&amp;(i.name=t.name),t.userData&amp;&amp;(i.userData=t.userData),i}});<span class=\"code-keyword\">var</span> ml,vl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.call(<span class=\"code-keyword\">this</span>,e)||<span class=\"code-keyword\">this</span>}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-string\">\"\"</span>===<span class=\"code-keyword\">this</span>.path?hl.extractUrlBase(t):<span class=\"code-keyword\">this</span>.path;<span class=\"code-keyword\">this</span>.resourcePath=<span class=\"code-keyword\">this</span>.resourcePath||a;<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> _c(<span class=\"code-keyword\">this</span>.manager);o.setPath(<span class=\"code-keyword\">this</span>.path),o.setRequestHeader(<span class=\"code-keyword\">this</span>.requestHeader),o.setWithCredentials(<span class=\"code-keyword\">this</span>.withCredentials),o.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">try</span>{a=<span class=\"code-built_in\">JSON</span>.parse(n)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;r(e),<span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE:ObjectLoader: Can't parse \"</span>+t+<span class=\"code-string\">\".\"</span>,e.message)}<span class=\"code-keyword\">var</span> o=a.metadata;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.type&amp;&amp;<span class=\"code-string\">\"geometry\"</span>!==o.type.toLowerCase()?i.parse(a,e):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ObjectLoader: Can't load \"</span>+t)}),n,r)},n.parse=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.parseAnimations(t.animations),r=<span class=\"code-keyword\">this</span>.parseShapes(t.shapes),i=<span class=\"code-keyword\">this</span>.parseGeometries(t.geometries,r),a=<span class=\"code-keyword\">this</span>.parseImages(t.images,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;e(c)})),o=<span class=\"code-keyword\">this</span>.parseTextures(t.textures,a),s=<span class=\"code-keyword\">this</span>.parseMaterials(t.materials,o),c=<span class=\"code-keyword\">this</span>.parseObject(t.object,i,s,n),l=<span class=\"code-keyword\">this</span>.parseSkeletons(t.skeletons,c);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.bindSkeletons(c,l),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e){<span class=\"code-keyword\">var</span> u=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h <span class=\"code-keyword\">in</span> a)<span class=\"code-keyword\">if</span>(a[h]<span class=\"code-keyword\">instanceof</span> HTMLImageElement){u=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}!<span class=\"code-number\">1</span>===u&amp;&amp;e(c)}<span class=\"code-keyword\">return</span> c},n.parseShapes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=(<span class=\"code-keyword\">new</span> Zc).fromJSON(t[n]);e[i.uuid]=i}<span class=\"code-keyword\">return</span> e},n.parseSkeletons=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n={},r={};<span class=\"code-keyword\">if</span>(e.traverse((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.isBone&amp;&amp;(r[t.uuid]=t)})),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=(<span class=\"code-keyword\">new</span> Va).fromJSON(t[i],r);n[o.uuid]=o}<span class=\"code-keyword\">return</span> n},n.parseGeometries=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> fl,a=<span class=\"code-number\">0</span>,o=t.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,c=t[a];<span class=\"code-keyword\">switch</span>(c.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PlaneGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PlaneBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.width,c.height,c.widthSegments,c.heightSegments);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"BoxGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"BoxBufferGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CubeGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CircleGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CircleBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CylinderGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CylinderBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ConeGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ConeBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SphereGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SphereBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"DodecahedronGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"DodecahedronBufferGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"IcosahedronGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"IcosahedronBufferGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"OctahedronGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"OctahedronBufferGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TetrahedronGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TetrahedronBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.detail);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"RingGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"RingBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TorusGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TorusBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TorusKnotGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TorusKnotBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TubeGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"TubeBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type]((<span class=\"code-keyword\">new</span> qc[c.path.type]).fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LatheGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LatheBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.points,c.segments,c.phiStart,c.phiLength);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PolyhedronGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PolyhedronBufferGeometry\"</span>:s=<span class=\"code-keyword\">new</span> ks[c.type](c.vertices,c.indices,c.radius,c.details);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ShapeGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ShapeBufferGeometry\"</span>:n=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>,u=c.shapes.length;l&lt;u;l++){<span class=\"code-keyword\">var</span> h=e[c.shapes[l]];n.push(h)}s=<span class=\"code-keyword\">new</span> ks[c.type](n,c.curveSegments);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ExtrudeGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ExtrudeBufferGeometry\"</span>:n=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=c.shapes.length;d&lt;p;d++){<span class=\"code-keyword\">var</span> f=e[c.shapes[d]];n.push(f)}<span class=\"code-keyword\">var</span> m=c.options.extrudePath;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==m&amp;&amp;(c.options.extrudePath=(<span class=\"code-keyword\">new</span> qc[m.type]).fromJSON(m)),s=<span class=\"code-keyword\">new</span> ks[c.type](n,c.options);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"BufferGeometry\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"InstancedBufferGeometry\"</span>:s=i.parse(c);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Geometry\"</span>:<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.'</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'THREE.ObjectLoader: Unsupported geometry type \"'</span>+c.type+<span class=\"code-string\">'\"'</span>);<span class=\"code-keyword\">continue</span>}s.uuid=c.uuid,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c.name&amp;&amp;(s.name=c.name),!<span class=\"code-number\">0</span>===s.isBufferGeometry&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c.userData&amp;&amp;(s.userData=c.userData),r[c.uuid]=s}<span class=\"code-keyword\">return</span> r},n.parseMaterials=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n={},r={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> ul;i.setTextures(e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=t.length;a&lt;o;a++){<span class=\"code-keyword\">var</span> s=t[a];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"MultiMaterial\"</span>===s.type){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=<span class=\"code-number\">0</span>;l&lt;s.materials.length;l++){<span class=\"code-keyword\">var</span> u=s.materials[l];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[u.uuid]&amp;&amp;(n[u.uuid]=i.parse(u)),c.push(n[u.uuid])}r[s.uuid]=c}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[s.uuid]&amp;&amp;(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}<span class=\"code-keyword\">return</span> r},n.parseAnimations=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=t[n],i=pc.parse(r);e[i.uuid]=i}<span class=\"code-keyword\">return</span> e},n.parseImages=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">this</span>,i={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t){<span class=\"code-keyword\">var</span> e=t;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> r.manager.itemStart(t),n.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.manager.itemEnd(t)}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.manager.itemError(t),r.manager.itemEnd(t)}))}(<span class=\"code-regexp\">/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i</span>.test(e)?e:r.resourcePath+e)}<span class=\"code-keyword\">return</span> t.data?{<span class=\"code-attr\">data</span>:dn(t.type,t.data),<span class=\"code-attr\">width</span>:t.width,<span class=\"code-attr\">height</span>:t.height}:<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;t.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> vc(e);(n=<span class=\"code-keyword\">new</span> Mc(o)).setCrossOrigin(<span class=\"code-keyword\">this</span>.crossOrigin);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>,c=t.length;s&lt;c;s++){<span class=\"code-keyword\">var</span> l=t[s],u=l.url;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(u)){i[l.uuid]=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>,d=u.length;h&lt;d;h++){<span class=\"code-keyword\">var</span> p=a(u[h]);<span class=\"code-literal\">null</span>!==p&amp;&amp;(p <span class=\"code-keyword\">instanceof</span> HTMLImageElement?i[l.uuid].push(p):i[l.uuid].push(<span class=\"code-keyword\">new</span> Kn(p.data,p.width,p.height)))}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> f=a(l.url);<span class=\"code-literal\">null</span>!==f&amp;&amp;(i[l.uuid]=f)}}}<span class=\"code-keyword\">return</span> i},n.parseTextures=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t?t:(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\"</span>,t),e[t])}<span class=\"code-keyword\">var</span> r={};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++){<span class=\"code-keyword\">var</span> o=t[i];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o.image&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">'THREE.ObjectLoader: No \"image\" specified for'</span>,o.uuid),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e[o.image]&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: Undefined image\"</span>,o.image);<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,c=e[o.image];<span class=\"code-built_in\">Array</span>.isArray(c)?(s=<span class=\"code-keyword\">new</span> Jn(c),<span class=\"code-number\">6</span>===c.length&amp;&amp;(s.needsUpdate=!<span class=\"code-number\">0</span>)):(s=c&amp;&amp;c.data?<span class=\"code-keyword\">new</span> Kn(c.data,c.width,c.height):<span class=\"code-keyword\">new</span> gt(c),c&amp;&amp;(s.needsUpdate=!<span class=\"code-number\">0</span>)),s.uuid=o.uuid,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.name&amp;&amp;(s.name=o.name),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.mapping&amp;&amp;(s.mapping=n(o.mapping,gl)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.offset&amp;&amp;s.offset.fromArray(o.offset),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.repeat&amp;&amp;s.repeat.fromArray(o.repeat),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.center&amp;&amp;s.center.fromArray(o.center),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.rotation&amp;&amp;(s.rotation=o.rotation),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.wrap&amp;&amp;(s.wrapS=n(o.wrap[<span class=\"code-number\">0</span>],yl),s.wrapT=n(o.wrap[<span class=\"code-number\">1</span>],yl)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.format&amp;&amp;(s.format=o.format),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.type&amp;&amp;(s.type=o.type),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.encoding&amp;&amp;(s.encoding=o.encoding),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.minFilter&amp;&amp;(s.minFilter=n(o.minFilter,xl)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.magFilter&amp;&amp;(s.magFilter=n(o.magFilter,xl)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.anisotropy&amp;&amp;(s.anisotropy=o.anisotropy),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.flipY&amp;&amp;(s.flipY=o.flipY),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.premultiplyAlpha&amp;&amp;(s.premultiplyAlpha=o.premultiplyAlpha),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o.unpackAlignment&amp;&amp;(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}<span class=\"code-keyword\">return</span> r},n.parseObject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a,o;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e[t]&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: Undefined geometry\"</span>,t),e[t]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t){<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(t)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],r=<span class=\"code-number\">0</span>,i=t.length;r&lt;i;r++){<span class=\"code-keyword\">var</span> a=t[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[a]&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: Undefined material\"</span>,a),e.push(n[a])}<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[t]&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: Undefined material\"</span>,t),n[t]}}<span class=\"code-keyword\">switch</span>(t.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Scene\"</span>:i=<span class=\"code-keyword\">new</span> ha,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.background&amp;&amp;<span class=\"code-built_in\">Number</span>.isInteger(t.background)&amp;&amp;(i.background=<span class=\"code-keyword\">new</span> We(t.background)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.fog&amp;&amp;(<span class=\"code-string\">\"Fog\"</span>===t.fog.type?i.fog=<span class=\"code-keyword\">new</span> ua(t.fog.color,t.fog.near,t.fog.far):<span class=\"code-string\">\"FogExp2\"</span>===t.fog.type&amp;&amp;(i.fog=<span class=\"code-keyword\">new</span> la(t.fog.color,t.fog.density)));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PerspectiveCamera\"</span>:i=<span class=\"code-keyword\">new</span> Xn(t.fov,t.aspect,t.near,t.far),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.focus&amp;&amp;(i.focus=t.focus),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.zoom&amp;&amp;(i.zoom=t.zoom),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.filmGauge&amp;&amp;(i.filmGauge=t.filmGauge),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.filmOffset&amp;&amp;(i.filmOffset=t.filmOffset),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.view&amp;&amp;(i.view=<span class=\"code-built_in\">Object</span>.assign({},t.view));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"OrthographicCamera\"</span>:i=<span class=\"code-keyword\">new</span> rl(t.left,t.right,t.top,t.bottom,t.near,t.far),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.zoom&amp;&amp;(i.zoom=t.zoom),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.view&amp;&amp;(i.view=<span class=\"code-built_in\">Object</span>.assign({},t.view));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"AmbientLight\"</span>:i=<span class=\"code-keyword\">new</span> ol(t.color,t.intensity);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"DirectionalLight\"</span>:i=<span class=\"code-keyword\">new</span> al(t.color,t.intensity);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PointLight\"</span>:i=<span class=\"code-keyword\">new</span> nl(t.color,t.intensity,t.distance,t.decay);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"RectAreaLight\"</span>:i=<span class=\"code-keyword\">new</span> sl(t.color,t.intensity,t.width,t.height);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SpotLight\"</span>:i=<span class=\"code-keyword\">new</span> tl(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"HemisphereLight\"</span>:i=<span class=\"code-keyword\">new</span> Qc(t.color,t.groundColor,t.intensity);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LightProbe\"</span>:i=(<span class=\"code-keyword\">new</span> ll).fromJSON(t);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"SkinnedMesh\"</span>:i=<span class=\"code-keyword\">new</span> Fa(a=s(t.geometry),o=c(t.material)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.bindMode&amp;&amp;(i.bindMode=t.bindMode),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.bindMatrix&amp;&amp;i.bindMatrix.fromArray(t.bindMatrix),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.skeleton&amp;&amp;(i.skeleton=t.skeleton);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Mesh\"</span>:i=<span class=\"code-keyword\">new</span> Un(a=s(t.geometry),o=c(t.material));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"InstancedMesh\"</span>:a=s(t.geometry),o=c(t.material);<span class=\"code-keyword\">var</span> l=t.count,u=t.instanceMatrix;(i=<span class=\"code-keyword\">new</span> Ya(a,o,l)).instanceMatrix=<span class=\"code-keyword\">new</span> Qe(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(u.array),<span class=\"code-number\">16</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LOD\"</span>:i=<span class=\"code-keyword\">new</span> Ua;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Line\"</span>:i=<span class=\"code-keyword\">new</span> eo(s(t.geometry),c(t.material),t.mode);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LineLoop\"</span>:i=<span class=\"code-keyword\">new</span> ao(s(t.geometry),c(t.material));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LineSegments\"</span>:i=<span class=\"code-keyword\">new</span> io(s(t.geometry),c(t.material));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PointCloud\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Points\"</span>:i=<span class=\"code-keyword\">new</span> ho(s(t.geometry),c(t.material));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Sprite\"</span>:i=<span class=\"code-keyword\">new</span> Ra(c(t.material));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Group\"</span>:i=<span class=\"code-keyword\">new</span> ra;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Bone\"</span>:i=<span class=\"code-keyword\">new</span> Ga;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:i=<span class=\"code-keyword\">new</span> we}<span class=\"code-keyword\">if</span>(i.uuid=t.uuid,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.name&amp;&amp;(i.name=t.name),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.matrix?(i.matrix.fromArray(t.matrix),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.matrixAutoUpdate&amp;&amp;(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&amp;&amp;i.matrix.decompose(i.position,i.quaternion,i.scale)):(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.position&amp;&amp;i.position.fromArray(t.position),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.rotation&amp;&amp;i.rotation.fromArray(t.rotation),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.quaternion&amp;&amp;i.quaternion.fromArray(t.quaternion),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.scale&amp;&amp;i.scale.fromArray(t.scale)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.castShadow&amp;&amp;(i.castShadow=t.castShadow),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.receiveShadow&amp;&amp;(i.receiveShadow=t.receiveShadow),t.shadow&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shadow.bias&amp;&amp;(i.shadow.bias=t.shadow.bias),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shadow.normalBias&amp;&amp;(i.shadow.normalBias=t.shadow.normalBias),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shadow.radius&amp;&amp;(i.shadow.radius=t.shadow.radius),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shadow.mapSize&amp;&amp;i.shadow.mapSize.fromArray(t.shadow.mapSize),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.shadow.camera&amp;&amp;(i.shadow.camera=<span class=\"code-keyword\">this</span>.parseObject(t.shadow.camera))),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.visible&amp;&amp;(i.visible=t.visible),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.frustumCulled&amp;&amp;(i.frustumCulled=t.frustumCulled),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.renderOrder&amp;&amp;(i.renderOrder=t.renderOrder),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.userData&amp;&amp;(i.userData=t.userData),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.layers&amp;&amp;(i.layers.mask=t.layers),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.children)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=t.children,d=<span class=\"code-number\">0</span>;d&lt;h.length;d++)i.add(<span class=\"code-keyword\">this</span>.parseObject(h[d],e,n,r));<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.animations)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=t.animations,f=<span class=\"code-number\">0</span>;f&lt;p.length;f++){<span class=\"code-keyword\">var</span> m=p[f];i.animations.push(r[m])}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"LOD\"</span>===t.type){<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.autoUpdate&amp;&amp;(i.autoUpdate=t.autoUpdate);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=t.levels,g=<span class=\"code-number\">0</span>;g&lt;v.length;g++){<span class=\"code-keyword\">var</span> y=v[g],x=i.getObjectByProperty(<span class=\"code-string\">\"uuid\"</span>,y.object);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==x&amp;&amp;i.addLevel(x,y.distance)}}<span class=\"code-keyword\">return</span> i},n.bindSkeletons=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-number\">0</span>!==<span class=\"code-built_in\">Object</span>.keys(e).length&amp;&amp;t.traverse((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===t.isSkinnedMesh&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.skeleton){<span class=\"code-keyword\">var</span> n=e[t.skeleton];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: No skeleton found with UUID:\"</span>,t.skeleton):t.bind(n,t.bindMatrix)}}))},n.setTexturePath=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().\"</span>),<span class=\"code-keyword\">this</span>.setResourcePath(t)},e}(yc),gl={<span class=\"code-attr\">UVMapping</span>:n,<span class=\"code-attr\">CubeReflectionMapping</span>:r,<span class=\"code-attr\">CubeRefractionMapping</span>:i,<span class=\"code-attr\">EquirectangularReflectionMapping</span>:a,<span class=\"code-attr\">EquirectangularRefractionMapping</span>:o,<span class=\"code-attr\">CubeUVReflectionMapping</span>:s,<span class=\"code-attr\">CubeUVRefractionMapping</span>:c},yl={<span class=\"code-attr\">RepeatWrapping</span>:l,<span class=\"code-attr\">ClampToEdgeWrapping</span>:u,<span class=\"code-attr\">MirroredRepeatWrapping</span>:h},xl={<span class=\"code-attr\">NearestFilter</span>:d,<span class=\"code-attr\">NearestMipmapNearestFilter</span>:p,<span class=\"code-attr\">NearestMipmapLinearFilter</span>:f,<span class=\"code-attr\">LinearFilter</span>:m,<span class=\"code-attr\">LinearMipmapNearestFilter</span>:v,<span class=\"code-attr\">LinearMipmapLinearFilter</span>:g};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_l</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> createImageBitmap&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"</span>),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> fetch&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ImageBitmapLoader: fetch() not supported.\"</span>),yc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.options={<span class=\"code-attr\">premultiplyAlpha</span>:<span class=\"code-string\">\"none\"</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bl</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"ShapePath\"</span>,<span class=\"code-keyword\">this</span>.color=<span class=\"code-keyword\">new</span> We,<span class=\"code-keyword\">this</span>.subPaths=[],<span class=\"code-keyword\">this</span>.currentPath=<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wl</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"Font\"</span>,<span class=\"code-keyword\">this</span>.data=t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ml</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=i.glyphs[t]||i.glyphs[<span class=\"code-string\">\"?\"</span>];<span class=\"code-keyword\">if</span>(a){<span class=\"code-keyword\">var</span> o,s,c,l,u,h,d,p,f=<span class=\"code-keyword\">new</span> bl;<span class=\"code-keyword\">if</span>(a.o)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=a._cachedOutline||(a._cachedOutline=a.o.split(<span class=\"code-string\">\" \"</span>)),v=<span class=\"code-number\">0</span>,g=m.length;v&lt;g;){<span class=\"code-keyword\">switch</span>(m[v++]){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"m\"</span>:o=m[v++]*e+n,s=m[v++]*e+r,f.moveTo(o,s);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"l\"</span>:o=m[v++]*e+n,s=m[v++]*e+r,f.lineTo(o,s);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"q\"</span>:c=m[v++]*e+n,l=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,f.quadraticCurveTo(u,h,c,l);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"b\"</span>:c=m[v++]*e+n,l=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,d=m[v++]*e+n,p=m[v++]*e+r,f.bezierCurveTo(u,h,d,p,c,l)}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">offsetX</span>:a.ha*e,<span class=\"code-attr\">path</span>:f}}<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">'THREE.Font: character \"'</span>+t+<span class=\"code-string\">'\" does not exists in font family '</span>+i.familyName+<span class=\"code-string\">\".\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Sl</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}_l.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:_l,<span class=\"code-attr\">isImageBitmapLoader</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">setOptions</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.path&amp;&amp;(t=<span class=\"code-keyword\">this</span>.path+t),t=<span class=\"code-keyword\">this</span>.manager.resolveURL(t);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=mc.get(t);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a)<span class=\"code-keyword\">return</span> i.manager.itemStart(t),setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class=\"code-number\">0</span>),a;<span class=\"code-keyword\">var</span> o={};o.credentials=<span class=\"code-string\">\"anonymous\"</span>===<span class=\"code-keyword\">this</span>.crossOrigin?<span class=\"code-string\">\"same-origin\"</span>:<span class=\"code-string\">\"include\"</span>,fetch(t,o).then((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.blob()})).then((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> createImageBitmap(t,i.options)})).then((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{mc.add(t,n),e&amp;&amp;e(n),i.manager.itemEnd(t)})).catch((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)}}),<span class=\"code-built_in\">Object</span>.assign(bl.prototype,{<span class=\"code-attr\">moveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPath=<span class=\"code-keyword\">new</span> Yc,<span class=\"code-keyword\">this</span>.subPaths.push(<span class=\"code-keyword\">this</span>.currentPath),<span class=\"code-keyword\">this</span>.currentPath.moveTo(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">lineTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPath.lineTo(t,e),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">quadraticCurveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPath.quadraticCurveTo(t,e,n,r),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">bezierCurveTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPath.bezierCurveTo(t,e,n,r,i,a),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">splineThru</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentPath.splineThru(t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toShapes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t[n],a=<span class=\"code-keyword\">new</span> Zc;a.curves=i.curves,e.push(a)}<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.length,r=!<span class=\"code-number\">1</span>,i=n<span class=\"code-number\">-1</span>,a=<span class=\"code-number\">0</span>;a&lt;n;i=a++){<span class=\"code-keyword\">var</span> o=e[i],s=e[a],c=s.x-o.x,l=s.y-o.y;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Math</span>.abs(l)&gt;<span class=\"code-built_in\">Number</span>.EPSILON){<span class=\"code-keyword\">if</span>(l&lt;<span class=\"code-number\">0</span>&amp;&amp;(o=e[a],c=-c,s=e[i],l=-l),t.y&lt;o.y||t.y&gt;s.y)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">if</span>(t.y===o.y){<span class=\"code-keyword\">if</span>(t.x===o.x)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> u=l*(t.x-o.x)-c*(t.y-o.y);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===u)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(u&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">continue</span>;r=!r}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(t.y!==o.y)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">if</span>(s.x&lt;=t.x&amp;&amp;t.x&lt;=o.x||o.x&lt;=t.x&amp;&amp;t.x&lt;=s.x)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">return</span> r}<span class=\"code-keyword\">var</span> i,a,o,s=ls.isClockWise,c=<span class=\"code-keyword\">this</span>.subPaths;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===c.length)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> n(c);<span class=\"code-keyword\">var</span> l=[];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===c.length)<span class=\"code-keyword\">return</span> a=c[<span class=\"code-number\">0</span>],(o=<span class=\"code-keyword\">new</span> Zc).curves=a.curves,l.push(o),l;<span class=\"code-keyword\">var</span> u=!s(c[<span class=\"code-number\">0</span>].getPoints());u=t?!u:u;<span class=\"code-keyword\">var</span> h,d,p=[],f=[],m=[],v=<span class=\"code-number\">0</span>;f[v]=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,m[v]=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> g=<span class=\"code-number\">0</span>,y=c.length;g&lt;y;g++)i=s(h=(a=c[g]).getPoints()),(i=t?!i:i)?(!u&amp;&amp;f[v]&amp;&amp;v++,f[v]={<span class=\"code-attr\">s</span>:<span class=\"code-keyword\">new</span> Zc,<span class=\"code-attr\">p</span>:h},f[v].s.curves=a.curves,u&amp;&amp;v++,m[v]=[]):m[v].push({<span class=\"code-attr\">h</span>:a,<span class=\"code-attr\">p</span>:h[<span class=\"code-number\">0</span>]});<span class=\"code-keyword\">if</span>(!f[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">return</span> n(c);<span class=\"code-keyword\">if</span>(f.length&gt;<span class=\"code-number\">1</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> x=!<span class=\"code-number\">1</span>,_=[],b=<span class=\"code-number\">0</span>,w=f.length;b&lt;w;b++)p[b]=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> M=<span class=\"code-number\">0</span>,S=f.length;M&lt;S;M++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> T=m[M],E=<span class=\"code-number\">0</span>;E&lt;T.length;E++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> A=T[E],L=!<span class=\"code-number\">0</span>,R=<span class=\"code-number\">0</span>;R&lt;f.length;R++)r(A.p,f[R].p)&amp;&amp;(M!==R&amp;&amp;_.push({<span class=\"code-attr\">froms</span>:M,<span class=\"code-attr\">tos</span>:R,<span class=\"code-attr\">hole</span>:E}),L?(L=!<span class=\"code-number\">1</span>,p[R].push(A)):x=!<span class=\"code-number\">0</span>);L&amp;&amp;p[M].push(A)}_.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(x||(m=p))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> C=<span class=\"code-number\">0</span>,P=f.length;C&lt;P;C++){o=f[C].s,l.push(o);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> I=<span class=\"code-number\">0</span>,N=(d=m[C]).length;I&lt;N;I++)o.holes.push(d[I].h)}<span class=\"code-keyword\">return</span> l}}),<span class=\"code-built_in\">Object</span>.assign(wl.prototype,{<span class=\"code-attr\">isFont</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">generateShapes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">100</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Array</span>.from?<span class=\"code-built_in\">Array</span>.from(t):<span class=\"code-built_in\">String</span>(t).split(<span class=\"code-string\">\"\"</span>),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=<span class=\"code-number\">0</span>,c=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>;l&lt;r.length;l++){<span class=\"code-keyword\">var</span> u=r[l];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\\n\"</span>===u)s=<span class=\"code-number\">0</span>,c-=a;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> h=Ml(u,i,s,c,n);s+=h.offsetX,o.push(h.path)}}<span class=\"code-keyword\">return</span> o}(t,e,<span class=\"code-keyword\">this</span>.data),i=<span class=\"code-number\">0</span>,a=r.length;i&lt;a;i++)<span class=\"code-built_in\">Array</span>.prototype.push.apply(n,r[i].toShapes());<span class=\"code-keyword\">return</span> n}}),Sl.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:Sl,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> _c(<span class=\"code-keyword\">this</span>.manager);a.setPath(<span class=\"code-keyword\">this</span>.path),a.setRequestHeader(<span class=\"code-keyword\">this</span>.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">try</span>{n=<span class=\"code-built_in\">JSON</span>.parse(t)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"</span>),n=<span class=\"code-built_in\">JSON</span>.parse(t.substring(<span class=\"code-number\">65</span>,t.length<span class=\"code-number\">-2</span>))}<span class=\"code-keyword\">var</span> r=i.parse(n);e&amp;&amp;e(r)}),n,r)},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> wl(t)}});<span class=\"code-keyword\">var</span> Tl={<span class=\"code-attr\">getContext</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===ml&amp;&amp;(ml=<span class=\"code-keyword\">new</span>(<span class=\"code-built_in\">window</span>.AudioContext||<span class=\"code-built_in\">window</span>.webkitAudioContext)),ml},<span class=\"code-attr\">setContext</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{ml=t}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">El</span>(<span class=\"code-params\">t</span>)</span>{yc.call(<span class=\"code-keyword\">this</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Al</span>(<span class=\"code-params\">t,e,n</span>)</span>{ll.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n);<span class=\"code-keyword\">var</span> r=(<span class=\"code-keyword\">new</span> We).set(t),i=(<span class=\"code-keyword\">new</span> We).set(e),a=<span class=\"code-keyword\">new</span> Mt(r.r,r.g,r.b),o=<span class=\"code-keyword\">new</span> Mt(i.r,i.g,i.b),s=<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-built_in\">Math</span>.PI),c=s*<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">.75</span>);<span class=\"code-keyword\">this</span>.sh.coefficients[<span class=\"code-number\">0</span>].copy(a).add(o).multiplyScalar(s),<span class=\"code-keyword\">this</span>.sh.coefficients[<span class=\"code-number\">1</span>].copy(a).sub(o).multiplyScalar(c)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ll</span>(<span class=\"code-params\">t,e</span>)</span>{ll.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e);<span class=\"code-keyword\">var</span> n=(<span class=\"code-keyword\">new</span> We).set(t);<span class=\"code-keyword\">this</span>.sh.coefficients[<span class=\"code-number\">0</span>].set(n.r,n.g,n.b).multiplyScalar(<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-built_in\">Math</span>.PI))}El.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(yc.prototype),{<span class=\"code-attr\">constructor</span>:El,<span class=\"code-attr\">load</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,a=<span class=\"code-keyword\">new</span> _c(i.manager);a.setResponseType(<span class=\"code-string\">\"arraybuffer\"</span>),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> a=n.slice(<span class=\"code-number\">0</span>);Tl.getContext().decodeAudioData(a,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e(t)}))}<span class=\"code-keyword\">catch</span>(e){r?r(e):<span class=\"code-built_in\">console</span>.error(e),i.manager.itemError(t)}}),n,r)}}),Al.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ll.prototype),{<span class=\"code-attr\">constructor</span>:Al,<span class=\"code-attr\">isHemisphereLightProbe</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ll.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ll.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t)}}),Ll.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(ll.prototype),{<span class=\"code-attr\">constructor</span>:Ll,<span class=\"code-attr\">isAmbientLightProbe</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ll.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> ll.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t)}});<span class=\"code-keyword\">var</span> Rl=<span class=\"code-keyword\">new</span> Qt,Cl=<span class=\"code-keyword\">new</span> Qt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pl</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"StereoCamera\"</span>,<span class=\"code-keyword\">this</span>.aspect=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.eyeSep=<span class=\"code-number\">.064</span>,<span class=\"code-keyword\">this</span>.cameraL=<span class=\"code-keyword\">new</span> Xn,<span class=\"code-keyword\">this</span>.cameraL.layers.enable(<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.cameraL.matrixAutoUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.cameraR=<span class=\"code-keyword\">new</span> Xn,<span class=\"code-keyword\">this</span>.cameraR.layers.enable(<span class=\"code-number\">2</span>),<span class=\"code-keyword\">this</span>.cameraR.matrixAutoUpdate=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._cache={<span class=\"code-attr\">focus</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">fov</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">aspect</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">near</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">far</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">zoom</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">eyeSep</span>:<span class=\"code-literal\">null</span>}}<span class=\"code-built_in\">Object</span>.assign(Pl.prototype,{<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._cache;<span class=\"code-keyword\">if</span>(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*<span class=\"code-keyword\">this</span>.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==<span class=\"code-keyword\">this</span>.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*<span class=\"code-keyword\">this</span>.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=<span class=\"code-keyword\">this</span>.eyeSep;<span class=\"code-keyword\">var</span> n,r,i=t.projectionMatrix.clone(),a=e.eyeSep/<span class=\"code-number\">2</span>,o=a*e.near/e.focus,s=e.near*<span class=\"code-built_in\">Math</span>.tan(st.DEG2RAD*e.fov*<span class=\"code-number\">.5</span>)/e.zoom;Cl.elements[<span class=\"code-number\">12</span>]=-a,Rl.elements[<span class=\"code-number\">12</span>]=a,n=-s*e.aspect+o,r=s*e.aspect+o,i.elements[<span class=\"code-number\">0</span>]=<span class=\"code-number\">2</span>*e.near/(r-n),i.elements[<span class=\"code-number\">8</span>]=(r+n)/(r-n),<span class=\"code-keyword\">this</span>.cameraL.projectionMatrix.copy(i),n=-s*e.aspect-o,r=s*e.aspect-o,i.elements[<span class=\"code-number\">0</span>]=<span class=\"code-number\">2</span>*e.near/(r-n),i.elements[<span class=\"code-number\">8</span>]=(r+n)/(r-n),<span class=\"code-keyword\">this</span>.cameraR.projectionMatrix.copy(i)}<span class=\"code-keyword\">this</span>.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Cl),<span class=\"code-keyword\">this</span>.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Rl)}});<span class=\"code-keyword\">var</span> Il=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.autoStart=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||t,<span class=\"code-keyword\">this</span>.startTime=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.oldTime=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.elapsedTime=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.running=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.start=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.startTime=Nl(),<span class=\"code-keyword\">this</span>.oldTime=<span class=\"code-keyword\">this</span>.startTime,<span class=\"code-keyword\">this</span>.elapsedTime=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.running=!<span class=\"code-number\">0</span>},e.stop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.getElapsedTime(),<span class=\"code-keyword\">this</span>.running=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.autoStart=!<span class=\"code-number\">1</span>},e.getElapsedTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getDelta(),<span class=\"code-keyword\">this</span>.elapsedTime},e.getDelta=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.autoStart&amp;&amp;!<span class=\"code-keyword\">this</span>.running)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start(),<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.running){<span class=\"code-keyword\">var</span> e=Nl();t=(e-<span class=\"code-keyword\">this</span>.oldTime)/<span class=\"code-number\">1e3</span>,<span class=\"code-keyword\">this</span>.oldTime=e,<span class=\"code-keyword\">this</span>.elapsedTime+=t}<span class=\"code-keyword\">return</span> t},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nl</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> performance?<span class=\"code-built_in\">Date</span>:performance).now()}<span class=\"code-keyword\">var</span> Dl=<span class=\"code-keyword\">new</span> Mt,Ol=<span class=\"code-keyword\">new</span> wt,Bl=<span class=\"code-keyword\">new</span> Mt,zl=<span class=\"code-keyword\">new</span> Mt,Ul=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">return</span>(e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"AudioListener\"</span>,e.context=Tl.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=<span class=\"code-literal\">null</span>,e.timeDelta=<span class=\"code-number\">0</span>,e._clock=<span class=\"code-keyword\">new</span> Il,e}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.getInput=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain},n.removeFilter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.filter&amp;&amp;(<span class=\"code-keyword\">this</span>.gain.disconnect(<span class=\"code-keyword\">this</span>.filter),<span class=\"code-keyword\">this</span>.filter.disconnect(<span class=\"code-keyword\">this</span>.context.destination),<span class=\"code-keyword\">this</span>.gain.connect(<span class=\"code-keyword\">this</span>.context.destination),<span class=\"code-keyword\">this</span>.filter=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>},n.getFilter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.filter},n.setFilter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.filter?(<span class=\"code-keyword\">this</span>.gain.disconnect(<span class=\"code-keyword\">this</span>.filter),<span class=\"code-keyword\">this</span>.filter.disconnect(<span class=\"code-keyword\">this</span>.context.destination)):<span class=\"code-keyword\">this</span>.gain.disconnect(<span class=\"code-keyword\">this</span>.context.destination),<span class=\"code-keyword\">this</span>.filter=t,<span class=\"code-keyword\">this</span>.gain.connect(<span class=\"code-keyword\">this</span>.filter),<span class=\"code-keyword\">this</span>.filter.connect(<span class=\"code-keyword\">this</span>.context.destination),<span class=\"code-keyword\">this</span>},n.getMasterVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain.gain.value},n.setMasterVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain.gain.setTargetAtTime(t,<span class=\"code-keyword\">this</span>.context.currentTime,<span class=\"code-number\">.01</span>),<span class=\"code-keyword\">this</span>},n.updateMatrixWorld=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,e);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.context.listener,r=<span class=\"code-keyword\">this</span>.up;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.timeDelta=<span class=\"code-keyword\">this</span>._clock.getDelta(),<span class=\"code-keyword\">this</span>.matrixWorld.decompose(Dl,Ol,Bl),zl.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>).applyQuaternion(Ol),n.positionX){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.context.currentTime+<span class=\"code-keyword\">this</span>.timeDelta;n.positionX.linearRampToValueAtTime(Dl.x,i),n.positionY.linearRampToValueAtTime(Dl.y,i),n.positionZ.linearRampToValueAtTime(Dl.z,i),n.forwardX.linearRampToValueAtTime(zl.x,i),n.forwardY.linearRampToValueAtTime(zl.y,i),n.forwardZ.linearRampToValueAtTime(zl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}<span class=\"code-keyword\">else</span> n.setPosition(Dl.x,Dl.y,Dl.z),n.setOrientation(zl.x,zl.y,zl.z,r.x,r.y,r.z)},e}(we),Fl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">return</span>(n=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"Audio\"</span>,n.listener=e,n.context=e.context,n.gain=n.context.createGain(),n.gain.connect(e.getInput()),n.autoplay=!<span class=\"code-number\">1</span>,n.buffer=<span class=\"code-literal\">null</span>,n.detune=<span class=\"code-number\">0</span>,n.loop=!<span class=\"code-number\">1</span>,n.loopStart=<span class=\"code-number\">0</span>,n.loopEnd=<span class=\"code-number\">0</span>,n.offset=<span class=\"code-number\">0</span>,n.duration=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n.playbackRate=<span class=\"code-number\">1</span>,n.isPlaying=!<span class=\"code-number\">1</span>,n.hasPlaybackControl=!<span class=\"code-number\">0</span>,n.source=<span class=\"code-literal\">null</span>,n.sourceType=<span class=\"code-string\">\"empty\"</span>,n._startedAt=<span class=\"code-number\">0</span>,n._progress=<span class=\"code-number\">0</span>,n._connected=!<span class=\"code-number\">1</span>,n.filters=[],n}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.getOutput=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain},n.setNodeSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasPlaybackControl=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.sourceType=<span class=\"code-string\">\"audioNode\"</span>,<span class=\"code-keyword\">this</span>.source=t,<span class=\"code-keyword\">this</span>.connect(),<span class=\"code-keyword\">this</span>},n.setMediaElementSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasPlaybackControl=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.sourceType=<span class=\"code-string\">\"mediaNode\"</span>,<span class=\"code-keyword\">this</span>.source=<span class=\"code-keyword\">this</span>.context.createMediaElementSource(t),<span class=\"code-keyword\">this</span>.connect(),<span class=\"code-keyword\">this</span>},n.setMediaStreamSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasPlaybackControl=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.sourceType=<span class=\"code-string\">\"mediaStreamNode\"</span>,<span class=\"code-keyword\">this</span>.source=<span class=\"code-keyword\">this</span>.context.createMediaStreamSource(t),<span class=\"code-keyword\">this</span>.connect(),<span class=\"code-keyword\">this</span>},n.setBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.buffer=t,<span class=\"code-keyword\">this</span>.sourceType=<span class=\"code-string\">\"buffer\"</span>,<span class=\"code-keyword\">this</span>.autoplay&amp;&amp;<span class=\"code-keyword\">this</span>.play(),<span class=\"code-keyword\">this</span>},n.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),!<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.isPlaying){<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl){<span class=\"code-keyword\">this</span>._startedAt=<span class=\"code-keyword\">this</span>.context.currentTime+t;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.context.createBufferSource();<span class=\"code-keyword\">return</span> e.buffer=<span class=\"code-keyword\">this</span>.buffer,e.loop=<span class=\"code-keyword\">this</span>.loop,e.loopStart=<span class=\"code-keyword\">this</span>.loopStart,e.loopEnd=<span class=\"code-keyword\">this</span>.loopEnd,e.onended=<span class=\"code-keyword\">this</span>.onEnded.bind(<span class=\"code-keyword\">this</span>),e.start(<span class=\"code-keyword\">this</span>._startedAt,<span class=\"code-keyword\">this</span>._progress+<span class=\"code-keyword\">this</span>.offset,<span class=\"code-keyword\">this</span>.duration),<span class=\"code-keyword\">this</span>.isPlaying=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.source=e,<span class=\"code-keyword\">this</span>.setDetune(<span class=\"code-keyword\">this</span>.detune),<span class=\"code-keyword\">this</span>.setPlaybackRate(<span class=\"code-keyword\">this</span>.playbackRate),<span class=\"code-keyword\">this</span>.connect()}<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: Audio is already playing.\"</span>)},n.pause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.isPlaying&amp;&amp;(<span class=\"code-keyword\">this</span>._progress+=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.context.currentTime-<span class=\"code-keyword\">this</span>._startedAt,<span class=\"code-number\">0</span>)*<span class=\"code-keyword\">this</span>.playbackRate,!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.loop&amp;&amp;(<span class=\"code-keyword\">this</span>._progress=<span class=\"code-keyword\">this</span>._progress%(<span class=\"code-keyword\">this</span>.duration||<span class=\"code-keyword\">this</span>.buffer.duration)),<span class=\"code-keyword\">this</span>.source.stop(),<span class=\"code-keyword\">this</span>.source.onended=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.isPlaying=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>)},n.stop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._progress=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.source.stop(),<span class=\"code-keyword\">this</span>.source.onended=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.isPlaying=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>)},n.connect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.filters.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">this</span>.source.connect(<span class=\"code-keyword\">this</span>.filters[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>,e=<span class=\"code-keyword\">this</span>.filters.length;t&lt;e;t++)<span class=\"code-keyword\">this</span>.filters[t<span class=\"code-number\">-1</span>].connect(<span class=\"code-keyword\">this</span>.filters[t]);<span class=\"code-keyword\">this</span>.filters[<span class=\"code-keyword\">this</span>.filters.length<span class=\"code-number\">-1</span>].connect(<span class=\"code-keyword\">this</span>.getOutput())}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.source.connect(<span class=\"code-keyword\">this</span>.getOutput());<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._connected=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},n.disconnect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.filters.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">this</span>.source.disconnect(<span class=\"code-keyword\">this</span>.filters[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>,e=<span class=\"code-keyword\">this</span>.filters.length;t&lt;e;t++)<span class=\"code-keyword\">this</span>.filters[t<span class=\"code-number\">-1</span>].disconnect(<span class=\"code-keyword\">this</span>.filters[t]);<span class=\"code-keyword\">this</span>.filters[<span class=\"code-keyword\">this</span>.filters.length<span class=\"code-number\">-1</span>].disconnect(<span class=\"code-keyword\">this</span>.getOutput())}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.source.disconnect(<span class=\"code-keyword\">this</span>.getOutput());<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._connected=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},n.getFilters=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.filters},n.setFilters=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t||(t=[]),!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._connected?(<span class=\"code-keyword\">this</span>.disconnect(),<span class=\"code-keyword\">this</span>.filters=t.slice(),<span class=\"code-keyword\">this</span>.connect()):<span class=\"code-keyword\">this</span>.filters=t.slice(),<span class=\"code-keyword\">this</span>},n.setDetune=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.detune=t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.source.detune)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.isPlaying&amp;&amp;<span class=\"code-keyword\">this</span>.source.detune.setTargetAtTime(<span class=\"code-keyword\">this</span>.detune,<span class=\"code-keyword\">this</span>.context.currentTime,<span class=\"code-number\">.01</span>),<span class=\"code-keyword\">this</span>},n.getDetune=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.detune},n.getFilter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.getFilters()[<span class=\"code-number\">0</span>]},n.setFilter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFilters(t?[t]:[])},n.setPlaybackRate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.playbackRate=t,!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.isPlaying&amp;&amp;<span class=\"code-keyword\">this</span>.source.playbackRate.setTargetAtTime(<span class=\"code-keyword\">this</span>.playbackRate,<span class=\"code-keyword\">this</span>.context.currentTime,<span class=\"code-number\">.01</span>),<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>)},n.getPlaybackRate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.playbackRate},n.onEnded=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isPlaying=!<span class=\"code-number\">1</span>},n.getLoop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.hasPlaybackControl?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>),!<span class=\"code-number\">1</span>):<span class=\"code-keyword\">this</span>.loop},n.setLoop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loop=t,!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.isPlaying&amp;&amp;(<span class=\"code-keyword\">this</span>.source.loop=<span class=\"code-keyword\">this</span>.loop),<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: this Audio has no playback control.\"</span>)},n.setLoopStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loopStart=t,<span class=\"code-keyword\">this</span>},n.setLoopEnd=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loopEnd=t,<span class=\"code-keyword\">this</span>},n.getVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain.gain.value},n.setVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gain.gain.setTargetAtTime(t,<span class=\"code-keyword\">this</span>.context.currentTime,<span class=\"code-number\">.01</span>),<span class=\"code-keyword\">this</span>},e}(we),Gl=<span class=\"code-keyword\">new</span> Mt,Hl=<span class=\"code-keyword\">new</span> wt,kl=<span class=\"code-keyword\">new</span> Mt,Vl=<span class=\"code-keyword\">new</span> Mt,Wl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">return</span>(n=t.call(<span class=\"code-keyword\">this</span>,e)||<span class=\"code-keyword\">this</span>).panner=n.context.createPanner(),n.panner.panningModel=<span class=\"code-string\">\"HRTF\"</span>,n.panner.connect(n.gain),n}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.getOutput=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner},n.getRefDistance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.refDistance},n.setRefDistance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.refDistance=t,<span class=\"code-keyword\">this</span>},n.getRolloffFactor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.rolloffFactor},n.setRolloffFactor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.rolloffFactor=t,<span class=\"code-keyword\">this</span>},n.getDistanceModel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.distanceModel},n.setDistanceModel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.distanceModel=t,<span class=\"code-keyword\">this</span>},n.getMaxDistance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.maxDistance},n.setMaxDistance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.maxDistance=t,<span class=\"code-keyword\">this</span>},n.setDirectionalCone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.panner.coneInnerAngle=t,<span class=\"code-keyword\">this</span>.panner.coneOuterAngle=e,<span class=\"code-keyword\">this</span>.panner.coneOuterGain=n,<span class=\"code-keyword\">this</span>},n.updateMatrixWorld=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(t.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,e),!<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.hasPlaybackControl||!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.isPlaying){<span class=\"code-keyword\">this</span>.matrixWorld.decompose(Gl,Hl,kl),Vl.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>).applyQuaternion(Hl);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.panner;<span class=\"code-keyword\">if</span>(n.positionX){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.context.currentTime+<span class=\"code-keyword\">this</span>.listener.timeDelta;n.positionX.linearRampToValueAtTime(Gl.x,r),n.positionY.linearRampToValueAtTime(Gl.y,r),n.positionZ.linearRampToValueAtTime(Gl.z,r),n.orientationX.linearRampToValueAtTime(Vl.x,r),n.orientationY.linearRampToValueAtTime(Vl.y,r),n.orientationZ.linearRampToValueAtTime(Vl.z,r)}<span class=\"code-keyword\">else</span> n.setPosition(Gl.x,Gl.y,Gl.z),n.setOrientation(Vl.x,Vl.y,Vl.z)}},e}(Fl),jl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">2048</span>),<span class=\"code-keyword\">this</span>.analyser=t.context.createAnalyser(),<span class=\"code-keyword\">this</span>.analyser.fftSize=e,<span class=\"code-keyword\">this</span>.data=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">this</span>.analyser.frequencyBinCount),t.getOutput().connect(<span class=\"code-keyword\">this</span>.analyser)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.getFrequencyData=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.analyser.getByteFrequencyData(<span class=\"code-keyword\">this</span>.data),<span class=\"code-keyword\">this</span>.data},e.getAverageFrequency=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,e=<span class=\"code-keyword\">this</span>.getFrequencyData(),n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)t+=e[n];<span class=\"code-keyword\">return</span> t/e.length},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ql</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r,i,a;<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.binding=t,<span class=\"code-keyword\">this</span>.valueSize=n,e){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"quaternion\"</span>:r=<span class=\"code-keyword\">this</span>._slerp,i=<span class=\"code-keyword\">this</span>._slerpAdditive,a=<span class=\"code-keyword\">this</span>._setAdditiveIdentityQuaternion,<span class=\"code-keyword\">this</span>.buffer=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float64Array</span>(<span class=\"code-number\">6</span>*n),<span class=\"code-keyword\">this</span>._workIndex=<span class=\"code-number\">5</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"string\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"bool\"</span>:r=<span class=\"code-keyword\">this</span>._select,i=<span class=\"code-keyword\">this</span>._select,a=<span class=\"code-keyword\">this</span>._setAdditiveIdentityOther,<span class=\"code-keyword\">this</span>.buffer=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(<span class=\"code-number\">5</span>*n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r=<span class=\"code-keyword\">this</span>._lerp,i=<span class=\"code-keyword\">this</span>._lerpAdditive,a=<span class=\"code-keyword\">this</span>._setAdditiveIdentityNumeric,<span class=\"code-keyword\">this</span>.buffer=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float64Array</span>(<span class=\"code-number\">5</span>*n)}<span class=\"code-keyword\">this</span>._mixBufferRegion=r,<span class=\"code-keyword\">this</span>._mixBufferRegionAdditive=i,<span class=\"code-keyword\">this</span>._setIdentity=a,<span class=\"code-keyword\">this</span>._origIndex=<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>._addIndex=<span class=\"code-number\">4</span>,<span class=\"code-keyword\">this</span>.cumulativeWeight=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.useCount=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.referenceCount=<span class=\"code-number\">0</span>}<span class=\"code-built_in\">Object</span>.assign(ql.prototype,{<span class=\"code-attr\">accumulate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.buffer,r=<span class=\"code-keyword\">this</span>.valueSize,i=t*r+r,a=<span class=\"code-keyword\">this</span>.cumulativeWeight;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===a){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o!==r;++o)n[i+o]=n[o];a=e}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=e/(a+=e);<span class=\"code-keyword\">this</span>._mixBufferRegion(n,i,<span class=\"code-number\">0</span>,s,r)}<span class=\"code-keyword\">this</span>.cumulativeWeight=a},<span class=\"code-attr\">accumulateAdditive</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.buffer,n=<span class=\"code-keyword\">this</span>.valueSize,r=n*<span class=\"code-keyword\">this</span>._addIndex;<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive&amp;&amp;<span class=\"code-keyword\">this</span>._setIdentity(),<span class=\"code-keyword\">this</span>._mixBufferRegionAdditive(e,r,<span class=\"code-number\">0</span>,t,n),<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive+=t},<span class=\"code-attr\">apply</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.valueSize,n=<span class=\"code-keyword\">this</span>.buffer,r=t*e+e,i=<span class=\"code-keyword\">this</span>.cumulativeWeight,a=<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive,o=<span class=\"code-keyword\">this</span>.binding;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.cumulativeWeight=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive=<span class=\"code-number\">0</span>,i&lt;<span class=\"code-number\">1</span>){<span class=\"code-keyword\">var</span> s=e*<span class=\"code-keyword\">this</span>._origIndex;<span class=\"code-keyword\">this</span>._mixBufferRegion(n,r,s,<span class=\"code-number\">1</span>-i,e)}a&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>._mixBufferRegionAdditive(n,r,<span class=\"code-keyword\">this</span>._addIndex*e,<span class=\"code-number\">1</span>,e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=e,l=e+e;c!==l;++c)<span class=\"code-keyword\">if</span>(n[c]!==n[c+e]){o.setValue(n,r);<span class=\"code-keyword\">break</span>}},<span class=\"code-attr\">saveOriginalState</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.binding,e=<span class=\"code-keyword\">this</span>.buffer,n=<span class=\"code-keyword\">this</span>.valueSize,r=n*<span class=\"code-keyword\">this</span>._origIndex;t.getValue(e,r);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n,a=r;i!==a;++i)e[i]=e[r+i%n];<span class=\"code-keyword\">this</span>._setIdentity(),<span class=\"code-keyword\">this</span>.cumulativeWeight=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.cumulativeWeightAdditive=<span class=\"code-number\">0</span>},<span class=\"code-attr\">restoreOriginalState</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">3</span>*<span class=\"code-keyword\">this</span>.valueSize;<span class=\"code-keyword\">this</span>.binding.setValue(<span class=\"code-keyword\">this</span>.buffer,t)},<span class=\"code-attr\">_setAdditiveIdentityNumeric</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._addIndex*<span class=\"code-keyword\">this</span>.valueSize,e=t+<span class=\"code-keyword\">this</span>.valueSize,n=t;n&lt;e;n++)<span class=\"code-keyword\">this</span>.buffer[n]=<span class=\"code-number\">0</span>},<span class=\"code-attr\">_setAdditiveIdentityQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._setAdditiveIdentityNumeric(),<span class=\"code-keyword\">this</span>.buffer[<span class=\"code-keyword\">this</span>._addIndex*<span class=\"code-keyword\">this</span>.valueSize+<span class=\"code-number\">3</span>]=<span class=\"code-number\">1</span>},<span class=\"code-attr\">_setAdditiveIdentityOther</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._origIndex*<span class=\"code-keyword\">this</span>.valueSize,e=<span class=\"code-keyword\">this</span>._addIndex*<span class=\"code-keyword\">this</span>.valueSize,n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.valueSize;n++)<span class=\"code-keyword\">this</span>.buffer[e+n]=<span class=\"code-keyword\">this</span>.buffer[t+n]},<span class=\"code-attr\">_select</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">if</span>(r&gt;=<span class=\"code-number\">.5</span>)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a!==i;++a)t[e+a]=t[n+a]},<span class=\"code-attr\">_slerp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{wt.slerpFlat(t,e,t,e,t,n,r)},<span class=\"code-attr\">_slerpAdditive</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>._workIndex*i;wt.multiplyQuaternionsFlat(t,a,t,e,t,n),wt.slerpFlat(t,e,t,e,t,a,r)},<span class=\"code-attr\">_lerp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">1</span>-r,o=<span class=\"code-number\">0</span>;o!==i;++o){<span class=\"code-keyword\">var</span> s=e+o;t[s]=t[s]*a+t[n+o]*r}},<span class=\"code-attr\">_lerpAdditive</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a!==i;++a){<span class=\"code-keyword\">var</span> o=e+a;t[o]=t[o]+t[n+a]*r}}});<span class=\"code-keyword\">var</span> Xl=<span class=\"code-string\">\"\\\\[\\\\]\\\\.:\\\\/\"</span>,Yl=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"[\\\\[\\\\]\\\\.:\\\\/]\"</span>,<span class=\"code-string\">\"g\"</span>),Zl=<span class=\"code-string\">\"[^\\\\[\\\\]\\\\.:\\\\/]\"</span>,Jl=<span class=\"code-string\">\"[^\"</span>+Xl.replace(<span class=\"code-string\">\"\\\\.\"</span>,<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"]\"</span>,Ql=<span class=\"code-regexp\">/((?:WC+[\\/:])*)/</span>.source.replace(<span class=\"code-string\">\"WC\"</span>,Zl),Kl=<span class=\"code-regexp\">/(WCOD+)?/</span>.source.replace(<span class=\"code-string\">\"WCOD\"</span>,Jl),$l=<span class=\"code-regexp\">/(?:\\.(WC+)(?:\\[(.+)\\])?)?/</span>.source.replace(<span class=\"code-string\">\"WC\"</span>,Zl),tu=<span class=\"code-regexp\">/\\.(WC+)(?:\\[(.+)\\])?/</span>.source.replace(<span class=\"code-string\">\"WC\"</span>,Zl),eu=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^\"</span>+Ql+Kl+$l+tu+<span class=\"code-string\">\"$\"</span>),nu=[<span class=\"code-string\">\"material\"</span>,<span class=\"code-string\">\"materials\"</span>,<span class=\"code-string\">\"bones\"</span>];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ru</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n||iu.parseTrackName(e);<span class=\"code-keyword\">this</span>._targetGroup=t,<span class=\"code-keyword\">this</span>._bindings=t.subscribe_(e,r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">iu</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">this</span>.path=e,<span class=\"code-keyword\">this</span>.parsedPath=n||iu.parseTrackName(e),<span class=\"code-keyword\">this</span>.node=iu.findNode(t,<span class=\"code-keyword\">this</span>.parsedPath.nodeName)||t,<span class=\"code-keyword\">this</span>.rootNode=t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">au</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.uuid=st.generateUUID(),<span class=\"code-keyword\">this</span>._objects=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>),<span class=\"code-keyword\">this</span>.nCachedObjects_=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> t={};<span class=\"code-keyword\">this</span>._indicesByUUID=t;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=<span class=\"code-built_in\">arguments</span>.length;e!==n;++e)t[<span class=\"code-built_in\">arguments</span>[e].uuid]=e;<span class=\"code-keyword\">this</span>._paths=[],<span class=\"code-keyword\">this</span>._parsedPaths=[],<span class=\"code-keyword\">this</span>._bindings=[],<span class=\"code-keyword\">this</span>._bindingsIndicesByPath={};<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.stats={<span class=\"code-attr\">objects</span>:{<span class=\"code-keyword\">get</span> total(){<span class=\"code-keyword\">return</span> r._objects.length},<span class=\"code-keyword\">get</span> inUse(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.total-r.nCachedObjects_}},<span class=\"code-keyword\">get</span> bindingsPerObject(){<span class=\"code-keyword\">return</span> r._bindings.length}}}<span class=\"code-built_in\">Object</span>.assign(ru.prototype,{<span class=\"code-attr\">getValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.bind();<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._targetGroup.nCachedObjects_,r=<span class=\"code-keyword\">this</span>._bindings[n];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;r.getValue(t,e)},<span class=\"code-attr\">setValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._bindings,r=<span class=\"code-keyword\">this</span>._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},<span class=\"code-attr\">bind</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._bindings,e=<span class=\"code-keyword\">this</span>._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},<span class=\"code-attr\">unbind</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._bindings,e=<span class=\"code-keyword\">this</span>._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),<span class=\"code-built_in\">Object</span>.assign(iu,{<span class=\"code-attr\">Composite</span>:ru,<span class=\"code-attr\">create</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.isAnimationObjectGroup?<span class=\"code-keyword\">new</span> iu.Composite(t,e,n):<span class=\"code-keyword\">new</span> iu(t,e,n)},<span class=\"code-attr\">sanitizeNodeName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.replace(<span class=\"code-regexp\">/\\s/g</span>,<span class=\"code-string\">\"_\"</span>).replace(Yl,<span class=\"code-string\">\"\"</span>)},<span class=\"code-attr\">parseTrackName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=eu.exec(t);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"PropertyBinding: Cannot parse trackName: \"</span>+t);<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">nodeName</span>:e[<span class=\"code-number\">2</span>],<span class=\"code-attr\">objectName</span>:e[<span class=\"code-number\">3</span>],<span class=\"code-attr\">objectIndex</span>:e[<span class=\"code-number\">4</span>],<span class=\"code-attr\">propertyName</span>:e[<span class=\"code-number\">5</span>],<span class=\"code-attr\">propertyIndex</span>:e[<span class=\"code-number\">6</span>]},r=n.nodeName&amp;&amp;n.nodeName.lastIndexOf(<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;<span class=\"code-number\">-1</span>!==r){<span class=\"code-keyword\">var</span> i=n.nodeName.substring(r+<span class=\"code-number\">1</span>);<span class=\"code-number\">-1</span>!==nu.indexOf(i)&amp;&amp;(n.nodeName=n.nodeName.substring(<span class=\"code-number\">0</span>,r),n.objectName=i)}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===n.propertyName||<span class=\"code-number\">0</span>===n.propertyName.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"PropertyBinding: can not parse propertyName from trackName: \"</span>+t);<span class=\"code-keyword\">return</span> n},<span class=\"code-attr\">findNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!e||<span class=\"code-string\">\"\"</span>===e||<span class=\"code-string\">\".\"</span>===e||<span class=\"code-number\">-1</span>===e||e===t.name||e===t.uuid)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">if</span>(t.skeleton){<span class=\"code-keyword\">var</span> n=t.skeleton.getBoneByName(e);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n)<span class=\"code-keyword\">return</span> n}<span class=\"code-keyword\">if</span>(t.children){<span class=\"code-keyword\">var</span> r=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;n.length;r++){<span class=\"code-keyword\">var</span> i=n[r];<span class=\"code-keyword\">if</span>(i.name===e||i.uuid===e)<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">var</span> a=t(i.children);<span class=\"code-keyword\">if</span>(a)<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(t.children);<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">return</span> r}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}),<span class=\"code-built_in\">Object</span>.assign(iu.prototype,{<span class=\"code-attr\">_getValue_unavailable</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">_setValue_unavailable</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">BindingType</span>:{<span class=\"code-attr\">Direct</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">EntireArray</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">ArrayElement</span>:<span class=\"code-number\">2</span>,<span class=\"code-attr\">HasFromToArray</span>:<span class=\"code-number\">3</span>},<span class=\"code-attr\">Versioning</span>:{<span class=\"code-attr\">None</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">NeedsUpdate</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">MatrixWorldNeedsUpdate</span>:<span class=\"code-number\">2</span>},<span class=\"code-attr\">GetterByBindingType</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t[e]=<span class=\"code-keyword\">this</span>.node[<span class=\"code-keyword\">this</span>.propertyName]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.resolvedProperty,r=<span class=\"code-number\">0</span>,i=n.length;r!==i;++r)t[e++]=n[r]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t[e]=<span class=\"code-keyword\">this</span>.resolvedProperty[<span class=\"code-keyword\">this</span>.propertyIndex]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty.toArray(t,e)}],<span class=\"code-attr\">SetterByBindingTypeAndVersioning</span>:[[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.targetObject[<span class=\"code-keyword\">this</span>.propertyName]=t[e]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.targetObject[<span class=\"code-keyword\">this</span>.propertyName]=t[e],<span class=\"code-keyword\">this</span>.targetObject.needsUpdate=!<span class=\"code-number\">0</span>},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.targetObject[<span class=\"code-keyword\">this</span>.propertyName]=t[e],<span class=\"code-keyword\">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class=\"code-number\">0</span>}],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.resolvedProperty,r=<span class=\"code-number\">0</span>,i=n.length;r!==i;++r)n[r]=t[e++]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.resolvedProperty,r=<span class=\"code-number\">0</span>,i=n.length;r!==i;++r)n[r]=t[e++];<span class=\"code-keyword\">this</span>.targetObject.needsUpdate=!<span class=\"code-number\">0</span>},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.resolvedProperty,r=<span class=\"code-number\">0</span>,i=n.length;r!==i;++r)n[r]=t[e++];<span class=\"code-keyword\">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class=\"code-number\">0</span>}],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty[<span class=\"code-keyword\">this</span>.propertyIndex]=t[e]},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty[<span class=\"code-keyword\">this</span>.propertyIndex]=t[e],<span class=\"code-keyword\">this</span>.targetObject.needsUpdate=!<span class=\"code-number\">0</span>},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty[<span class=\"code-keyword\">this</span>.propertyIndex]=t[e],<span class=\"code-keyword\">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class=\"code-number\">0</span>}],[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty.fromArray(t,e)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty.fromArray(t,e),<span class=\"code-keyword\">this</span>.targetObject.needsUpdate=!<span class=\"code-number\">0</span>},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.resolvedProperty.fromArray(t,e),<span class=\"code-keyword\">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class=\"code-number\">0</span>}]],<span class=\"code-attr\">getValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.bind(),<span class=\"code-keyword\">this</span>.getValue(t,e)},<span class=\"code-attr\">setValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.bind(),<span class=\"code-keyword\">this</span>.setValue(t,e)},<span class=\"code-attr\">bind</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.node,e=<span class=\"code-keyword\">this</span>.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;<span class=\"code-keyword\">if</span>(t||(t=iu.findNode(<span class=\"code-keyword\">this</span>.rootNode,e.nodeName)||<span class=\"code-keyword\">this</span>.rootNode,<span class=\"code-keyword\">this</span>.node=t),<span class=\"code-keyword\">this</span>.getValue=<span class=\"code-keyword\">this</span>._getValue_unavailable,<span class=\"code-keyword\">this</span>.setValue=<span class=\"code-keyword\">this</span>._setValue_unavailable,t){<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">var</span> a=e.objectIndex;<span class=\"code-keyword\">switch</span>(n){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"materials\"</span>:<span class=\"code-keyword\">if</span>(!t.material)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to material as node does not have a material.\"</span>,<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">if</span>(!t.material.materials)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\"</span>,<span class=\"code-keyword\">this</span>);t=t.material.materials;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"bones\"</span>:<span class=\"code-keyword\">if</span>(!t.skeleton)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\"</span>,<span class=\"code-keyword\">this</span>);t=t.skeleton.bones;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;t.length;o++)<span class=\"code-keyword\">if</span>(t[o].name===a){a=o;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t[n])<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to objectName of node undefined.\"</span>,<span class=\"code-keyword\">this</span>);t=t[n]}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t[a])<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\"</span>,<span class=\"code-keyword\">this</span>,t);t=t[a]}}<span class=\"code-keyword\">var</span> s=t[r];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s){<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>.Versioning.None;<span class=\"code-keyword\">this</span>.targetObject=t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.needsUpdate?c=<span class=\"code-keyword\">this</span>.Versioning.NeedsUpdate:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.matrixWorldNeedsUpdate&amp;&amp;(c=<span class=\"code-keyword\">this</span>.Versioning.MatrixWorldNeedsUpdate);<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">this</span>.BindingType.Direct;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"morphTargetInfluences\"</span>===r){<span class=\"code-keyword\">if</span>(!t.geometry)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\"</span>,<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">if</span>(!t.geometry.isBufferGeometry)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.\"</span>,<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">if</span>(!t.geometry.morphAttributes)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\"</span>,<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.morphTargetDictionary[i]&amp;&amp;(i=t.morphTargetDictionary[i])}l=<span class=\"code-keyword\">this</span>.BindingType.ArrayElement,<span class=\"code-keyword\">this</span>.resolvedProperty=s,<span class=\"code-keyword\">this</span>.propertyIndex=i}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s.fromArray&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s.toArray?(l=<span class=\"code-keyword\">this</span>.BindingType.HasFromToArray,<span class=\"code-keyword\">this</span>.resolvedProperty=s):<span class=\"code-built_in\">Array</span>.isArray(s)?(l=<span class=\"code-keyword\">this</span>.BindingType.EntireArray,<span class=\"code-keyword\">this</span>.resolvedProperty=s):<span class=\"code-keyword\">this</span>.propertyName=r;<span class=\"code-keyword\">this</span>.getValue=<span class=\"code-keyword\">this</span>.GetterByBindingType[l],<span class=\"code-keyword\">this</span>.setValue=<span class=\"code-keyword\">this</span>.SetterByBindingTypeAndVersioning[l][c]}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> u=e.nodeName;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Trying to update property for track: \"</span>+u+<span class=\"code-string\">\".\"</span>+r+<span class=\"code-string\">\" but it wasn't found.\"</span>,t)}}<span class=\"code-keyword\">else</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.PropertyBinding: Trying to update node for track: \"</span>+<span class=\"code-keyword\">this</span>.path+<span class=\"code-string\">\" but it wasn't found.\"</span>)},<span class=\"code-attr\">unbind</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.node=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.getValue=<span class=\"code-keyword\">this</span>._getValue_unbound,<span class=\"code-keyword\">this</span>.setValue=<span class=\"code-keyword\">this</span>._setValue_unbound}}),<span class=\"code-built_in\">Object</span>.assign(iu.prototype,{<span class=\"code-attr\">_getValue_unbound</span>:iu.prototype.getValue,<span class=\"code-attr\">_setValue_unbound</span>:iu.prototype.setValue}),<span class=\"code-built_in\">Object</span>.assign(au.prototype,{<span class=\"code-attr\">isAnimationObjectGroup</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._objects,e=<span class=\"code-keyword\">this</span>._indicesByUUID,n=<span class=\"code-keyword\">this</span>._paths,r=<span class=\"code-keyword\">this</span>._parsedPaths,i=<span class=\"code-keyword\">this</span>._bindings,a=i.length,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,s=t.length,c=<span class=\"code-keyword\">this</span>.nCachedObjects_,l=<span class=\"code-number\">0</span>,u=<span class=\"code-built_in\">arguments</span>.length;l!==u;++l){<span class=\"code-keyword\">var</span> h=<span class=\"code-built_in\">arguments</span>[l],d=h.uuid,p=e[d];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===p){p=s++,e[d]=p,t.push(h);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,m=a;f!==m;++f)i[f].push(<span class=\"code-keyword\">new</span> iu(h,n[f],r[f]))}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(p&lt;c){o=t[p];<span class=\"code-keyword\">var</span> v=--c,g=t[v];e[g.uuid]=p,t[p]=g,e[d]=v,t[v]=h;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> y=<span class=\"code-number\">0</span>,x=a;y!==x;++y){<span class=\"code-keyword\">var</span> _=i[y],b=_[v],w=_[p];_[p]=b,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===w&amp;&amp;(w=<span class=\"code-keyword\">new</span> iu(h,n[y],r[y])),_[v]=w}}<span class=\"code-keyword\">else</span> t[p]!==o&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.\"</span>)}<span class=\"code-keyword\">this</span>.nCachedObjects_=c},<span class=\"code-attr\">remove</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._objects,e=<span class=\"code-keyword\">this</span>._indicesByUUID,n=<span class=\"code-keyword\">this</span>._bindings,r=n.length,i=<span class=\"code-keyword\">this</span>.nCachedObjects_,a=<span class=\"code-number\">0</span>,o=<span class=\"code-built_in\">arguments</span>.length;a!==o;++a){<span class=\"code-keyword\">var</span> s=<span class=\"code-built_in\">arguments</span>[a],c=s.uuid,l=e[c];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==l&amp;&amp;l&gt;=i){<span class=\"code-keyword\">var</span> u=i++,h=t[u];e[h.uuid]=l,t[l]=h,e[c]=u,t[u]=s;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=r;d!==p;++d){<span class=\"code-keyword\">var</span> f=n[d],m=f[u],v=f[l];f[l]=m,f[u]=v}}}<span class=\"code-keyword\">this</span>.nCachedObjects_=i},<span class=\"code-attr\">uncache</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._objects,e=<span class=\"code-keyword\">this</span>._indicesByUUID,n=<span class=\"code-keyword\">this</span>._bindings,r=n.length,i=<span class=\"code-keyword\">this</span>.nCachedObjects_,a=t.length,o=<span class=\"code-number\">0</span>,s=<span class=\"code-built_in\">arguments</span>.length;o!==s;++o){<span class=\"code-keyword\">var</span> c=<span class=\"code-built_in\">arguments</span>[o],l=c.uuid,u=e[l];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==u)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">delete</span> e[l],u&lt;i){<span class=\"code-keyword\">var</span> h=--i,d=t[h],p=--a,f=t[p];e[d.uuid]=u,t[u]=d,e[f.uuid]=h,t[h]=f,t.pop();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>,v=r;m!==v;++m){<span class=\"code-keyword\">var</span> g=n[m],y=g[h],x=g[p];g[u]=y,g[h]=x,g.pop()}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> _=--a,b=t[_];_&gt;<span class=\"code-number\">0</span>&amp;&amp;(e[b.uuid]=u),t[u]=b,t.pop();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w=<span class=\"code-number\">0</span>,M=r;w!==M;++w){<span class=\"code-keyword\">var</span> S=n[w];S[u]=S[_],S.pop()}}}<span class=\"code-keyword\">this</span>.nCachedObjects_=i},<span class=\"code-attr\">subscribe_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._bindingsIndicesByPath,r=n[t],i=<span class=\"code-keyword\">this</span>._bindings;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r)<span class=\"code-keyword\">return</span> i[r];<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>._paths,o=<span class=\"code-keyword\">this</span>._parsedPaths,s=<span class=\"code-keyword\">this</span>._objects,c=s.length,l=<span class=\"code-keyword\">this</span>.nCachedObjects_,u=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(c);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(u);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=l,d=s.length;h!==d;++h){<span class=\"code-keyword\">var</span> p=s[h];u[h]=<span class=\"code-keyword\">new</span> iu(p,t,e)}<span class=\"code-keyword\">return</span> u},<span class=\"code-attr\">unsubscribe_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._bindingsIndicesByPath,n=e[t];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._paths,i=<span class=\"code-keyword\">this</span>._parsedPaths,a=<span class=\"code-keyword\">this</span>._bindings,o=a.length<span class=\"code-number\">-1</span>,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});<span class=\"code-keyword\">var</span> ou=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=e.blendMode),<span class=\"code-keyword\">this</span>._mixer=t,<span class=\"code-keyword\">this</span>._clip=e,<span class=\"code-keyword\">this</span>._localRoot=n,<span class=\"code-keyword\">this</span>.blendMode=r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.tracks,a=i.length,o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(a),s={<span class=\"code-attr\">endingStart</span>:H,<span class=\"code-attr\">endingEnd</span>:H},c=<span class=\"code-number\">0</span>;c!==a;++c){<span class=\"code-keyword\">var</span> l=i[c].createInterpolant(<span class=\"code-literal\">null</span>);o[c]=l,l.settings=s}<span class=\"code-keyword\">this</span>._interpolantSettings=s,<span class=\"code-keyword\">this</span>._interpolants=o,<span class=\"code-keyword\">this</span>._propertyBindings=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(a),<span class=\"code-keyword\">this</span>._cacheIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._byClipCacheIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._timeScaleInterpolant=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._weightInterpolant=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.loop=<span class=\"code-number\">2201</span>,<span class=\"code-keyword\">this</span>._loopCount=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>._startTime=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.time=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.timeScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._effectiveTimeScale=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.weight=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._effectiveWeight=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.repetitions=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.paused=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.clampWhenFinished=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.zeroSlopeAtStart=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.zeroSlopeAtEnd=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._mixer._activateAction(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>},e.stop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._mixer._deactivateAction(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.reset()},e.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.paused=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.time=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._loopCount=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>._startTime=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.stopFading().stopWarping()},e.isRunning=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.enabled&amp;&amp;!<span class=\"code-keyword\">this</span>.paused&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.timeScale&amp;&amp;<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._startTime&amp;&amp;<span class=\"code-keyword\">this</span>._mixer._isActiveAction(<span class=\"code-keyword\">this</span>)},e.isScheduled=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._mixer._isActiveAction(<span class=\"code-keyword\">this</span>)},e.startAt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._startTime=t,<span class=\"code-keyword\">this</span>},e.setLoop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loop=t,<span class=\"code-keyword\">this</span>.repetitions=e,<span class=\"code-keyword\">this</span>},e.setEffectiveWeight=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.weight=t,<span class=\"code-keyword\">this</span>._effectiveWeight=<span class=\"code-keyword\">this</span>.enabled?t:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.stopFading()},e.getEffectiveWeight=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._effectiveWeight},e.fadeIn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._scheduleFading(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)},e.fadeOut=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._scheduleFading(t,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>)},e.crossFadeFrom=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">if</span>(t.fadeOut(e),<span class=\"code-keyword\">this</span>.fadeIn(e),n){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(<span class=\"code-number\">1</span>,a,e),<span class=\"code-keyword\">this</span>.warp(o,<span class=\"code-number\">1</span>,e)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.crossFadeTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> t.crossFadeFrom(<span class=\"code-keyword\">this</span>,e,n)},e.stopFading=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._weightInterpolant;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==t&amp;&amp;(<span class=\"code-keyword\">this</span>._weightInterpolant=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._mixer._takeBackControlInterpolant(t)),<span class=\"code-keyword\">this</span>},e.setEffectiveTimeScale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.timeScale=t,<span class=\"code-keyword\">this</span>._effectiveTimeScale=<span class=\"code-keyword\">this</span>.paused?<span class=\"code-number\">0</span>:t,<span class=\"code-keyword\">this</span>.stopWarping()},e.getEffectiveTimeScale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._effectiveTimeScale},e.setDuration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.timeScale=<span class=\"code-keyword\">this</span>._clip.duration/t,<span class=\"code-keyword\">this</span>.stopWarping()},e.syncWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.time=t.time,<span class=\"code-keyword\">this</span>.timeScale=t.timeScale,<span class=\"code-keyword\">this</span>.stopWarping()},e.halt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.warp(<span class=\"code-keyword\">this</span>._effectiveTimeScale,<span class=\"code-number\">0</span>,t)},e.warp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._mixer,i=r.time,a=<span class=\"code-keyword\">this</span>.timeScale,o=<span class=\"code-keyword\">this</span>._timeScaleInterpolant;<span class=\"code-literal\">null</span>===o&amp;&amp;(o=r._lendControlInterpolant(),<span class=\"code-keyword\">this</span>._timeScaleInterpolant=o);<span class=\"code-keyword\">var</span> s=o.parameterPositions,c=o.sampleValues;<span class=\"code-keyword\">return</span> s[<span class=\"code-number\">0</span>]=i,s[<span class=\"code-number\">1</span>]=i+n,c[<span class=\"code-number\">0</span>]=t/a,c[<span class=\"code-number\">1</span>]=e/a,<span class=\"code-keyword\">this</span>},e.stopWarping=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._timeScaleInterpolant;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==t&amp;&amp;(<span class=\"code-keyword\">this</span>._timeScaleInterpolant=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._mixer._takeBackControlInterpolant(t)),<span class=\"code-keyword\">this</span>},e.getMixer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._mixer},e.getClip=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._clip},e.getRoot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._localRoot||<span class=\"code-keyword\">this</span>._mixer._root},e._update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.enabled){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>._startTime;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==i){<span class=\"code-keyword\">var</span> a=(t-i)*n;<span class=\"code-keyword\">if</span>(a&lt;<span class=\"code-number\">0</span>||<span class=\"code-number\">0</span>===n)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">this</span>._startTime=<span class=\"code-literal\">null</span>,e=n*a}e*=<span class=\"code-keyword\">this</span>._updateTimeScale(t);<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>._updateTime(e),s=<span class=\"code-keyword\">this</span>._updateWeight(t);<span class=\"code-keyword\">if</span>(s&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>._interpolants,l=<span class=\"code-keyword\">this</span>._propertyBindings;<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.blendMode){<span class=\"code-keyword\">case</span> j:<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>,h=c.length;u!==h;++u)c[u].evaluate(o),l[u].accumulateAdditive(s);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> W:<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=<span class=\"code-number\">0</span>,p=c.length;d!==p;++d)c[d].evaluate(o),l[d].accumulate(r,s)}}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._updateWeight(t)},e._updateWeight=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.enabled){e=<span class=\"code-keyword\">this</span>.weight;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._weightInterpolant;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==n){<span class=\"code-keyword\">var</span> r=n.evaluate(t)[<span class=\"code-number\">0</span>];e*=r,t&gt;n.parameterPositions[<span class=\"code-number\">1</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>.stopFading(),<span class=\"code-number\">0</span>===r&amp;&amp;(<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">1</span>))}}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._effectiveWeight=e,e},e._updateTimeScale=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.paused){e=<span class=\"code-keyword\">this</span>.timeScale;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._timeScaleInterpolant;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==n)e*=n.evaluate(t)[<span class=\"code-number\">0</span>],t&gt;n.parameterPositions[<span class=\"code-number\">1</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>.stopWarping(),<span class=\"code-number\">0</span>===e?<span class=\"code-keyword\">this</span>.paused=!<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.timeScale=e)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._effectiveTimeScale=e,e},e._updateTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._clip.duration,n=<span class=\"code-keyword\">this</span>.loop,r=<span class=\"code-keyword\">this</span>.time+t,i=<span class=\"code-keyword\">this</span>._loopCount,a=<span class=\"code-number\">2202</span>===n;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===t)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===i?r:a&amp;&amp;<span class=\"code-number\">1</span>==(<span class=\"code-number\">1</span>&amp;i)?e-r:r;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2200</span>===n){<span class=\"code-number\">-1</span>===i&amp;&amp;(<span class=\"code-keyword\">this</span>._loopCount=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._setEndings(!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>));t:{<span class=\"code-keyword\">if</span>(r&gt;=e)r=e;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(r&lt;<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">this</span>.time=r;<span class=\"code-keyword\">break</span> t}r=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">this</span>.clampWhenFinished?<span class=\"code-keyword\">this</span>.paused=!<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.time=r,<span class=\"code-keyword\">this</span>._mixer.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"finished\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">direction</span>:t&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>})}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>===i&amp;&amp;(t&gt;=<span class=\"code-number\">0</span>?(i=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._setEndings(!<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.repetitions,a)):<span class=\"code-keyword\">this</span>._setEndings(<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.repetitions,!<span class=\"code-number\">0</span>,a)),r&gt;=e||r&lt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">Math</span>.floor(r/e);r-=e*o,i+=<span class=\"code-built_in\">Math</span>.abs(o);<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.repetitions-i;<span class=\"code-keyword\">if</span>(s&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">this</span>.clampWhenFinished?<span class=\"code-keyword\">this</span>.paused=!<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.enabled=!<span class=\"code-number\">1</span>,r=t&gt;<span class=\"code-number\">0</span>?e:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.time=r,<span class=\"code-keyword\">this</span>._mixer.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"finished\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">direction</span>:t&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>});<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===s){<span class=\"code-keyword\">var</span> c=t&lt;<span class=\"code-number\">0</span>;<span class=\"code-keyword\">this</span>._setEndings(c,!c,a)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._setEndings(!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>,a);<span class=\"code-keyword\">this</span>._loopCount=i,<span class=\"code-keyword\">this</span>.time=r,<span class=\"code-keyword\">this</span>._mixer.dispatchEvent({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"loop\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">loopDelta</span>:o})}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.time=r;<span class=\"code-keyword\">if</span>(a&amp;&amp;<span class=\"code-number\">1</span>==(<span class=\"code-number\">1</span>&amp;i))<span class=\"code-keyword\">return</span> e-r}<span class=\"code-keyword\">return</span> r},e._setEndings=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._interpolantSettings;n?(r.endingStart=k,r.endingEnd=k):(r.endingStart=t?<span class=\"code-keyword\">this</span>.zeroSlopeAtStart?k:H:V,r.endingEnd=e?<span class=\"code-keyword\">this</span>.zeroSlopeAtEnd?k:H:V)},e._scheduleFading=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._mixer,i=r.time,a=<span class=\"code-keyword\">this</span>._weightInterpolant;<span class=\"code-literal\">null</span>===a&amp;&amp;(a=r._lendControlInterpolant(),<span class=\"code-keyword\">this</span>._weightInterpolant=a);<span class=\"code-keyword\">var</span> o=a.parameterPositions,s=a.sampleValues;<span class=\"code-keyword\">return</span> o[<span class=\"code-number\">0</span>]=i,s[<span class=\"code-number\">0</span>]=e,o[<span class=\"code-number\">1</span>]=i+t,s[<span class=\"code-number\">1</span>]=n,<span class=\"code-keyword\">this</span>},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">su</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._root=t,<span class=\"code-keyword\">this</span>._initMemoryManager(),<span class=\"code-keyword\">this</span>._accuIndex=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.time=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.timeScale=<span class=\"code-number\">1</span>}su.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(rt.prototype),{<span class=\"code-attr\">constructor</span>:su,<span class=\"code-attr\">_bindAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=t._localRoot||<span class=\"code-keyword\">this</span>._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,c=<span class=\"code-keyword\">this</span>._bindingsByRootAndName,l=c[s];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l&amp;&amp;(l={},c[s]=l);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u!==i;++u){<span class=\"code-keyword\">var</span> h=r[u],d=h.name,p=l[d];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==p)a[u]=p;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(p=a[u])){<span class=\"code-literal\">null</span>===p._cacheIndex&amp;&amp;(++p.referenceCount,<span class=\"code-keyword\">this</span>._addInactiveBinding(p,s,d));<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">var</span> f=e&amp;&amp;e._propertyBindings[u].binding.parsedPath;++(p=<span class=\"code-keyword\">new</span> ql(iu.create(n,d,f),h.ValueTypeName,h.getValueSize())).referenceCount,<span class=\"code-keyword\">this</span>._addInactiveBinding(p,s,d),a[u]=p}o[u].resultBuffer=p.buffer}},<span class=\"code-attr\">_activateAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>._isActiveAction(t)){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t._cacheIndex){<span class=\"code-keyword\">var</span> e=(t._localRoot||<span class=\"code-keyword\">this</span>._root).uuid,n=t._clip.uuid,r=<span class=\"code-keyword\">this</span>._actionsByClip[n];<span class=\"code-keyword\">this</span>._bindAction(t,r&amp;&amp;r.knownActions[<span class=\"code-number\">0</span>]),<span class=\"code-keyword\">this</span>._addInactiveAction(t,n,e)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t._propertyBindings,a=<span class=\"code-number\">0</span>,o=i.length;a!==o;++a){<span class=\"code-keyword\">var</span> s=i[a];<span class=\"code-number\">0</span>==s.useCount++&amp;&amp;(<span class=\"code-keyword\">this</span>._lendBinding(s),s.saveOriginalState())}<span class=\"code-keyword\">this</span>._lendAction(t)}},<span class=\"code-attr\">_deactivateAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._isActiveAction(t)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t._propertyBindings,n=<span class=\"code-number\">0</span>,r=e.length;n!==r;++n){<span class=\"code-keyword\">var</span> i=e[n];<span class=\"code-number\">0</span>==--i.useCount&amp;&amp;(i.restoreOriginalState(),<span class=\"code-keyword\">this</span>._takeBackBinding(i))}<span class=\"code-keyword\">this</span>._takeBackAction(t)}},<span class=\"code-attr\">_initMemoryManager</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._actions=[],<span class=\"code-keyword\">this</span>._nActiveActions=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._actionsByClip={},<span class=\"code-keyword\">this</span>._bindings=[],<span class=\"code-keyword\">this</span>._nActiveBindings=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._bindingsByRootAndName={},<span class=\"code-keyword\">this</span>._controlInterpolants=[],<span class=\"code-keyword\">this</span>._nActiveControlInterpolants=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.stats={<span class=\"code-attr\">actions</span>:{<span class=\"code-keyword\">get</span> total(){<span class=\"code-keyword\">return</span> t._actions.length},<span class=\"code-keyword\">get</span> inUse(){<span class=\"code-keyword\">return</span> t._nActiveActions}},<span class=\"code-attr\">bindings</span>:{<span class=\"code-keyword\">get</span> total(){<span class=\"code-keyword\">return</span> t._bindings.length},<span class=\"code-keyword\">get</span> inUse(){<span class=\"code-keyword\">return</span> t._nActiveBindings}},<span class=\"code-attr\">controlInterpolants</span>:{<span class=\"code-keyword\">get</span> total(){<span class=\"code-keyword\">return</span> t._controlInterpolants.length},<span class=\"code-keyword\">get</span> inUse(){<span class=\"code-keyword\">return</span> t._nActiveControlInterpolants}}}},<span class=\"code-attr\">_isActiveAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t._cacheIndex;<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==e&amp;&amp;e&lt;<span class=\"code-keyword\">this</span>._nActiveActions},<span class=\"code-attr\">_addInactiveAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._actions,i=<span class=\"code-keyword\">this</span>._actionsByClip,a=i[e];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a)a={<span class=\"code-attr\">knownActions</span>:[t],<span class=\"code-attr\">actionByRoot</span>:{}},t._byClipCacheIndex=<span class=\"code-number\">0</span>,i[e]=a;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},<span class=\"code-attr\">_removeInactiveAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._actions,n=e[e.length<span class=\"code-number\">-1</span>],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=t._clip.uuid,a=<span class=\"code-keyword\">this</span>._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length<span class=\"code-number\">-1</span>],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">delete</span> o.actionByRoot[(t._localRoot||<span class=\"code-keyword\">this</span>._root).uuid],<span class=\"code-number\">0</span>===s.length&amp;&amp;<span class=\"code-keyword\">delete</span> a[i],<span class=\"code-keyword\">this</span>._removeInactiveBindingsForAction(t)},<span class=\"code-attr\">_removeInactiveBindingsForAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=t._propertyBindings,n=<span class=\"code-number\">0</span>,r=e.length;n!==r;++n){<span class=\"code-keyword\">var</span> i=e[n];<span class=\"code-number\">0</span>==--i.referenceCount&amp;&amp;<span class=\"code-keyword\">this</span>._removeInactiveBinding(i)}},<span class=\"code-attr\">_lendAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._actions,n=t._cacheIndex,r=<span class=\"code-keyword\">this</span>._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class=\"code-attr\">_takeBackAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._actions,n=t._cacheIndex,r=--<span class=\"code-keyword\">this</span>._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class=\"code-attr\">_addInactiveBinding</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._bindingsByRootAndName,i=<span class=\"code-keyword\">this</span>._bindings,a=r[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a={},r[e]=a),a[n]=t,t._cacheIndex=i.length,i.push(t)},<span class=\"code-attr\">_removeInactiveBinding</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=<span class=\"code-keyword\">this</span>._bindingsByRootAndName,o=a[r],s=e[e.length<span class=\"code-number\">-1</span>],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),<span class=\"code-keyword\">delete</span> o[i],<span class=\"code-number\">0</span>===<span class=\"code-built_in\">Object</span>.keys(o).length&amp;&amp;<span class=\"code-keyword\">delete</span> a[r]},<span class=\"code-attr\">_lendBinding</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._bindings,n=t._cacheIndex,r=<span class=\"code-keyword\">this</span>._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class=\"code-attr\">_takeBackBinding</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._bindings,n=t._cacheIndex,r=--<span class=\"code-keyword\">this</span>._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class=\"code-attr\">_lendControlInterpolant</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._controlInterpolants,e=<span class=\"code-keyword\">this</span>._nActiveControlInterpolants++,n=t[e];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;((n=<span class=\"code-keyword\">new</span> rc(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">2</span>),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">2</span>),<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},<span class=\"code-attr\">_takeBackControlInterpolant</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._controlInterpolants,n=t.__cacheIndex,r=--<span class=\"code-keyword\">this</span>._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},<span class=\"code-attr\">_controlInterpolantsResultBuffer</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">1</span>),<span class=\"code-attr\">clipAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e||<span class=\"code-keyword\">this</span>._root,i=r.uuid,a=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t?pc.findByName(r,t):t,o=<span class=\"code-literal\">null</span>!==a?a.uuid:t,s=<span class=\"code-keyword\">this</span>._actionsByClip[o],c=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-literal\">null</span>!==a?a.blendMode:W),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s){<span class=\"code-keyword\">var</span> l=s.actionByRoot[i];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==l&amp;&amp;l.blendMode===n)<span class=\"code-keyword\">return</span> l;c=s.knownActions[<span class=\"code-number\">0</span>],<span class=\"code-literal\">null</span>===a&amp;&amp;(a=c._clip)}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===a)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">new</span> ou(<span class=\"code-keyword\">this</span>,a,e,n);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._bindAction(u,c),<span class=\"code-keyword\">this</span>._addInactiveAction(u,o,i),u},<span class=\"code-attr\">existingAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=e||<span class=\"code-keyword\">this</span>._root,r=n.uuid,i=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t?pc.findByName(n,t):t,a=i?i.uuid:t,o=<span class=\"code-keyword\">this</span>._actionsByClip[a];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==o&amp;&amp;o.actionByRoot[r]||<span class=\"code-literal\">null</span>},<span class=\"code-attr\">stopAllAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._actions,e=<span class=\"code-keyword\">this</span>._nActiveActions<span class=\"code-number\">-1</span>;e&gt;=<span class=\"code-number\">0</span>;--e)t[e].stop();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">update</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t*=<span class=\"code-keyword\">this</span>.timeScale;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._actions,n=<span class=\"code-keyword\">this</span>._nActiveActions,r=<span class=\"code-keyword\">this</span>.time+=t,i=<span class=\"code-built_in\">Math</span>.sign(t),a=<span class=\"code-keyword\">this</span>._accuIndex^=<span class=\"code-number\">1</span>,o=<span class=\"code-number\">0</span>;o!==n;++o){e[o]._update(r,t,i,a)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>._bindings,c=<span class=\"code-keyword\">this</span>._nActiveBindings,l=<span class=\"code-number\">0</span>;l!==c;++l)s[l].apply(a);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setTime</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.time=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-keyword\">this</span>._actions.length;e++)<span class=\"code-keyword\">this</span>._actions[e].time=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.update(t)},<span class=\"code-attr\">getRoot</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._root},<span class=\"code-attr\">uncacheClip</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._actions,n=t.uuid,r=<span class=\"code-keyword\">this</span>._actionsByClip,i=r[n];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=i.knownActions,o=<span class=\"code-number\">0</span>,s=a.length;o!==s;++o){<span class=\"code-keyword\">var</span> c=a[o];<span class=\"code-keyword\">this</span>._deactivateAction(c);<span class=\"code-keyword\">var</span> l=c._cacheIndex,u=e[e.length<span class=\"code-number\">-1</span>];c._cacheIndex=<span class=\"code-literal\">null</span>,c._byClipCacheIndex=<span class=\"code-literal\">null</span>,u._cacheIndex=l,e[l]=u,e.pop(),<span class=\"code-keyword\">this</span>._removeInactiveBindingsForAction(c)}<span class=\"code-keyword\">delete</span> r[n]}},<span class=\"code-attr\">uncacheRoot</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.uuid,n=<span class=\"code-keyword\">this</span>._actionsByClip;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> n){<span class=\"code-keyword\">var</span> i=n[r].actionByRoot[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;(<span class=\"code-keyword\">this</span>._deactivateAction(i),<span class=\"code-keyword\">this</span>._removeInactiveAction(i))}<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>._bindingsByRootAndName[e];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==a)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> a){<span class=\"code-keyword\">var</span> s=a[o];s.restoreOriginalState(),<span class=\"code-keyword\">this</span>._removeInactiveBinding(s)}},<span class=\"code-attr\">uncacheAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.existingAction(t,e);<span class=\"code-literal\">null</span>!==n&amp;&amp;(<span class=\"code-keyword\">this</span>._deactivateAction(n),<span class=\"code-keyword\">this</span>._removeInactiveAction(n))}});<span class=\"code-keyword\">var</span> cu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uniform: Type parameter is no longer needed.\"</span>),t=<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]),<span class=\"code-keyword\">this</span>.value=t}<span class=\"code-keyword\">return</span> t.prototype.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> t(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.value.clone?<span class=\"code-keyword\">this</span>.value:<span class=\"code-keyword\">this</span>.value.clone())},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lu</span>(<span class=\"code-params\">t,e,n</span>)</span>{da.call(<span class=\"code-keyword\">this</span>,t,e),<span class=\"code-keyword\">this</span>.meshPerAttribute=n||<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">uu</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">this</span>.buffer=t,<span class=\"code-keyword\">this</span>.type=e,<span class=\"code-keyword\">this</span>.itemSize=n,<span class=\"code-keyword\">this</span>.elementSize=r,<span class=\"code-keyword\">this</span>.count=i,<span class=\"code-keyword\">this</span>.version=<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hu</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">this</span>.ray=<span class=\"code-keyword\">new</span> Jt(t,e),<span class=\"code-keyword\">this</span>.near=n||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.far=r||<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.camera=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.layers=<span class=\"code-keyword\">new</span> ce,<span class=\"code-keyword\">this</span>.params={<span class=\"code-attr\">Mesh</span>:{},<span class=\"code-attr\">Line</span>:{<span class=\"code-attr\">threshold</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">LOD</span>:{},<span class=\"code-attr\">Points</span>:{<span class=\"code-attr\">threshold</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">Sprite</span>:{}},<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>.params,{<span class=\"code-attr\">PointCloud</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"</span>),<span class=\"code-keyword\">this</span>.Points}}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">du</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> t.distance-e.distance}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pu</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(t.layers.test(e.layers)&amp;&amp;t.raycast(e,n),!<span class=\"code-number\">0</span>===r)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.children,a=<span class=\"code-number\">0</span>,o=i.length;a&lt;o;a++)pu(i[a],e,n,!<span class=\"code-number\">0</span>)}lu.prototype=<span class=\"code-built_in\">Object</span>.assign(<span class=\"code-built_in\">Object</span>.create(da.prototype),{<span class=\"code-attr\">constructor</span>:lu,<span class=\"code-attr\">isInstancedInterleavedBuffer</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> da.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.meshPerAttribute=t.meshPerAttribute,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">clone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=da.prototype.clone.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.meshPerAttribute=<span class=\"code-keyword\">this</span>.meshPerAttribute,e},<span class=\"code-attr\">toJSON</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=da.prototype.toJSON.call(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> e.isInstancedInterleavedBuffer=!<span class=\"code-number\">0</span>,e.meshPerAttribute=<span class=\"code-keyword\">this</span>.meshPerAttribute,e}}),<span class=\"code-built_in\">Object</span>.defineProperty(uu.prototype,<span class=\"code-string\">\"needsUpdate\"</span>,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{!<span class=\"code-number\">0</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.version++}}),<span class=\"code-built_in\">Object</span>.assign(uu.prototype,{<span class=\"code-attr\">isGLBufferAttribute</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">setBuffer</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.buffer=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.type=t,<span class=\"code-keyword\">this</span>.elementSize=e,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setItemSize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.itemSize=t,<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setCount</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.count=t,<span class=\"code-keyword\">this</span>}}),<span class=\"code-built_in\">Object</span>.assign(hu.prototype,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.ray.set(t,e)},<span class=\"code-attr\">setFromCamera</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{e&amp;&amp;e.isPerspectiveCamera?(<span class=\"code-keyword\">this</span>.ray.origin.setFromMatrixPosition(e.matrixWorld),<span class=\"code-keyword\">this</span>.ray.direction.set(t.x,t.y,<span class=\"code-number\">.5</span>).unproject(e).sub(<span class=\"code-keyword\">this</span>.ray.origin).normalize(),<span class=\"code-keyword\">this</span>.camera=e):e&amp;&amp;e.isOrthographicCamera?(<span class=\"code-keyword\">this</span>.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),<span class=\"code-keyword\">this</span>.ray.direction.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>).transformDirection(e.matrixWorld),<span class=\"code-keyword\">this</span>.camera=e):<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Raycaster: Unsupported camera type.\"</span>)},<span class=\"code-attr\">intersectObject</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n||[];<span class=\"code-keyword\">return</span> pu(t,<span class=\"code-keyword\">this</span>,r,e),r.sort(du),r},<span class=\"code-attr\">intersectObjects</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n||[];<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Raycaster.intersectObjects: objects is not an Array.\"</span>),r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,a=t.length;i&lt;a;i++)pu(t[i],<span class=\"code-keyword\">this</span>,r,e);<span class=\"code-keyword\">return</span> r.sort(du),r}});<span class=\"code-keyword\">var</span> fu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.radius=t,<span class=\"code-keyword\">this</span>.phi=e,<span class=\"code-keyword\">this</span>.theta=n,<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=t,<span class=\"code-keyword\">this</span>.phi=e,<span class=\"code-keyword\">this</span>.theta=n,<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=t.radius,<span class=\"code-keyword\">this</span>.phi=t.phi,<span class=\"code-keyword\">this</span>.theta=t.theta,<span class=\"code-keyword\">this</span>},e.makeSafe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1e-6</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.phi=<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.PI-t,<span class=\"code-keyword\">this</span>.phi)),<span class=\"code-keyword\">this</span>},e.setFromVector3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromCartesianCoords(t.x,t.y,t.z)},e.setFromCartesianCoords=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=<span class=\"code-built_in\">Math</span>.sqrt(t*t+e*e+n*n),<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.radius?(<span class=\"code-keyword\">this</span>.theta=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.phi=<span class=\"code-number\">0</span>):(<span class=\"code-keyword\">this</span>.theta=<span class=\"code-built_in\">Math</span>.atan2(t,n),<span class=\"code-keyword\">this</span>.phi=<span class=\"code-built_in\">Math</span>.acos(st.clamp(e/<span class=\"code-keyword\">this</span>.radius,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>))),<span class=\"code-keyword\">this</span>},t}(),mu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.theta=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.y=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?n:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=t,<span class=\"code-keyword\">this</span>.theta=e,<span class=\"code-keyword\">this</span>.y=n,<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=t.radius,<span class=\"code-keyword\">this</span>.theta=t.theta,<span class=\"code-keyword\">this</span>.y=t.y,<span class=\"code-keyword\">this</span>},e.setFromVector3=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setFromCartesianCoords(t.x,t.y,t.z)},e.setFromCartesianCoords=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.radius=<span class=\"code-built_in\">Math</span>.sqrt(t*t+n*n),<span class=\"code-keyword\">this</span>.theta=<span class=\"code-built_in\">Math</span>.atan2(t,n),<span class=\"code-keyword\">this</span>.y=e,<span class=\"code-keyword\">this</span>},t}(),vu=<span class=\"code-keyword\">new</span> pt,gu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isBox2\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.min=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.max=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t),<span class=\"code-keyword\">this</span>.max.copy(e),<span class=\"code-keyword\">this</span>},e.setFromPoints=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.makeEmpty();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>,n=t.length;e&lt;n;e++)<span class=\"code-keyword\">this</span>.expandByPoint(t[e]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},e.setFromCenterAndSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=vu.copy(e).multiplyScalar(<span class=\"code-number\">.5</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t).sub(n),<span class=\"code-keyword\">this</span>.max.copy(t).add(n),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.copy(t.min),<span class=\"code-keyword\">this</span>.max.copy(t.max),<span class=\"code-keyword\">this</span>},e.makeEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.x=<span class=\"code-keyword\">this</span>.min.y=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.max.x=<span class=\"code-keyword\">this</span>.max.y=<span class=\"code-number\">-1</span>/<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>},e.isEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.max.x&lt;<span class=\"code-keyword\">this</span>.min.x||<span class=\"code-keyword\">this</span>.max.y&lt;<span class=\"code-keyword\">this</span>.min.y},e.getCenter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .getCenter() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">this</span>.isEmpty()?t.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):t.addVectors(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max).multiplyScalar(<span class=\"code-number\">.5</span>)},e.getSize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .getSize() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> pt),<span class=\"code-keyword\">this</span>.isEmpty()?t.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):t.subVectors(<span class=\"code-keyword\">this</span>.max,<span class=\"code-keyword\">this</span>.min)},e.expandByPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.min(t),<span class=\"code-keyword\">this</span>.max.max(t),<span class=\"code-keyword\">this</span>},e.expandByVector=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.sub(t),<span class=\"code-keyword\">this</span>.max.add(t),<span class=\"code-keyword\">this</span>},e.expandByScalar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.addScalar(-t),<span class=\"code-keyword\">this</span>.max.addScalar(t),<span class=\"code-keyword\">this</span>},e.containsPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(t.x&lt;<span class=\"code-keyword\">this</span>.min.x||t.x&gt;<span class=\"code-keyword\">this</span>.max.x||t.y&lt;<span class=\"code-keyword\">this</span>.min.y||t.y&gt;<span class=\"code-keyword\">this</span>.max.y)},e.containsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=<span class=\"code-keyword\">this</span>.max.x&amp;&amp;<span class=\"code-keyword\">this</span>.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=<span class=\"code-keyword\">this</span>.max.y},e.getParameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .getParameter() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> pt),e.set((t.x-<span class=\"code-keyword\">this</span>.min.x)/(<span class=\"code-keyword\">this</span>.max.x-<span class=\"code-keyword\">this</span>.min.x),(t.y-<span class=\"code-keyword\">this</span>.min.y)/(<span class=\"code-keyword\">this</span>.max.y-<span class=\"code-keyword\">this</span>.min.y))},e.intersectsBox=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!(t.max.x&lt;<span class=\"code-keyword\">this</span>.min.x||t.min.x&gt;<span class=\"code-keyword\">this</span>.max.x||t.max.y&lt;<span class=\"code-keyword\">this</span>.min.y||t.min.y&gt;<span class=\"code-keyword\">this</span>.max.y)},e.clampPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .clampPoint() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> pt),e.copy(t).clamp(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max)},e.distanceToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> vu.copy(t).clamp(<span class=\"code-keyword\">this</span>.min,<span class=\"code-keyword\">this</span>.max).sub(t).length()},e.intersect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.max(t.min),<span class=\"code-keyword\">this</span>.max.min(t.max),<span class=\"code-keyword\">this</span>},e.union=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.min(t.min),<span class=\"code-keyword\">this</span>.max.max(t.max),<span class=\"code-keyword\">this</span>},e.translate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.min.add(t),<span class=\"code-keyword\">this</span>.max.add(t),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.min.equals(<span class=\"code-keyword\">this</span>.min)&amp;&amp;t.max.equals(<span class=\"code-keyword\">this</span>.max)},t}(),yu=<span class=\"code-keyword\">new</span> Mt,xu=<span class=\"code-keyword\">new</span> Mt,_u=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">this</span>.start=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">new</span> Mt,<span class=\"code-keyword\">this</span>.end=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-keyword\">new</span> Mt}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start.copy(t),<span class=\"code-keyword\">this</span>.end.copy(e),<span class=\"code-keyword\">this</span>},e.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> <span class=\"code-keyword\">this</span>.constructor).copy(<span class=\"code-keyword\">this</span>)},e.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start.copy(t.start),<span class=\"code-keyword\">this</span>.end.copy(t.end),<span class=\"code-keyword\">this</span>},e.getCenter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line3: .getCenter() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),t.addVectors(<span class=\"code-keyword\">this</span>.start,<span class=\"code-keyword\">this</span>.end).multiplyScalar(<span class=\"code-number\">.5</span>)},e.delta=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line3: .delta() target is now required\"</span>),t=<span class=\"code-keyword\">new</span> Mt),t.subVectors(<span class=\"code-keyword\">this</span>.end,<span class=\"code-keyword\">this</span>.start)},e.distanceSq=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start.distanceToSquared(<span class=\"code-keyword\">this</span>.end)},e.distance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start.distanceTo(<span class=\"code-keyword\">this</span>.end)},e.at=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line3: .at() target is now required\"</span>),e=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.delta(e).multiplyScalar(t).add(<span class=\"code-keyword\">this</span>.start)},e.closestPointToPointParameter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{yu.subVectors(t,<span class=\"code-keyword\">this</span>.start),xu.subVectors(<span class=\"code-keyword\">this</span>.end,<span class=\"code-keyword\">this</span>.start);<span class=\"code-keyword\">var</span> n=xu.dot(xu),r=xu.dot(yu)/n;<span class=\"code-keyword\">return</span> e&amp;&amp;(r=st.clamp(r,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)),r},e.closestPointToPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.closestPointToPointParameter(t,e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line3: .closestPointToPoint() target is now required\"</span>),n=<span class=\"code-keyword\">new</span> Mt),<span class=\"code-keyword\">this</span>.delta(n).multiplyScalar(r).add(<span class=\"code-keyword\">this</span>.start)},e.applyMatrix4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.start.applyMatrix4(t),<span class=\"code-keyword\">this</span>.end.applyMatrix4(t),<span class=\"code-keyword\">this</span>},e.equals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.start.equals(<span class=\"code-keyword\">this</span>.start)&amp;&amp;t.end.equals(<span class=\"code-keyword\">this</span>.end)},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bu</span>(<span class=\"code-params\">t</span>)</span>{we.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.material=t,<span class=\"code-keyword\">this</span>.render=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-keyword\">this</span>.hasPositions=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.hasNormals=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.hasColors=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.hasUvs=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.positionArray=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.normalArray=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.colorArray=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.uvArray=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.count=<span class=\"code-number\">0</span>}bu.prototype=<span class=\"code-built_in\">Object</span>.create(we.prototype),bu.prototype.constructor=bu,bu.prototype.isImmediateRenderObject=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> wu=<span class=\"code-keyword\">new</span> Mt,Mu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;(r=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).light=e,r.light.updateMatrixWorld(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!<span class=\"code-number\">1</span>,r.color=n;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> _n,a=[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>],o=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">1</span>;o&lt;<span class=\"code-number\">32</span>;o++,s++){<span class=\"code-keyword\">var</span> c=o/<span class=\"code-number\">32</span>*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>,l=s/<span class=\"code-number\">32</span>*<span class=\"code-built_in\">Math</span>.PI*<span class=\"code-number\">2</span>;a.push(<span class=\"code-built_in\">Math</span>.cos(c),<span class=\"code-built_in\">Math</span>.sin(c),<span class=\"code-number\">1</span>,<span class=\"code-built_in\">Math</span>.cos(l),<span class=\"code-built_in\">Math</span>.sin(l),<span class=\"code-number\">1</span>)}i.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span> r.cone=<span class=\"code-keyword\">new</span> io(i,u),r.add(r.cone),r.update(),r}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.cone.geometry.dispose(),<span class=\"code-keyword\">this</span>.cone.material.dispose()},n.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.light.updateMatrixWorld();<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.light.distance?<span class=\"code-keyword\">this</span>.light.distance:<span class=\"code-number\">1e3</span>,e=t*<span class=\"code-built_in\">Math</span>.tan(<span class=\"code-keyword\">this</span>.light.angle);<span class=\"code-keyword\">this</span>.cone.scale.set(e,e,t),wu.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.light.target.matrixWorld),<span class=\"code-keyword\">this</span>.cone.lookAt(wu),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.color?<span class=\"code-keyword\">this</span>.cone.material.color.set(<span class=\"code-keyword\">this</span>.color):<span class=\"code-keyword\">this</span>.cone.material.color.copy(<span class=\"code-keyword\">this</span>.light.color)},e}(we),Su=<span class=\"code-keyword\">new</span> Mt,Tu=<span class=\"code-keyword\">new</span> Qt,Eu=<span class=\"code-keyword\">new</span> Qt,Au=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r=Lu(e),i=<span class=\"code-keyword\">new</span> _n,a=[],o=[],s=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),c=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),l=<span class=\"code-number\">0</span>;l&lt;r.length;l++){<span class=\"code-keyword\">var</span> u=r[l];u.parent&amp;&amp;u.parent.isBone&amp;&amp;(a.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),a.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),o.push(s.r,s.g,s.b),o.push(c.r,c.g,c.b))}i.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>)),i.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> h=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">vertexColors</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">transparent</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">return</span>(n=t.call(<span class=\"code-keyword\">this</span>,i,h)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"SkeletonHelper\"</span>,n.isSkeletonHelper=!<span class=\"code-number\">0</span>,n.root=e,n.bones=r,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!<span class=\"code-number\">1</span>,n}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.bones,r=<span class=\"code-keyword\">this</span>.geometry,i=r.getAttribute(<span class=\"code-string\">\"position\"</span>);Eu.copy(<span class=\"code-keyword\">this</span>.root.matrixWorld).invert();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">0</span>;a&lt;n.length;a++){<span class=\"code-keyword\">var</span> s=n[a];s.parent&amp;&amp;s.parent.isBone&amp;&amp;(Tu.multiplyMatrices(Eu,s.matrixWorld),Su.setFromMatrixPosition(Tu),i.setXYZ(o,Su.x,Su.y,Su.z),Tu.multiplyMatrices(Eu,s.parent.matrixWorld),Su.setFromMatrixPosition(Tu),i.setXYZ(o+<span class=\"code-number\">1</span>,Su.x,Su.y,Su.z),o+=<span class=\"code-number\">2</span>)}r.getAttribute(<span class=\"code-string\">\"position\"</span>).needsUpdate=!<span class=\"code-number\">0</span>,t.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,e)},e}(io);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lu</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=[];t&amp;&amp;t.isBone&amp;&amp;e.push(t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.children.length;n++)e.push.apply(e,Lu(t.children[n]));<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">var</span> Ru=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i,a=<span class=\"code-keyword\">new</span> Rs(n,<span class=\"code-number\">4</span>,<span class=\"code-number\">2</span>),o=<span class=\"code-keyword\">new</span> Ye({<span class=\"code-attr\">wireframe</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span>(i=t.call(<span class=\"code-keyword\">this</span>,a,o)||<span class=\"code-keyword\">this</span>).light=e,i.light.updateMatrixWorld(),i.color=r,i.type=<span class=\"code-string\">\"PointLightHelper\"</span>,i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!<span class=\"code-number\">1</span>,i.update(),i}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.geometry.dispose(),<span class=\"code-keyword\">this</span>.material.dispose()},n.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.color?<span class=\"code-keyword\">this</span>.material.color.set(<span class=\"code-keyword\">this</span>.color):<span class=\"code-keyword\">this</span>.material.color.copy(<span class=\"code-keyword\">this</span>.light.color)},e}(Un),Cu=<span class=\"code-keyword\">new</span> Mt,Pu=<span class=\"code-keyword\">new</span> We,Iu=<span class=\"code-keyword\">new</span> We,Nu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i;(i=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!<span class=\"code-number\">1</span>,i.color=r;<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> xs(n);a.rotateY(<span class=\"code-number\">.5</span>*<span class=\"code-built_in\">Math</span>.PI),i.material=<span class=\"code-keyword\">new</span> Ye({<span class=\"code-attr\">wireframe</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i.color&amp;&amp;(i.material.vertexColors=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> o=a.getAttribute(<span class=\"code-string\">\"position\"</span>),s=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">3</span>*o.count);<span class=\"code-keyword\">return</span> a.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> Qe(s,<span class=\"code-number\">3</span>)),i.add(<span class=\"code-keyword\">new</span> Un(a,i.material)),i.update(),i}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.children[<span class=\"code-number\">0</span>].geometry.dispose(),<span class=\"code-keyword\">this</span>.children[<span class=\"code-number\">0</span>].material.dispose()},n.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.children[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.color)<span class=\"code-keyword\">this</span>.material.color.set(<span class=\"code-keyword\">this</span>.color);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> e=t.geometry.getAttribute(<span class=\"code-string\">\"color\"</span>);Pu.copy(<span class=\"code-keyword\">this</span>.light.color),Iu.copy(<span class=\"code-keyword\">this</span>.light.groundColor);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,r=e.count;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=n&lt;r/<span class=\"code-number\">2</span>?Pu:Iu;e.setXYZ(n,i.r,i.g,i.b)}e.needsUpdate=!<span class=\"code-number\">0</span>}t.lookAt(Cu.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.light.matrixWorld).negate())},e}(we),Du=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">10</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">10</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">4473924</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">8947848</span>),r=<span class=\"code-keyword\">new</span> We(r),i=<span class=\"code-keyword\">new</span> We(i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=n/<span class=\"code-number\">2</span>,s=e/n,c=e/<span class=\"code-number\">2</span>,l=[],u=[],h=<span class=\"code-number\">0</span>,d=<span class=\"code-number\">0</span>,p=-c;h&lt;=n;h++,p+=s){l.push(-c,<span class=\"code-number\">0</span>,p,c,<span class=\"code-number\">0</span>,p),l.push(p,<span class=\"code-number\">0</span>,-c,p,<span class=\"code-number\">0</span>,c);<span class=\"code-keyword\">var</span> f=h===o?r:i;f.toArray(u,d),d+=<span class=\"code-number\">3</span>,f.toArray(u,d),d+=<span class=\"code-number\">3</span>,f.toArray(u,d),d+=<span class=\"code-number\">3</span>,f.toArray(u,d),d+=<span class=\"code-number\">3</span>}<span class=\"code-keyword\">var</span> m=<span class=\"code-keyword\">new</span> _n;m.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">3</span>)),m.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> sn(u,<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> v=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">vertexColors</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span>(a=t.call(<span class=\"code-keyword\">this</span>,m,v)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"GridHelper\"</span>,a}<span class=\"code-keyword\">return</span> ut(e,t),e}(io),Ou=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">10</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">16</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">8</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">64</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">4473924</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">8947848</span>),a=<span class=\"code-keyword\">new</span> We(a),o=<span class=\"code-keyword\">new</span> We(o);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=[],l=[],u=<span class=\"code-number\">0</span>;u&lt;=n;u++){<span class=\"code-keyword\">var</span> h=u/n*(<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),d=<span class=\"code-built_in\">Math</span>.sin(h)*e,p=<span class=\"code-built_in\">Math</span>.cos(h)*e;c.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),c.push(d,<span class=\"code-number\">0</span>,p);<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">1</span>&amp;u?a:o;l.push(f.r,f.g,f.b),l.push(f.r,f.g,f.b)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=<span class=\"code-number\">0</span>;m&lt;=r;m++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">1</span>&amp;m?a:o,g=e-e/r*m,y=<span class=\"code-number\">0</span>;y&lt;i;y++){<span class=\"code-keyword\">var</span> x=y/i*(<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),_=<span class=\"code-built_in\">Math</span>.sin(x)*g,b=<span class=\"code-built_in\">Math</span>.cos(x)*g;c.push(_,<span class=\"code-number\">0</span>,b),l.push(v.r,v.g,v.b),x=(y+<span class=\"code-number\">1</span>)/i*(<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI),_=<span class=\"code-built_in\">Math</span>.sin(x)*g,b=<span class=\"code-built_in\">Math</span>.cos(x)*g,c.push(_,<span class=\"code-number\">0</span>,b),l.push(v.r,v.g,v.b)}<span class=\"code-keyword\">var</span> w=<span class=\"code-keyword\">new</span> _n;w.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(c,<span class=\"code-number\">3</span>)),w.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> sn(l,<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> M=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">vertexColors</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span>(s=t.call(<span class=\"code-keyword\">this</span>,w,M)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PolarGridHelper\"</span>,s}<span class=\"code-keyword\">return</span> ut(e,t),e}(io),Bu=<span class=\"code-keyword\">new</span> Mt,zu=<span class=\"code-keyword\">new</span> Mt,Uu=<span class=\"code-keyword\">new</span> Mt,Fu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i;(i=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!<span class=\"code-number\">1</span>,i.color=r,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> _n;a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([-n,n,<span class=\"code-number\">0</span>,n,n,<span class=\"code-number\">0</span>,n,-n,<span class=\"code-number\">0</span>,-n,-n,<span class=\"code-number\">0</span>,-n,n,<span class=\"code-number\">0</span>],<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">fog</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span> i.lightPlane=<span class=\"code-keyword\">new</span> eo(a,o),i.add(i.lightPlane),(a=<span class=\"code-keyword\">new</span> _n).setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>],<span class=\"code-number\">3</span>)),i.targetLine=<span class=\"code-keyword\">new</span> eo(a,o),i.add(i.targetLine),i.update(),i}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.lightPlane.geometry.dispose(),<span class=\"code-keyword\">this</span>.lightPlane.material.dispose(),<span class=\"code-keyword\">this</span>.targetLine.geometry.dispose(),<span class=\"code-keyword\">this</span>.targetLine.material.dispose()},n.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Bu.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.light.matrixWorld),zu.setFromMatrixPosition(<span class=\"code-keyword\">this</span>.light.target.matrixWorld),Uu.subVectors(zu,Bu),<span class=\"code-keyword\">this</span>.lightPlane.lookAt(zu),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.color?(<span class=\"code-keyword\">this</span>.lightPlane.material.color.set(<span class=\"code-keyword\">this</span>.color),<span class=\"code-keyword\">this</span>.targetLine.material.color.set(<span class=\"code-keyword\">this</span>.color)):(<span class=\"code-keyword\">this</span>.lightPlane.material.color.copy(<span class=\"code-keyword\">this</span>.light.color),<span class=\"code-keyword\">this</span>.targetLine.material.color.copy(<span class=\"code-keyword\">this</span>.light.color)),<span class=\"code-keyword\">this</span>.targetLine.lookAt(zu),<span class=\"code-keyword\">this</span>.targetLine.scale.z=Uu.length()},e}(we),Gu=<span class=\"code-keyword\">new</span> Mt,Hu=<span class=\"code-keyword\">new</span> qn,ku=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">new</span> _n,i=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:<span class=\"code-number\">16777215</span>,<span class=\"code-attr\">vertexColors</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}),a=[],o=[],s={},c=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16755200</span>),l=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16711680</span>),u=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">43775</span>),h=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">16777215</span>),d=<span class=\"code-keyword\">new</span> We(<span class=\"code-number\">3355443</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\">t,e,n</span>)</span>{f(t,n),f(e,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\">t,e</span>)</span>{a.push(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),o.push(e.r,e.g,e.b),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s[t]&amp;&amp;(s[t]=[]),s[t].push(a.length/<span class=\"code-number\">3</span><span class=\"code-number\">-1</span>)}<span class=\"code-keyword\">return</span> p(<span class=\"code-string\">\"n1\"</span>,<span class=\"code-string\">\"n2\"</span>,c),p(<span class=\"code-string\">\"n2\"</span>,<span class=\"code-string\">\"n4\"</span>,c),p(<span class=\"code-string\">\"n4\"</span>,<span class=\"code-string\">\"n3\"</span>,c),p(<span class=\"code-string\">\"n3\"</span>,<span class=\"code-string\">\"n1\"</span>,c),p(<span class=\"code-string\">\"f1\"</span>,<span class=\"code-string\">\"f2\"</span>,c),p(<span class=\"code-string\">\"f2\"</span>,<span class=\"code-string\">\"f4\"</span>,c),p(<span class=\"code-string\">\"f4\"</span>,<span class=\"code-string\">\"f3\"</span>,c),p(<span class=\"code-string\">\"f3\"</span>,<span class=\"code-string\">\"f1\"</span>,c),p(<span class=\"code-string\">\"n1\"</span>,<span class=\"code-string\">\"f1\"</span>,c),p(<span class=\"code-string\">\"n2\"</span>,<span class=\"code-string\">\"f2\"</span>,c),p(<span class=\"code-string\">\"n3\"</span>,<span class=\"code-string\">\"f3\"</span>,c),p(<span class=\"code-string\">\"n4\"</span>,<span class=\"code-string\">\"f4\"</span>,c),p(<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"n1\"</span>,l),p(<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"n2\"</span>,l),p(<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"n3\"</span>,l),p(<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"n4\"</span>,l),p(<span class=\"code-string\">\"u1\"</span>,<span class=\"code-string\">\"u2\"</span>,u),p(<span class=\"code-string\">\"u2\"</span>,<span class=\"code-string\">\"u3\"</span>,u),p(<span class=\"code-string\">\"u3\"</span>,<span class=\"code-string\">\"u1\"</span>,u),p(<span class=\"code-string\">\"c\"</span>,<span class=\"code-string\">\"t\"</span>,h),p(<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"c\"</span>,d),p(<span class=\"code-string\">\"cn1\"</span>,<span class=\"code-string\">\"cn2\"</span>,d),p(<span class=\"code-string\">\"cn3\"</span>,<span class=\"code-string\">\"cn4\"</span>,d),p(<span class=\"code-string\">\"cf1\"</span>,<span class=\"code-string\">\"cf2\"</span>,d),p(<span class=\"code-string\">\"cf3\"</span>,<span class=\"code-string\">\"cf4\"</span>,d),r.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(a,<span class=\"code-number\">3</span>)),r.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> sn(o,<span class=\"code-number\">3</span>)),(n=t.call(<span class=\"code-keyword\">this</span>,r,i)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"CameraHelper\"</span>,n.camera=e,n.camera.updateProjectionMatrix&amp;&amp;n.camera.updateProjectionMatrix(),n.matrix=e.matrixWorld,n.matrixAutoUpdate=!<span class=\"code-number\">1</span>,n.pointMap=s,n.update(),n}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.geometry,e=<span class=\"code-keyword\">this</span>.pointMap;Hu.projectionMatrixInverse.copy(<span class=\"code-keyword\">this</span>.camera.projectionMatrixInverse),Vu(<span class=\"code-string\">\"c\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"t\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"n1\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"n2\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"n3\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"n4\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"f1\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"f2\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"f3\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"f4\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"u1\"</span>,e,t,Hu,<span class=\"code-number\">.7</span>,<span class=\"code-number\">1.1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"u2\"</span>,e,t,Hu,<span class=\"code-number\">-.7</span>,<span class=\"code-number\">1.1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"u3\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"cf1\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"cf2\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"cf3\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"cf4\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),Vu(<span class=\"code-string\">\"cn1\"</span>,e,t,Hu,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"cn2\"</span>,e,t,Hu,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"cn3\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>),Vu(<span class=\"code-string\">\"cn4\"</span>,e,t,Hu,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>),t.getAttribute(<span class=\"code-string\">\"position\"</span>).needsUpdate=!<span class=\"code-number\">0</span>},e}(io);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vu</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{Gu.set(i,a,o).unproject(r);<span class=\"code-keyword\">var</span> s=e[t];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=n.getAttribute(<span class=\"code-string\">\"position\"</span>),l=<span class=\"code-number\">0</span>,u=s.length;l&lt;u;l++)c.setXYZ(s[l],Gu.x,Gu.y,Gu.z)}<span class=\"code-keyword\">var</span> Wu,ju,qu,Xu=<span class=\"code-keyword\">new</span> Et,Yu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">16776960</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint16Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">7</span>]),a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">24</span>),o=<span class=\"code-keyword\">new</span> _n;<span class=\"code-keyword\">return</span> o.setIndex(<span class=\"code-keyword\">new</span> Qe(i,<span class=\"code-number\">1</span>)),o.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> Qe(a,<span class=\"code-number\">3</span>)),(r=t.call(<span class=\"code-keyword\">this</span>,o,<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:n,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}))||<span class=\"code-keyword\">this</span>).object=e,r.type=<span class=\"code-string\">\"BoxHelper\"</span>,r.matrixAutoUpdate=!<span class=\"code-number\">1</span>,r.update(),r}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BoxHelper: .update() has no longer arguments.\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.object&amp;&amp;Xu.setFromObject(<span class=\"code-keyword\">this</span>.object),!Xu.isEmpty()){<span class=\"code-keyword\">var</span> e=Xu.min,n=Xu.max,r=<span class=\"code-keyword\">this</span>.geometry.attributes.position,i=r.array;i[<span class=\"code-number\">0</span>]=n.x,i[<span class=\"code-number\">1</span>]=n.y,i[<span class=\"code-number\">2</span>]=n.z,i[<span class=\"code-number\">3</span>]=e.x,i[<span class=\"code-number\">4</span>]=n.y,i[<span class=\"code-number\">5</span>]=n.z,i[<span class=\"code-number\">6</span>]=e.x,i[<span class=\"code-number\">7</span>]=e.y,i[<span class=\"code-number\">8</span>]=n.z,i[<span class=\"code-number\">9</span>]=n.x,i[<span class=\"code-number\">10</span>]=e.y,i[<span class=\"code-number\">11</span>]=n.z,i[<span class=\"code-number\">12</span>]=n.x,i[<span class=\"code-number\">13</span>]=n.y,i[<span class=\"code-number\">14</span>]=e.z,i[<span class=\"code-number\">15</span>]=e.x,i[<span class=\"code-number\">16</span>]=n.y,i[<span class=\"code-number\">17</span>]=e.z,i[<span class=\"code-number\">18</span>]=e.x,i[<span class=\"code-number\">19</span>]=e.y,i[<span class=\"code-number\">20</span>]=e.z,i[<span class=\"code-number\">21</span>]=n.x,i[<span class=\"code-number\">22</span>]=e.y,i[<span class=\"code-number\">23</span>]=e.z,r.needsUpdate=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.geometry.computeBoundingSphere()}},n.setFromObject=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.object=t,<span class=\"code-keyword\">this</span>.update(),<span class=\"code-keyword\">this</span>},n.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> io.prototype.copy.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.object=t.object,<span class=\"code-keyword\">this</span>},e}(io),Zu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">16776960</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint16Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">7</span>]),a=<span class=\"code-keyword\">new</span> _n;<span class=\"code-keyword\">return</span> a.setIndex(<span class=\"code-keyword\">new</span> Qe(i,<span class=\"code-number\">1</span>)),a.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>],<span class=\"code-number\">3</span>)),(r=t.call(<span class=\"code-keyword\">this</span>,a,<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:n,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}))||<span class=\"code-keyword\">this</span>).box=e,r.type=<span class=\"code-string\">\"Box3Helper\"</span>,r.geometry.computeBoundingSphere(),r}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.box;n.isEmpty()||(n.getCenter(<span class=\"code-keyword\">this</span>.position),n.getSize(<span class=\"code-keyword\">this</span>.scale),<span class=\"code-keyword\">this</span>.scale.multiplyScalar(<span class=\"code-number\">.5</span>),t.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,e))},e}(io),Ju=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">16776960</span>);<span class=\"code-keyword\">var</span> a=r,o=<span class=\"code-keyword\">new</span> _n;o.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],<span class=\"code-number\">3</span>)),o.computeBoundingSphere(),(i=t.call(<span class=\"code-keyword\">this</span>,o,<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:a,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}))||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"PlaneHelper\"</span>,i.plane=e,i.size=n;<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">new</span> _n;<span class=\"code-keyword\">return</span> s.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>],<span class=\"code-number\">3</span>)),s.computeBoundingSphere(),i.add(<span class=\"code-keyword\">new</span> Un(s,<span class=\"code-keyword\">new</span> Ye({<span class=\"code-attr\">color</span>:a,<span class=\"code-attr\">opacity</span>:<span class=\"code-number\">.2</span>,<span class=\"code-attr\">transparent</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>}))),i}<span class=\"code-keyword\">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=-<span class=\"code-keyword\">this</span>.plane.constant;<span class=\"code-built_in\">Math</span>.abs(n)&lt;<span class=\"code-number\">1e-8</span>&amp;&amp;(n=<span class=\"code-number\">1e-8</span>),<span class=\"code-keyword\">this</span>.scale.set(<span class=\"code-number\">.5</span>*<span class=\"code-keyword\">this</span>.size,<span class=\"code-number\">.5</span>*<span class=\"code-keyword\">this</span>.size,n),<span class=\"code-keyword\">this</span>.children[<span class=\"code-number\">0</span>].material.side=n&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lookAt(<span class=\"code-keyword\">this</span>.plane.normal),t.prototype.updateMatrixWorld.call(<span class=\"code-keyword\">this</span>,e)},e}(eo),Qu=<span class=\"code-keyword\">new</span> Mt,Ku=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">return</span>(s=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"ArrowHelper\"</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">16776960</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;(a=<span class=\"code-number\">.2</span>*r),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=<span class=\"code-number\">.2</span>*a),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===Wu&amp;&amp;((Wu=<span class=\"code-keyword\">new</span> _n).setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>],<span class=\"code-number\">3</span>)),(ju=<span class=\"code-keyword\">new</span> Eo(<span class=\"code-number\">0</span>,<span class=\"code-number\">.5</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">1</span>)).translate(<span class=\"code-number\">0</span>,<span class=\"code-number\">-.5</span>,<span class=\"code-number\">0</span>)),s.position.copy(n),s.line=<span class=\"code-keyword\">new</span> eo(Wu,<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:i,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>})),s.line.matrixAutoUpdate=!<span class=\"code-number\">1</span>,s.add(s.line),s.cone=<span class=\"code-keyword\">new</span> Un(ju,<span class=\"code-keyword\">new</span> Ye({<span class=\"code-attr\">color</span>:i,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>})),s.cone.matrixAutoUpdate=!<span class=\"code-number\">1</span>,s.add(s.cone),s.setDirection(e),s.setLength(r,a,o),s}ut(e,t);<span class=\"code-keyword\">var</span> n=e.prototype;<span class=\"code-keyword\">return</span> n.setDirection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t.y&gt;<span class=\"code-number\">.99999</span>)<span class=\"code-keyword\">this</span>.quaternion.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.y&lt;<span class=\"code-number\">-.99999</span>)<span class=\"code-keyword\">this</span>.quaternion.set(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span>{Qu.set(t.z,<span class=\"code-number\">0</span>,-t.x).normalize();<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.acos(t.y);<span class=\"code-keyword\">this</span>.quaternion.setFromAxisAngle(Qu,e)}},n.setLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">.2</span>*t),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">.2</span>*e),<span class=\"code-keyword\">this</span>.line.scale.set(<span class=\"code-number\">1</span>,<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">1e-4</span>,t-e),<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.line.updateMatrix(),<span class=\"code-keyword\">this</span>.cone.scale.set(n,e,n),<span class=\"code-keyword\">this</span>.cone.position.y=t,<span class=\"code-keyword\">this</span>.cone.updateMatrix()},n.setColor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.line.material.color.set(t),<span class=\"code-keyword\">this</span>.cone.material.color.set(t)},n.copy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.prototype.copy.call(<span class=\"code-keyword\">this</span>,e,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.line.copy(e.line),<span class=\"code-keyword\">this</span>.cone.copy(e.cone),<span class=\"code-keyword\">this</span>},e}(we),$u=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> r=[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e],i=<span class=\"code-keyword\">new</span> _n;i.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> sn(r,<span class=\"code-number\">3</span>)),i.setAttribute(<span class=\"code-string\">\"color\"</span>,<span class=\"code-keyword\">new</span> sn([<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">.6</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.6</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">.6</span>,<span class=\"code-number\">1</span>],<span class=\"code-number\">3</span>));<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">vertexColors</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toneMapped</span>:!<span class=\"code-number\">1</span>});<span class=\"code-keyword\">return</span>(n=t.call(<span class=\"code-keyword\">this</span>,i,a)||<span class=\"code-keyword\">this</span>).type=<span class=\"code-string\">\"AxesHelper\"</span>,n}<span class=\"code-keyword\">return</span> ut(e,t),e}(io),th=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">1</span>),eh=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(th.buffer),nh={<span class=\"code-attr\">toHalfFloat</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{th[<span class=\"code-number\">0</span>]=t;<span class=\"code-keyword\">var</span> e=eh[<span class=\"code-number\">0</span>],n=e&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">32768</span>,r=e&gt;&gt;<span class=\"code-number\">12</span>&amp;<span class=\"code-number\">2047</span>,i=e&gt;&gt;<span class=\"code-number\">23</span>&amp;<span class=\"code-number\">255</span>;<span class=\"code-keyword\">return</span> i&lt;<span class=\"code-number\">103</span>?n:i&gt;<span class=\"code-number\">142</span>?(n|=<span class=\"code-number\">31744</span>,n|=(<span class=\"code-number\">255</span>==i?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>)&amp;&amp;<span class=\"code-number\">8388607</span>&amp;e):i&lt;<span class=\"code-number\">113</span>?n|=((r|=<span class=\"code-number\">2048</span>)&gt;&gt;<span class=\"code-number\">114</span>-i)+(r&gt;&gt;<span class=\"code-number\">113</span>-i&amp;<span class=\"code-number\">1</span>):(n|=i<span class=\"code-number\">-112</span>&lt;&lt;<span class=\"code-number\">10</span>|r&gt;&gt;<span class=\"code-number\">1</span>,n+=<span class=\"code-number\">1</span>&amp;r)}},rh=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">8</span>),ih=[<span class=\"code-number\">.125</span>,<span class=\"code-number\">.215</span>,<span class=\"code-number\">.35</span>,<span class=\"code-number\">.446</span>,<span class=\"code-number\">.526</span>,<span class=\"code-number\">.582</span>],ah=<span class=\"code-number\">5</span>+ih.length,oh=<span class=\"code-number\">20</span>,sh=((qu={})[<span class=\"code-number\">3e3</span>]=<span class=\"code-number\">0</span>,qu[<span class=\"code-number\">3001</span>]=<span class=\"code-number\">1</span>,qu[<span class=\"code-number\">3002</span>]=<span class=\"code-number\">2</span>,qu[<span class=\"code-number\">3004</span>]=<span class=\"code-number\">3</span>,qu[<span class=\"code-number\">3005</span>]=<span class=\"code-number\">4</span>,qu[<span class=\"code-number\">3006</span>]=<span class=\"code-number\">5</span>,qu[<span class=\"code-number\">3007</span>]=<span class=\"code-number\">6</span>,qu),ch=<span class=\"code-keyword\">new</span> rl,lh=xh(),uh=lh._lodPlanes,hh=lh._sizeLods,dh=lh._sigmas,ph=<span class=\"code-literal\">null</span>,fh=(<span class=\"code-number\">1</span>+<span class=\"code-built_in\">Math</span>.sqrt(<span class=\"code-number\">5</span>))/<span class=\"code-number\">2</span>,mh=<span class=\"code-number\">1</span>/fh,vh=[<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,fh,mh),<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,fh,-mh),<span class=\"code-keyword\">new</span> Mt(mh,<span class=\"code-number\">0</span>,fh),<span class=\"code-keyword\">new</span> Mt(-mh,<span class=\"code-number\">0</span>,fh),<span class=\"code-keyword\">new</span> Mt(fh,mh,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Mt(-fh,mh,<span class=\"code-number\">0</span>)],gh=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e,n,r;<span class=\"code-keyword\">this</span>._renderer=t,<span class=\"code-keyword\">this</span>._pingPongRenderTarget=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._blurMaterial=(e=oh,n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(e),r=<span class=\"code-keyword\">new</span> Mt(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Ws({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"SphericalGaussianBlur\"</span>,<span class=\"code-attr\">defines</span>:{<span class=\"code-attr\">n</span>:e},<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">envMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">samples</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">1</span>},<span class=\"code-attr\">weights</span>:{<span class=\"code-attr\">value</span>:n},<span class=\"code-attr\">latitudinal</span>:{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">dTheta</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">mipInt</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">poleAxis</span>:{<span class=\"code-attr\">value</span>:r},<span class=\"code-attr\">inputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]},<span class=\"code-attr\">outputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]}},<span class=\"code-attr\">vertexShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"</span>,<span class=\"code-attr\">fragmentShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform int samples;\\n\\t\\t\\tuniform float weights[ n ];\\n\\t\\t\\tuniform bool latitudinal;\\n\\t\\t\\tuniform float dTheta;\\n\\t\\t\\tuniform float mipInt;\\n\\t\\t\\tuniform vec3 poleAxis;\\n\\n\\t\\t\\t\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include &lt;encodings_pars_fragment&gt;\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\\n\\n\\t\\t\\t#define ENVMAP_TYPE_CUBE_UV\\n\\t\\t\\t#include &lt;cube_uv_reflection_fragment&gt;\\n\\n\\t\\t\\tvec3 getSample( float theta, vec3 axis ) {\\n\\n\\t\\t\\t\\tfloat cosTheta = cos( theta );\\n\\t\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross( axis, vOutputDirection ) * sin( theta )\\n\\t\\t\\t\\t\\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\\n\\n\\t\\t\\t\\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\\n\\n\\t\\t\\t\\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\\n\\n\\t\\t\\t\\t\\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\taxis = normalize( axis );\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\\n\\n\\t\\t\\t\\tfor ( int i = 1; i &lt; n; i++ ) {\\n\\n\\t\\t\\t\\t\\tif ( i &gt;= samples ) {\\n\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfloat theta = dTheta * float( i );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\"</span>,<span class=\"code-attr\">blending</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>})),<span class=\"code-keyword\">this</span>._equirectShader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._cubemapShader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._compileMaterial(<span class=\"code-keyword\">this</span>._blurMaterial)}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.fromScene=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">.1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">100</span>),ph=<span class=\"code-keyword\">this</span>._renderer.getRenderTarget();<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>._allocateTargets();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._sceneToCubeUV(t,n,r,i),e&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>._blur(i,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e),<span class=\"code-keyword\">this</span>._applyPMREM(i),<span class=\"code-keyword\">this</span>._cleanup(i),i},e.fromEquirectangular=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._fromTexture(t)},e.fromCubemap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._fromTexture(t)},e.compileCubemapShader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._cubemapShader&amp;&amp;(<span class=\"code-keyword\">this</span>._cubemapShader=Mh(),<span class=\"code-keyword\">this</span>._compileMaterial(<span class=\"code-keyword\">this</span>._cubemapShader))},e.compileEquirectangularShader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>._equirectShader&amp;&amp;(<span class=\"code-keyword\">this</span>._equirectShader=wh(),<span class=\"code-keyword\">this</span>._compileMaterial(<span class=\"code-keyword\">this</span>._equirectShader))},e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._blurMaterial.dispose(),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._cubemapShader&amp;&amp;<span class=\"code-keyword\">this</span>._cubemapShader.dispose(),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._equirectShader&amp;&amp;<span class=\"code-keyword\">this</span>._equirectShader.dispose();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;uh.length;t++)uh[t].dispose()},e._cleanup=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._pingPongRenderTarget.dispose(),<span class=\"code-keyword\">this</span>._renderer.setRenderTarget(ph),t.scissorTest=!<span class=\"code-number\">1</span>,bh(t,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,t.width,t.height)},e._fromTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{ph=<span class=\"code-keyword\">this</span>._renderer.getRenderTarget();<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._allocateTargets(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._textureToCubeUV(t,e),<span class=\"code-keyword\">this</span>._applyPMREM(e),<span class=\"code-keyword\">this</span>._cleanup(e),e},e._allocateTargets=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e={<span class=\"code-attr\">magFilter</span>:d,<span class=\"code-attr\">minFilter</span>:d,<span class=\"code-attr\">generateMipmaps</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">type</span>:y,<span class=\"code-attr\">format</span>:<span class=\"code-number\">1023</span>,<span class=\"code-attr\">encoding</span>:yh(t)?t.encoding:Z,<span class=\"code-attr\">depthBuffer</span>:!<span class=\"code-number\">1</span>},n=_h(e);<span class=\"code-keyword\">return</span> n.depthBuffer=!t,<span class=\"code-keyword\">this</span>._pingPongRenderTarget=_h(e),n},e._compileMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> Un(uh[<span class=\"code-number\">0</span>],t);<span class=\"code-keyword\">this</span>._renderer.compile(e,ch)},e._sceneToCubeUV=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Xn(<span class=\"code-number\">90</span>,<span class=\"code-number\">1</span>,e,n),a=[<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>],o=[<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>,<span class=\"code-number\">-1</span>],s=<span class=\"code-keyword\">this</span>._renderer,c=s.outputEncoding,l=s.toneMapping,u=s.getClearColor(),h=s.getClearAlpha();s.toneMapping=<span class=\"code-number\">0</span>,s.outputEncoding=q;<span class=\"code-keyword\">var</span> d=t.background;<span class=\"code-keyword\">if</span>(d&amp;&amp;d.isColor){d.convertSRGBToLinear();<span class=\"code-keyword\">var</span> p=<span class=\"code-built_in\">Math</span>.max(d.r,d.g,d.b),f=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-built_in\">Math</span>.log2(p)),<span class=\"code-number\">-128</span>),<span class=\"code-number\">127</span>);d=d.multiplyScalar(<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,-f));<span class=\"code-keyword\">var</span> m=(f+<span class=\"code-number\">128</span>)/<span class=\"code-number\">255</span>;s.setClearColor(d,m),t.background=<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">0</span>;v&lt;<span class=\"code-number\">6</span>;v++){<span class=\"code-keyword\">var</span> g=v%<span class=\"code-number\">3</span>;<span class=\"code-number\">0</span>==g?(i.up.set(<span class=\"code-number\">0</span>,a[v],<span class=\"code-number\">0</span>),i.lookAt(o[v],<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)):<span class=\"code-number\">1</span>==g?(i.up.set(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,a[v]),i.lookAt(<span class=\"code-number\">0</span>,o[v],<span class=\"code-number\">0</span>)):(i.up.set(<span class=\"code-number\">0</span>,a[v],<span class=\"code-number\">0</span>),i.lookAt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,o[v])),bh(r,g*rh,v&gt;<span class=\"code-number\">2</span>?rh:<span class=\"code-number\">0</span>,rh,rh),s.setRenderTarget(r),s.render(t,i)}s.toneMapping=l,s.outputEncoding=c,s.setClearColor(u,h)},e._textureToCubeUV=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._renderer;t.isCubeTexture?<span class=\"code-literal\">null</span>==<span class=\"code-keyword\">this</span>._cubemapShader&amp;&amp;(<span class=\"code-keyword\">this</span>._cubemapShader=Mh()):<span class=\"code-literal\">null</span>==<span class=\"code-keyword\">this</span>._equirectShader&amp;&amp;(<span class=\"code-keyword\">this</span>._equirectShader=wh());<span class=\"code-keyword\">var</span> r=t.isCubeTexture?<span class=\"code-keyword\">this</span>._cubemapShader:<span class=\"code-keyword\">this</span>._equirectShader,i=<span class=\"code-keyword\">new</span> Un(uh[<span class=\"code-number\">0</span>],r),a=r.uniforms;a.envMap.value=t,t.isCubeTexture||a.texelSize.value.set(<span class=\"code-number\">1</span>/t.image.width,<span class=\"code-number\">1</span>/t.image.height),a.inputEncoding.value=sh[t.encoding],a.outputEncoding.value=sh[e.texture.encoding],bh(e,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>*rh,<span class=\"code-number\">2</span>*rh),n.setRenderTarget(e),n.render(i,ch)},e._applyPMREM=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._renderer,n=e.autoClear;e.autoClear=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">1</span>;r&lt;ah;r++){<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Math</span>.sqrt(dh[r]*dh[r]-dh[r<span class=\"code-number\">-1</span>]*dh[r<span class=\"code-number\">-1</span>]),a=vh[(r<span class=\"code-number\">-1</span>)%vh.length];<span class=\"code-keyword\">this</span>._blur(t,r<span class=\"code-number\">-1</span>,r,i,a)}e.autoClear=n},e._blur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>._pingPongRenderTarget;<span class=\"code-keyword\">this</span>._halfBlur(t,a,e,n,r,<span class=\"code-string\">\"latitudinal\"</span>,i),<span class=\"code-keyword\">this</span>._halfBlur(a,t,n,n,r,<span class=\"code-string\">\"longitudinal\"</span>,i)},e._halfBlur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>._renderer,c=<span class=\"code-keyword\">this</span>._blurMaterial;<span class=\"code-string\">\"latitudinal\"</span>!==a&amp;&amp;<span class=\"code-string\">\"longitudinal\"</span>!==a&amp;&amp;<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"blur direction must be either latitudinal or longitudinal!\"</span>);<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">new</span> Un(uh[r],c),u=c.uniforms,h=hh[n]<span class=\"code-number\">-1</span>,d=<span class=\"code-built_in\">isFinite</span>(i)?<span class=\"code-built_in\">Math</span>.PI/(<span class=\"code-number\">2</span>*h):<span class=\"code-number\">2</span>*<span class=\"code-built_in\">Math</span>.PI/<span class=\"code-number\">39</span>,p=i/d,f=<span class=\"code-built_in\">isFinite</span>(i)?<span class=\"code-number\">1</span>+<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-number\">3</span>*p):oh;f&gt;oh&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"sigmaRadians, \"</span>+i+<span class=\"code-string\">\", is too large and will clip, as it requested \"</span>+f+<span class=\"code-string\">\" samples when the maximum is set to \"</span>+oh);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=[],v=<span class=\"code-number\">0</span>,g=<span class=\"code-number\">0</span>;g&lt;oh;++g){<span class=\"code-keyword\">var</span> y=g/p,x=<span class=\"code-built_in\">Math</span>.exp(-y*y/<span class=\"code-number\">2</span>);m.push(x),<span class=\"code-number\">0</span>==g?v+=x:g&lt;f&amp;&amp;(v+=<span class=\"code-number\">2</span>*x)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> _=<span class=\"code-number\">0</span>;_&lt;m.length;_++)m[_]=m[_]/v;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value=<span class=\"code-string\">\"latitudinal\"</span>===a,o&amp;&amp;(u.poleAxis.value=o),u.dTheta.value=d,u.mipInt.value=<span class=\"code-number\">8</span>-n,u.inputEncoding.value=sh[t.texture.encoding],u.outputEncoding.value=sh[t.texture.encoding];<span class=\"code-keyword\">var</span> b=hh[r];bh(e,<span class=\"code-number\">3</span>*<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,rh<span class=\"code-number\">-2</span>*b),(<span class=\"code-number\">0</span>===r?<span class=\"code-number\">0</span>:<span class=\"code-number\">2</span>*rh)+<span class=\"code-number\">2</span>*b*(r&gt;<span class=\"code-number\">4</span>?r<span class=\"code-number\">-8</span>+<span class=\"code-number\">4</span>:<span class=\"code-number\">0</span>),<span class=\"code-number\">3</span>*b,<span class=\"code-number\">2</span>*b),s.setRenderTarget(e),s.render(l,ch)},t}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yh</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;t.type===y&amp;&amp;(t.encoding===q||t.encoding===X||t.encoding===Y)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xh</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],e=[],n=[],r=<span class=\"code-number\">8</span>,i=<span class=\"code-number\">0</span>;i&lt;ah;i++){<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,r);e.push(a);<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">1</span>/a;i&gt;<span class=\"code-number\">4</span>?o=ih[i<span class=\"code-number\">-8</span>+<span class=\"code-number\">4</span><span class=\"code-number\">-1</span>]:<span class=\"code-number\">0</span>==i&amp;&amp;(o=<span class=\"code-number\">0</span>),n.push(o);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">1</span>/(a<span class=\"code-number\">-1</span>),c=-s/<span class=\"code-number\">2</span>,l=<span class=\"code-number\">1</span>+s/<span class=\"code-number\">2</span>,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">108</span>),d=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">72</span>),p=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>(<span class=\"code-number\">36</span>),f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">6</span>;f++){<span class=\"code-keyword\">var</span> m=f%<span class=\"code-number\">3</span>*<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span><span class=\"code-number\">-1</span>,v=f&gt;<span class=\"code-number\">2</span>?<span class=\"code-number\">0</span>:<span class=\"code-number\">-1</span>,g=[m,v,<span class=\"code-number\">0</span>,m+<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span>,v,<span class=\"code-number\">0</span>,m+<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span>,v+<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,m,v,<span class=\"code-number\">0</span>,m+<span class=\"code-number\">2</span>/<span class=\"code-number\">3</span>,v+<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,m,v+<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>];h.set(g,<span class=\"code-number\">18</span>*f),d.set(u,<span class=\"code-number\">12</span>*f);<span class=\"code-keyword\">var</span> y=[f,f,f,f,f,f];p.set(y,<span class=\"code-number\">6</span>*f)}<span class=\"code-keyword\">var</span> x=<span class=\"code-keyword\">new</span> _n;x.setAttribute(<span class=\"code-string\">\"position\"</span>,<span class=\"code-keyword\">new</span> Qe(h,<span class=\"code-number\">3</span>)),x.setAttribute(<span class=\"code-string\">\"uv\"</span>,<span class=\"code-keyword\">new</span> Qe(d,<span class=\"code-number\">2</span>)),x.setAttribute(<span class=\"code-string\">\"faceIndex\"</span>,<span class=\"code-keyword\">new</span> Qe(p,<span class=\"code-number\">1</span>)),t.push(x),r&gt;<span class=\"code-number\">4</span>&amp;&amp;r--}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">_lodPlanes</span>:t,<span class=\"code-attr\">_sizeLods</span>:e,<span class=\"code-attr\">_sigmas</span>:n}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_h</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> _t(<span class=\"code-number\">3</span>*rh,<span class=\"code-number\">3</span>*rh,t);<span class=\"code-keyword\">return</span> e.texture.mapping=s,e.texture.name=<span class=\"code-string\">\"PMREM.cubeUv\"</span>,e.scissorTest=!<span class=\"code-number\">0</span>,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bh</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wh</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Ws({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"EquirectangularToCubeUV\"</span>,<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">envMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">texelSize</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> pt(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)},<span class=\"code-attr\">inputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]},<span class=\"code-attr\">outputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]}},<span class=\"code-attr\">vertexShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"</span>,<span class=\"code-attr\">fragmentShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform vec2 texelSize;\\n\\n\\t\\t\\t\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include &lt;encodings_pars_fragment&gt;\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\\n\\n\\t\\t\\t#include &lt;common&gt;\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\n\\t\\t\\t\\tvec3 outputDirection = normalize( vOutputDirection );\\n\\t\\t\\t\\tvec2 uv = equirectUv( outputDirection );\\n\\n\\t\\t\\t\\tvec2 f = fract( uv / texelSize - 0.5 );\\n\\t\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\t\\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x += texelSize.x;\\n\\t\\t\\t\\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.y += texelSize.y;\\n\\t\\t\\t\\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x -= texelSize.x;\\n\\t\\t\\t\\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\n\\t\\t\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\t\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\t\\t\\tgl_FragColor.rgb = mix( tm, bm, f.y );\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\"</span>,<span class=\"code-attr\">blending</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mh</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Ws({<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"CubemapToCubeUV\"</span>,<span class=\"code-attr\">uniforms</span>:{<span class=\"code-attr\">envMap</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">inputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]},<span class=\"code-attr\">outputEncoding</span>:{<span class=\"code-attr\">value</span>:sh[<span class=\"code-number\">3e3</span>]}},<span class=\"code-attr\">vertexShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"</span>,<span class=\"code-attr\">fragmentShader</span>:<span class=\"code-string\">\"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform samplerCube envMap;\\n\\n\\t\\t\\t\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include &lt;encodings_pars_fragment&gt;\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\"</span>,<span class=\"code-attr\">blending</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">depthTest</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">depthWrite</span>:!<span class=\"code-number\">1</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Sh</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"</span>),Oc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"catmullrom\"</span>,<span class=\"code-keyword\">this</span>.closed=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Th</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"</span>),Oc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"catmullrom\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Eh</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"</span>),Oc.call(<span class=\"code-keyword\">this</span>,t),<span class=\"code-keyword\">this</span>.type=<span class=\"code-string\">\"catmullrom\"</span>}Ac.create=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"THREE.Curve.create() has been deprecated\"</span>),t.prototype=<span class=\"code-built_in\">Object</span>.create(Ac.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},<span class=\"code-built_in\">Object</span>.assign(Xc.prototype,{<span class=\"code-attr\">createPointsGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getPoints(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.createGeometry(e)},<span class=\"code-attr\">createSpacedPointsGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getSpacedPoints(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.createGeometry(e)},<span class=\"code-attr\">createGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> wo,n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> i=t[n];e.vertices.push(<span class=\"code-keyword\">new</span> Mt(i.x,i.y,i.z||<span class=\"code-number\">0</span>))}<span class=\"code-keyword\">return</span> e}}),<span class=\"code-built_in\">Object</span>.assign(Yc.prototype,{<span class=\"code-attr\">fromPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"</span>),<span class=\"code-keyword\">this</span>.setFromPoints(t)}}),Sh.prototype=<span class=\"code-built_in\">Object</span>.create(Oc.prototype),Th.prototype=<span class=\"code-built_in\">Object</span>.create(Oc.prototype),Eh.prototype=<span class=\"code-built_in\">Object</span>.create(Oc.prototype),<span class=\"code-built_in\">Object</span>.assign(Eh.prototype,{<span class=\"code-attr\">initFromArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Spline: .initFromArray() has been removed.\"</span>)},<span class=\"code-attr\">getControlPointsArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Spline: .getControlPointsArray() has been removed.\"</span>)},<span class=\"code-attr\">reparametrizeByArcLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Spline: .reparametrizeByArcLength() has been removed.\"</span>)}}),Du.prototype.setColors=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\"</span>)},Au.prototype.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SkeletonHelper: update() no longer needs to be called.\"</span>)},<span class=\"code-built_in\">Object</span>.assign(yc.prototype,{<span class=\"code-attr\">extractUrlBase</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"</span>),hl.extractUrlBase(t)}}),yc.Handlers={<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.\"</span>)},<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.\"</span>)}},<span class=\"code-built_in\">Object</span>.assign(gu.prototype,{<span class=\"code-attr\">center</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .center() has been renamed to .getCenter().\"</span>),<span class=\"code-keyword\">this</span>.getCenter(t)},<span class=\"code-attr\">empty</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .empty() has been renamed to .isEmpty().\"</span>),<span class=\"code-keyword\">this</span>.isEmpty()},<span class=\"code-attr\">isIntersectionBox</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"</span>),<span class=\"code-keyword\">this</span>.intersectsBox(t)},<span class=\"code-attr\">size</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box2: .size() has been renamed to .getSize().\"</span>),<span class=\"code-keyword\">this</span>.getSize(t)}}),<span class=\"code-built_in\">Object</span>.assign(Et.prototype,{<span class=\"code-attr\">center</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .center() has been renamed to .getCenter().\"</span>),<span class=\"code-keyword\">this</span>.getCenter(t)},<span class=\"code-attr\">empty</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .empty() has been renamed to .isEmpty().\"</span>),<span class=\"code-keyword\">this</span>.isEmpty()},<span class=\"code-attr\">isIntersectionBox</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"</span>),<span class=\"code-keyword\">this</span>.intersectsBox(t)},<span class=\"code-attr\">isIntersectionSphere</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"</span>),<span class=\"code-keyword\">this</span>.intersectsSphere(t)},<span class=\"code-attr\">size</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Box3: .size() has been renamed to .getSize().\"</span>),<span class=\"code-keyword\">this</span>.getSize(t)}}),<span class=\"code-built_in\">Object</span>.assign(kt.prototype,{<span class=\"code-attr\">empty</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Sphere: .empty() has been renamed to .isEmpty().\"</span>),<span class=\"code-keyword\">this</span>.isEmpty()}}),er.prototype.setFromMatrix=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().\"</span>),<span class=\"code-keyword\">this</span>.setFromProjectionMatrix(t)},_u.prototype.center=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Line3: .center() has been renamed to .getCenter().\"</span>),<span class=\"code-keyword\">this</span>.getCenter(t)},<span class=\"code-built_in\">Object</span>.assign(st,{<span class=\"code-attr\">random16</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Math: .random16() has been deprecated. Use Math.random() instead.\"</span>),<span class=\"code-built_in\">Math</span>.random()},<span class=\"code-attr\">nearestPowerOfTwo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().\"</span>),st.floorPowerOfTwo(t)},<span class=\"code-attr\">nextPowerOfTwo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().\"</span>),st.ceilPowerOfTwo(t)}}),<span class=\"code-built_in\">Object</span>.assign(ft.prototype,{<span class=\"code-attr\">flattenToArrayOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"</span>),<span class=\"code-keyword\">this</span>.toArray(t,e)},<span class=\"code-attr\">multiplyVector3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"</span>),t.applyMatrix3(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">multiplyVector3Array</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix3: .multiplyVector3Array() has been removed.\"</span>)},<span class=\"code-attr\">applyToBufferAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.\"</span>),t.applyMatrix3(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">applyToVector3Array</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix3: .applyToVector3Array() has been removed.\"</span>)},<span class=\"code-attr\">getInverse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.\"</span>),<span class=\"code-keyword\">this</span>.copy(t).invert()}}),<span class=\"code-built_in\">Object</span>.assign(Qt.prototype,{<span class=\"code-attr\">extractPosition</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"</span>),<span class=\"code-keyword\">this</span>.copyPosition(t)},<span class=\"code-attr\">flattenToArrayOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"</span>),<span class=\"code-keyword\">this</span>.toArray(t,e)},<span class=\"code-attr\">getPosition</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"</span>),(<span class=\"code-keyword\">new</span> Mt).setFromMatrixColumn(<span class=\"code-keyword\">this</span>,<span class=\"code-number\">3</span>)},<span class=\"code-attr\">setRotationFromQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"</span>),<span class=\"code-keyword\">this</span>.makeRotationFromQuaternion(t)},<span class=\"code-attr\">multiplyToArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .multiplyToArray() has been removed.\"</span>)},<span class=\"code-attr\">multiplyVector3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"</span>),t.applyMatrix4(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">multiplyVector4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"</span>),t.applyMatrix4(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">multiplyVector3Array</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .multiplyVector3Array() has been removed.\"</span>)},<span class=\"code-attr\">rotateAxis</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"</span>),t.transformDirection(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">crossVector</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"</span>),t.applyMatrix4(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">translate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .translate() has been removed.\"</span>)},<span class=\"code-attr\">rotateX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .rotateX() has been removed.\"</span>)},<span class=\"code-attr\">rotateY</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .rotateY() has been removed.\"</span>)},<span class=\"code-attr\">rotateZ</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .rotateZ() has been removed.\"</span>)},<span class=\"code-attr\">rotateByAxis</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .rotateByAxis() has been removed.\"</span>)},<span class=\"code-attr\">applyToBufferAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.\"</span>),t.applyMatrix4(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">applyToVector3Array</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Matrix4: .applyToVector3Array() has been removed.\"</span>)},<span class=\"code-attr\">makeFrustum</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"</span>),<span class=\"code-keyword\">this</span>.makePerspective(t,e,r,n,i,a)},<span class=\"code-attr\">getInverse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.\"</span>),<span class=\"code-keyword\">this</span>.copy(t).invert()}}),Ee.prototype.isIntersectionLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"</span>),<span class=\"code-keyword\">this</span>.intersectsLine(t)},<span class=\"code-built_in\">Object</span>.assign(wt.prototype,{<span class=\"code-attr\">multiplyVector3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"</span>),t.applyQuaternion(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">inverse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Quaternion: .inverse() has been renamed to invert().\"</span>),<span class=\"code-keyword\">this</span>.invert()}}),<span class=\"code-built_in\">Object</span>.assign(Jt.prototype,{<span class=\"code-attr\">isIntersectionBox</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"</span>),<span class=\"code-keyword\">this</span>.intersectsBox(t)},<span class=\"code-attr\">isIntersectionPlane</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"</span>),<span class=\"code-keyword\">this</span>.intersectsPlane(t)},<span class=\"code-attr\">isIntersectionSphere</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"</span>),<span class=\"code-keyword\">this</span>.intersectsSphere(t)}}),<span class=\"code-built_in\">Object</span>.assign(ze.prototype,{<span class=\"code-attr\">area</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .area() has been renamed to .getArea().\"</span>),<span class=\"code-keyword\">this</span>.getArea()},<span class=\"code-attr\">barycoordFromPoint</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"</span>),<span class=\"code-keyword\">this</span>.getBarycoord(t,e)},<span class=\"code-attr\">midpoint</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"</span>),<span class=\"code-keyword\">this</span>.getMidpoint(t)},<span class=\"code-attr\">normal</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .normal() has been renamed to .getNormal().\"</span>),<span class=\"code-keyword\">this</span>.getNormal(t)},<span class=\"code-attr\">plane</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .plane() has been renamed to .getPlane().\"</span>),<span class=\"code-keyword\">this</span>.getPlane(t)}}),<span class=\"code-built_in\">Object</span>.assign(ze,{<span class=\"code-attr\">barycoordFromPoint</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"</span>),ze.getBarycoord(t,e,n,r,i)},<span class=\"code-attr\">normal</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Triangle: .normal() has been renamed to .getNormal().\"</span>),ze.getNormal(t,e,n,r)}}),<span class=\"code-built_in\">Object</span>.assign(Zc.prototype,{<span class=\"code-attr\">extractAllPoints</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"</span>),<span class=\"code-keyword\">this</span>.extractPoints(t)},<span class=\"code-attr\">extrude</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"</span>),<span class=\"code-keyword\">new</span> fs(<span class=\"code-keyword\">this</span>,t)},<span class=\"code-attr\">makeGeometry</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"</span>),<span class=\"code-keyword\">new</span> Ls(<span class=\"code-keyword\">this</span>,t)}}),<span class=\"code-built_in\">Object</span>.assign(pt.prototype,{<span class=\"code-attr\">fromAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.fromBufferAttribute(t,e,n)},<span class=\"code-attr\">distanceToManhattan</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"</span>),<span class=\"code-keyword\">this</span>.manhattanDistanceTo(t)},<span class=\"code-attr\">lengthManhattan</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"</span>),<span class=\"code-keyword\">this</span>.manhattanLength()}}),<span class=\"code-built_in\">Object</span>.assign(Mt.prototype,{<span class=\"code-attr\">setEulerFromRotationMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\"</span>)},<span class=\"code-attr\">setEulerFromQuaternion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\"</span>)},<span class=\"code-attr\">getPositionFromMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"</span>),<span class=\"code-keyword\">this</span>.setFromMatrixPosition(t)},<span class=\"code-attr\">getScaleFromMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"</span>),<span class=\"code-keyword\">this</span>.setFromMatrixScale(t)},<span class=\"code-attr\">getColumnFromMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"</span>),<span class=\"code-keyword\">this</span>.setFromMatrixColumn(e,t)},<span class=\"code-attr\">applyProjection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"</span>),<span class=\"code-keyword\">this</span>.applyMatrix4(t)},<span class=\"code-attr\">fromAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.fromBufferAttribute(t,e,n)},<span class=\"code-attr\">distanceToManhattan</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"</span>),<span class=\"code-keyword\">this</span>.manhattanDistanceTo(t)},<span class=\"code-attr\">lengthManhattan</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"</span>),<span class=\"code-keyword\">this</span>.manhattanLength()}}),<span class=\"code-built_in\">Object</span>.assign(xt.prototype,{<span class=\"code-attr\">fromAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"</span>),<span class=\"code-keyword\">this</span>.fromBufferAttribute(t,e,n)},<span class=\"code-attr\">lengthManhattan</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"</span>),<span class=\"code-keyword\">this</span>.manhattanLength()}}),<span class=\"code-built_in\">Object</span>.assign(wo.prototype,{<span class=\"code-attr\">computeTangents</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Geometry: .computeTangents() has been removed.\"</span>)},<span class=\"code-attr\">computeLineDistances</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\"</span>)},<span class=\"code-attr\">applyMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().\"</span>),<span class=\"code-keyword\">this</span>.applyMatrix4(t)}}),<span class=\"code-built_in\">Object</span>.assign(we.prototype,{<span class=\"code-attr\">getChildByName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"</span>),<span class=\"code-keyword\">this</span>.getObjectByName(t)},<span class=\"code-attr\">renderDepth</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\"</span>)},<span class=\"code-attr\">translate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"</span>),<span class=\"code-keyword\">this</span>.translateOnAxis(e,t)},<span class=\"code-attr\">getWorldRotation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\"</span>)},<span class=\"code-attr\">applyMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().\"</span>),<span class=\"code-keyword\">this</span>.applyMatrix4(t)}}),<span class=\"code-built_in\">Object</span>.defineProperties(we.prototype,{<span class=\"code-attr\">eulerOrder</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .eulerOrder is now .rotation.order.\"</span>),<span class=\"code-keyword\">this</span>.rotation.order},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .eulerOrder is now .rotation.order.\"</span>),<span class=\"code-keyword\">this</span>.rotation.order=t}},<span class=\"code-attr\">useQuaternion</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\"</span>)}}}),<span class=\"code-built_in\">Object</span>.assign(Un.prototype,{<span class=\"code-attr\">setDrawMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\"</span>)}}),<span class=\"code-built_in\">Object</span>.defineProperties(Un.prototype,{<span class=\"code-attr\">drawMode</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.\"</span>),<span class=\"code-number\">0</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\"</span>)}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Ua.prototype,{<span class=\"code-attr\">objects</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.LOD: .objects has been renamed to .levels.\"</span>),<span class=\"code-keyword\">this</span>.levels}}}),<span class=\"code-built_in\">Object</span>.defineProperty(Va.prototype,<span class=\"code-string\">\"useVertexTexture\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Skeleton: useVertexTexture has been removed.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Skeleton: useVertexTexture has been removed.\"</span>)}}),Fa.prototype.initBones=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SkinnedMesh: initBones() has been removed.\"</span>)},<span class=\"code-built_in\">Object</span>.defineProperty(Ac.prototype,<span class=\"code-string\">\"__arcLengthDivisions\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"</span>),<span class=\"code-keyword\">this</span>.arcLengthDivisions},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"</span>),<span class=\"code-keyword\">this</span>.arcLengthDivisions=t}}),Xn.prototype.setLens=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(<span class=\"code-keyword\">this</span>.filmGauge=e),<span class=\"code-keyword\">this</span>.setFocalLength(t)},<span class=\"code-built_in\">Object</span>.defineProperties(Jc.prototype,{<span class=\"code-attr\">onlyShadow</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .onlyShadow has been removed.\"</span>)}},<span class=\"code-attr\">shadowCameraFov</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.fov=t}},<span class=\"code-attr\">shadowCameraLeft</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.left=t}},<span class=\"code-attr\">shadowCameraRight</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.right=t}},<span class=\"code-attr\">shadowCameraTop</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.top=t}},<span class=\"code-attr\">shadowCameraBottom</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.bottom=t}},<span class=\"code-attr\">shadowCameraNear</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.near=t}},<span class=\"code-attr\">shadowCameraFar</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"</span>),<span class=\"code-keyword\">this</span>.shadow.camera.far=t}},<span class=\"code-attr\">shadowCameraVisible</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\"</span>)}},<span class=\"code-attr\">shadowBias</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowBias is now .shadow.bias.\"</span>),<span class=\"code-keyword\">this</span>.shadow.bias=t}},<span class=\"code-attr\">shadowDarkness</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowDarkness has been removed.\"</span>)}},<span class=\"code-attr\">shadowMapWidth</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"</span>),<span class=\"code-keyword\">this</span>.shadow.mapSize.width=t}},<span class=\"code-attr\">shadowMapHeight</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"</span>),<span class=\"code-keyword\">this</span>.shadow.mapSize.height=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Qe.prototype,{<span class=\"code-attr\">length</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"</span>),<span class=\"code-keyword\">this</span>.array.length}},<span class=\"code-attr\">dynamic</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"</span>),<span class=\"code-keyword\">this</span>.usage===et},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"</span>),<span class=\"code-keyword\">this</span>.setUsage(et)}}}),<span class=\"code-built_in\">Object</span>.assign(Qe.prototype,{<span class=\"code-attr\">setDynamic</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.\"</span>),<span class=\"code-keyword\">this</span>.setUsage(!<span class=\"code-number\">0</span>===t?et:tt),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">copyIndicesArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.BufferAttribute: .copyIndicesArray() has been removed.\"</span>)},<span class=\"code-attr\">setArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"</span>)}}),<span class=\"code-built_in\">Object</span>.assign(_n.prototype,{<span class=\"code-attr\">addIndex</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"</span>),<span class=\"code-keyword\">this</span>.setIndex(t)},<span class=\"code-attr\">addAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().\"</span>),e&amp;&amp;e.isBufferAttribute||e&amp;&amp;e.isInterleavedBufferAttribute?<span class=\"code-string\">\"index\"</span>===t?(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"</span>),<span class=\"code-keyword\">this</span>.setIndex(e),<span class=\"code-keyword\">this</span>):<span class=\"code-keyword\">this</span>.setAttribute(t,e):(<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"</span>),<span class=\"code-keyword\">this</span>.setAttribute(t,<span class=\"code-keyword\">new</span> Qe(<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>],<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>])))},<span class=\"code-attr\">addDrawCall</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"</span>),<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"</span>),<span class=\"code-keyword\">this</span>.addGroup(t,e)},<span class=\"code-attr\">clearDrawCalls</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"</span>),<span class=\"code-keyword\">this</span>.clearGroups()},<span class=\"code-attr\">computeTangents</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .computeTangents() has been removed.\"</span>)},<span class=\"code-attr\">computeOffsets</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .computeOffsets() has been removed.\"</span>)},<span class=\"code-attr\">removeAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().\"</span>),<span class=\"code-keyword\">this</span>.deleteAttribute(t)},<span class=\"code-attr\">applyMatrix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().\"</span>),<span class=\"code-keyword\">this</span>.applyMatrix4(t)}}),<span class=\"code-built_in\">Object</span>.defineProperties(_n.prototype,{<span class=\"code-attr\">drawcalls</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"</span>),<span class=\"code-keyword\">this</span>.groups}},<span class=\"code-attr\">offsets</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"</span>),<span class=\"code-keyword\">this</span>.groups}}}),<span class=\"code-built_in\">Object</span>.defineProperties(dl.prototype,{<span class=\"code-attr\">maxInstancedCount</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.\"</span>),<span class=\"code-keyword\">this</span>.instanceCount},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.\"</span>),<span class=\"code-keyword\">this</span>.instanceCount=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(hu.prototype,{<span class=\"code-attr\">linePrecision</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.\"</span>),<span class=\"code-keyword\">this</span>.params.Line.threshold},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.\"</span>),<span class=\"code-keyword\">this</span>.params.Line.threshold=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(da.prototype,{<span class=\"code-attr\">dynamic</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.\"</span>),<span class=\"code-keyword\">this</span>.usage===et},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.\"</span>),<span class=\"code-keyword\">this</span>.setUsage(t)}}}),<span class=\"code-built_in\">Object</span>.assign(da.prototype,{<span class=\"code-attr\">setDynamic</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.\"</span>),<span class=\"code-keyword\">this</span>.setUsage(!<span class=\"code-number\">0</span>===t?et:tt),<span class=\"code-keyword\">this</span>},<span class=\"code-attr\">setArray</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"</span>)}}),<span class=\"code-built_in\">Object</span>.assign(ds.prototype,{<span class=\"code-attr\">getArrays</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ExtrudeBufferGeometry: .getArrays() has been removed.\"</span>)},<span class=\"code-attr\">addShapeList</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.\"</span>)},<span class=\"code-attr\">addShape</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ExtrudeBufferGeometry: .addShape() has been removed.\"</span>)}}),<span class=\"code-built_in\">Object</span>.assign(ha.prototype,{<span class=\"code-attr\">dispose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.Scene: .dispose() has been removed.\"</span>)}}),<span class=\"code-built_in\">Object</span>.defineProperties(cu.prototype,{<span class=\"code-attr\">dynamic</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\"</span>)}},<span class=\"code-attr\">onUpdate</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"</span>),<span class=\"code-keyword\">this</span>}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Xe.prototype,{<span class=\"code-attr\">wrapAround</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: .wrapAround has been removed.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: .wrapAround has been removed.\"</span>)}},<span class=\"code-attr\">overdraw</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: .overdraw has been removed.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: .overdraw has been removed.\"</span>)}},<span class=\"code-attr\">wrapRGB</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Material: .wrapRGB has been removed.\"</span>),<span class=\"code-keyword\">new</span> We}},<span class=\"code-attr\">shading</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": .shading has been removed. Use the boolean .flatShading instead.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": .shading has been removed. Use the boolean .flatShading instead.\"</span>),<span class=\"code-keyword\">this</span>.flatShading=<span class=\"code-number\">1</span>===t}},<span class=\"code-attr\">stencilMask</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": .stencilMask has been removed. Use .stencilFuncMask instead.\"</span>),<span class=\"code-keyword\">this</span>.stencilFuncMask},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.\"</span>+<span class=\"code-keyword\">this</span>.type+<span class=\"code-string\">\": .stencilMask has been removed. Use .stencilFuncMask instead.\"</span>),<span class=\"code-keyword\">this</span>.stencilFuncMask=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Xs.prototype,{<span class=\"code-attr\">metal</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"</span>),!<span class=\"code-number\">1</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\"</span>)}}}),<span class=\"code-built_in\">Object</span>.defineProperties(qs.prototype,{<span class=\"code-attr\">transparency</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.\"</span>),<span class=\"code-keyword\">this</span>.transmission},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.\"</span>),<span class=\"code-keyword\">this</span>.transmission=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(jn.prototype,{<span class=\"code-attr\">derivatives</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"</span>),<span class=\"code-keyword\">this</span>.extensions.derivatives},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"</span>),<span class=\"code-keyword\">this</span>.extensions.derivatives=t}}}),<span class=\"code-built_in\">Object</span>.assign(sa.prototype,{<span class=\"code-attr\">clearTarget</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"</span>),<span class=\"code-keyword\">this</span>.setRenderTarget(t),<span class=\"code-keyword\">this</span>.clear(e,n,r)},<span class=\"code-attr\">animate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"</span>),<span class=\"code-keyword\">this</span>.setAnimationLoop(t)},<span class=\"code-attr\">getCurrentRenderTarget</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"</span>),<span class=\"code-keyword\">this</span>.getRenderTarget()},<span class=\"code-attr\">getMaxAnisotropy</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"</span>),<span class=\"code-keyword\">this</span>.capabilities.getMaxAnisotropy()},<span class=\"code-attr\">getPrecision</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"</span>),<span class=\"code-keyword\">this</span>.capabilities.precision},<span class=\"code-attr\">resetGLState</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"</span>),<span class=\"code-keyword\">this</span>.state.reset()},<span class=\"code-attr\">supportsFloatTextures</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"OES_texture_float\"</span>)},<span class=\"code-attr\">supportsHalfFloatTextures</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"OES_texture_half_float\"</span>)},<span class=\"code-attr\">supportsStandardDerivatives</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"OES_standard_derivatives\"</span>)},<span class=\"code-attr\">supportsCompressedTextureS3TC</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"WEBGL_compressed_texture_s3tc\"</span>)},<span class=\"code-attr\">supportsCompressedTexturePVRTC</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"WEBGL_compressed_texture_pvrtc\"</span>)},<span class=\"code-attr\">supportsBlendMinMax</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"EXT_blend_minmax\"</span>)},<span class=\"code-attr\">supportsVertexTextures</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"</span>),<span class=\"code-keyword\">this</span>.capabilities.vertexTextures},<span class=\"code-attr\">supportsInstancedArrays</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"</span>),<span class=\"code-keyword\">this</span>.extensions.get(<span class=\"code-string\">\"ANGLE_instanced_arrays\"</span>)},<span class=\"code-attr\">enableScissorTest</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"</span>),<span class=\"code-keyword\">this</span>.setScissorTest(t)},<span class=\"code-attr\">initMaterial</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .initMaterial() has been removed.\"</span>)},<span class=\"code-attr\">addPrePlugin</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\"</span>)},<span class=\"code-attr\">addPostPlugin</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\"</span>)},<span class=\"code-attr\">updateShadowMap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\"</span>)},<span class=\"code-attr\">setFaceCulling</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\"</span>)},<span class=\"code-attr\">allocTextureUnit</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .allocTextureUnit() has been removed.\"</span>)},<span class=\"code-attr\">setTexture</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .setTexture() has been removed.\"</span>)},<span class=\"code-attr\">setTexture2D</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .setTexture2D() has been removed.\"</span>)},<span class=\"code-attr\">setTextureCube</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .setTextureCube() has been removed.\"</span>)},<span class=\"code-attr\">getActiveMipMapLevel</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().\"</span>),<span class=\"code-keyword\">this</span>.getActiveMipmapLevel()}}),<span class=\"code-built_in\">Object</span>.defineProperties(sa.prototype,{<span class=\"code-attr\">shadowMapEnabled</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.shadowMap.enabled},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"</span>),<span class=\"code-keyword\">this</span>.shadowMap.enabled=t}},<span class=\"code-attr\">shadowMapType</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.shadowMap.type},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"</span>),<span class=\"code-keyword\">this</span>.shadowMap.type=t}},<span class=\"code-attr\">shadowMapCullFace</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\"</span>)}},<span class=\"code-attr\">context</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.\"</span>),<span class=\"code-keyword\">this</span>.getContext()}},<span class=\"code-attr\">vr</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .vr has been renamed to .xr\"</span>),<span class=\"code-keyword\">this</span>.xr}},<span class=\"code-attr\">gammaInput</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\"</span>),!<span class=\"code-number\">1</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\"</span>)}},<span class=\"code-attr\">gammaOutput</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"</span>),!<span class=\"code-number\">1</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"</span>),<span class=\"code-keyword\">this</span>.outputEncoding=!<span class=\"code-number\">0</span>===t?X:q}},<span class=\"code-attr\">toneMappingWhitePoint</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.\"</span>),<span class=\"code-number\">1</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.\"</span>)}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Ki.prototype,{<span class=\"code-attr\">cullFace</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\"</span>)}},<span class=\"code-attr\">renderReverseSided</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\"</span>)}},<span class=\"code-attr\">renderSingleSided</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\"</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\"</span>)}}}),<span class=\"code-built_in\">Object</span>.defineProperties(_t.prototype,{<span class=\"code-attr\">wrapS</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"</span>),<span class=\"code-keyword\">this</span>.texture.wrapS},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"</span>),<span class=\"code-keyword\">this</span>.texture.wrapS=t}},<span class=\"code-attr\">wrapT</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"</span>),<span class=\"code-keyword\">this</span>.texture.wrapT},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"</span>),<span class=\"code-keyword\">this</span>.texture.wrapT=t}},<span class=\"code-attr\">magFilter</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"</span>),<span class=\"code-keyword\">this</span>.texture.magFilter},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"</span>),<span class=\"code-keyword\">this</span>.texture.magFilter=t}},<span class=\"code-attr\">minFilter</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"</span>),<span class=\"code-keyword\">this</span>.texture.minFilter},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"</span>),<span class=\"code-keyword\">this</span>.texture.minFilter=t}},<span class=\"code-attr\">anisotropy</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"</span>),<span class=\"code-keyword\">this</span>.texture.anisotropy},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"</span>),<span class=\"code-keyword\">this</span>.texture.anisotropy=t}},<span class=\"code-attr\">offset</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"</span>),<span class=\"code-keyword\">this</span>.texture.offset},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"</span>),<span class=\"code-keyword\">this</span>.texture.offset=t}},<span class=\"code-attr\">repeat</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"</span>),<span class=\"code-keyword\">this</span>.texture.repeat},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"</span>),<span class=\"code-keyword\">this</span>.texture.repeat=t}},<span class=\"code-attr\">format</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .format is now .texture.format.\"</span>),<span class=\"code-keyword\">this</span>.texture.format},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .format is now .texture.format.\"</span>),<span class=\"code-keyword\">this</span>.texture.format=t}},<span class=\"code-attr\">type</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .type is now .texture.type.\"</span>),<span class=\"code-keyword\">this</span>.texture.type},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .type is now .texture.type.\"</span>),<span class=\"code-keyword\">this</span>.texture.type=t}},<span class=\"code-attr\">generateMipmaps</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"</span>),<span class=\"code-keyword\">this</span>.texture.generateMipmaps},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"</span>),<span class=\"code-keyword\">this</span>.texture.generateMipmaps=t}}}),<span class=\"code-built_in\">Object</span>.defineProperties(Fl.prototype,{<span class=\"code-attr\">load</span>:{<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">new</span> El).load(t,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e.setBuffer(t)})),<span class=\"code-keyword\">this</span>}},<span class=\"code-attr\">startTime</span>:{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Audio: .startTime is now .play( delay ).\"</span>)}}}),jl.prototype.getData=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"</span>),<span class=\"code-keyword\">this</span>.getFrequencyData()},Zn.prototype.updateCubeMap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.CubeCamera: .updateCubeMap() is now .update().\"</span>),<span class=\"code-keyword\">this</span>.update(t,e)},Zn.prototype.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.CubeCamera: .clear() is now .renderTarget.clear().\"</span>),<span class=\"code-keyword\">this</span>.renderTarget.clear(t,e,n,r)};<span class=\"code-keyword\">var</span> Ah={<span class=\"code-attr\">merge</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\"</span>),e.isMesh&amp;&amp;(e.matrixAutoUpdate&amp;&amp;e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},<span class=\"code-attr\">center</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\"</span>),t.center()}};mt.crossOrigin=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,mt.loadTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\"</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Ec;i.setCrossOrigin(<span class=\"code-keyword\">this</span>.crossOrigin);<span class=\"code-keyword\">var</span> a=i.load(t,n,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r);<span class=\"code-keyword\">return</span> e&amp;&amp;(a.mapping=e),a},mt.loadTextureCube=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r</span>)</span>{<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\"</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Sc;i.setCrossOrigin(<span class=\"code-keyword\">this</span>.crossOrigin);<span class=\"code-keyword\">var</span> a=i.load(t,n,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r);<span class=\"code-keyword\">return</span> e&amp;&amp;(a.mapping=e),a},mt.loadCompressedTexture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\"</span>)},mt.loadCompressedTextureCube=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\"</span>)};<span class=\"code-keyword\">var</span> Lh={<span class=\"code-attr\">createMultiMaterialObject</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\"</span>)},<span class=\"code-attr\">detach</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\"</span>)},<span class=\"code-attr\">attach</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js\"</span>)}};<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class=\"code-keyword\">new</span> CustomEvent(<span class=\"code-string\">\"register\"</span>,{<span class=\"code-attr\">detail</span>:{<span class=\"code-attr\">revision</span>:<span class=\"code-string\">\"123\"</span>}})),t.ACESFilmicToneMapping=<span class=\"code-number\">4</span>,t.AddEquation=e,t.AddOperation=<span class=\"code-number\">2</span>,t.AdditiveAnimationBlendMode=j,t.AdditiveBlending=<span class=\"code-number\">2</span>,t.AlphaFormat=<span class=\"code-number\">1021</span>,t.AlwaysDepth=<span class=\"code-number\">1</span>,t.AlwaysStencilFunc=<span class=\"code-number\">519</span>,t.AmbientLight=ol,t.AmbientLightProbe=Ll,t.AnimationClip=pc,t.AnimationLoader=bc,t.AnimationMixer=su,t.AnimationObjectGroup=au,t.AnimationUtils=tc,t.ArcCurve=Rc,t.ArrayCamera=na,t.ArrowHelper=Ku,t.Audio=Fl,t.AudioAnalyser=jl,t.AudioContext=Tl,t.AudioListener=Ul,t.AudioLoader=El,t.AxesHelper=$u,t.AxisHelper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.AxisHelper has been renamed to THREE.AxesHelper.\"</span>),<span class=\"code-keyword\">new</span> $u(t)},t.BackSide=<span class=\"code-number\">1</span>,t.BasicDepthPacking=<span class=\"code-number\">3200</span>,t.BasicShadowMap=<span class=\"code-number\">0</span>,t.BinaryTextureLoader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"</span>),<span class=\"code-keyword\">new</span> Tc(t)},t.Bone=Ga,t.BooleanKeyframeTrack=oc,t.BoundingBoxHelper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"</span>),<span class=\"code-keyword\">new</span> Yu(t,e)},t.Box2=gu,t.Box3=Et,t.Box3Helper=Zu,t.BoxBufferGeometry=Hn,t.BoxGeometry=Mo,t.BoxHelper=Yu,t.BufferAttribute=Qe,t.BufferGeometry=_n,t.BufferGeometryLoader=fl,t.ByteType=<span class=\"code-number\">1010</span>,t.Cache=mc,t.Camera=qn,t.CameraHelper=ku,t.CanvasRenderer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.CanvasRenderer has been removed\"</span>)},t.CanvasTexture=vo,t.CatmullRomCurve3=Oc,t.CineonToneMapping=<span class=\"code-number\">3</span>,t.CircleBufferGeometry=So,t.CircleGeometry=To,t.ClampToEdgeWrapping=u,t.Clock=Il,t.ClosedSplineCurve3=Sh,t.Color=We,t.ColorKeyframeTrack=sc,t.CompressedTexture=mo,t.CompressedTextureLoader=wc,t.ConeBufferGeometry=Ro,t.ConeGeometry=Lo,t.CubeCamera=Zn,t.CubeGeometry=Mo,t.CubeReflectionMapping=r,t.CubeRefractionMapping=i,t.CubeTexture=Jn,t.CubeTextureLoader=Sc,t.CubeUVReflectionMapping=s,t.CubeUVRefractionMapping=c,t.CubicBezierCurve=Fc,t.CubicBezierCurve3=Gc,t.CubicInterpolant=nc,t.CullFaceBack=<span class=\"code-number\">1</span>,t.CullFaceFront=<span class=\"code-number\">2</span>,t.CullFaceFrontBack=<span class=\"code-number\">3</span>,t.CullFaceNone=<span class=\"code-number\">0</span>,t.Curve=Ac,t.CurvePath=Xc,t.CustomBlending=<span class=\"code-number\">5</span>,t.CustomToneMapping=<span class=\"code-number\">5</span>,t.CylinderBufferGeometry=Eo,t.CylinderGeometry=Ao,t.Cylindrical=mu,t.DataTexture=Kn,t.DataTexture2DArray=wr,t.DataTexture3D=Mr,t.DataTextureLoader=Tc,t.DataUtils=nh,t.DecrementStencilOp=<span class=\"code-number\">7683</span>,t.DecrementWrapStencilOp=<span class=\"code-number\">34056</span>,t.DefaultLoadingManager=gc,t.DepthFormat=E,t.DepthStencilFormat=A,t.DepthTexture=go,t.DirectionalLight=al,t.DirectionalLightHelper=Fu,t.DiscreteInterpolant=ic,t.DodecahedronBufferGeometry=Po,t.DodecahedronGeometry=Io,t.DoubleSide=<span class=\"code-number\">2</span>,t.DstAlphaFactor=<span class=\"code-number\">206</span>,t.DstColorFactor=<span class=\"code-number\">208</span>,t.DynamicBufferAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.\"</span>),<span class=\"code-keyword\">new</span> Qe(t,e).setUsage(et)},t.DynamicCopyUsage=<span class=\"code-number\">35050</span>,t.DynamicDrawUsage=et,t.DynamicReadUsage=<span class=\"code-number\">35049</span>,t.EdgesGeometry=zo,t.EdgesHelper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"</span>),<span class=\"code-keyword\">new</span> io(<span class=\"code-keyword\">new</span> zo(t.geometry),<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">16777215</span>}))},t.EllipseCurve=Lc,t.EqualDepth=<span class=\"code-number\">4</span>,t.EqualStencilFunc=<span class=\"code-number\">514</span>,t.EquirectangularReflectionMapping=a,t.EquirectangularRefractionMapping=o,t.Euler=ae,t.EventDispatcher=rt,t.ExtrudeBufferGeometry=ds,t.ExtrudeGeometry=fs,t.Face3=je,t.Face4=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n,r,i,a,o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\"</span>),<span class=\"code-keyword\">new</span> je(t,e,n,i,a,o)},t.FaceColors=<span class=\"code-number\">1</span>,t.FileLoader=_c,t.FlatShading=<span class=\"code-number\">1</span>,t.Float16BufferAttribute=on,t.Float32Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> sn(t,e)},t.Float32BufferAttribute=sn,t.Float64Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> cn(t,e)},t.Float64BufferAttribute=cn,t.FloatType=b,t.Fog=ua,t.FogExp2=la,t.Font=wl,t.FontLoader=Sl,t.FrontSide=<span class=\"code-number\">0</span>,t.Frustum=er,t.GLBufferAttribute=uu,t.GLSL1=<span class=\"code-string\">\"100\"</span>,t.GLSL3=nt,t.GammaEncoding=Y,t.Geometry=wo,t.GeometryUtils=Ah,t.GreaterDepth=<span class=\"code-number\">6</span>,t.GreaterEqualDepth=<span class=\"code-number\">5</span>,t.GreaterEqualStencilFunc=<span class=\"code-number\">518</span>,t.GreaterStencilFunc=<span class=\"code-number\">516</span>,t.GridHelper=Du,t.Group=ra,t.HalfFloatType=w,t.HemisphereLight=Qc,t.HemisphereLightHelper=Nu,t.HemisphereLightProbe=Al,t.IcosahedronBufferGeometry=ms,t.IcosahedronGeometry=vs,t.ImageBitmapLoader=_l,t.ImageLoader=Mc,t.ImageUtils=mt,t.ImmediateRenderObject=bu,t.IncrementStencilOp=<span class=\"code-number\">7682</span>,t.IncrementWrapStencilOp=<span class=\"code-number\">34055</span>,t.InstancedBufferAttribute=pl,t.InstancedBufferGeometry=dl,t.InstancedInterleavedBuffer=lu,t.InstancedMesh=Ya,t.Int16Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> en(t,e)},t.Int16BufferAttribute=en,t.Int32Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> rn(t,e)},t.Int32BufferAttribute=rn,t.Int8Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> Ke(t,e)},t.Int8BufferAttribute=Ke,t.IntType=<span class=\"code-number\">1013</span>,t.InterleavedBuffer=da,t.InterleavedBufferAttribute=ma,t.Interpolant=ec,t.InterpolateDiscrete=U,t.InterpolateLinear=F,t.InterpolateSmooth=G,t.InvertStencilOp=<span class=\"code-number\">5386</span>,t.JSONLoader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.JSONLoader has been removed.\"</span>)},t.KeepStencilOp=$,t.KeyframeTrack=ac,t.LOD=Ua,t.LatheBufferGeometry=gs,t.LatheGeometry=ys,t.Layers=ce,t.LensFlare=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">console</span>.error(<span class=\"code-string\">\"THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js\"</span>)},t.LessDepth=<span class=\"code-number\">2</span>,t.LessEqualDepth=<span class=\"code-number\">3</span>,t.LessEqualStencilFunc=<span class=\"code-number\">515</span>,t.LessStencilFunc=<span class=\"code-number\">513</span>,t.Light=Jc,t.LightProbe=ll,t.Line=eo,t.Line3=_u,t.LineBasicMaterial=Za,t.LineCurve=Hc,t.LineCurve3=kc,t.LineDashedMaterial=Ks,t.LineLoop=ao,t.LinePieces=<span class=\"code-number\">1</span>,t.LineSegments=io,t.LineStrip=<span class=\"code-number\">0</span>,t.LinearEncoding=q,t.LinearFilter=m,t.LinearInterpolant=rc,t.LinearMipMapLinearFilter=<span class=\"code-number\">1008</span>,t.LinearMipMapNearestFilter=<span class=\"code-number\">1007</span>,t.LinearMipmapLinearFilter=g,t.LinearMipmapNearestFilter=v,t.LinearToneMapping=<span class=\"code-number\">1</span>,t.Loader=yc,t.LoaderUtils=hl,t.LoadingManager=vc,t.LogLuvEncoding=<span class=\"code-number\">3003</span>,t.LoopOnce=<span class=\"code-number\">2200</span>,t.LoopPingPong=<span class=\"code-number\">2202</span>,t.LoopRepeat=<span class=\"code-number\">2201</span>,t.LuminanceAlphaFormat=<span class=\"code-number\">1025</span>,t.LuminanceFormat=<span class=\"code-number\">1024</span>,t.MOUSE={<span class=\"code-attr\">LEFT</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">MIDDLE</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">RIGHT</span>:<span class=\"code-number\">2</span>,<span class=\"code-attr\">ROTATE</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">DOLLY</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">PAN</span>:<span class=\"code-number\">2</span>},t.Material=Xe,t.MaterialLoader=ul,t.Math=st,t.MathUtils=st,t.Matrix3=ft,t.Matrix4=Qt,t.MaxEquation=<span class=\"code-number\">104</span>,t.Mesh=Un,t.MeshBasicMaterial=Ye,t.MeshDepthMaterial=Ji,t.MeshDistanceMaterial=Qi,t.MeshFaceMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MeshFaceMaterial has been removed. Use an Array instead.\"</span>),t},t.MeshLambertMaterial=Js,t.MeshMatcapMaterial=Qs,t.MeshNormalMaterial=Zs,t.MeshPhongMaterial=Xs,t.MeshPhysicalMaterial=qs,t.MeshStandardMaterial=js,t.MeshToonMaterial=Ys,t.MinEquation=<span class=\"code-number\">103</span>,t.MirroredRepeatWrapping=h,t.MixOperation=<span class=\"code-number\">1</span>,t.MultiMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=[]),<span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.MultiMaterial has been removed. Use an Array instead.\"</span>),t.isMultiMaterial=!<span class=\"code-number\">0</span>,t.materials=t,t.clone=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.slice()},t},t.MultiplyBlending=<span class=\"code-number\">4</span>,t.MultiplyOperation=<span class=\"code-number\">0</span>,t.NearestFilter=d,t.NearestMipMapLinearFilter=<span class=\"code-number\">1005</span>,t.NearestMipMapNearestFilter=<span class=\"code-number\">1004</span>,t.NearestMipmapLinearFilter=f,t.NearestMipmapNearestFilter=p,t.NeverDepth=<span class=\"code-number\">0</span>,t.NeverStencilFunc=<span class=\"code-number\">512</span>,t.NoBlending=<span class=\"code-number\">0</span>,t.NoColors=<span class=\"code-number\">0</span>,t.NoToneMapping=<span class=\"code-number\">0</span>,t.NormalAnimationBlendMode=W,t.NormalBlending=<span class=\"code-number\">1</span>,t.NotEqualDepth=<span class=\"code-number\">7</span>,t.NotEqualStencilFunc=<span class=\"code-number\">517</span>,t.NumberKeyframeTrack=cc,t.Object3D=we,t.ObjectLoader=vl,t.ObjectSpaceNormalMap=<span class=\"code-number\">1</span>,t.OctahedronBufferGeometry=xs,t.OctahedronGeometry=_s,t.OneFactor=<span class=\"code-number\">201</span>,t.OneMinusDstAlphaFactor=<span class=\"code-number\">207</span>,t.OneMinusDstColorFactor=<span class=\"code-number\">209</span>,t.OneMinusSrcAlphaFactor=<span class=\"code-number\">205</span>,t.OneMinusSrcColorFactor=<span class=\"code-number\">203</span>,t.OrthographicCamera=rl,t.PCFShadowMap=<span class=\"code-number\">1</span>,t.PCFSoftShadowMap=<span class=\"code-number\">2</span>,t.PMREMGenerator=gh,t.ParametricBufferGeometry=bs,t.ParametricGeometry=ws,t.Particle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Particle has been renamed to THREE.Sprite.\"</span>),<span class=\"code-keyword\">new</span> Ra(t)},t.ParticleBasicMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"</span>),<span class=\"code-keyword\">new</span> oo(t)},t.ParticleSystem=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ParticleSystem has been renamed to THREE.Points.\"</span>),<span class=\"code-keyword\">new</span> ho(t,e)},t.ParticleSystemMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"</span>),<span class=\"code-keyword\">new</span> oo(t)},t.Path=Yc,t.PerspectiveCamera=Xn,t.Plane=Ee,t.PlaneBufferGeometry=ir,t.PlaneGeometry=Ms,t.PlaneHelper=Ju,t.PointCloud=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.PointCloud has been renamed to THREE.Points.\"</span>),<span class=\"code-keyword\">new</span> ho(t,e)},t.PointCloudMaterial=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"</span>),<span class=\"code-keyword\">new</span> oo(t)},t.PointLight=nl,t.PointLightHelper=Ru,t.Points=ho,t.PointsMaterial=oo,t.PolarGridHelper=Ou,t.PolyhedronBufferGeometry=Co,t.PolyhedronGeometry=Ss,t.PositionalAudio=Wl,t.PropertyBinding=iu,t.PropertyMixer=ql,t.QuadraticBezierCurve=Vc,t.QuadraticBezierCurve3=Wc,t.Quaternion=wt,t.QuaternionKeyframeTrack=uc,t.QuaternionLinearInterpolant=lc,t.REVISION=<span class=\"code-string\">\"123\"</span>,t.RGBADepthPacking=<span class=\"code-number\">3201</span>,t.RGBAFormat=T,t.RGBAIntegerFormat=<span class=\"code-number\">1033</span>,t.RGBA_ASTC_10x10_Format=<span class=\"code-number\">37819</span>,t.RGBA_ASTC_10x5_Format=<span class=\"code-number\">37816</span>,t.RGBA_ASTC_10x6_Format=<span class=\"code-number\">37817</span>,t.RGBA_ASTC_10x8_Format=<span class=\"code-number\">37818</span>,t.RGBA_ASTC_12x10_Format=<span class=\"code-number\">37820</span>,t.RGBA_ASTC_12x12_Format=<span class=\"code-number\">37821</span>,t.RGBA_ASTC_4x4_Format=<span class=\"code-number\">37808</span>,t.RGBA_ASTC_5x4_Format=<span class=\"code-number\">37809</span>,t.RGBA_ASTC_5x5_Format=<span class=\"code-number\">37810</span>,t.RGBA_ASTC_6x5_Format=<span class=\"code-number\">37811</span>,t.RGBA_ASTC_6x6_Format=<span class=\"code-number\">37812</span>,t.RGBA_ASTC_8x5_Format=<span class=\"code-number\">37813</span>,t.RGBA_ASTC_8x6_Format=<span class=\"code-number\">37814</span>,t.RGBA_ASTC_8x8_Format=<span class=\"code-number\">37815</span>,t.RGBA_BPTC_Format=<span class=\"code-number\">36492</span>,t.RGBA_ETC2_EAC_Format=z,t.RGBA_PVRTC_2BPPV1_Format=O,t.RGBA_PVRTC_4BPPV1_Format=D,t.RGBA_S3TC_DXT1_Format=R,t.RGBA_S3TC_DXT3_Format=C,t.RGBA_S3TC_DXT5_Format=P,t.RGBDEncoding=K,t.RGBEEncoding=Z,t.RGBEFormat=<span class=\"code-number\">1023</span>,t.RGBFormat=S,t.RGBIntegerFormat=<span class=\"code-number\">1032</span>,t.RGBM16Encoding=Q,t.RGBM7Encoding=J,t.RGB_ETC1_Format=<span class=\"code-number\">36196</span>,t.RGB_ETC2_Format=B,t.RGB_PVRTC_2BPPV1_Format=N,t.RGB_PVRTC_4BPPV1_Format=I,t.RGB_S3TC_DXT1_Format=L,t.RGFormat=<span class=\"code-number\">1030</span>,t.RGIntegerFormat=<span class=\"code-number\">1031</span>,t.RawShaderMaterial=Ws,t.Ray=Jt,t.Raycaster=hu,t.RectAreaLight=sl,t.RedFormat=<span class=\"code-number\">1028</span>,t.RedIntegerFormat=<span class=\"code-number\">1029</span>,t.ReinhardToneMapping=<span class=\"code-number\">2</span>,t.RepeatWrapping=l,t.ReplaceStencilOp=<span class=\"code-number\">7681</span>,t.ReverseSubtractEquation=<span class=\"code-number\">102</span>,t.RingBufferGeometry=Ts,t.RingGeometry=Es,t.SRGB8_ALPHA8_ASTC_10x10_Format=<span class=\"code-number\">37851</span>,t.SRGB8_ALPHA8_ASTC_10x5_Format=<span class=\"code-number\">37848</span>,t.SRGB8_ALPHA8_ASTC_10x6_Format=<span class=\"code-number\">37849</span>,t.SRGB8_ALPHA8_ASTC_10x8_Format=<span class=\"code-number\">37850</span>,t.SRGB8_ALPHA8_ASTC_12x10_Format=<span class=\"code-number\">37852</span>,t.SRGB8_ALPHA8_ASTC_12x12_Format=<span class=\"code-number\">37853</span>,t.SRGB8_ALPHA8_ASTC_4x4_Format=<span class=\"code-number\">37840</span>,t.SRGB8_ALPHA8_ASTC_5x4_Format=<span class=\"code-number\">37841</span>,t.SRGB8_ALPHA8_ASTC_5x5_Format=<span class=\"code-number\">37842</span>,t.SRGB8_ALPHA8_ASTC_6x5_Format=<span class=\"code-number\">37843</span>,t.SRGB8_ALPHA8_ASTC_6x6_Format=<span class=\"code-number\">37844</span>,t.SRGB8_ALPHA8_ASTC_8x5_Format=<span class=\"code-number\">37845</span>,t.SRGB8_ALPHA8_ASTC_8x6_Format=<span class=\"code-number\">37846</span>,t.SRGB8_ALPHA8_ASTC_8x8_Format=<span class=\"code-number\">37847</span>,t.Scene=ha,t.SceneUtils=Lh,t.ShaderChunk=ar,t.ShaderLib=sr,t.ShaderMaterial=jn,t.ShadowMaterial=Vs,t.Shape=Zc,t.ShapeBufferGeometry=As,t.ShapeGeometry=Ls,t.ShapePath=bl,t.ShapeUtils=ls,t.ShortType=<span class=\"code-number\">1011</span>,t.Skeleton=Va,t.SkeletonHelper=Au,t.SkinnedMesh=Fa,t.SmoothShading=<span class=\"code-number\">2</span>,t.Sphere=kt,t.SphereBufferGeometry=Rs,t.SphereGeometry=Cs,t.Spherical=fu,t.SphericalHarmonics3=cl,t.Spline=Eh,t.SplineCurve=jc,t.SplineCurve3=Th,t.SpotLight=tl,t.SpotLightHelper=Mu,t.Sprite=Ra,t.SpriteMaterial=va,t.SrcAlphaFactor=<span class=\"code-number\">204</span>,t.SrcAlphaSaturateFactor=<span class=\"code-number\">210</span>,t.SrcColorFactor=<span class=\"code-number\">202</span>,t.StaticCopyUsage=<span class=\"code-number\">35046</span>,t.StaticDrawUsage=tt,t.StaticReadUsage=<span class=\"code-number\">35045</span>,t.StereoCamera=Pl,t.StreamCopyUsage=<span class=\"code-number\">35042</span>,t.StreamDrawUsage=<span class=\"code-number\">35040</span>,t.StreamReadUsage=<span class=\"code-number\">35041</span>,t.StringKeyframeTrack=hc,t.SubtractEquation=<span class=\"code-number\">101</span>,t.SubtractiveBlending=<span class=\"code-number\">3</span>,t.TOUCH={<span class=\"code-attr\">ROTATE</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">PAN</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">DOLLY_PAN</span>:<span class=\"code-number\">2</span>,<span class=\"code-attr\">DOLLY_ROTATE</span>:<span class=\"code-number\">3</span>},t.TangentSpaceNormalMap=<span class=\"code-number\">0</span>,t.TetrahedronBufferGeometry=Ps,t.TetrahedronGeometry=Is,t.TextBufferGeometry=Ns,t.TextGeometry=Ds,t.Texture=gt,t.TextureLoader=Ec,t.TorusBufferGeometry=Os,t.TorusGeometry=Bs,t.TorusKnotBufferGeometry=zs,t.TorusKnotGeometry=Us,t.Triangle=ze,t.TriangleFanDrawMode=<span class=\"code-number\">2</span>,t.TriangleStripDrawMode=<span class=\"code-number\">1</span>,t.TrianglesDrawMode=<span class=\"code-number\">0</span>,t.TubeBufferGeometry=Fs,t.TubeGeometry=Gs,t.UVMapping=n,t.Uint16Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> nn(t,e)},t.Uint16BufferAttribute=nn,t.Uint32Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> an(t,e)},t.Uint32BufferAttribute=an,t.Uint8Attribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> $e(t,e)},t.Uint8BufferAttribute=$e,t.Uint8ClampedAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"</span>),<span class=\"code-keyword\">new</span> tn(t,e)},t.Uint8ClampedBufferAttribute=tn,t.Uniform=cu,t.UniformsLib=or,t.UniformsUtils=Wn,t.UnsignedByteType=y,t.UnsignedInt248Type=M,t.UnsignedIntType=_,t.UnsignedShort4444Type=<span class=\"code-number\">1017</span>,t.UnsignedShort5551Type=<span class=\"code-number\">1018</span>,t.UnsignedShort565Type=<span class=\"code-number\">1019</span>,t.UnsignedShortType=x,t.VSMShadowMap=<span class=\"code-number\">3</span>,t.Vector2=pt,t.Vector3=Mt,t.Vector4=xt,t.VectorKeyframeTrack=dc,t.Vertex=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\"</span>),<span class=\"code-keyword\">new</span> Mt(t,e,n)},t.VertexColors=<span class=\"code-number\">2</span>,t.VideoTexture=fo,t.WebGL1Renderer=ca,t.WebGLCubeRenderTarget=Qn,t.WebGLMultisampleRenderTarget=bt,t.WebGLRenderTarget=_t,t.WebGLRenderTargetCube=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).\"</span>),<span class=\"code-keyword\">new</span> Qn(t,n)},t.WebGLRenderer=sa,t.WebGLUtils=ea,t.WireframeGeometry=Hs,t.WireframeHelper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"</span>),<span class=\"code-keyword\">new</span> io(<span class=\"code-keyword\">new</span> Hs(t.geometry),<span class=\"code-keyword\">new</span> Za({<span class=\"code-attr\">color</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?e:<span class=\"code-number\">16777215</span>}))},t.WrapAroundEnding=V,t.XHRLoader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">console</span>.warn(<span class=\"code-string\">\"THREE.XHRLoader has been renamed to THREE.FileLoader.\"</span>),<span class=\"code-keyword\">new</span> _c(t)},t.ZeroCurvatureEnding=H,t.ZeroFactor=<span class=\"code-number\">200</span>,t.ZeroSlopeEnding=k,t.ZeroStencilOp=<span class=\"code-number\">0</span>,t.sRGBEncoding=X,<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>})}));\n",""]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/three@0.123.0/" class="css-xt128v">three</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/three@0.123.0/build/" class="css-xt128v">build</a><span class="css-lllnmq">/</span><strong>three.min.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.54.0-dev">0.54.0-dev</option><option value="0.54.0">0.54.0</option><option value="0.54.1-dev">0.54.1-dev</option><option value="0.54.2-dev">0.54.2-dev</option><option value="0.54.3-dev">0.54.3-dev</option><option value="0.54.4-dev">0.54.4-dev</option><option value="0.54.5-dev">0.54.5-dev</option><option value="0.54.6-dev">0.54.6-dev</option><option value="0.54.7-dev">0.54.7-dev</option><option value="0.54.8-dev">0.54.8-dev</option><option value="0.54.9-dev">0.54.9-dev</option><option value="0.54.10-dev">0.54.10-dev</option><option value="0.54.11-dev">0.54.11-dev</option><option value="0.54.12-dev">0.54.12-dev</option><option value="0.55.0">0.55.0</option><option value="0.56.0">0.56.0</option><option value="0.56.1">0.56.1</option><option value="0.56.2">0.56.2</option><option value="0.56.3">0.56.3</option><option value="0.56.4">0.56.4</option><option value="0.56.7">0.56.7</option><option value="0.58.1">0.58.1</option><option value="0.58.2">0.58.2</option><option value="0.58.3">0.58.3</option><option value="0.58.4">0.58.4</option><option value="0.58.5">0.58.5</option><option value="0.58.6">0.58.6</option><option value="0.58.7">0.58.7</option><option value="0.58.8">0.58.8</option><option value="0.58.9">0.58.9</option><option value="0.58.10">0.58.10</option><option value="0.66.0">0.66.0</option><option value="0.66.1">0.66.1</option><option value="0.66.2">0.66.2</option><option value="0.66.6">0.66.6</option><option value="0.66.7">0.66.7</option><option value="0.66.8">0.66.8</option><option value="0.66.9">0.66.9</option><option value="0.66.10">0.66.10</option><option value="0.66.11">0.66.11</option><option value="0.66.12">0.66.12</option><option value="0.66.13">0.66.13</option><option value="0.66.14">0.66.14</option><option value="0.66.15">0.66.15</option><option value="0.66.16">0.66.16</option><option value="0.66.17">0.66.17</option><option value="0.66.18">0.66.18</option><option value="0.66.19">0.66.19</option><option value="0.66.20">0.66.20</option><option value="0.66.21">0.66.21</option><option value="0.66.22">0.66.22</option><option value="0.66.23">0.66.23</option><option value="0.66.24">0.66.24</option><option value="0.66.25">0.66.25</option><option value="0.66.26">0.66.26</option><option value="0.66.27">0.66.27</option><option value="0.66.28">0.66.28</option><option value="0.66.29">0.66.29</option><option value="0.66.30">0.66.30</option><option value="0.66.31">0.66.31</option><option value="0.66.32-dev">0.66.32-dev</option><option value="0.66.35">0.66.35</option><option value="0.66.36">0.66.36</option><option value="0.66.37">0.66.37</option><option value="0.66.38">0.66.38</option><option value="0.66.39">0.66.39</option><option value="0.66.40">0.66.40</option><option value="0.66.41">0.66.41</option><option value="0.66.42">0.66.42</option><option value="0.66.43">0.66.43</option><option value="0.66.45">0.66.45</option><option value="0.66.46">0.66.46</option><option value="0.66.47">0.66.47</option><option value="0.66.48">0.66.48</option><option value="0.66.49">0.66.49</option><option value="0.66.50">0.66.50</option><option value="0.66.51">0.66.51</option><option value="0.66.52">0.66.52</option><option value="0.66.53">0.66.53</option><option value="0.66.54">0.66.54</option><option value="0.66.55">0.66.55</option><option value="0.66.56">0.66.56</option><option value="0.66.57">0.66.57</option><option value="0.66.58">0.66.58</option><option value="0.66.59">0.66.59</option><option value="0.66.60">0.66.60</option><option value="0.66.61">0.66.61</option><option value="0.66.62">0.66.62</option><option value="0.66.63">0.66.63</option><option value="0.66.64">0.66.64</option><option value="0.66.65">0.66.65</option><option value="0.66.66">0.66.66</option><option value="0.66.67">0.66.67</option><option value="0.66.68">0.66.68</option><option value="0.66.69">0.66.69</option><option value="0.66.70">0.66.70</option><option value="0.66.71">0.66.71</option><option value="0.66.72">0.66.72</option><option value="0.66.73">0.66.73</option><option value="0.66.74">0.66.74</option><option value="0.66.75">0.66.75</option><option value="0.66.76">0.66.76</option><option value="0.66.77">0.66.77</option><option value="0.66.78">0.66.78</option><option value="0.66.79">0.66.79</option><option value="0.66.80">0.66.80</option><option value="0.66.81">0.66.81</option><option value="0.66.82">0.66.82</option><option value="0.66.83">0.66.83</option><option value="0.66.84">0.66.84</option><option value="0.66.85">0.66.85</option><option value="0.66.86">0.66.86</option><option value="0.66.87">0.66.87</option><option value="0.66.88">0.66.88</option><option value="0.66.89">0.66.89</option><option value="0.66.90">0.66.90</option><option value="0.66.91">0.66.91</option><option value="0.66.92">0.66.92</option><option value="0.66.93">0.66.93</option><option value="0.66.94">0.66.94</option><option value="0.66.95">0.66.95</option><option value="0.66.96">0.66.96</option><option value="0.66.97">0.66.97</option><option value="0.67.0">0.67.0</option><option value="0.68.0">0.68.0</option><option value="0.68.86">0.68.86</option><option value="0.68.87">0.68.87</option><option value="0.69.0">0.69.0</option><option value="0.70.0">0.70.0</option><option value="0.70.1">0.70.1</option><option value="0.71.0">0.71.0</option><option value="0.71.1">0.71.1</option><option value="0.72.0">0.72.0</option><option value="0.73.0">0.73.0</option><option value="0.73.1">0.73.1</option><option value="0.73.2">0.73.2</option><option value="0.74.0">0.74.0</option><option value="0.75.0">0.75.0</option><option value="0.76.1">0.76.1</option><option value="0.77.0">0.77.0</option><option value="0.77.1">0.77.1</option><option value="0.78.0">0.78.0</option><option value="0.79.0">0.79.0</option><option value="0.80.0">0.80.0</option><option value="0.80.1">0.80.1</option><option value="0.81.0">0.81.0</option><option value="0.81.1">0.81.1</option><option value="0.81.2">0.81.2</option><option value="0.82.0">0.82.0</option><option value="0.82.1">0.82.1</option><option value="0.83.0">0.83.0</option><option value="0.84.0">0.84.0</option><option value="0.85.0">0.85.0</option><option value="0.85.1">0.85.1</option><option value="0.85.2">0.85.2</option><option value="0.86.0">0.86.0</option><option value="0.87.0">0.87.0</option><option value="0.87.1">0.87.1</option><option value="0.88.0">0.88.0</option><option value="0.89.0">0.89.0</option><option value="0.90.0">0.90.0</option><option value="0.91.0">0.91.0</option><option value="0.92.0">0.92.0</option><option value="0.93.0">0.93.0</option><option value="0.94.0">0.94.0</option><option value="0.95.0">0.95.0</option><option value="0.96.0">0.96.0</option><option value="0.97.0">0.97.0</option><option value="0.98.0">0.98.0</option><option value="0.99.0">0.99.0</option><option value="0.100.0">0.100.0</option><option value="0.101.0">0.101.0</option><option value="0.101.1">0.101.1</option><option value="0.102.0">0.102.0</option><option value="0.102.1">0.102.1</option><option value="0.103.0">0.103.0</option><option value="0.104.0">0.104.0</option><option value="0.105.0">0.105.0</option><option value="0.105.1">0.105.1</option><option value="0.105.2">0.105.2</option><option value="0.106.0">0.106.0</option><option value="0.106.1">0.106.1</option><option value="0.106.2">0.106.2</option><option value="0.107.0">0.107.0</option><option value="0.108.0">0.108.0</option><option value="0.109.0">0.109.0</option><option value="0.110.0">0.110.0</option><option value="0.111.0">0.111.0</option><option value="0.112.0">0.112.0</option><option value="0.112.1">0.112.1</option><option value="0.113.0">0.113.0</option><option value="0.113.1">0.113.1</option><option value="0.113.2">0.113.2</option><option value="0.114.0">0.114.0</option><option value="0.115.0">0.115.0</option><option value="0.116.0">0.116.0</option><option value="0.116.1">0.116.1</option><option value="0.117.0">0.117.0</option><option value="0.117.1">0.117.1</option><option value="0.118.0">0.118.0</option><option value="0.118.1">0.118.1</option><option value="0.118.2">0.118.2</option><option value="0.118.3">0.118.3</option><option value="0.119.0">0.119.0</option><option value="0.119.1">0.119.1</option><option value="0.120.0">0.120.0</option><option value="0.120.1">0.120.1</option><option value="0.121.0">0.121.0</option><option value="0.121.1">0.121.1</option><option value="0.122.0">0.122.0</option><option selected="" value="0.123.0">0.123.0</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>653 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/three@0.123.0/build/three.min.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">// threejs.org/license</span>
</code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?e(exports):<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define([<span class="code-string">"exports"</span>],e):e((t=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> globalThis?globalThis:t||self).THREE={})}(<span class="code-keyword">this</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-built_in">Number</span>.EPSILON&amp;&amp;(<span class="code-built_in">Number</span>.EPSILON=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">-52</span>)),<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-built_in">Number</span>.isInteger&amp;&amp;(<span class="code-built_in">Number</span>.isInteger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-built_in">isFinite</span>(t)&amp;&amp;<span class="code-built_in">Math</span>.floor(t)===t}),<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-built_in">Math</span>.sign&amp;&amp;(<span class="code-built_in">Math</span>.sign=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&lt;<span class="code-number">0</span>?<span class="code-number">-1</span>:t&gt;<span class="code-number">0</span>?<span class="code-number">1</span>:+t}),<span class="code-string">"name"</span><span class="code-keyword">in</span> <span class="code-built_in">Function</span>.prototype==!<span class="code-number">1</span>&amp;&amp;<span class="code-built_in">Object</span>.defineProperty(<span class="code-built_in">Function</span>.prototype,<span class="code-string">"name"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.toString().match(<span class="code-regexp">/^\s*function\s*([^\(\s]*)/</span>)[<span class="code-number">1</span>]}}),<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-built_in">Object</span>.assign&amp;&amp;(<span class="code-built_in">Object</span>.assign=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>==t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Cannot convert undefined or null to object"</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>(t),n=<span class="code-number">1</span>;n&lt;<span class="code-built_in">arguments</span>.length;n++){<span class="code-keyword">var</span> r=<span class="code-built_in">arguments</span>[n];<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=r)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(r,i)&amp;&amp;(e[i]=r[i])}<span class="code-keyword">return</span> e});<span class="code-keyword">var</span> e=<span class="code-number">100</span>,n=<span class="code-number">300</span>,r=<span class="code-number">301</span>,i=<span class="code-number">302</span>,a=<span class="code-number">303</span>,o=<span class="code-number">304</span>,s=<span class="code-number">306</span>,c=<span class="code-number">307</span>,l=<span class="code-number">1e3</span>,u=<span class="code-number">1001</span>,h=<span class="code-number">1002</span>,d=<span class="code-number">1003</span>,p=<span class="code-number">1004</span>,f=<span class="code-number">1005</span>,m=<span class="code-number">1006</span>,v=<span class="code-number">1007</span>,g=<span class="code-number">1008</span>,y=<span class="code-number">1009</span>,x=<span class="code-number">1012</span>,_=<span class="code-number">1014</span>,b=<span class="code-number">1015</span>,w=<span class="code-number">1016</span>,M=<span class="code-number">1020</span>,S=<span class="code-number">1022</span>,T=<span class="code-number">1023</span>,E=<span class="code-number">1026</span>,A=<span class="code-number">1027</span>,L=<span class="code-number">33776</span>,R=<span class="code-number">33777</span>,C=<span class="code-number">33778</span>,P=<span class="code-number">33779</span>,I=<span class="code-number">35840</span>,N=<span class="code-number">35841</span>,D=<span class="code-number">35842</span>,O=<span class="code-number">35843</span>,B=<span class="code-number">37492</span>,z=<span class="code-number">37496</span>,U=<span class="code-number">2300</span>,F=<span class="code-number">2301</span>,G=<span class="code-number">2302</span>,H=<span class="code-number">2400</span>,k=<span class="code-number">2401</span>,V=<span class="code-number">2402</span>,W=<span class="code-number">2500</span>,j=<span class="code-number">2501</span>,q=<span class="code-number">3e3</span>,X=<span class="code-number">3001</span>,Y=<span class="code-number">3007</span>,Z=<span class="code-number">3002</span>,J=<span class="code-number">3004</span>,Q=<span class="code-number">3005</span>,K=<span class="code-number">3006</span>,$=<span class="code-number">7680</span>,tt=<span class="code-number">35044</span>,et=<span class="code-number">35048</span>,nt=<span class="code-string">"300 es"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rt</span>(<span class="code-params"></span>)</span>{}<span class="code-built_in">Object</span>.assign(rt.prototype,{<span class="code-attr">addEventListener</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>._listeners&amp;&amp;(<span class="code-keyword">this</span>._listeners={});<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._listeners;<span class="code-keyword">void</span> <span class="code-number">0</span>===n[t]&amp;&amp;(n[t]=[]),<span class="code-number">-1</span>===n[t].indexOf(e)&amp;&amp;n[t].push(e)},<span class="code-attr">hasEventListener</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>._listeners)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._listeners;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==n[t]&amp;&amp;<span class="code-number">-1</span>!==n[t].indexOf(e)},<span class="code-attr">removeEventListener</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>._listeners){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._listeners[t];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n){<span class="code-keyword">var</span> r=n.indexOf(e);<span class="code-number">-1</span>!==r&amp;&amp;n.splice(r,<span class="code-number">1</span>)}}},<span class="code-attr">dispatchEvent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>._listeners){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._listeners[t.type];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e){t.target=<span class="code-keyword">this</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.slice(<span class="code-number">0</span>),r=<span class="code-number">0</span>,i=n.length;r&lt;i;r++)n[r].call(<span class="code-keyword">this</span>,t)}}}});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> it=[],at=<span class="code-number">0</span>;at&lt;<span class="code-number">256</span>;at++)it[at]=(at&lt;<span class="code-number">16</span>?<span class="code-string">"0"</span>:<span class="code-string">""</span>)+at.toString(<span class="code-number">16</span>);<span class="code-keyword">var</span> ot=<span class="code-number">1234567</span>,st={<span class="code-attr">DEG2RAD</span>:<span class="code-built_in">Math</span>.PI/<span class="code-number">180</span>,<span class="code-attr">RAD2DEG</span>:<span class="code-number">180</span>/<span class="code-built_in">Math</span>.PI,<span class="code-attr">generateUUID</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">4294967295</span>*<span class="code-built_in">Math</span>.random()|<span class="code-number">0</span>,e=<span class="code-number">4294967295</span>*<span class="code-built_in">Math</span>.random()|<span class="code-number">0</span>,n=<span class="code-number">4294967295</span>*<span class="code-built_in">Math</span>.random()|<span class="code-number">0</span>,r=<span class="code-number">4294967295</span>*<span class="code-built_in">Math</span>.random()|<span class="code-number">0</span>;<span class="code-keyword">return</span>(it[<span class="code-number">255</span>&amp;t]+it[t&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]+it[t&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]+it[t&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>]+<span class="code-string">"-"</span>+it[<span class="code-number">255</span>&amp;e]+it[e&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]+<span class="code-string">"-"</span>+it[e&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">15</span>|<span class="code-number">64</span>]+it[e&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>]+<span class="code-string">"-"</span>+it[<span class="code-number">63</span>&amp;n|<span class="code-number">128</span>]+it[n&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]+<span class="code-string">"-"</span>+it[n&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]+it[n&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>]+it[<span class="code-number">255</span>&amp;r]+it[r&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]+it[r&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]+it[r&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>]).toUpperCase()},<span class="code-attr">clamp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(e,<span class="code-built_in">Math</span>.min(n,t))},<span class="code-attr">euclideanModulo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(t%e+e)%e},<span class="code-attr">mapLinear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span> r+(t-e)*(i-r)/(n-e)},<span class="code-attr">lerp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span>(<span class="code-number">1</span>-n)*t+n*e},<span class="code-attr">smoothstep</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t&lt;=e?<span class="code-number">0</span>:t&gt;=n?<span class="code-number">1</span>:(t=(t-e)/(n-e))*t*(<span class="code-number">3</span><span class="code-number">-2</span>*t)},<span class="code-attr">smootherstep</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t&lt;=e?<span class="code-number">0</span>:t&gt;=n?<span class="code-number">1</span>:(t=(t-e)/(n-e))*t*t*(t*(<span class="code-number">6</span>*t<span class="code-number">-15</span>)+<span class="code-number">10</span>)},<span class="code-attr">randInt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t+<span class="code-built_in">Math</span>.floor(<span class="code-built_in">Math</span>.random()*(e-t+<span class="code-number">1</span>))},<span class="code-attr">randFloat</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t+<span class="code-built_in">Math</span>.random()*(e-t)},<span class="code-attr">randFloatSpread</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t*(<span class="code-number">.5</span>-<span class="code-built_in">Math</span>.random())},<span class="code-attr">seededRandom</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;(ot=t%<span class="code-number">2147483647</span>),((ot=<span class="code-number">16807</span>*ot%<span class="code-number">2147483647</span>)<span class="code-number">-1</span>)/<span class="code-number">2147483646</span>},<span class="code-attr">degToRad</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t*st.DEG2RAD},<span class="code-attr">radToDeg</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t*st.RAD2DEG},<span class="code-attr">isPowerOfTwo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>==(t&amp;t<span class="code-number">-1</span>)&amp;&amp;<span class="code-number">0</span>!==t},<span class="code-attr">ceilPowerOfTwo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-built_in">Math</span>.ceil(<span class="code-built_in">Math</span>.log(t)/<span class="code-built_in">Math</span>.LN2))},<span class="code-attr">floorPowerOfTwo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-built_in">Math</span>.floor(<span class="code-built_in">Math</span>.log(t)/<span class="code-built_in">Math</span>.LN2))},<span class="code-attr">setQuaternionFromProperEuler</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-built_in">Math</span>.cos,o=<span class="code-built_in">Math</span>.sin,s=a(n/<span class="code-number">2</span>),c=o(n/<span class="code-number">2</span>),l=a((e+r)/<span class="code-number">2</span>),u=o((e+r)/<span class="code-number">2</span>),h=a((e-r)/<span class="code-number">2</span>),d=o((e-r)/<span class="code-number">2</span>),p=a((r-e)/<span class="code-number">2</span>),f=o((r-e)/<span class="code-number">2</span>);<span class="code-keyword">switch</span>(i){<span class="code-keyword">case</span><span class="code-string">"XYX"</span>:t.set(s*u,c*h,c*d,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YZY"</span>:t.set(c*d,s*u,c*h,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZXZ"</span>:t.set(c*h,c*d,s*u,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"XZX"</span>:t.set(s*u,c*f,c*p,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YXY"</span>:t.set(c*p,s*u,c*f,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZYZ"</span>:t.set(c*f,c*p,s*u,s*l);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "</span>+i)}}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ct</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;e.length;n++){<span class="code-keyword">var</span> r=e[n];r.enumerable=r.enumerable||!<span class="code-number">1</span>,r.configurable=!<span class="code-number">0</span>,<span class="code-string">"value"</span><span class="code-keyword">in</span> r&amp;&amp;(r.writable=!<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(t,r.key,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lt</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;ct(t.prototype,e),n&amp;&amp;ct(t,n),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ut</span>(<span class="code-params">t,e</span>)</span>{t.prototype=<span class="code-built_in">Object</span>.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ht</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">ReferenceError</span>(<span class="code-string">"this hasn't been initialised - super() hasn't been called"</span>);<span class="code-keyword">return</span> t}<span class="code-keyword">var</span> dt,pt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isVector2"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>},e.setScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>},e.setX=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>},e.setY=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>},e.setComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">this</span>.x=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">this</span>.y=e;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.getComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x,<span class="code-keyword">this</span>.y=t.y,<span class="code-keyword">this</span>},e.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.addVectors(t,e)):(<span class="code-keyword">this</span>.x+=t.x,<span class="code-keyword">this</span>.y+=t.y,<span class="code-keyword">this</span>)},e.addScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t,<span class="code-keyword">this</span>.y+=t,<span class="code-keyword">this</span>},e.addVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+e.x,<span class="code-keyword">this</span>.y=t.y+e.y,<span class="code-keyword">this</span>},e.addScaledVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t.x*e,<span class="code-keyword">this</span>.y+=t.y*e,<span class="code-keyword">this</span>},e.sub=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.subVectors(t,e)):(<span class="code-keyword">this</span>.x-=t.x,<span class="code-keyword">this</span>.y-=t.y,<span class="code-keyword">this</span>)},e.subScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x-=t,<span class="code-keyword">this</span>.y-=t,<span class="code-keyword">this</span>},e.subVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x-e.x,<span class="code-keyword">this</span>.y=t.y-e.y,<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*=t.x,<span class="code-keyword">this</span>.y*=t.y,<span class="code-keyword">this</span>},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*=t,<span class="code-keyword">this</span>.y*=t,<span class="code-keyword">this</span>},e.divide=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x/=t.x,<span class="code-keyword">this</span>.y/=t.y,<span class="code-keyword">this</span>},e.divideScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyScalar(<span class="code-number">1</span>/t)},e.applyMatrix3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=r[<span class="code-number">0</span>]*e+r[<span class="code-number">3</span>]*n+r[<span class="code-number">6</span>],<span class="code-keyword">this</span>.y=r[<span class="code-number">1</span>]*e+r[<span class="code-number">4</span>]*n+r[<span class="code-number">7</span>],<span class="code-keyword">this</span>},e.min=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>},e.max=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>},e.clamp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t.x,<span class="code-built_in">Math</span>.min(e.x,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t.y,<span class="code-built_in">Math</span>.min(e.y,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>},e.clampScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>},e.clampLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.length();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(n||<span class="code-number">1</span>).multiplyScalar(<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,n)))},e.floor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>},e.ceil=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>},e.round=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>},e.roundToZero=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-keyword">this</span>.x&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-keyword">this</span>.y&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>},e.negate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=-<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y=-<span class="code-keyword">this</span>.y,<span class="code-keyword">this</span>},e.dot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*t.x+<span class="code-keyword">this</span>.y*t.y},e.cross=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*t.y-<span class="code-keyword">this</span>.y*t.x},e.lengthSq=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y},e.length=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y)},e.manhattanLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y)},e.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(<span class="code-keyword">this</span>.length()||<span class="code-number">1</span>)},e.angle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">Math</span>.atan2(-<span class="code-keyword">this</span>.y,-<span class="code-keyword">this</span>.x)+<span class="code-built_in">Math</span>.PI;<span class="code-keyword">return</span> t},e.distanceTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.distanceToSquared(t))},e.distanceToSquared=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x-t.x,n=<span class="code-keyword">this</span>.y-t.y;<span class="code-keyword">return</span> e*e+n*n},e.manhattanDistanceTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x-t.x)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y-t.y)},e.setLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=(t.x-<span class="code-keyword">this</span>.x)*e,<span class="code-keyword">this</span>.y+=(t.y-<span class="code-keyword">this</span>.y)*e,<span class="code-keyword">this</span>},e.lerpVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+(e.x-t.x)*n,<span class="code-keyword">this</span>.y=t.y+(e.y-t.y)*n,<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.x===<span class="code-keyword">this</span>.x&amp;&amp;t.y===<span class="code-keyword">this</span>.y},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.x=t[e],<span class="code-keyword">this</span>.y=t[e+<span class="code-number">1</span>],<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>.x,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>.y,t},e.fromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: offset has been removed from .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.x=t.getX(e),<span class="code-keyword">this</span>.y=t.getY(e),<span class="code-keyword">this</span>},e.rotateAround=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-built_in">Math</span>.cos(e),r=<span class="code-built_in">Math</span>.sin(e),i=<span class="code-keyword">this</span>.x-t.x,a=<span class="code-keyword">this</span>.y-t.y;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=i*n-a*r+t.x,<span class="code-keyword">this</span>.y=i*r+a*n+t.y,<span class="code-keyword">this</span>},e.random=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>},lt(t,[{<span class="code-attr">key</span>:<span class="code-string">"width"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.x=t}},{<span class="code-attr">key</span>:<span class="code-string">"height"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.y=t}}]),t}(),ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isMatrix3"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.elements=[<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>],<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead."</span>)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o,s,c</span>)</span>{<span class="code-keyword">var</span> l=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> l[<span class="code-number">0</span>]=t,l[<span class="code-number">1</span>]=r,l[<span class="code-number">2</span>]=o,l[<span class="code-number">3</span>]=e,l[<span class="code-number">4</span>]=i,l[<span class="code-number">5</span>]=s,l[<span class="code-number">6</span>]=n,l[<span class="code-number">7</span>]=a,l[<span class="code-number">8</span>]=c,<span class="code-keyword">this</span>},e.identity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).fromArray(<span class="code-keyword">this</span>.elements)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements;<span class="code-keyword">return</span> e[<span class="code-number">0</span>]=n[<span class="code-number">0</span>],e[<span class="code-number">1</span>]=n[<span class="code-number">1</span>],e[<span class="code-number">2</span>]=n[<span class="code-number">2</span>],e[<span class="code-number">3</span>]=n[<span class="code-number">3</span>],e[<span class="code-number">4</span>]=n[<span class="code-number">4</span>],e[<span class="code-number">5</span>]=n[<span class="code-number">5</span>],e[<span class="code-number">6</span>]=n[<span class="code-number">6</span>],e[<span class="code-number">7</span>]=n[<span class="code-number">7</span>],e[<span class="code-number">8</span>]=n[<span class="code-number">8</span>],<span class="code-keyword">this</span>},e.extractBasis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t.setFromMatrix3Column(<span class="code-keyword">this</span>,<span class="code-number">0</span>),e.setFromMatrix3Column(<span class="code-keyword">this</span>,<span class="code-number">1</span>),n.setFromMatrix3Column(<span class="code-keyword">this</span>,<span class="code-number">2</span>),<span class="code-keyword">this</span>},e.setFromMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(e[<span class="code-number">0</span>],e[<span class="code-number">4</span>],e[<span class="code-number">8</span>],e[<span class="code-number">1</span>],e[<span class="code-number">5</span>],e[<span class="code-number">9</span>],e[<span class="code-number">2</span>],e[<span class="code-number">6</span>],e[<span class="code-number">10</span>]),<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyMatrices(<span class="code-keyword">this</span>,t)},e.premultiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyMatrices(t,<span class="code-keyword">this</span>)},e.multiplyMatrices=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.elements,r=e.elements,i=<span class="code-keyword">this</span>.elements,a=n[<span class="code-number">0</span>],o=n[<span class="code-number">3</span>],s=n[<span class="code-number">6</span>],c=n[<span class="code-number">1</span>],l=n[<span class="code-number">4</span>],u=n[<span class="code-number">7</span>],h=n[<span class="code-number">2</span>],d=n[<span class="code-number">5</span>],p=n[<span class="code-number">8</span>],f=r[<span class="code-number">0</span>],m=r[<span class="code-number">3</span>],v=r[<span class="code-number">6</span>],g=r[<span class="code-number">1</span>],y=r[<span class="code-number">4</span>],x=r[<span class="code-number">7</span>],_=r[<span class="code-number">2</span>],b=r[<span class="code-number">5</span>],w=r[<span class="code-number">8</span>];<span class="code-keyword">return</span> i[<span class="code-number">0</span>]=a*f+o*g+s*_,i[<span class="code-number">3</span>]=a*m+o*y+s*b,i[<span class="code-number">6</span>]=a*v+o*x+s*w,i[<span class="code-number">1</span>]=c*f+l*g+u*_,i[<span class="code-number">4</span>]=c*m+l*y+u*b,i[<span class="code-number">7</span>]=c*v+l*x+u*w,i[<span class="code-number">2</span>]=h*f+d*g+p*_,i[<span class="code-number">5</span>]=h*m+d*y+p*b,i[<span class="code-number">8</span>]=h*v+d*x+p*w,<span class="code-keyword">this</span>},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> e[<span class="code-number">0</span>]*=t,e[<span class="code-number">3</span>]*=t,e[<span class="code-number">6</span>]*=t,e[<span class="code-number">1</span>]*=t,e[<span class="code-number">4</span>]*=t,e[<span class="code-number">7</span>]*=t,e[<span class="code-number">2</span>]*=t,e[<span class="code-number">5</span>]*=t,e[<span class="code-number">8</span>]*=t,<span class="code-keyword">this</span>},e.determinant=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.elements,e=t[<span class="code-number">0</span>],n=t[<span class="code-number">1</span>],r=t[<span class="code-number">2</span>],i=t[<span class="code-number">3</span>],a=t[<span class="code-number">4</span>],o=t[<span class="code-number">5</span>],s=t[<span class="code-number">6</span>],c=t[<span class="code-number">7</span>],l=t[<span class="code-number">8</span>];<span class="code-keyword">return</span> e*a*l-e*o*c-n*i*l+n*o*s+r*i*c-r*a*s},e.invert=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.elements,e=t[<span class="code-number">0</span>],n=t[<span class="code-number">1</span>],r=t[<span class="code-number">2</span>],i=t[<span class="code-number">3</span>],a=t[<span class="code-number">4</span>],o=t[<span class="code-number">5</span>],s=t[<span class="code-number">6</span>],c=t[<span class="code-number">7</span>],l=t[<span class="code-number">8</span>],u=l*a-o*c,h=o*s-l*i,d=c*i-a*s,p=e*u+n*h+r*d;<span class="code-keyword">if</span>(<span class="code-number">0</span>===p)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> f=<span class="code-number">1</span>/p;<span class="code-keyword">return</span> t[<span class="code-number">0</span>]=u*f,t[<span class="code-number">1</span>]=(r*c-l*n)*f,t[<span class="code-number">2</span>]=(o*n-r*a)*f,t[<span class="code-number">3</span>]=h*f,t[<span class="code-number">4</span>]=(l*e-r*s)*f,t[<span class="code-number">5</span>]=(r*i-o*e)*f,t[<span class="code-number">6</span>]=d*f,t[<span class="code-number">7</span>]=(n*s-c*e)*f,t[<span class="code-number">8</span>]=(a*e-n*i)*f,<span class="code-keyword">this</span>},e.transpose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,e=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t=e[<span class="code-number">1</span>],e[<span class="code-number">1</span>]=e[<span class="code-number">3</span>],e[<span class="code-number">3</span>]=t,t=e[<span class="code-number">2</span>],e[<span class="code-number">2</span>]=e[<span class="code-number">6</span>],e[<span class="code-number">6</span>]=t,t=e[<span class="code-number">5</span>],e[<span class="code-number">5</span>]=e[<span class="code-number">7</span>],e[<span class="code-number">7</span>]=t,<span class="code-keyword">this</span>},e.getNormalMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromMatrix4(t).copy(<span class="code-keyword">this</span>).invert().transpose()},e.transposeIntoArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t[<span class="code-number">0</span>]=e[<span class="code-number">0</span>],t[<span class="code-number">1</span>]=e[<span class="code-number">3</span>],t[<span class="code-number">2</span>]=e[<span class="code-number">6</span>],t[<span class="code-number">3</span>]=e[<span class="code-number">1</span>],t[<span class="code-number">4</span>]=e[<span class="code-number">4</span>],t[<span class="code-number">5</span>]=e[<span class="code-number">7</span>],t[<span class="code-number">6</span>]=e[<span class="code-number">2</span>],t[<span class="code-number">7</span>]=e[<span class="code-number">5</span>],t[<span class="code-number">8</span>]=e[<span class="code-number">8</span>],<span class="code-keyword">this</span>},e.setUvTransform=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s=<span class="code-built_in">Math</span>.cos(i),c=<span class="code-built_in">Math</span>.sin(i);<span class="code-keyword">this</span>.set(n*s,n*c,-n*(s*a+c*o)+a+t,-r*c,r*s,-r*(-c*a+s*o)+o+e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>)},e.scale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> n[<span class="code-number">0</span>]*=t,n[<span class="code-number">3</span>]*=t,n[<span class="code-number">6</span>]*=t,n[<span class="code-number">1</span>]*=e,n[<span class="code-number">4</span>]*=e,n[<span class="code-number">7</span>]*=e,<span class="code-keyword">this</span>},e.rotate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.cos(t),n=<span class="code-built_in">Math</span>.sin(t),r=<span class="code-keyword">this</span>.elements,i=r[<span class="code-number">0</span>],a=r[<span class="code-number">3</span>],o=r[<span class="code-number">6</span>],s=r[<span class="code-number">1</span>],c=r[<span class="code-number">4</span>],l=r[<span class="code-number">7</span>];<span class="code-keyword">return</span> r[<span class="code-number">0</span>]=e*i+n*s,r[<span class="code-number">3</span>]=e*a+n*c,r[<span class="code-number">6</span>]=e*o+n*l,r[<span class="code-number">1</span>]=-n*i+e*s,r[<span class="code-number">4</span>]=-n*a+e*c,r[<span class="code-number">7</span>]=-n*o+e*l,<span class="code-keyword">this</span>},e.translate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> n[<span class="code-number">0</span>]+=t*n[<span class="code-number">2</span>],n[<span class="code-number">3</span>]+=t*n[<span class="code-number">5</span>],n[<span class="code-number">6</span>]+=t*n[<span class="code-number">8</span>],n[<span class="code-number">1</span>]+=e*n[<span class="code-number">2</span>],n[<span class="code-number">4</span>]+=e*n[<span class="code-number">5</span>],n[<span class="code-number">7</span>]+=e*n[<span class="code-number">8</span>],<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements,r=<span class="code-number">0</span>;r&lt;<span class="code-number">9</span>;r++)<span class="code-keyword">if</span>(e[r]!==n[r])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;<span class="code-number">9</span>;n++)<span class="code-keyword">this</span>.elements[n]=t[n+e];<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t[e]=n[<span class="code-number">0</span>],t[e+<span class="code-number">1</span>]=n[<span class="code-number">1</span>],t[e+<span class="code-number">2</span>]=n[<span class="code-number">2</span>],t[e+<span class="code-number">3</span>]=n[<span class="code-number">3</span>],t[e+<span class="code-number">4</span>]=n[<span class="code-number">4</span>],t[e+<span class="code-number">5</span>]=n[<span class="code-number">5</span>],t[e+<span class="code-number">6</span>]=n[<span class="code-number">6</span>],t[e+<span class="code-number">7</span>]=n[<span class="code-number">7</span>],t[e+<span class="code-number">8</span>]=n[<span class="code-number">8</span>],t},t}(),mt={<span class="code-attr">getDataURL</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-regexp">/^data:/i</span>.test(t.src))<span class="code-keyword">return</span> t.src;<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> HTMLCanvasElement)<span class="code-keyword">return</span> t.src;<span class="code-keyword">var</span> e;<span class="code-keyword">if</span>(t <span class="code-keyword">instanceof</span> HTMLCanvasElement)e=t;<span class="code-keyword">else</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===dt&amp;&amp;(dt=<span class="code-built_in">document</span>.createElementNS(<span class="code-string">"http://www.w3.org/1999/xhtml"</span>,<span class="code-string">"canvas"</span>)),dt.width=t.width,dt.height=t.height;<span class="code-keyword">var</span> n=dt.getContext(<span class="code-string">"2d"</span>);t <span class="code-keyword">instanceof</span> ImageData?n.putImageData(t,<span class="code-number">0</span>,<span class="code-number">0</span>):n.drawImage(t,<span class="code-number">0</span>,<span class="code-number">0</span>,t.width,t.height),e=dt}<span class="code-keyword">return</span> e.width&gt;<span class="code-number">2048</span>||e.height&gt;<span class="code-number">2048</span>?e.toDataURL(<span class="code-string">"image/jpeg"</span>,<span class="code-number">.6</span>):e.toDataURL(<span class="code-string">"image/png"</span>)}},vt=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gt</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=gt.DEFAULT_IMAGE),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=gt.DEFAULT_MAPPING),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=u),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=u),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=m),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=g),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=T),<span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=y),<span class="code-keyword">void</span> <span class="code-number">0</span>===c&amp;&amp;(c=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===l&amp;&amp;(l=q),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"id"</span>,{<span class="code-attr">value</span>:vt++}),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.image=t,<span class="code-keyword">this</span>.mipmaps=[],<span class="code-keyword">this</span>.mapping=e,<span class="code-keyword">this</span>.wrapS=n,<span class="code-keyword">this</span>.wrapT=r,<span class="code-keyword">this</span>.magFilter=i,<span class="code-keyword">this</span>.minFilter=a,<span class="code-keyword">this</span>.anisotropy=c,<span class="code-keyword">this</span>.format=o,<span class="code-keyword">this</span>.internalFormat=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.type=s,<span class="code-keyword">this</span>.offset=<span class="code-keyword">new</span> pt(<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>.repeat=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.center=<span class="code-keyword">new</span> pt(<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>.rotation=<span class="code-number">0</span>,<span class="code-keyword">this</span>.matrixAutoUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.matrix=<span class="code-keyword">new</span> ft,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.premultiplyAlpha=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.flipY=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.unpackAlignment=<span class="code-number">4</span>,<span class="code-keyword">this</span>.encoding=l,<span class="code-keyword">this</span>.version=<span class="code-number">0</span>,<span class="code-keyword">this</span>.onUpdate=<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> HTMLImageElement&amp;&amp;t <span class="code-keyword">instanceof</span> HTMLImageElement||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> HTMLCanvasElement&amp;&amp;t <span class="code-keyword">instanceof</span> HTMLCanvasElement||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> ImageBitmap&amp;&amp;t <span class="code-keyword">instanceof</span> ImageBitmap?mt.getDataURL(t):t.data?{<span class="code-attr">data</span>:<span class="code-built_in">Array</span>.prototype.slice.call(t.data),<span class="code-attr">width</span>:t.width,<span class="code-attr">height</span>:t.height,<span class="code-attr">type</span>:t.data.constructor.name}:(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Texture: Unable to serialize Texture."</span>),{})}gt.DEFAULT_IMAGE=<span class="code-keyword">void</span> <span class="code-number">0</span>,gt.DEFAULT_MAPPING=n,gt.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:gt,<span class="code-attr">isTexture</span>:!<span class="code-number">0</span>,<span class="code-attr">updateMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.matrix.setUvTransform(<span class="code-keyword">this</span>.offset.x,<span class="code-keyword">this</span>.offset.y,<span class="code-keyword">this</span>.repeat.x,<span class="code-keyword">this</span>.repeat.y,<span class="code-keyword">this</span>.rotation,<span class="code-keyword">this</span>.center.x,<span class="code-keyword">this</span>.center.y)},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.name=t.name,<span class="code-keyword">this</span>.image=t.image,<span class="code-keyword">this</span>.mipmaps=t.mipmaps.slice(<span class="code-number">0</span>),<span class="code-keyword">this</span>.mapping=t.mapping,<span class="code-keyword">this</span>.wrapS=t.wrapS,<span class="code-keyword">this</span>.wrapT=t.wrapT,<span class="code-keyword">this</span>.magFilter=t.magFilter,<span class="code-keyword">this</span>.minFilter=t.minFilter,<span class="code-keyword">this</span>.anisotropy=t.anisotropy,<span class="code-keyword">this</span>.format=t.format,<span class="code-keyword">this</span>.internalFormat=t.internalFormat,<span class="code-keyword">this</span>.type=t.type,<span class="code-keyword">this</span>.offset.copy(t.offset),<span class="code-keyword">this</span>.repeat.copy(t.repeat),<span class="code-keyword">this</span>.center.copy(t.center),<span class="code-keyword">this</span>.rotation=t.rotation,<span class="code-keyword">this</span>.matrixAutoUpdate=t.matrixAutoUpdate,<span class="code-keyword">this</span>.matrix.copy(t.matrix),<span class="code-keyword">this</span>.generateMipmaps=t.generateMipmaps,<span class="code-keyword">this</span>.premultiplyAlpha=t.premultiplyAlpha,<span class="code-keyword">this</span>.flipY=t.flipY,<span class="code-keyword">this</span>.unpackAlignment=t.unpackAlignment,<span class="code-keyword">this</span>.encoding=t.encoding,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">void</span> <span class="code-number">0</span>===t||<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t;<span class="code-keyword">if</span>(!e&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.textures[<span class="code-keyword">this</span>.uuid])<span class="code-keyword">return</span> t.textures[<span class="code-keyword">this</span>.uuid];<span class="code-keyword">var</span> n={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Texture"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Texture.toJSON"</span>},<span class="code-attr">uuid</span>:<span class="code-keyword">this</span>.uuid,<span class="code-attr">name</span>:<span class="code-keyword">this</span>.name,<span class="code-attr">mapping</span>:<span class="code-keyword">this</span>.mapping,<span class="code-attr">repeat</span>:[<span class="code-keyword">this</span>.repeat.x,<span class="code-keyword">this</span>.repeat.y],<span class="code-attr">offset</span>:[<span class="code-keyword">this</span>.offset.x,<span class="code-keyword">this</span>.offset.y],<span class="code-attr">center</span>:[<span class="code-keyword">this</span>.center.x,<span class="code-keyword">this</span>.center.y],<span class="code-attr">rotation</span>:<span class="code-keyword">this</span>.rotation,<span class="code-attr">wrap</span>:[<span class="code-keyword">this</span>.wrapS,<span class="code-keyword">this</span>.wrapT],<span class="code-attr">format</span>:<span class="code-keyword">this</span>.format,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.type,<span class="code-attr">encoding</span>:<span class="code-keyword">this</span>.encoding,<span class="code-attr">minFilter</span>:<span class="code-keyword">this</span>.minFilter,<span class="code-attr">magFilter</span>:<span class="code-keyword">this</span>.magFilter,<span class="code-attr">anisotropy</span>:<span class="code-keyword">this</span>.anisotropy,<span class="code-attr">flipY</span>:<span class="code-keyword">this</span>.flipY,<span class="code-attr">premultiplyAlpha</span>:<span class="code-keyword">this</span>.premultiplyAlpha,<span class="code-attr">unpackAlignment</span>:<span class="code-keyword">this</span>.unpackAlignment};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.image){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.image;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r.uuid&amp;&amp;(r.uuid=st.generateUUID()),!e&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===t.images[r.uuid]){<span class="code-keyword">var</span> i;<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(r)){i=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=r.length;a&lt;o;a++)r[a].isDataTexture?i.push(yt(r[a].image)):i.push(yt(r[a]))}<span class="code-keyword">else</span> i=yt(r);t.images[r.uuid]={<span class="code-attr">uuid</span>:r.uuid,<span class="code-attr">url</span>:i}}n.image=r.uuid}<span class="code-keyword">return</span> e||(t.textures[<span class="code-keyword">this</span>.uuid]=n),n},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>})},<span class="code-attr">transformUv</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.mapping!==n)<span class="code-keyword">return</span> t;<span class="code-keyword">if</span>(t.applyMatrix3(<span class="code-keyword">this</span>.matrix),t.x&lt;<span class="code-number">0</span>||t.x&gt;<span class="code-number">1</span>)<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.wrapS){<span class="code-keyword">case</span> l:t.x=t.x-<span class="code-built_in">Math</span>.floor(t.x);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u:t.x=t.x&lt;<span class="code-number">0</span>?<span class="code-number">0</span>:<span class="code-number">1</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> h:<span class="code-number">1</span>===<span class="code-built_in">Math</span>.abs(<span class="code-built_in">Math</span>.floor(t.x)%<span class="code-number">2</span>)?t.x=<span class="code-built_in">Math</span>.ceil(t.x)-t.x:t.x=t.x-<span class="code-built_in">Math</span>.floor(t.x)}<span class="code-keyword">if</span>(t.y&lt;<span class="code-number">0</span>||t.y&gt;<span class="code-number">1</span>)<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.wrapT){<span class="code-keyword">case</span> l:t.y=t.y-<span class="code-built_in">Math</span>.floor(t.y);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u:t.y=t.y&lt;<span class="code-number">0</span>?<span class="code-number">0</span>:<span class="code-number">1</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> h:<span class="code-number">1</span>===<span class="code-built_in">Math</span>.abs(<span class="code-built_in">Math</span>.floor(t.y)%<span class="code-number">2</span>)?t.y=<span class="code-built_in">Math</span>.ceil(t.y)-t.y:t.y=t.y-<span class="code-built_in">Math</span>.floor(t.y)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.flipY&amp;&amp;(t.y=<span class="code-number">1</span>-t.y),t}}),<span class="code-built_in">Object</span>.defineProperty(gt.prototype,<span class="code-string">"needsUpdate"</span>,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{!<span class="code-number">0</span>===t&amp;&amp;<span class="code-keyword">this</span>.version++}});<span class="code-keyword">var</span> xt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isVector4"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>.z=n,<span class="code-keyword">this</span>.w=r}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>.z=n,<span class="code-keyword">this</span>.w=r,<span class="code-keyword">this</span>},e.setScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>.z=t,<span class="code-keyword">this</span>.w=t,<span class="code-keyword">this</span>},e.setX=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>},e.setY=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>},e.setZ=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.z=t,<span class="code-keyword">this</span>},e.setW=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.w=t,<span class="code-keyword">this</span>},e.setComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">this</span>.x=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">this</span>.y=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">this</span>.z=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">this</span>.w=e;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.getComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y;<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.z;<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.w;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y,<span class="code-keyword">this</span>.z,<span class="code-keyword">this</span>.w)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x,<span class="code-keyword">this</span>.y=t.y,<span class="code-keyword">this</span>.z=t.z,<span class="code-keyword">this</span>.w=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.w?t.w:<span class="code-number">1</span>,<span class="code-keyword">this</span>},e.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.addVectors(t,e)):(<span class="code-keyword">this</span>.x+=t.x,<span class="code-keyword">this</span>.y+=t.y,<span class="code-keyword">this</span>.z+=t.z,<span class="code-keyword">this</span>.w+=t.w,<span class="code-keyword">this</span>)},e.addScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t,<span class="code-keyword">this</span>.y+=t,<span class="code-keyword">this</span>.z+=t,<span class="code-keyword">this</span>.w+=t,<span class="code-keyword">this</span>},e.addVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+e.x,<span class="code-keyword">this</span>.y=t.y+e.y,<span class="code-keyword">this</span>.z=t.z+e.z,<span class="code-keyword">this</span>.w=t.w+e.w,<span class="code-keyword">this</span>},e.addScaledVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t.x*e,<span class="code-keyword">this</span>.y+=t.y*e,<span class="code-keyword">this</span>.z+=t.z*e,<span class="code-keyword">this</span>.w+=t.w*e,<span class="code-keyword">this</span>},e.sub=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.subVectors(t,e)):(<span class="code-keyword">this</span>.x-=t.x,<span class="code-keyword">this</span>.y-=t.y,<span class="code-keyword">this</span>.z-=t.z,<span class="code-keyword">this</span>.w-=t.w,<span class="code-keyword">this</span>)},e.subScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x-=t,<span class="code-keyword">this</span>.y-=t,<span class="code-keyword">this</span>.z-=t,<span class="code-keyword">this</span>.w-=t,<span class="code-keyword">this</span>},e.subVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x-e.x,<span class="code-keyword">this</span>.y=t.y-e.y,<span class="code-keyword">this</span>.z=t.z-e.z,<span class="code-keyword">this</span>.w=t.w-e.w,<span class="code-keyword">this</span>},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*=t,<span class="code-keyword">this</span>.y*=t,<span class="code-keyword">this</span>.z*=t,<span class="code-keyword">this</span>.w*=t,<span class="code-keyword">this</span>},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=<span class="code-keyword">this</span>.z,i=<span class="code-keyword">this</span>.w,a=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=a[<span class="code-number">0</span>]*e+a[<span class="code-number">4</span>]*n+a[<span class="code-number">8</span>]*r+a[<span class="code-number">12</span>]*i,<span class="code-keyword">this</span>.y=a[<span class="code-number">1</span>]*e+a[<span class="code-number">5</span>]*n+a[<span class="code-number">9</span>]*r+a[<span class="code-number">13</span>]*i,<span class="code-keyword">this</span>.z=a[<span class="code-number">2</span>]*e+a[<span class="code-number">6</span>]*n+a[<span class="code-number">10</span>]*r+a[<span class="code-number">14</span>]*i,<span class="code-keyword">this</span>.w=a[<span class="code-number">3</span>]*e+a[<span class="code-number">7</span>]*n+a[<span class="code-number">11</span>]*r+a[<span class="code-number">15</span>]*i,<span class="code-keyword">this</span>},e.divideScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyScalar(<span class="code-number">1</span>/t)},e.setAxisAngleFromQuaternion=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.w=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.acos(t.w);<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span>-t.w*t.w);<span class="code-keyword">return</span> e&lt;<span class="code-number">1e-4</span>?(<span class="code-keyword">this</span>.x=<span class="code-number">1</span>,<span class="code-keyword">this</span>.y=<span class="code-number">0</span>,<span class="code-keyword">this</span>.z=<span class="code-number">0</span>):(<span class="code-keyword">this</span>.x=t.x/e,<span class="code-keyword">this</span>.y=t.y/e,<span class="code-keyword">this</span>.z=t.z/e),<span class="code-keyword">this</span>},e.setAxisAngleFromRotationMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n,r,i,a=<span class="code-number">.01</span>,o=<span class="code-number">.1</span>,s=t.elements,c=s[<span class="code-number">0</span>],l=s[<span class="code-number">4</span>],u=s[<span class="code-number">8</span>],h=s[<span class="code-number">1</span>],d=s[<span class="code-number">5</span>],p=s[<span class="code-number">9</span>],f=s[<span class="code-number">2</span>],m=s[<span class="code-number">6</span>],v=s[<span class="code-number">10</span>];<span class="code-keyword">if</span>(<span class="code-built_in">Math</span>.abs(l-h)&lt;a&amp;&amp;<span class="code-built_in">Math</span>.abs(u-f)&lt;a&amp;&amp;<span class="code-built_in">Math</span>.abs(p-m)&lt;a){<span class="code-keyword">if</span>(<span class="code-built_in">Math</span>.abs(l+h)&lt;o&amp;&amp;<span class="code-built_in">Math</span>.abs(u+f)&lt;o&amp;&amp;<span class="code-built_in">Math</span>.abs(p+m)&lt;o&amp;&amp;<span class="code-built_in">Math</span>.abs(c+d+v<span class="code-number">-3</span>)&lt;o)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>;e=<span class="code-built_in">Math</span>.PI;<span class="code-keyword">var</span> g=(c+<span class="code-number">1</span>)/<span class="code-number">2</span>,y=(d+<span class="code-number">1</span>)/<span class="code-number">2</span>,x=(v+<span class="code-number">1</span>)/<span class="code-number">2</span>,_=(l+h)/<span class="code-number">4</span>,b=(u+f)/<span class="code-number">4</span>,w=(p+m)/<span class="code-number">4</span>;<span class="code-keyword">return</span> g&gt;y&amp;&amp;g&gt;x?g&lt;a?(n=<span class="code-number">0</span>,r=<span class="code-number">.707106781</span>,i=<span class="code-number">.707106781</span>):(r=_/(n=<span class="code-built_in">Math</span>.sqrt(g)),i=b/n):y&gt;x?y&lt;a?(n=<span class="code-number">.707106781</span>,r=<span class="code-number">0</span>,i=<span class="code-number">.707106781</span>):(n=_/(r=<span class="code-built_in">Math</span>.sqrt(y)),i=w/r):x&lt;a?(n=<span class="code-number">.707106781</span>,r=<span class="code-number">.707106781</span>,i=<span class="code-number">0</span>):(n=b/(i=<span class="code-built_in">Math</span>.sqrt(x)),r=w/i),<span class="code-keyword">this</span>.set(n,r,i,e),<span class="code-keyword">this</span>}<span class="code-keyword">var</span> M=<span class="code-built_in">Math</span>.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-l)*(h-l));<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(M)&lt;<span class="code-number">.001</span>&amp;&amp;(M=<span class="code-number">1</span>),<span class="code-keyword">this</span>.x=(m-p)/M,<span class="code-keyword">this</span>.y=(u-f)/M,<span class="code-keyword">this</span>.z=(h-l)/M,<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.acos((c+d+v<span class="code-number">-1</span>)/<span class="code-number">2</span>),<span class="code-keyword">this</span>},e.min=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.z,t.z),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.w,t.w),<span class="code-keyword">this</span>},e.max=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.z,t.z),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.w,t.w),<span class="code-keyword">this</span>},e.clamp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t.x,<span class="code-built_in">Math</span>.min(e.x,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t.y,<span class="code-built_in">Math</span>.min(e.y,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(t.z,<span class="code-built_in">Math</span>.min(e.z,<span class="code-keyword">this</span>.z)),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.max(t.w,<span class="code-built_in">Math</span>.min(e.w,<span class="code-keyword">this</span>.w)),<span class="code-keyword">this</span>},e.clampScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.z)),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.w)),<span class="code-keyword">this</span>},e.clampLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.length();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(n||<span class="code-number">1</span>).multiplyScalar(<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,n)))},e.floor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.w),<span class="code-keyword">this</span>},e.ceil=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.w),<span class="code-keyword">this</span>},e.round=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.w),<span class="code-keyword">this</span>},e.roundToZero=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-keyword">this</span>.x&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-keyword">this</span>.y&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-keyword">this</span>.z&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.z):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>.w=<span class="code-keyword">this</span>.w&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.w):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.w),<span class="code-keyword">this</span>},e.negate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=-<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y=-<span class="code-keyword">this</span>.y,<span class="code-keyword">this</span>.z=-<span class="code-keyword">this</span>.z,<span class="code-keyword">this</span>.w=-<span class="code-keyword">this</span>.w,<span class="code-keyword">this</span>},e.dot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*t.x+<span class="code-keyword">this</span>.y*t.y+<span class="code-keyword">this</span>.z*t.z+<span class="code-keyword">this</span>.w*t.w},e.lengthSq=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y+<span class="code-keyword">this</span>.z*<span class="code-keyword">this</span>.z+<span class="code-keyword">this</span>.w*<span class="code-keyword">this</span>.w},e.length=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y+<span class="code-keyword">this</span>.z*<span class="code-keyword">this</span>.z+<span class="code-keyword">this</span>.w*<span class="code-keyword">this</span>.w)},e.manhattanLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.z)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.w)},e.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(<span class="code-keyword">this</span>.length()||<span class="code-number">1</span>)},e.setLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=(t.x-<span class="code-keyword">this</span>.x)*e,<span class="code-keyword">this</span>.y+=(t.y-<span class="code-keyword">this</span>.y)*e,<span class="code-keyword">this</span>.z+=(t.z-<span class="code-keyword">this</span>.z)*e,<span class="code-keyword">this</span>.w+=(t.w-<span class="code-keyword">this</span>.w)*e,<span class="code-keyword">this</span>},e.lerpVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+(e.x-t.x)*n,<span class="code-keyword">this</span>.y=t.y+(e.y-t.y)*n,<span class="code-keyword">this</span>.z=t.z+(e.z-t.z)*n,<span class="code-keyword">this</span>.w=t.w+(e.w-t.w)*n,<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.x===<span class="code-keyword">this</span>.x&amp;&amp;t.y===<span class="code-keyword">this</span>.y&amp;&amp;t.z===<span class="code-keyword">this</span>.z&amp;&amp;t.w===<span class="code-keyword">this</span>.w},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.x=t[e],<span class="code-keyword">this</span>.y=t[e+<span class="code-number">1</span>],<span class="code-keyword">this</span>.z=t[e+<span class="code-number">2</span>],<span class="code-keyword">this</span>.w=t[e+<span class="code-number">3</span>],<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>.x,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>.y,t[e+<span class="code-number">2</span>]=<span class="code-keyword">this</span>.z,t[e+<span class="code-number">3</span>]=<span class="code-keyword">this</span>.w,t},e.fromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector4: offset has been removed from .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.x=t.getX(e),<span class="code-keyword">this</span>.y=t.getY(e),<span class="code-keyword">this</span>.z=t.getZ(e),<span class="code-keyword">this</span>.w=t.getW(e),<span class="code-keyword">this</span>},e.random=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.w=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>},lt(t,[{<span class="code-attr">key</span>:<span class="code-string">"width"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.z},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.z=t}},{<span class="code-attr">key</span>:<span class="code-string">"height"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.w},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.w=t}}]),t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.width=t,<span class="code-keyword">this</span>.height=e,<span class="code-keyword">this</span>.scissor=<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e),<span class="code-keyword">this</span>.scissorTest=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.viewport=<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e),n=n||{},<span class="code-keyword">this</span>.texture=<span class="code-keyword">new</span> gt(<span class="code-keyword">void</span> <span class="code-number">0</span>,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),<span class="code-keyword">this</span>.texture.image={},<span class="code-keyword">this</span>.texture.image.width=t,<span class="code-keyword">this</span>.texture.image.height=e,<span class="code-keyword">this</span>.texture.generateMipmaps=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.generateMipmaps&amp;&amp;n.generateMipmaps,<span class="code-keyword">this</span>.texture.minFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.minFilter?n.minFilter:m,<span class="code-keyword">this</span>.depthBuffer=<span class="code-keyword">void</span> <span class="code-number">0</span>===n.depthBuffer||n.depthBuffer,<span class="code-keyword">this</span>.stencilBuffer=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.stencilBuffer&amp;&amp;n.stencilBuffer,<span class="code-keyword">this</span>.depthTexture=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.depthTexture?n.depthTexture:<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bt</span>(<span class="code-params">t,e,n</span>)</span>{_t.call(<span class="code-keyword">this</span>,t,e,n),<span class="code-keyword">this</span>.samples=<span class="code-number">4</span>}_t.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:_t,<span class="code-attr">isWebGLRenderTarget</span>:!<span class="code-number">0</span>,<span class="code-attr">setSize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.width===t&amp;&amp;<span class="code-keyword">this</span>.height===e||(<span class="code-keyword">this</span>.width=t,<span class="code-keyword">this</span>.height=e,<span class="code-keyword">this</span>.texture.image.width=t,<span class="code-keyword">this</span>.texture.image.height=e,<span class="code-keyword">this</span>.dispose()),<span class="code-keyword">this</span>.viewport.set(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e),<span class="code-keyword">this</span>.scissor.set(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e)},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.width=t.width,<span class="code-keyword">this</span>.height=t.height,<span class="code-keyword">this</span>.viewport.copy(t.viewport),<span class="code-keyword">this</span>.texture=t.texture.clone(),<span class="code-keyword">this</span>.depthBuffer=t.depthBuffer,<span class="code-keyword">this</span>.stencilBuffer=t.stencilBuffer,<span class="code-keyword">this</span>.depthTexture=t.depthTexture,<span class="code-keyword">this</span>},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>})}}),bt.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(_t.prototype),{<span class="code-attr">constructor</span>:bt,<span class="code-attr">isWebGLMultisampleRenderTarget</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> _t.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.samples=t.samples,<span class="code-keyword">this</span>}});<span class="code-keyword">var</span> wt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isQuaternion"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>._x=t,<span class="code-keyword">this</span>._y=e,<span class="code-keyword">this</span>._z=n,<span class="code-keyword">this</span>._w=r}t.slerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> n.copy(t).slerp(e,r)},t.slerpFlat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s=n[r+<span class="code-number">0</span>],c=n[r+<span class="code-number">1</span>],l=n[r+<span class="code-number">2</span>],u=n[r+<span class="code-number">3</span>],h=i[a+<span class="code-number">0</span>],d=i[a+<span class="code-number">1</span>],p=i[a+<span class="code-number">2</span>],f=i[a+<span class="code-number">3</span>];<span class="code-keyword">if</span>(u!==f||s!==h||c!==d||l!==p){<span class="code-keyword">var</span> m=<span class="code-number">1</span>-o,v=s*h+c*d+l*p+u*f,g=v&gt;=<span class="code-number">0</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>,y=<span class="code-number">1</span>-v*v;<span class="code-keyword">if</span>(y&gt;<span class="code-built_in">Number</span>.EPSILON){<span class="code-keyword">var</span> x=<span class="code-built_in">Math</span>.sqrt(y),_=<span class="code-built_in">Math</span>.atan2(x,v*g);m=<span class="code-built_in">Math</span>.sin(m*_)/x,o=<span class="code-built_in">Math</span>.sin(o*_)/x}<span class="code-keyword">var</span> b=o*g;<span class="code-keyword">if</span>(s=s*m+h*b,c=c*m+d*b,l=l*m+p*b,u=u*m+f*b,m===<span class="code-number">1</span>-o){<span class="code-keyword">var</span> w=<span class="code-number">1</span>/<span class="code-built_in">Math</span>.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}t[e]=s,t[e+<span class="code-number">1</span>]=c,t[e+<span class="code-number">2</span>]=l,t[e+<span class="code-number">3</span>]=u},t.multiplyQuaternionsFlat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=n[r],s=n[r+<span class="code-number">1</span>],c=n[r+<span class="code-number">2</span>],l=n[r+<span class="code-number">3</span>],u=i[a],h=i[a+<span class="code-number">1</span>],d=i[a+<span class="code-number">2</span>],p=i[a+<span class="code-number">3</span>];<span class="code-keyword">return</span> t[e]=o*p+l*u+s*d-c*h,t[e+<span class="code-number">1</span>]=s*p+l*h+c*u-o*d,t[e+<span class="code-number">2</span>]=c*p+l*d+o*h-s*u,t[e+<span class="code-number">3</span>]=l*p-o*u-s*h-c*d,t};<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t,<span class="code-keyword">this</span>._y=e,<span class="code-keyword">this</span>._z=n,<span class="code-keyword">this</span>._w=r,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>._x,<span class="code-keyword">this</span>._y,<span class="code-keyword">this</span>._z,<span class="code-keyword">this</span>._w)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t.x,<span class="code-keyword">this</span>._y=t.y,<span class="code-keyword">this</span>._z=t.z,<span class="code-keyword">this</span>._w=t.w,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromEuler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!t||!t.isEuler)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order."</span>);<span class="code-keyword">var</span> n=t._x,r=t._y,i=t._z,a=t._order,o=<span class="code-built_in">Math</span>.cos,s=<span class="code-built_in">Math</span>.sin,c=o(n/<span class="code-number">2</span>),l=o(r/<span class="code-number">2</span>),u=o(i/<span class="code-number">2</span>),h=s(n/<span class="code-number">2</span>),d=s(r/<span class="code-number">2</span>),p=s(i/<span class="code-number">2</span>);<span class="code-keyword">switch</span>(a){<span class="code-keyword">case</span><span class="code-string">"XYZ"</span>:<span class="code-keyword">this</span>._x=h*l*u+c*d*p,<span class="code-keyword">this</span>._y=c*d*u-h*l*p,<span class="code-keyword">this</span>._z=c*l*p+h*d*u,<span class="code-keyword">this</span>._w=c*l*u-h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YXZ"</span>:<span class="code-keyword">this</span>._x=h*l*u+c*d*p,<span class="code-keyword">this</span>._y=c*d*u-h*l*p,<span class="code-keyword">this</span>._z=c*l*p-h*d*u,<span class="code-keyword">this</span>._w=c*l*u+h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZXY"</span>:<span class="code-keyword">this</span>._x=h*l*u-c*d*p,<span class="code-keyword">this</span>._y=c*d*u+h*l*p,<span class="code-keyword">this</span>._z=c*l*p+h*d*u,<span class="code-keyword">this</span>._w=c*l*u-h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZYX"</span>:<span class="code-keyword">this</span>._x=h*l*u-c*d*p,<span class="code-keyword">this</span>._y=c*d*u+h*l*p,<span class="code-keyword">this</span>._z=c*l*p-h*d*u,<span class="code-keyword">this</span>._w=c*l*u+h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YZX"</span>:<span class="code-keyword">this</span>._x=h*l*u+c*d*p,<span class="code-keyword">this</span>._y=c*d*u+h*l*p,<span class="code-keyword">this</span>._z=c*l*p-h*d*u,<span class="code-keyword">this</span>._w=c*l*u-h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"XZY"</span>:<span class="code-keyword">this</span>._x=h*l*u-c*d*p,<span class="code-keyword">this</span>._y=c*d*u-h*l*p,<span class="code-keyword">this</span>._z=c*l*p+h*d*u,<span class="code-keyword">this</span>._w=c*l*u+h*d*p;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Quaternion: .setFromEuler() encountered an unknown order: "</span>+a)}<span class="code-keyword">return</span>!<span class="code-number">1</span>!==e&amp;&amp;<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromAxisAngle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=e/<span class="code-number">2</span>,r=<span class="code-built_in">Math</span>.sin(n);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t.x*r,<span class="code-keyword">this</span>._y=t.y*r,<span class="code-keyword">this</span>._z=t.z*r,<span class="code-keyword">this</span>._w=<span class="code-built_in">Math</span>.cos(n),<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromRotationMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.elements,n=e[<span class="code-number">0</span>],r=e[<span class="code-number">4</span>],i=e[<span class="code-number">8</span>],a=e[<span class="code-number">1</span>],o=e[<span class="code-number">5</span>],s=e[<span class="code-number">9</span>],c=e[<span class="code-number">2</span>],l=e[<span class="code-number">6</span>],u=e[<span class="code-number">10</span>],h=n+o+u;<span class="code-keyword">if</span>(h&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> d=<span class="code-number">.5</span>/<span class="code-built_in">Math</span>.sqrt(h+<span class="code-number">1</span>);<span class="code-keyword">this</span>._w=<span class="code-number">.25</span>/d,<span class="code-keyword">this</span>._x=(l-s)*d,<span class="code-keyword">this</span>._y=(i-c)*d,<span class="code-keyword">this</span>._z=(a-r)*d}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n&gt;o&amp;&amp;n&gt;u){<span class="code-keyword">var</span> p=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span>+n-o-u);<span class="code-keyword">this</span>._w=(l-s)/p,<span class="code-keyword">this</span>._x=<span class="code-number">.25</span>*p,<span class="code-keyword">this</span>._y=(r+a)/p,<span class="code-keyword">this</span>._z=(i+c)/p}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(o&gt;u){<span class="code-keyword">var</span> f=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span>+o-n-u);<span class="code-keyword">this</span>._w=(i-c)/f,<span class="code-keyword">this</span>._x=(r+a)/f,<span class="code-keyword">this</span>._y=<span class="code-number">.25</span>*f,<span class="code-keyword">this</span>._z=(s+l)/f}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> m=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.sqrt(<span class="code-number">1</span>+u-n-o);<span class="code-keyword">this</span>._w=(a-r)/m,<span class="code-keyword">this</span>._x=(i+c)/m,<span class="code-keyword">this</span>._y=(s+l)/m,<span class="code-keyword">this</span>._z=<span class="code-number">.25</span>*m}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromUnitVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.dot(e)+<span class="code-number">1</span>;<span class="code-keyword">return</span> n&lt;<span class="code-number">1e-6</span>?(n=<span class="code-number">0</span>,<span class="code-built_in">Math</span>.abs(t.x)&gt;<span class="code-built_in">Math</span>.abs(t.z)?(<span class="code-keyword">this</span>._x=-t.y,<span class="code-keyword">this</span>._y=t.x,<span class="code-keyword">this</span>._z=<span class="code-number">0</span>,<span class="code-keyword">this</span>._w=n):(<span class="code-keyword">this</span>._x=<span class="code-number">0</span>,<span class="code-keyword">this</span>._y=-t.z,<span class="code-keyword">this</span>._z=t.y,<span class="code-keyword">this</span>._w=n)):(<span class="code-keyword">this</span>._x=t.y*e.z-t.z*e.y,<span class="code-keyword">this</span>._y=t.z*e.x-t.x*e.z,<span class="code-keyword">this</span>._z=t.x*e.y-t.y*e.x,<span class="code-keyword">this</span>._w=n),<span class="code-keyword">this</span>.normalize()},e.angleTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">2</span>*<span class="code-built_in">Math</span>.acos(<span class="code-built_in">Math</span>.abs(st.clamp(<span class="code-keyword">this</span>.dot(t),<span class="code-number">-1</span>,<span class="code-number">1</span>)))},e.rotateTowards=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.angleTo(t);<span class="code-keyword">if</span>(<span class="code-number">0</span>===n)<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.min(<span class="code-number">1</span>,e/n);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.slerp(t,r),<span class="code-keyword">this</span>},e.identity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>)},e.invert=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.conjugate()},e.conjugate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x*=<span class="code-number">-1</span>,<span class="code-keyword">this</span>._y*=<span class="code-number">-1</span>,<span class="code-keyword">this</span>._z*=<span class="code-number">-1</span>,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.dot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x*t._x+<span class="code-keyword">this</span>._y*t._y+<span class="code-keyword">this</span>._z*t._z+<span class="code-keyword">this</span>._w*t._w},e.lengthSq=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x*<span class="code-keyword">this</span>._x+<span class="code-keyword">this</span>._y*<span class="code-keyword">this</span>._y+<span class="code-keyword">this</span>._z*<span class="code-keyword">this</span>._z+<span class="code-keyword">this</span>._w*<span class="code-keyword">this</span>._w},e.length=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>._x*<span class="code-keyword">this</span>._x+<span class="code-keyword">this</span>._y*<span class="code-keyword">this</span>._y+<span class="code-keyword">this</span>._z*<span class="code-keyword">this</span>._z+<span class="code-keyword">this</span>._w*<span class="code-keyword">this</span>._w)},e.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.length();<span class="code-keyword">return</span> <span class="code-number">0</span>===t?(<span class="code-keyword">this</span>._x=<span class="code-number">0</span>,<span class="code-keyword">this</span>._y=<span class="code-number">0</span>,<span class="code-keyword">this</span>._z=<span class="code-number">0</span>,<span class="code-keyword">this</span>._w=<span class="code-number">1</span>):(t=<span class="code-number">1</span>/t,<span class="code-keyword">this</span>._x=<span class="code-keyword">this</span>._x*t,<span class="code-keyword">this</span>._y=<span class="code-keyword">this</span>._y*t,<span class="code-keyword">this</span>._z=<span class="code-keyword">this</span>._z*t,<span class="code-keyword">this</span>._w=<span class="code-keyword">this</span>._w*t),<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."</span>),<span class="code-keyword">this</span>.multiplyQuaternions(t,e)):<span class="code-keyword">this</span>.multiplyQuaternions(<span class="code-keyword">this</span>,t)},e.premultiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyQuaternions(t,<span class="code-keyword">this</span>)},e.multiplyQuaternions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,c=e._z,l=e._w;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=n*l+a*o+r*c-i*s,<span class="code-keyword">this</span>._y=r*l+a*s+i*o-n*c,<span class="code-keyword">this</span>._z=i*l+a*c+n*s-r*o,<span class="code-keyword">this</span>._w=a*l-n*o-r*s-i*c,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.slerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-number">1</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copy(t);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._x,r=<span class="code-keyword">this</span>._y,i=<span class="code-keyword">this</span>._z,a=<span class="code-keyword">this</span>._w,o=a*t._w+n*t._x+r*t._y+i*t._z;<span class="code-keyword">if</span>(o&lt;<span class="code-number">0</span>?(<span class="code-keyword">this</span>._w=-t._w,<span class="code-keyword">this</span>._x=-t._x,<span class="code-keyword">this</span>._y=-t._y,<span class="code-keyword">this</span>._z=-t._z,o=-o):<span class="code-keyword">this</span>.copy(t),o&gt;=<span class="code-number">1</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>._w=a,<span class="code-keyword">this</span>._x=n,<span class="code-keyword">this</span>._y=r,<span class="code-keyword">this</span>._z=i,<span class="code-keyword">this</span>;<span class="code-keyword">var</span> s=<span class="code-number">1</span>-o*o;<span class="code-keyword">if</span>(s&lt;=<span class="code-built_in">Number</span>.EPSILON){<span class="code-keyword">var</span> c=<span class="code-number">1</span>-e;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._w=c*a+e*<span class="code-keyword">this</span>._w,<span class="code-keyword">this</span>._x=c*n+e*<span class="code-keyword">this</span>._x,<span class="code-keyword">this</span>._y=c*r+e*<span class="code-keyword">this</span>._y,<span class="code-keyword">this</span>._z=c*i+e*<span class="code-keyword">this</span>._z,<span class="code-keyword">this</span>.normalize(),<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>}<span class="code-keyword">var</span> l=<span class="code-built_in">Math</span>.sqrt(s),u=<span class="code-built_in">Math</span>.atan2(l,o),h=<span class="code-built_in">Math</span>.sin((<span class="code-number">1</span>-e)*u)/l,d=<span class="code-built_in">Math</span>.sin(e*u)/l;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._w=a*h+<span class="code-keyword">this</span>._w*d,<span class="code-keyword">this</span>._x=n*h+<span class="code-keyword">this</span>._x*d,<span class="code-keyword">this</span>._y=r*h+<span class="code-keyword">this</span>._y*d,<span class="code-keyword">this</span>._z=i*h+<span class="code-keyword">this</span>._z*d,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._x===<span class="code-keyword">this</span>._x&amp;&amp;t._y===<span class="code-keyword">this</span>._y&amp;&amp;t._z===<span class="code-keyword">this</span>._z&amp;&amp;t._w===<span class="code-keyword">this</span>._w},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>._x=t[e],<span class="code-keyword">this</span>._y=t[e+<span class="code-number">1</span>],<span class="code-keyword">this</span>._z=t[e+<span class="code-number">2</span>],<span class="code-keyword">this</span>._w=t[e+<span class="code-number">3</span>],<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>._x,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>._y,t[e+<span class="code-number">2</span>]=<span class="code-keyword">this</span>._z,t[e+<span class="code-number">3</span>]=<span class="code-keyword">this</span>._w,t},e.fromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t.getX(e),<span class="code-keyword">this</span>._y=t.getY(e),<span class="code-keyword">this</span>._z=t.getZ(e),<span class="code-keyword">this</span>._w=t.getW(e),<span class="code-keyword">this</span>},e._onChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._onChangeCallback=t,<span class="code-keyword">this</span>},e._onChangeCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},lt(t,[{<span class="code-attr">key</span>:<span class="code-string">"x"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._x=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"y"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._y},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._y=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"z"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._z},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._z=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"w"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._w},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._w=t,<span class="code-keyword">this</span>._onChangeCallback()}}]),t}(),Mt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isVector3"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>.z=n}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>.z=n,<span class="code-keyword">this</span>},e.setScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>.z=t,<span class="code-keyword">this</span>},e.setX=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t,<span class="code-keyword">this</span>},e.setY=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y=t,<span class="code-keyword">this</span>},e.setZ=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.z=t,<span class="code-keyword">this</span>},e.setComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">this</span>.x=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">this</span>.y=e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">this</span>.z=e;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.getComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.y;<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.z;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"index is out of range: "</span>+t)}},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y,<span class="code-keyword">this</span>.z)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x,<span class="code-keyword">this</span>.y=t.y,<span class="code-keyword">this</span>.z=t.z,<span class="code-keyword">this</span>},e.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.addVectors(t,e)):(<span class="code-keyword">this</span>.x+=t.x,<span class="code-keyword">this</span>.y+=t.y,<span class="code-keyword">this</span>.z+=t.z,<span class="code-keyword">this</span>)},e.addScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t,<span class="code-keyword">this</span>.y+=t,<span class="code-keyword">this</span>.z+=t,<span class="code-keyword">this</span>},e.addVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+e.x,<span class="code-keyword">this</span>.y=t.y+e.y,<span class="code-keyword">this</span>.z=t.z+e.z,<span class="code-keyword">this</span>},e.addScaledVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=t.x*e,<span class="code-keyword">this</span>.y+=t.y*e,<span class="code-keyword">this</span>.z+=t.z*e,<span class="code-keyword">this</span>},e.sub=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.subVectors(t,e)):(<span class="code-keyword">this</span>.x-=t.x,<span class="code-keyword">this</span>.y-=t.y,<span class="code-keyword">this</span>.z-=t.z,<span class="code-keyword">this</span>)},e.subScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x-=t,<span class="code-keyword">this</span>.y-=t,<span class="code-keyword">this</span>.z-=t,<span class="code-keyword">this</span>},e.subVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x-e.x,<span class="code-keyword">this</span>.y=t.y-e.y,<span class="code-keyword">this</span>.z=t.z-e.z,<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.multiplyVectors(t,e)):(<span class="code-keyword">this</span>.x*=t.x,<span class="code-keyword">this</span>.y*=t.y,<span class="code-keyword">this</span>.z*=t.z,<span class="code-keyword">this</span>)},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*=t,<span class="code-keyword">this</span>.y*=t,<span class="code-keyword">this</span>.z*=t,<span class="code-keyword">this</span>},e.multiplyVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x*e.x,<span class="code-keyword">this</span>.y=t.y*e.y,<span class="code-keyword">this</span>.z=t.z*e.z,<span class="code-keyword">this</span>},e.applyEuler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.isEuler||<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."</span>),<span class="code-keyword">this</span>.applyQuaternion(Tt.setFromEuler(t))},e.applyAxisAngle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.applyQuaternion(Tt.setFromAxisAngle(t,e))},e.applyMatrix3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=<span class="code-keyword">this</span>.z,i=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=i[<span class="code-number">0</span>]*e+i[<span class="code-number">3</span>]*n+i[<span class="code-number">6</span>]*r,<span class="code-keyword">this</span>.y=i[<span class="code-number">1</span>]*e+i[<span class="code-number">4</span>]*n+i[<span class="code-number">7</span>]*r,<span class="code-keyword">this</span>.z=i[<span class="code-number">2</span>]*e+i[<span class="code-number">5</span>]*n+i[<span class="code-number">8</span>]*r,<span class="code-keyword">this</span>},e.applyNormalMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.applyMatrix3(t).normalize()},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=<span class="code-keyword">this</span>.z,i=t.elements,a=<span class="code-number">1</span>/(i[<span class="code-number">3</span>]*e+i[<span class="code-number">7</span>]*n+i[<span class="code-number">11</span>]*r+i[<span class="code-number">15</span>]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=(i[<span class="code-number">0</span>]*e+i[<span class="code-number">4</span>]*n+i[<span class="code-number">8</span>]*r+i[<span class="code-number">12</span>])*a,<span class="code-keyword">this</span>.y=(i[<span class="code-number">1</span>]*e+i[<span class="code-number">5</span>]*n+i[<span class="code-number">9</span>]*r+i[<span class="code-number">13</span>])*a,<span class="code-keyword">this</span>.z=(i[<span class="code-number">2</span>]*e+i[<span class="code-number">6</span>]*n+i[<span class="code-number">10</span>]*r+i[<span class="code-number">14</span>])*a,<span class="code-keyword">this</span>},e.applyQuaternion=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=<span class="code-keyword">this</span>.z,i=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*r-o*n,l=s*n+o*e-i*r,u=s*r+i*n-a*e,h=-i*e-a*n-o*r;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=c*s+h*-i+l*-o-u*-a,<span class="code-keyword">this</span>.y=l*s+h*-a+u*-i-c*-o,<span class="code-keyword">this</span>.z=u*s+h*-o+c*-a-l*-i,<span class="code-keyword">this</span>},e.project=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},e.unproject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},e.transformDirection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x,n=<span class="code-keyword">this</span>.y,r=<span class="code-keyword">this</span>.z,i=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=i[<span class="code-number">0</span>]*e+i[<span class="code-number">4</span>]*n+i[<span class="code-number">8</span>]*r,<span class="code-keyword">this</span>.y=i[<span class="code-number">1</span>]*e+i[<span class="code-number">5</span>]*n+i[<span class="code-number">9</span>]*r,<span class="code-keyword">this</span>.z=i[<span class="code-number">2</span>]*e+i[<span class="code-number">6</span>]*n+i[<span class="code-number">10</span>]*r,<span class="code-keyword">this</span>.normalize()},e.divide=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x/=t.x,<span class="code-keyword">this</span>.y/=t.y,<span class="code-keyword">this</span>.z/=t.z,<span class="code-keyword">this</span>},e.divideScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyScalar(<span class="code-number">1</span>/t)},e.min=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.z,t.z),<span class="code-keyword">this</span>},e.max=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.x,t.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.y,t.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.z,t.z),<span class="code-keyword">this</span>},e.clamp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t.x,<span class="code-built_in">Math</span>.min(e.x,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t.y,<span class="code-built_in">Math</span>.min(e.y,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(t.z,<span class="code-built_in">Math</span>.min(e.z,<span class="code-keyword">this</span>.z)),<span class="code-keyword">this</span>},e.clampScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.x)),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.y)),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,<span class="code-keyword">this</span>.z)),<span class="code-keyword">this</span>},e.clampLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.length();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(n||<span class="code-number">1</span>).multiplyScalar(<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(e,n)))},e.floor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>},e.ceil=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>},e.round=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.round(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>},e.roundToZero=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-keyword">this</span>.x&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.x):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.x),<span class="code-keyword">this</span>.y=<span class="code-keyword">this</span>.y&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.y):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.y),<span class="code-keyword">this</span>.z=<span class="code-keyword">this</span>.z&lt;<span class="code-number">0</span>?<span class="code-built_in">Math</span>.ceil(<span class="code-keyword">this</span>.z):<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.z),<span class="code-keyword">this</span>},e.negate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=-<span class="code-keyword">this</span>.x,<span class="code-keyword">this</span>.y=-<span class="code-keyword">this</span>.y,<span class="code-keyword">this</span>.z=-<span class="code-keyword">this</span>.z,<span class="code-keyword">this</span>},e.dot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*t.x+<span class="code-keyword">this</span>.y*t.y+<span class="code-keyword">this</span>.z*t.z},e.lengthSq=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y+<span class="code-keyword">this</span>.z*<span class="code-keyword">this</span>.z},e.length=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.x*<span class="code-keyword">this</span>.x+<span class="code-keyword">this</span>.y*<span class="code-keyword">this</span>.y+<span class="code-keyword">this</span>.z*<span class="code-keyword">this</span>.z)},e.manhattanLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.z)},e.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.divideScalar(<span class="code-keyword">this</span>.length()||<span class="code-number">1</span>)},e.setLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normalize().multiplyScalar(t)},e.lerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x+=(t.x-<span class="code-keyword">this</span>.x)*e,<span class="code-keyword">this</span>.y+=(t.y-<span class="code-keyword">this</span>.y)*e,<span class="code-keyword">this</span>.z+=(t.z-<span class="code-keyword">this</span>.z)*e,<span class="code-keyword">this</span>},e.lerpVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t.x+(e.x-t.x)*n,<span class="code-keyword">this</span>.y=t.y+(e.y-t.y)*n,<span class="code-keyword">this</span>.z=t.z+(e.z-t.z)*n,<span class="code-keyword">this</span>},e.cross=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."</span>),<span class="code-keyword">this</span>.crossVectors(t,e)):<span class="code-keyword">this</span>.crossVectors(<span class="code-keyword">this</span>,t)},e.crossVectors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=r*s-i*o,<span class="code-keyword">this</span>.y=i*a-n*s,<span class="code-keyword">this</span>.z=n*o-r*a,<span class="code-keyword">this</span>},e.projectOnVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.lengthSq();<span class="code-keyword">if</span>(<span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> n=t.dot(<span class="code-keyword">this</span>)/e;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copy(t).multiplyScalar(n)},e.projectOnPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> St.copy(<span class="code-keyword">this</span>).projectOnVector(t),<span class="code-keyword">this</span>.sub(St)},e.reflect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.sub(St.copy(t).multiplyScalar(<span class="code-number">2</span>*<span class="code-keyword">this</span>.dot(t)))},e.angleTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.lengthSq()*t.lengthSq());<span class="code-keyword">if</span>(<span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.PI/<span class="code-number">2</span>;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.dot(t)/e;<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.acos(st.clamp(n,<span class="code-number">-1</span>,<span class="code-number">1</span>))},e.distanceTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.distanceToSquared(t))},e.distanceToSquared=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.x-t.x,n=<span class="code-keyword">this</span>.y-t.y,r=<span class="code-keyword">this</span>.z-t.z;<span class="code-keyword">return</span> e*e+n*n+r*r},e.manhattanDistanceTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.x-t.x)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.y-t.y)+<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.z-t.z)},e.setFromSpherical=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromSphericalCoords(t.radius,t.phi,t.theta)},e.setFromSphericalCoords=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.sin(e)*t;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=r*<span class="code-built_in">Math</span>.sin(n),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.cos(e)*t,<span class="code-keyword">this</span>.z=r*<span class="code-built_in">Math</span>.cos(n),<span class="code-keyword">this</span>},e.setFromCylindrical=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromCylindricalCoords(t.radius,t.theta,t.y)},e.setFromCylindricalCoords=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=t*<span class="code-built_in">Math</span>.sin(e),<span class="code-keyword">this</span>.y=n,<span class="code-keyword">this</span>.z=t*<span class="code-built_in">Math</span>.cos(e),<span class="code-keyword">this</span>},e.setFromMatrixPosition=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.elements;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=e[<span class="code-number">12</span>],<span class="code-keyword">this</span>.y=e[<span class="code-number">13</span>],<span class="code-keyword">this</span>.z=e[<span class="code-number">14</span>],<span class="code-keyword">this</span>},e.setFromMatrixScale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.setFromMatrixColumn(t,<span class="code-number">0</span>).length(),n=<span class="code-keyword">this</span>.setFromMatrixColumn(t,<span class="code-number">1</span>).length(),r=<span class="code-keyword">this</span>.setFromMatrixColumn(t,<span class="code-number">2</span>).length();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=e,<span class="code-keyword">this</span>.y=n,<span class="code-keyword">this</span>.z=r,<span class="code-keyword">this</span>},e.setFromMatrixColumn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fromArray(t.elements,<span class="code-number">4</span>*e)},e.setFromMatrix3Column=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fromArray(t.elements,<span class="code-number">3</span>*e)},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.x===<span class="code-keyword">this</span>.x&amp;&amp;t.y===<span class="code-keyword">this</span>.y&amp;&amp;t.z===<span class="code-keyword">this</span>.z},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.x=t[e],<span class="code-keyword">this</span>.y=t[e+<span class="code-number">1</span>],<span class="code-keyword">this</span>.z=t[e+<span class="code-number">2</span>],<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>.x,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>.y,t[e+<span class="code-number">2</span>]=<span class="code-keyword">this</span>.z,t},e.fromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: offset has been removed from .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.x=t.getX(e),<span class="code-keyword">this</span>.y=t.getY(e),<span class="code-keyword">this</span>.z=t.getZ(e),<span class="code-keyword">this</span>},e.random=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.x=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.y=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>.z=<span class="code-built_in">Math</span>.random(),<span class="code-keyword">this</span>},t}(),St=<span class="code-keyword">new</span> Mt,Tt=<span class="code-keyword">new</span> wt,Et=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isBox3"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.min=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>),<span class="code-keyword">this</span>.max=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-number">-1</span>/<span class="code-number">0</span>)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t),<span class="code-keyword">this</span>.max.copy(e),<span class="code-keyword">this</span>},e.setFromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>/<span class="code-number">0</span>,n=<span class="code-number">1</span>/<span class="code-number">0</span>,r=<span class="code-number">1</span>/<span class="code-number">0</span>,i=<span class="code-number">-1</span>/<span class="code-number">0</span>,a=<span class="code-number">-1</span>/<span class="code-number">0</span>,o=<span class="code-number">-1</span>/<span class="code-number">0</span>,s=<span class="code-number">0</span>,c=t.length;s&lt;c;s+=<span class="code-number">3</span>){<span class="code-keyword">var</span> l=t[s],u=t[s+<span class="code-number">1</span>],h=t[s+<span class="code-number">2</span>];l&lt;e&amp;&amp;(e=l),u&lt;n&amp;&amp;(n=u),h&lt;r&amp;&amp;(r=h),l&gt;i&amp;&amp;(i=l),u&gt;a&amp;&amp;(a=u),h&gt;o&amp;&amp;(o=h)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.set(e,n,r),<span class="code-keyword">this</span>.max.set(i,a,o),<span class="code-keyword">this</span>},e.setFromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>/<span class="code-number">0</span>,n=<span class="code-number">1</span>/<span class="code-number">0</span>,r=<span class="code-number">1</span>/<span class="code-number">0</span>,i=<span class="code-number">-1</span>/<span class="code-number">0</span>,a=<span class="code-number">-1</span>/<span class="code-number">0</span>,o=<span class="code-number">-1</span>/<span class="code-number">0</span>,s=<span class="code-number">0</span>,c=t.count;s&lt;c;s++){<span class="code-keyword">var</span> l=t.getX(s),u=t.getY(s),h=t.getZ(s);l&lt;e&amp;&amp;(e=l),u&lt;n&amp;&amp;(n=u),h&lt;r&amp;&amp;(r=h),l&gt;i&amp;&amp;(i=l),u&gt;a&amp;&amp;(a=u),h&gt;o&amp;&amp;(o=h)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.set(e,n,r),<span class="code-keyword">this</span>.max.set(i,a,o),<span class="code-keyword">this</span>},e.setFromPoints=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.makeEmpty();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.length;e&lt;n;e++)<span class="code-keyword">this</span>.expandByPoint(t[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.setFromCenterAndSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Rt.copy(e).multiplyScalar(<span class="code-number">.5</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t).sub(n),<span class="code-keyword">this</span>.max.copy(t).add(n),<span class="code-keyword">this</span>},e.setFromObject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.makeEmpty(),<span class="code-keyword">this</span>.expandByObject(t)},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t.min),<span class="code-keyword">this</span>.max.copy(t.max),<span class="code-keyword">this</span>},e.makeEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.x=<span class="code-keyword">this</span>.min.y=<span class="code-keyword">this</span>.min.z=<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>.max.x=<span class="code-keyword">this</span>.max.y=<span class="code-keyword">this</span>.max.z=<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>},e.isEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.max.x&lt;<span class="code-keyword">this</span>.min.x||<span class="code-keyword">this</span>.max.y&lt;<span class="code-keyword">this</span>.min.y||<span class="code-keyword">this</span>.max.z&lt;<span class="code-keyword">this</span>.min.z},e.getCenter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .getCenter() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.isEmpty()?t.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>):t.addVectors(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max).multiplyScalar(<span class="code-number">.5</span>)},e.getSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .getSize() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.isEmpty()?t.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>):t.subVectors(<span class="code-keyword">this</span>.max,<span class="code-keyword">this</span>.min)},e.expandByPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.min(t),<span class="code-keyword">this</span>.max.max(t),<span class="code-keyword">this</span>},e.expandByVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.sub(t),<span class="code-keyword">this</span>.max.add(t),<span class="code-keyword">this</span>},e.expandByScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.addScalar(-t),<span class="code-keyword">this</span>.max.addScalar(t),<span class="code-keyword">this</span>},e.expandByObject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.updateWorldMatrix(!<span class="code-number">1</span>,!<span class="code-number">1</span>);<span class="code-keyword">var</span> e=t.geometry;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(<span class="code-literal">null</span>===e.boundingBox&amp;&amp;e.computeBoundingBox(),Ct.copy(e.boundingBox),Ct.applyMatrix4(t.matrixWorld),<span class="code-keyword">this</span>.union(Ct));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=t.children,r=<span class="code-number">0</span>,i=n.length;r&lt;i;r++)<span class="code-keyword">this</span>.expandByObject(n[r]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(t.x&lt;<span class="code-keyword">this</span>.min.x||t.x&gt;<span class="code-keyword">this</span>.max.x||t.y&lt;<span class="code-keyword">this</span>.min.y||t.y&gt;<span class="code-keyword">this</span>.max.y||t.z&lt;<span class="code-keyword">this</span>.min.z||t.z&gt;<span class="code-keyword">this</span>.max.z)},e.containsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=<span class="code-keyword">this</span>.max.x&amp;&amp;<span class="code-keyword">this</span>.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=<span class="code-keyword">this</span>.max.y&amp;&amp;<span class="code-keyword">this</span>.min.z&lt;=t.min.z&amp;&amp;t.max.z&lt;=<span class="code-keyword">this</span>.max.z},e.getParameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .getParameter() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.set((t.x-<span class="code-keyword">this</span>.min.x)/(<span class="code-keyword">this</span>.max.x-<span class="code-keyword">this</span>.min.x),(t.y-<span class="code-keyword">this</span>.min.y)/(<span class="code-keyword">this</span>.max.y-<span class="code-keyword">this</span>.min.y),(t.z-<span class="code-keyword">this</span>.min.z)/(<span class="code-keyword">this</span>.max.z-<span class="code-keyword">this</span>.min.z))},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(t.max.x&lt;<span class="code-keyword">this</span>.min.x||t.min.x&gt;<span class="code-keyword">this</span>.max.x||t.max.y&lt;<span class="code-keyword">this</span>.min.y||t.min.y&gt;<span class="code-keyword">this</span>.max.y||t.max.z&lt;<span class="code-keyword">this</span>.min.z||t.min.z&gt;<span class="code-keyword">this</span>.max.z)},e.intersectsSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clampPoint(t.center,Rt),Rt.distanceToSquared(t.center)&lt;=t.radius*t.radius},e.intersectsPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n;<span class="code-keyword">return</span> t.normal.x&gt;<span class="code-number">0</span>?(e=t.normal.x*<span class="code-keyword">this</span>.min.x,n=t.normal.x*<span class="code-keyword">this</span>.max.x):(e=t.normal.x*<span class="code-keyword">this</span>.max.x,n=t.normal.x*<span class="code-keyword">this</span>.min.x),t.normal.y&gt;<span class="code-number">0</span>?(e+=t.normal.y*<span class="code-keyword">this</span>.min.y,n+=t.normal.y*<span class="code-keyword">this</span>.max.y):(e+=t.normal.y*<span class="code-keyword">this</span>.max.y,n+=t.normal.y*<span class="code-keyword">this</span>.min.y),t.normal.z&gt;<span class="code-number">0</span>?(e+=t.normal.z*<span class="code-keyword">this</span>.min.z,n+=t.normal.z*<span class="code-keyword">this</span>.max.z):(e+=t.normal.z*<span class="code-keyword">this</span>.max.z,n+=t.normal.z*<span class="code-keyword">this</span>.min.z),e&lt;=-t.constant&amp;&amp;n&gt;=-t.constant},e.intersectsTriangle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.isEmpty())<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">this</span>.getCenter(zt),Ut.subVectors(<span class="code-keyword">this</span>.max,zt),Pt.subVectors(t.a,zt),It.subVectors(t.b,zt),Nt.subVectors(t.c,zt),Dt.subVectors(It,Pt),Ot.subVectors(Nt,It),Bt.subVectors(Pt,Nt);<span class="code-keyword">var</span> e=[<span class="code-number">0</span>,-Dt.z,Dt.y,<span class="code-number">0</span>,-Ot.z,Ot.y,<span class="code-number">0</span>,-Bt.z,Bt.y,Dt.z,<span class="code-number">0</span>,-Dt.x,Ot.z,<span class="code-number">0</span>,-Ot.x,Bt.z,<span class="code-number">0</span>,-Bt.x,-Dt.y,Dt.x,<span class="code-number">0</span>,-Ot.y,Ot.x,<span class="code-number">0</span>,-Bt.y,Bt.x,<span class="code-number">0</span>];<span class="code-keyword">return</span>!!At(e,Pt,It,Nt,Ut)&amp;&amp;(!!At(e=[<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>],Pt,It,Nt,Ut)&amp;&amp;(Ft.crossVectors(Dt,Ot),At(e=[Ft.x,Ft.y,Ft.z],Pt,It,Nt,Ut)))},e.clampPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .clampPoint() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.copy(t).clamp(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max)},e.distanceToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Rt.copy(t).clamp(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max).sub(t).length()},e.getBoundingSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Box3: .getBoundingSphere() target is now required"</span>),<span class="code-keyword">this</span>.getCenter(t.center),t.radius=<span class="code-number">.5</span>*<span class="code-keyword">this</span>.getSize(Rt).length(),t},e.intersect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.max(t.min),<span class="code-keyword">this</span>.max.min(t.max),<span class="code-keyword">this</span>.isEmpty()&amp;&amp;<span class="code-keyword">this</span>.makeEmpty(),<span class="code-keyword">this</span>},e.union=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.min(t.min),<span class="code-keyword">this</span>.max.max(t.max),<span class="code-keyword">this</span>},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isEmpty()||(Lt[<span class="code-number">0</span>].set(<span class="code-keyword">this</span>.min.x,<span class="code-keyword">this</span>.min.y,<span class="code-keyword">this</span>.min.z).applyMatrix4(t),Lt[<span class="code-number">1</span>].set(<span class="code-keyword">this</span>.min.x,<span class="code-keyword">this</span>.min.y,<span class="code-keyword">this</span>.max.z).applyMatrix4(t),Lt[<span class="code-number">2</span>].set(<span class="code-keyword">this</span>.min.x,<span class="code-keyword">this</span>.max.y,<span class="code-keyword">this</span>.min.z).applyMatrix4(t),Lt[<span class="code-number">3</span>].set(<span class="code-keyword">this</span>.min.x,<span class="code-keyword">this</span>.max.y,<span class="code-keyword">this</span>.max.z).applyMatrix4(t),Lt[<span class="code-number">4</span>].set(<span class="code-keyword">this</span>.max.x,<span class="code-keyword">this</span>.min.y,<span class="code-keyword">this</span>.min.z).applyMatrix4(t),Lt[<span class="code-number">5</span>].set(<span class="code-keyword">this</span>.max.x,<span class="code-keyword">this</span>.min.y,<span class="code-keyword">this</span>.max.z).applyMatrix4(t),Lt[<span class="code-number">6</span>].set(<span class="code-keyword">this</span>.max.x,<span class="code-keyword">this</span>.max.y,<span class="code-keyword">this</span>.min.z).applyMatrix4(t),Lt[<span class="code-number">7</span>].set(<span class="code-keyword">this</span>.max.x,<span class="code-keyword">this</span>.max.y,<span class="code-keyword">this</span>.max.z).applyMatrix4(t),<span class="code-keyword">this</span>.setFromPoints(Lt)),<span class="code-keyword">this</span>},e.translate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.add(t),<span class="code-keyword">this</span>.max.add(t),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.min.equals(<span class="code-keyword">this</span>.min)&amp;&amp;t.max.equals(<span class="code-keyword">this</span>.max)},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">At</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=t.length<span class="code-number">-3</span>;a&lt;=o;a+=<span class="code-number">3</span>){Gt.fromArray(t,a);<span class="code-keyword">var</span> s=i.x*<span class="code-built_in">Math</span>.abs(Gt.x)+i.y*<span class="code-built_in">Math</span>.abs(Gt.y)+i.z*<span class="code-built_in">Math</span>.abs(Gt.z),c=e.dot(Gt),l=n.dot(Gt),u=r.dot(Gt);<span class="code-keyword">if</span>(<span class="code-built_in">Math</span>.max(-<span class="code-built_in">Math</span>.max(c,l,u),<span class="code-built_in">Math</span>.min(c,l,u))&gt;s)<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">var</span> Lt=[<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt,<span class="code-keyword">new</span> Mt],Rt=<span class="code-keyword">new</span> Mt,Ct=<span class="code-keyword">new</span> Et,Pt=<span class="code-keyword">new</span> Mt,It=<span class="code-keyword">new</span> Mt,Nt=<span class="code-keyword">new</span> Mt,Dt=<span class="code-keyword">new</span> Mt,Ot=<span class="code-keyword">new</span> Mt,Bt=<span class="code-keyword">new</span> Mt,zt=<span class="code-keyword">new</span> Mt,Ut=<span class="code-keyword">new</span> Mt,Ft=<span class="code-keyword">new</span> Mt,Gt=<span class="code-keyword">new</span> Mt,Ht=<span class="code-keyword">new</span> Et,kt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.center=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.radius=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">-1</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.center.copy(t),<span class="code-keyword">this</span>.radius=e,<span class="code-keyword">this</span>},e.setFromPoints=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.center;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?n.copy(e):Ht.setFromPoints(t).getCenter(n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++)r=<span class="code-built_in">Math</span>.max(r,n.distanceToSquared(t[i]));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=<span class="code-built_in">Math</span>.sqrt(r),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.center.copy(t.center),<span class="code-keyword">this</span>.radius=t.radius,<span class="code-keyword">this</span>},e.isEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius&lt;<span class="code-number">0</span>},e.makeEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.center.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>.radius=<span class="code-number">-1</span>,<span class="code-keyword">this</span>},e.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.distanceToSquared(<span class="code-keyword">this</span>.center)&lt;=<span class="code-keyword">this</span>.radius*<span class="code-keyword">this</span>.radius},e.distanceToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.distanceTo(<span class="code-keyword">this</span>.center)-<span class="code-keyword">this</span>.radius},e.intersectsSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.radius+t.radius;<span class="code-keyword">return</span> t.center.distanceToSquared(<span class="code-keyword">this</span>.center)&lt;=e*e},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.intersectsSphere(<span class="code-keyword">this</span>)},e.intersectsPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(t.distanceToPoint(<span class="code-keyword">this</span>.center))&lt;=<span class="code-keyword">this</span>.radius},e.clampPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.center.distanceToSquared(t);<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Sphere: .clampPoint() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.copy(t),n&gt;<span class="code-keyword">this</span>.radius*<span class="code-keyword">this</span>.radius&amp;&amp;(e.sub(<span class="code-keyword">this</span>.center).normalize(),e.multiplyScalar(<span class="code-keyword">this</span>.radius).add(<span class="code-keyword">this</span>.center)),e},e.getBoundingBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Sphere: .getBoundingBox() target is now required"</span>),t=<span class="code-keyword">new</span> Et),<span class="code-keyword">this</span>.isEmpty()?(t.makeEmpty(),t):(t.set(<span class="code-keyword">this</span>.center,<span class="code-keyword">this</span>.center),t.expandByScalar(<span class="code-keyword">this</span>.radius),t)},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.center.applyMatrix4(t),<span class="code-keyword">this</span>.radius=<span class="code-keyword">this</span>.radius*t.getMaxScaleOnAxis(),<span class="code-keyword">this</span>},e.translate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.center.add(t),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.center.equals(<span class="code-keyword">this</span>.center)&amp;&amp;t.radius===<span class="code-keyword">this</span>.radius},t}(),Vt=<span class="code-keyword">new</span> Mt,Wt=<span class="code-keyword">new</span> Mt,jt=<span class="code-keyword">new</span> Mt,qt=<span class="code-keyword">new</span> Mt,Xt=<span class="code-keyword">new</span> Mt,Yt=<span class="code-keyword">new</span> Mt,Zt=<span class="code-keyword">new</span> Mt,Jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.origin=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.direction=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.origin.copy(t),<span class="code-keyword">this</span>.direction.copy(e),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.origin.copy(t.origin),<span class="code-keyword">this</span>.direction.copy(t.direction),<span class="code-keyword">this</span>},e.at=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Ray: .at() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.copy(<span class="code-keyword">this</span>.direction).multiplyScalar(t).add(<span class="code-keyword">this</span>.origin)},e.lookAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.direction.copy(t).sub(<span class="code-keyword">this</span>.origin).normalize(),<span class="code-keyword">this</span>},e.recast=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.origin.copy(<span class="code-keyword">this</span>.at(t,Vt)),<span class="code-keyword">this</span>},e.closestPointToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Ray: .closestPointToPoint() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.subVectors(t,<span class="code-keyword">this</span>.origin);<span class="code-keyword">var</span> n=e.dot(<span class="code-keyword">this</span>.direction);<span class="code-keyword">return</span> n&lt;<span class="code-number">0</span>?e.copy(<span class="code-keyword">this</span>.origin):e.copy(<span class="code-keyword">this</span>.direction).multiplyScalar(n).add(<span class="code-keyword">this</span>.origin)},e.distanceToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-keyword">this</span>.distanceSqToPoint(t))},e.distanceSqToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Vt.subVectors(t,<span class="code-keyword">this</span>.origin).dot(<span class="code-keyword">this</span>.direction);<span class="code-keyword">return</span> e&lt;<span class="code-number">0</span>?<span class="code-keyword">this</span>.origin.distanceToSquared(t):(Vt.copy(<span class="code-keyword">this</span>.direction).multiplyScalar(e).add(<span class="code-keyword">this</span>.origin),Vt.distanceToSquared(t))},e.distanceSqToSegment=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{Wt.copy(t).add(e).multiplyScalar(<span class="code-number">.5</span>),jt.copy(e).sub(t).normalize(),qt.copy(<span class="code-keyword">this</span>.origin).sub(Wt);<span class="code-keyword">var</span> i,a,o,s,c=<span class="code-number">.5</span>*t.distanceTo(e),l=-<span class="code-keyword">this</span>.direction.dot(jt),u=qt.dot(<span class="code-keyword">this</span>.direction),h=-qt.dot(jt),d=qt.lengthSq(),p=<span class="code-built_in">Math</span>.abs(<span class="code-number">1</span>-l*l);<span class="code-keyword">if</span>(p&gt;<span class="code-number">0</span>)<span class="code-keyword">if</span>(a=l*u-h,s=c*p,(i=l*h-u)&gt;=<span class="code-number">0</span>)<span class="code-keyword">if</span>(a&gt;=-s)<span class="code-keyword">if</span>(a&lt;=s){<span class="code-keyword">var</span> f=<span class="code-number">1</span>/p;o=(i*=f)*(i+l*(a*=f)+<span class="code-number">2</span>*u)+a*(l*i+a+<span class="code-number">2</span>*h)+d}<span class="code-keyword">else</span> a=c,o=-(i=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,-(l*a+u)))*i+a*(a+<span class="code-number">2</span>*h)+d;<span class="code-keyword">else</span> a=-c,o=-(i=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,-(l*a+u)))*i+a*(a+<span class="code-number">2</span>*h)+d;<span class="code-keyword">else</span> a&lt;=-s?o=-(i=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,-(-l*c+u)))*i+(a=i&gt;<span class="code-number">0</span>?-c:<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(-c,-h),c))*(a+<span class="code-number">2</span>*h)+d:a&lt;=s?(i=<span class="code-number">0</span>,o=(a=<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(-c,-h),c))*(a+<span class="code-number">2</span>*h)+d):o=-(i=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,-(l*c+u)))*i+(a=i&gt;<span class="code-number">0</span>?c:<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(-c,-h),c))*(a+<span class="code-number">2</span>*h)+d;<span class="code-keyword">else</span> a=l&gt;<span class="code-number">0</span>?-c:c,o=-(i=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,-(l*a+u)))*i+a*(a+<span class="code-number">2</span>*h)+d;<span class="code-keyword">return</span> n&amp;&amp;n.copy(<span class="code-keyword">this</span>.direction).multiplyScalar(i).add(<span class="code-keyword">this</span>.origin),r&amp;&amp;r.copy(jt).multiplyScalar(a).add(Wt),o},e.intersectSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{Vt.subVectors(t.center,<span class="code-keyword">this</span>.origin);<span class="code-keyword">var</span> n=Vt.dot(<span class="code-keyword">this</span>.direction),r=Vt.dot(Vt)-n*n,i=t.radius*t.radius;<span class="code-keyword">if</span>(r&gt;i)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> a=<span class="code-built_in">Math</span>.sqrt(i-r),o=n-a,s=n+a;<span class="code-keyword">return</span> o&lt;<span class="code-number">0</span>&amp;&amp;s&lt;<span class="code-number">0</span>?<span class="code-literal">null</span>:o&lt;<span class="code-number">0</span>?<span class="code-keyword">this</span>.at(s,e):<span class="code-keyword">this</span>.at(o,e)},e.intersectsSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.distanceSqToPoint(t.center)&lt;=t.radius*t.radius},e.distanceToPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.normal.dot(<span class="code-keyword">this</span>.direction);<span class="code-keyword">if</span>(<span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-number">0</span>===t.distanceToPoint(<span class="code-keyword">this</span>.origin)?<span class="code-number">0</span>:<span class="code-literal">null</span>;<span class="code-keyword">var</span> n=-(<span class="code-keyword">this</span>.origin.dot(t.normal)+t.constant)/e;<span class="code-keyword">return</span> n&gt;=<span class="code-number">0</span>?n:<span class="code-literal">null</span>},e.intersectPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.distanceToPlane(t);<span class="code-keyword">return</span> <span class="code-literal">null</span>===n?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.at(n,e)},e.intersectsPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.distanceToPoint(<span class="code-keyword">this</span>.origin);<span class="code-keyword">return</span> <span class="code-number">0</span>===e||t.normal.dot(<span class="code-keyword">this</span>.direction)*e&lt;<span class="code-number">0</span>},e.intersectBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r,i,a,o,s,c=<span class="code-number">1</span>/<span class="code-keyword">this</span>.direction.x,l=<span class="code-number">1</span>/<span class="code-keyword">this</span>.direction.y,u=<span class="code-number">1</span>/<span class="code-keyword">this</span>.direction.z,h=<span class="code-keyword">this</span>.origin;<span class="code-keyword">return</span> c&gt;=<span class="code-number">0</span>?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),l&gt;=<span class="code-number">0</span>?(i=(t.min.y-h.y)*l,a=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,a=(t.min.y-h.y)*l),n&gt;a||i&gt;r?<span class="code-literal">null</span>:((i&gt;n||n!=n)&amp;&amp;(n=i),(a&lt;r||r!=r)&amp;&amp;(r=a),u&gt;=<span class="code-number">0</span>?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n&gt;s||o&gt;r?<span class="code-literal">null</span>:((o&gt;n||n!=n)&amp;&amp;(n=o),(s&lt;r||r!=r)&amp;&amp;(r=s),r&lt;<span class="code-number">0</span>?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.at(n&gt;=<span class="code-number">0</span>?n:r,e)))},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.intersectBox(t,Vt)},e.intersectTriangle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{Xt.subVectors(e,t),Yt.subVectors(n,t),Zt.crossVectors(Xt,Yt);<span class="code-keyword">var</span> a,o=<span class="code-keyword">this</span>.direction.dot(Zt);<span class="code-keyword">if</span>(o&gt;<span class="code-number">0</span>){<span class="code-keyword">if</span>(r)<span class="code-keyword">return</span> <span class="code-literal">null</span>;a=<span class="code-number">1</span>}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(o&lt;<span class="code-number">0</span>))<span class="code-keyword">return</span> <span class="code-literal">null</span>;a=<span class="code-number">-1</span>,o=-o}qt.subVectors(<span class="code-keyword">this</span>.origin,t);<span class="code-keyword">var</span> s=a*<span class="code-keyword">this</span>.direction.dot(Yt.crossVectors(qt,Yt));<span class="code-keyword">if</span>(s&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> c=a*<span class="code-keyword">this</span>.direction.dot(Xt.cross(qt));<span class="code-keyword">if</span>(c&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(s+c&gt;o)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> l=-a*qt.dot(Zt);<span class="code-keyword">return</span> l&lt;<span class="code-number">0</span>?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.at(l/o,i)},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.origin.applyMatrix4(t),<span class="code-keyword">this</span>.direction.transformDirection(t),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.origin.equals(<span class="code-keyword">this</span>.origin)&amp;&amp;t.direction.equals(<span class="code-keyword">this</span>.direction)},t}(),Qt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isMatrix4"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.elements=[<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>],<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead."</span>)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l,u,h,d,p,f,m</span>)</span>{<span class="code-keyword">var</span> v=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> v[<span class="code-number">0</span>]=t,v[<span class="code-number">4</span>]=e,v[<span class="code-number">8</span>]=n,v[<span class="code-number">12</span>]=r,v[<span class="code-number">1</span>]=i,v[<span class="code-number">5</span>]=a,v[<span class="code-number">9</span>]=o,v[<span class="code-number">13</span>]=s,v[<span class="code-number">2</span>]=c,v[<span class="code-number">6</span>]=l,v[<span class="code-number">10</span>]=u,v[<span class="code-number">14</span>]=h,v[<span class="code-number">3</span>]=d,v[<span class="code-number">7</span>]=p,v[<span class="code-number">11</span>]=f,v[<span class="code-number">15</span>]=m,<span class="code-keyword">this</span>},e.identity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> t).fromArray(<span class="code-keyword">this</span>.elements)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements;<span class="code-keyword">return</span> e[<span class="code-number">0</span>]=n[<span class="code-number">0</span>],e[<span class="code-number">1</span>]=n[<span class="code-number">1</span>],e[<span class="code-number">2</span>]=n[<span class="code-number">2</span>],e[<span class="code-number">3</span>]=n[<span class="code-number">3</span>],e[<span class="code-number">4</span>]=n[<span class="code-number">4</span>],e[<span class="code-number">5</span>]=n[<span class="code-number">5</span>],e[<span class="code-number">6</span>]=n[<span class="code-number">6</span>],e[<span class="code-number">7</span>]=n[<span class="code-number">7</span>],e[<span class="code-number">8</span>]=n[<span class="code-number">8</span>],e[<span class="code-number">9</span>]=n[<span class="code-number">9</span>],e[<span class="code-number">10</span>]=n[<span class="code-number">10</span>],e[<span class="code-number">11</span>]=n[<span class="code-number">11</span>],e[<span class="code-number">12</span>]=n[<span class="code-number">12</span>],e[<span class="code-number">13</span>]=n[<span class="code-number">13</span>],e[<span class="code-number">14</span>]=n[<span class="code-number">14</span>],e[<span class="code-number">15</span>]=n[<span class="code-number">15</span>],<span class="code-keyword">this</span>},e.copyPosition=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements;<span class="code-keyword">return</span> e[<span class="code-number">12</span>]=n[<span class="code-number">12</span>],e[<span class="code-number">13</span>]=n[<span class="code-number">13</span>],e[<span class="code-number">14</span>]=n[<span class="code-number">14</span>],<span class="code-keyword">this</span>},e.extractBasis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t.setFromMatrixColumn(<span class="code-keyword">this</span>,<span class="code-number">0</span>),e.setFromMatrixColumn(<span class="code-keyword">this</span>,<span class="code-number">1</span>),n.setFromMatrixColumn(<span class="code-keyword">this</span>,<span class="code-number">2</span>),<span class="code-keyword">this</span>},e.makeBasis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(t.x,e.x,n.x,<span class="code-number">0</span>,t.y,e.y,n.y,<span class="code-number">0</span>,t.z,e.z,n.z,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.extractRotation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements,r=<span class="code-number">1</span>/Kt.setFromMatrixColumn(t,<span class="code-number">0</span>).length(),i=<span class="code-number">1</span>/Kt.setFromMatrixColumn(t,<span class="code-number">1</span>).length(),a=<span class="code-number">1</span>/Kt.setFromMatrixColumn(t,<span class="code-number">2</span>).length();<span class="code-keyword">return</span> e[<span class="code-number">0</span>]=n[<span class="code-number">0</span>]*r,e[<span class="code-number">1</span>]=n[<span class="code-number">1</span>]*r,e[<span class="code-number">2</span>]=n[<span class="code-number">2</span>]*r,e[<span class="code-number">3</span>]=<span class="code-number">0</span>,e[<span class="code-number">4</span>]=n[<span class="code-number">4</span>]*i,e[<span class="code-number">5</span>]=n[<span class="code-number">5</span>]*i,e[<span class="code-number">6</span>]=n[<span class="code-number">6</span>]*i,e[<span class="code-number">7</span>]=<span class="code-number">0</span>,e[<span class="code-number">8</span>]=n[<span class="code-number">8</span>]*a,e[<span class="code-number">9</span>]=n[<span class="code-number">9</span>]*a,e[<span class="code-number">10</span>]=n[<span class="code-number">10</span>]*a,e[<span class="code-number">11</span>]=<span class="code-number">0</span>,e[<span class="code-number">12</span>]=<span class="code-number">0</span>,e[<span class="code-number">13</span>]=<span class="code-number">0</span>,e[<span class="code-number">14</span>]=<span class="code-number">0</span>,e[<span class="code-number">15</span>]=<span class="code-number">1</span>,<span class="code-keyword">this</span>},e.makeRotationFromEuler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t&amp;&amp;t.isEuler||<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order."</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.x,r=t.y,i=t.z,a=<span class="code-built_in">Math</span>.cos(n),o=<span class="code-built_in">Math</span>.sin(n),s=<span class="code-built_in">Math</span>.cos(r),c=<span class="code-built_in">Math</span>.sin(r),l=<span class="code-built_in">Math</span>.cos(i),u=<span class="code-built_in">Math</span>.sin(i);<span class="code-keyword">if</span>(<span class="code-string">"XYZ"</span>===t.order){<span class="code-keyword">var</span> h=a*l,d=a*u,p=o*l,f=o*u;e[<span class="code-number">0</span>]=s*l,e[<span class="code-number">4</span>]=-s*u,e[<span class="code-number">8</span>]=c,e[<span class="code-number">1</span>]=d+p*c,e[<span class="code-number">5</span>]=h-f*c,e[<span class="code-number">9</span>]=-o*s,e[<span class="code-number">2</span>]=f-h*c,e[<span class="code-number">6</span>]=p+d*c,e[<span class="code-number">10</span>]=a*s}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"YXZ"</span>===t.order){<span class="code-keyword">var</span> m=s*l,v=s*u,g=c*l,y=c*u;e[<span class="code-number">0</span>]=m+y*o,e[<span class="code-number">4</span>]=g*o-v,e[<span class="code-number">8</span>]=a*c,e[<span class="code-number">1</span>]=a*u,e[<span class="code-number">5</span>]=a*l,e[<span class="code-number">9</span>]=-o,e[<span class="code-number">2</span>]=v*o-g,e[<span class="code-number">6</span>]=y+m*o,e[<span class="code-number">10</span>]=a*s}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"ZXY"</span>===t.order){<span class="code-keyword">var</span> x=s*l,_=s*u,b=c*l,w=c*u;e[<span class="code-number">0</span>]=x-w*o,e[<span class="code-number">4</span>]=-a*u,e[<span class="code-number">8</span>]=b+_*o,e[<span class="code-number">1</span>]=_+b*o,e[<span class="code-number">5</span>]=a*l,e[<span class="code-number">9</span>]=w-x*o,e[<span class="code-number">2</span>]=-a*c,e[<span class="code-number">6</span>]=o,e[<span class="code-number">10</span>]=a*s}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"ZYX"</span>===t.order){<span class="code-keyword">var</span> M=a*l,S=a*u,T=o*l,E=o*u;e[<span class="code-number">0</span>]=s*l,e[<span class="code-number">4</span>]=T*c-S,e[<span class="code-number">8</span>]=M*c+E,e[<span class="code-number">1</span>]=s*u,e[<span class="code-number">5</span>]=E*c+M,e[<span class="code-number">9</span>]=S*c-T,e[<span class="code-number">2</span>]=-c,e[<span class="code-number">6</span>]=o*s,e[<span class="code-number">10</span>]=a*s}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"YZX"</span>===t.order){<span class="code-keyword">var</span> A=a*s,L=a*c,R=o*s,C=o*c;e[<span class="code-number">0</span>]=s*l,e[<span class="code-number">4</span>]=C-A*u,e[<span class="code-number">8</span>]=R*u+L,e[<span class="code-number">1</span>]=u,e[<span class="code-number">5</span>]=a*l,e[<span class="code-number">9</span>]=-o*l,e[<span class="code-number">2</span>]=-c*l,e[<span class="code-number">6</span>]=L*u+R,e[<span class="code-number">10</span>]=A-C*u}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"XZY"</span>===t.order){<span class="code-keyword">var</span> P=a*s,I=a*c,N=o*s,D=o*c;e[<span class="code-number">0</span>]=s*l,e[<span class="code-number">4</span>]=-u,e[<span class="code-number">8</span>]=c*l,e[<span class="code-number">1</span>]=P*u+D,e[<span class="code-number">5</span>]=a*l,e[<span class="code-number">9</span>]=I*u-N,e[<span class="code-number">2</span>]=N*u-I,e[<span class="code-number">6</span>]=o*l,e[<span class="code-number">10</span>]=D*u+P}<span class="code-keyword">return</span> e[<span class="code-number">3</span>]=<span class="code-number">0</span>,e[<span class="code-number">7</span>]=<span class="code-number">0</span>,e[<span class="code-number">11</span>]=<span class="code-number">0</span>,e[<span class="code-number">12</span>]=<span class="code-number">0</span>,e[<span class="code-number">13</span>]=<span class="code-number">0</span>,e[<span class="code-number">14</span>]=<span class="code-number">0</span>,e[<span class="code-number">15</span>]=<span class="code-number">1</span>,<span class="code-keyword">this</span>},e.makeRotationFromQuaternion=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.compose(te,t,ee)},e.lookAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> ie.subVectors(t,e),<span class="code-number">0</span>===ie.lengthSq()&amp;&amp;(ie.z=<span class="code-number">1</span>),ie.normalize(),ne.crossVectors(n,ie),<span class="code-number">0</span>===ne.lengthSq()&amp;&amp;(<span class="code-number">1</span>===<span class="code-built_in">Math</span>.abs(n.z)?ie.x+=<span class="code-number">1e-4</span>:ie.z+=<span class="code-number">1e-4</span>,ie.normalize(),ne.crossVectors(n,ie)),ne.normalize(),re.crossVectors(ie,ne),r[<span class="code-number">0</span>]=ne.x,r[<span class="code-number">4</span>]=re.x,r[<span class="code-number">8</span>]=ie.x,r[<span class="code-number">1</span>]=ne.y,r[<span class="code-number">5</span>]=re.y,r[<span class="code-number">9</span>]=ie.y,r[<span class="code-number">2</span>]=ne.z,r[<span class="code-number">6</span>]=re.z,r[<span class="code-number">10</span>]=ie.z,<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."</span>),<span class="code-keyword">this</span>.multiplyMatrices(t,e)):<span class="code-keyword">this</span>.multiplyMatrices(<span class="code-keyword">this</span>,t)},e.premultiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.multiplyMatrices(t,<span class="code-keyword">this</span>)},e.multiplyMatrices=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.elements,r=e.elements,i=<span class="code-keyword">this</span>.elements,a=n[<span class="code-number">0</span>],o=n[<span class="code-number">4</span>],s=n[<span class="code-number">8</span>],c=n[<span class="code-number">12</span>],l=n[<span class="code-number">1</span>],u=n[<span class="code-number">5</span>],h=n[<span class="code-number">9</span>],d=n[<span class="code-number">13</span>],p=n[<span class="code-number">2</span>],f=n[<span class="code-number">6</span>],m=n[<span class="code-number">10</span>],v=n[<span class="code-number">14</span>],g=n[<span class="code-number">3</span>],y=n[<span class="code-number">7</span>],x=n[<span class="code-number">11</span>],_=n[<span class="code-number">15</span>],b=r[<span class="code-number">0</span>],w=r[<span class="code-number">4</span>],M=r[<span class="code-number">8</span>],S=r[<span class="code-number">12</span>],T=r[<span class="code-number">1</span>],E=r[<span class="code-number">5</span>],A=r[<span class="code-number">9</span>],L=r[<span class="code-number">13</span>],R=r[<span class="code-number">2</span>],C=r[<span class="code-number">6</span>],P=r[<span class="code-number">10</span>],I=r[<span class="code-number">14</span>],N=r[<span class="code-number">3</span>],D=r[<span class="code-number">7</span>],O=r[<span class="code-number">11</span>],B=r[<span class="code-number">15</span>];<span class="code-keyword">return</span> i[<span class="code-number">0</span>]=a*b+o*T+s*R+c*N,i[<span class="code-number">4</span>]=a*w+o*E+s*C+c*D,i[<span class="code-number">8</span>]=a*M+o*A+s*P+c*O,i[<span class="code-number">12</span>]=a*S+o*L+s*I+c*B,i[<span class="code-number">1</span>]=l*b+u*T+h*R+d*N,i[<span class="code-number">5</span>]=l*w+u*E+h*C+d*D,i[<span class="code-number">9</span>]=l*M+u*A+h*P+d*O,i[<span class="code-number">13</span>]=l*S+u*L+h*I+d*B,i[<span class="code-number">2</span>]=p*b+f*T+m*R+v*N,i[<span class="code-number">6</span>]=p*w+f*E+m*C+v*D,i[<span class="code-number">10</span>]=p*M+f*A+m*P+v*O,i[<span class="code-number">14</span>]=p*S+f*L+m*I+v*B,i[<span class="code-number">3</span>]=g*b+y*T+x*R+_*N,i[<span class="code-number">7</span>]=g*w+y*E+x*C+_*D,i[<span class="code-number">11</span>]=g*M+y*A+x*P+_*O,i[<span class="code-number">15</span>]=g*S+y*L+x*I+_*B,<span class="code-keyword">this</span>},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> e[<span class="code-number">0</span>]*=t,e[<span class="code-number">4</span>]*=t,e[<span class="code-number">8</span>]*=t,e[<span class="code-number">12</span>]*=t,e[<span class="code-number">1</span>]*=t,e[<span class="code-number">5</span>]*=t,e[<span class="code-number">9</span>]*=t,e[<span class="code-number">13</span>]*=t,e[<span class="code-number">2</span>]*=t,e[<span class="code-number">6</span>]*=t,e[<span class="code-number">10</span>]*=t,e[<span class="code-number">14</span>]*=t,e[<span class="code-number">3</span>]*=t,e[<span class="code-number">7</span>]*=t,e[<span class="code-number">11</span>]*=t,e[<span class="code-number">15</span>]*=t,<span class="code-keyword">this</span>},e.determinant=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.elements,e=t[<span class="code-number">0</span>],n=t[<span class="code-number">4</span>],r=t[<span class="code-number">8</span>],i=t[<span class="code-number">12</span>],a=t[<span class="code-number">1</span>],o=t[<span class="code-number">5</span>],s=t[<span class="code-number">9</span>],c=t[<span class="code-number">13</span>],l=t[<span class="code-number">2</span>],u=t[<span class="code-number">6</span>],h=t[<span class="code-number">10</span>],d=t[<span class="code-number">14</span>];<span class="code-keyword">return</span> t[<span class="code-number">3</span>]*(+i*s*u-r*c*u-i*o*h+n*c*h+r*o*d-n*s*d)+t[<span class="code-number">7</span>]*(+e*s*d-e*c*h+i*a*h-r*a*d+r*c*l-i*s*l)+t[<span class="code-number">11</span>]*(+e*c*u-e*o*d-i*a*u+n*a*d+i*o*l-n*c*l)+t[<span class="code-number">15</span>]*(-r*o*l-e*s*u+e*o*h+r*a*u-n*a*h+n*s*l)},e.transpose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,e=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t=e[<span class="code-number">1</span>],e[<span class="code-number">1</span>]=e[<span class="code-number">4</span>],e[<span class="code-number">4</span>]=t,t=e[<span class="code-number">2</span>],e[<span class="code-number">2</span>]=e[<span class="code-number">8</span>],e[<span class="code-number">8</span>]=t,t=e[<span class="code-number">6</span>],e[<span class="code-number">6</span>]=e[<span class="code-number">9</span>],e[<span class="code-number">9</span>]=t,t=e[<span class="code-number">3</span>],e[<span class="code-number">3</span>]=e[<span class="code-number">12</span>],e[<span class="code-number">12</span>]=t,t=e[<span class="code-number">7</span>],e[<span class="code-number">7</span>]=e[<span class="code-number">13</span>],e[<span class="code-number">13</span>]=t,t=e[<span class="code-number">11</span>],e[<span class="code-number">11</span>]=e[<span class="code-number">14</span>],e[<span class="code-number">14</span>]=t,<span class="code-keyword">this</span>},e.setPosition=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t.isVector3?(r[<span class="code-number">12</span>]=t.x,r[<span class="code-number">13</span>]=t.y,r[<span class="code-number">14</span>]=t.z):(r[<span class="code-number">12</span>]=t,r[<span class="code-number">13</span>]=e,r[<span class="code-number">14</span>]=n),<span class="code-keyword">this</span>},e.invert=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.elements,e=t[<span class="code-number">0</span>],n=t[<span class="code-number">1</span>],r=t[<span class="code-number">2</span>],i=t[<span class="code-number">3</span>],a=t[<span class="code-number">4</span>],o=t[<span class="code-number">5</span>],s=t[<span class="code-number">6</span>],c=t[<span class="code-number">7</span>],l=t[<span class="code-number">8</span>],u=t[<span class="code-number">9</span>],h=t[<span class="code-number">10</span>],d=t[<span class="code-number">11</span>],p=t[<span class="code-number">12</span>],f=t[<span class="code-number">13</span>],m=t[<span class="code-number">14</span>],v=t[<span class="code-number">15</span>],g=u*m*c-f*h*c+f*s*d-o*m*d-u*s*v+o*h*v,y=p*h*c-l*m*c-p*s*d+a*m*d+l*s*v-a*h*v,x=l*f*c-p*u*c+p*o*d-a*f*d-l*o*v+a*u*v,_=p*u*s-l*f*s-p*o*h+a*f*h+l*o*m-a*u*m,b=e*g+n*y+r*x+i*_;<span class="code-keyword">if</span>(<span class="code-number">0</span>===b)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> w=<span class="code-number">1</span>/b;<span class="code-keyword">return</span> t[<span class="code-number">0</span>]=g*w,t[<span class="code-number">1</span>]=(f*h*i-u*m*i-f*r*d+n*m*d+u*r*v-n*h*v)*w,t[<span class="code-number">2</span>]=(o*m*i-f*s*i+f*r*c-n*m*c-o*r*v+n*s*v)*w,t[<span class="code-number">3</span>]=(u*s*i-o*h*i-u*r*c+n*h*c+o*r*d-n*s*d)*w,t[<span class="code-number">4</span>]=y*w,t[<span class="code-number">5</span>]=(l*m*i-p*h*i+p*r*d-e*m*d-l*r*v+e*h*v)*w,t[<span class="code-number">6</span>]=(p*s*i-a*m*i-p*r*c+e*m*c+a*r*v-e*s*v)*w,t[<span class="code-number">7</span>]=(a*h*i-l*s*i+l*r*c-e*h*c-a*r*d+e*s*d)*w,t[<span class="code-number">8</span>]=x*w,t[<span class="code-number">9</span>]=(p*u*i-l*f*i-p*n*d+e*f*d+l*n*v-e*u*v)*w,t[<span class="code-number">10</span>]=(a*f*i-p*o*i+p*n*c-e*f*c-a*n*v+e*o*v)*w,t[<span class="code-number">11</span>]=(l*o*i-a*u*i-l*n*c+e*u*c+a*n*d-e*o*d)*w,t[<span class="code-number">12</span>]=_*w,t[<span class="code-number">13</span>]=(l*f*r-p*u*r+p*n*h-e*f*h-l*n*m+e*u*m)*w,t[<span class="code-number">14</span>]=(p*o*r-a*f*r-p*n*s+e*f*s+a*n*m-e*o*m)*w,t[<span class="code-number">15</span>]=(a*u*r-l*o*r+l*n*s-e*u*s-a*n*h+e*o*h)*w,<span class="code-keyword">this</span>},e.scale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.x,r=t.y,i=t.z;<span class="code-keyword">return</span> e[<span class="code-number">0</span>]*=n,e[<span class="code-number">4</span>]*=r,e[<span class="code-number">8</span>]*=i,e[<span class="code-number">1</span>]*=n,e[<span class="code-number">5</span>]*=r,e[<span class="code-number">9</span>]*=i,e[<span class="code-number">2</span>]*=n,e[<span class="code-number">6</span>]*=r,e[<span class="code-number">10</span>]*=i,e[<span class="code-number">3</span>]*=n,e[<span class="code-number">7</span>]*=r,e[<span class="code-number">11</span>]*=i,<span class="code-keyword">this</span>},e.getMaxScaleOnAxis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.elements,e=t[<span class="code-number">0</span>]*t[<span class="code-number">0</span>]+t[<span class="code-number">1</span>]*t[<span class="code-number">1</span>]+t[<span class="code-number">2</span>]*t[<span class="code-number">2</span>],n=t[<span class="code-number">4</span>]*t[<span class="code-number">4</span>]+t[<span class="code-number">5</span>]*t[<span class="code-number">5</span>]+t[<span class="code-number">6</span>]*t[<span class="code-number">6</span>],r=t[<span class="code-number">8</span>]*t[<span class="code-number">8</span>]+t[<span class="code-number">9</span>]*t[<span class="code-number">9</span>]+t[<span class="code-number">10</span>]*t[<span class="code-number">10</span>];<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.sqrt(<span class="code-built_in">Math</span>.max(e,n,r))},e.makeTranslation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,t,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,n,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeRotationX=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.cos(t),n=<span class="code-built_in">Math</span>.sin(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e,-n,<span class="code-number">0</span>,<span class="code-number">0</span>,n,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeRotationY=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.cos(t),n=<span class="code-built_in">Math</span>.sin(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(e,<span class="code-number">0</span>,n,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,-n,<span class="code-number">0</span>,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeRotationZ=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.cos(t),n=<span class="code-built_in">Math</span>.sin(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(e,-n,<span class="code-number">0</span>,<span class="code-number">0</span>,n,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeRotationAxis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-built_in">Math</span>.cos(e),r=<span class="code-built_in">Math</span>.sin(e),i=<span class="code-number">1</span>-n,a=t.x,o=t.y,s=t.z,c=i*a,l=i*o;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(c*a+n,c*o-r*s,c*s+r*o,<span class="code-number">0</span>,c*o+r*s,l*o+n,l*s-r*a,<span class="code-number">0</span>,c*s-r*o,l*s+r*a,i*s*s+n,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeScale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(t,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,n,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.makeShear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(<span class="code-number">1</span>,e,n,<span class="code-number">0</span>,t,<span class="code-number">1</span>,n,<span class="code-number">0</span>,t,e,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>},e.compose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.elements,i=e._x,a=e._y,o=e._z,s=e._w,c=i+i,l=a+a,u=o+o,h=i*c,d=i*l,p=i*u,f=a*l,m=a*u,v=o*u,g=s*c,y=s*l,x=s*u,_=n.x,b=n.y,w=n.z;<span class="code-keyword">return</span> r[<span class="code-number">0</span>]=(<span class="code-number">1</span>-(f+v))*_,r[<span class="code-number">1</span>]=(d+x)*_,r[<span class="code-number">2</span>]=(p-y)*_,r[<span class="code-number">3</span>]=<span class="code-number">0</span>,r[<span class="code-number">4</span>]=(d-x)*b,r[<span class="code-number">5</span>]=(<span class="code-number">1</span>-(h+v))*b,r[<span class="code-number">6</span>]=(m+g)*b,r[<span class="code-number">7</span>]=<span class="code-number">0</span>,r[<span class="code-number">8</span>]=(p+y)*w,r[<span class="code-number">9</span>]=(m-g)*w,r[<span class="code-number">10</span>]=(<span class="code-number">1</span>-(h+f))*w,r[<span class="code-number">11</span>]=<span class="code-number">0</span>,r[<span class="code-number">12</span>]=t.x,r[<span class="code-number">13</span>]=t.y,r[<span class="code-number">14</span>]=t.z,r[<span class="code-number">15</span>]=<span class="code-number">1</span>,<span class="code-keyword">this</span>},e.decompose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.elements,i=Kt.set(r[<span class="code-number">0</span>],r[<span class="code-number">1</span>],r[<span class="code-number">2</span>]).length(),a=Kt.set(r[<span class="code-number">4</span>],r[<span class="code-number">5</span>],r[<span class="code-number">6</span>]).length(),o=Kt.set(r[<span class="code-number">8</span>],r[<span class="code-number">9</span>],r[<span class="code-number">10</span>]).length();<span class="code-keyword">this</span>.determinant()&lt;<span class="code-number">0</span>&amp;&amp;(i=-i),t.x=r[<span class="code-number">12</span>],t.y=r[<span class="code-number">13</span>],t.z=r[<span class="code-number">14</span>],$t.copy(<span class="code-keyword">this</span>);<span class="code-keyword">var</span> s=<span class="code-number">1</span>/i,c=<span class="code-number">1</span>/a,l=<span class="code-number">1</span>/o;<span class="code-keyword">return</span> $t.elements[<span class="code-number">0</span>]*=s,$t.elements[<span class="code-number">1</span>]*=s,$t.elements[<span class="code-number">2</span>]*=s,$t.elements[<span class="code-number">4</span>]*=c,$t.elements[<span class="code-number">5</span>]*=c,$t.elements[<span class="code-number">6</span>]*=c,$t.elements[<span class="code-number">8</span>]*=l,$t.elements[<span class="code-number">9</span>]*=l,$t.elements[<span class="code-number">10</span>]*=l,e.setFromRotationMatrix($t),n.x=i,n.y=a,n.z=o,<span class="code-keyword">this</span>},e.makePerspective=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs."</span>);<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.elements,s=<span class="code-number">2</span>*i/(e-t),c=<span class="code-number">2</span>*i/(n-r),l=(e+t)/(e-t),u=(n+r)/(n-r),h=-(a+i)/(a-i),d=<span class="code-number">-2</span>*a*i/(a-i);<span class="code-keyword">return</span> o[<span class="code-number">0</span>]=s,o[<span class="code-number">4</span>]=<span class="code-number">0</span>,o[<span class="code-number">8</span>]=l,o[<span class="code-number">12</span>]=<span class="code-number">0</span>,o[<span class="code-number">1</span>]=<span class="code-number">0</span>,o[<span class="code-number">5</span>]=c,o[<span class="code-number">9</span>]=u,o[<span class="code-number">13</span>]=<span class="code-number">0</span>,o[<span class="code-number">2</span>]=<span class="code-number">0</span>,o[<span class="code-number">6</span>]=<span class="code-number">0</span>,o[<span class="code-number">10</span>]=h,o[<span class="code-number">14</span>]=d,o[<span class="code-number">3</span>]=<span class="code-number">0</span>,o[<span class="code-number">7</span>]=<span class="code-number">0</span>,o[<span class="code-number">11</span>]=<span class="code-number">-1</span>,o[<span class="code-number">15</span>]=<span class="code-number">0</span>,<span class="code-keyword">this</span>},e.makeOrthographic=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.elements,s=<span class="code-number">1</span>/(e-t),c=<span class="code-number">1</span>/(n-r),l=<span class="code-number">1</span>/(a-i),u=(e+t)*s,h=(n+r)*c,d=(a+i)*l;<span class="code-keyword">return</span> o[<span class="code-number">0</span>]=<span class="code-number">2</span>*s,o[<span class="code-number">4</span>]=<span class="code-number">0</span>,o[<span class="code-number">8</span>]=<span class="code-number">0</span>,o[<span class="code-number">12</span>]=-u,o[<span class="code-number">1</span>]=<span class="code-number">0</span>,o[<span class="code-number">5</span>]=<span class="code-number">2</span>*c,o[<span class="code-number">9</span>]=<span class="code-number">0</span>,o[<span class="code-number">13</span>]=-h,o[<span class="code-number">2</span>]=<span class="code-number">0</span>,o[<span class="code-number">6</span>]=<span class="code-number">0</span>,o[<span class="code-number">10</span>]=<span class="code-number">-2</span>*l,o[<span class="code-number">14</span>]=-d,o[<span class="code-number">3</span>]=<span class="code-number">0</span>,o[<span class="code-number">7</span>]=<span class="code-number">0</span>,o[<span class="code-number">11</span>]=<span class="code-number">0</span>,o[<span class="code-number">15</span>]=<span class="code-number">1</span>,<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.elements,n=t.elements,r=<span class="code-number">0</span>;r&lt;<span class="code-number">16</span>;r++)<span class="code-keyword">if</span>(e[r]!==n[r])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;<span class="code-number">16</span>;n++)<span class="code-keyword">this</span>.elements[n]=t[n+e];<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.elements;<span class="code-keyword">return</span> t[e]=n[<span class="code-number">0</span>],t[e+<span class="code-number">1</span>]=n[<span class="code-number">1</span>],t[e+<span class="code-number">2</span>]=n[<span class="code-number">2</span>],t[e+<span class="code-number">3</span>]=n[<span class="code-number">3</span>],t[e+<span class="code-number">4</span>]=n[<span class="code-number">4</span>],t[e+<span class="code-number">5</span>]=n[<span class="code-number">5</span>],t[e+<span class="code-number">6</span>]=n[<span class="code-number">6</span>],t[e+<span class="code-number">7</span>]=n[<span class="code-number">7</span>],t[e+<span class="code-number">8</span>]=n[<span class="code-number">8</span>],t[e+<span class="code-number">9</span>]=n[<span class="code-number">9</span>],t[e+<span class="code-number">10</span>]=n[<span class="code-number">10</span>],t[e+<span class="code-number">11</span>]=n[<span class="code-number">11</span>],t[e+<span class="code-number">12</span>]=n[<span class="code-number">12</span>],t[e+<span class="code-number">13</span>]=n[<span class="code-number">13</span>],t[e+<span class="code-number">14</span>]=n[<span class="code-number">14</span>],t[e+<span class="code-number">15</span>]=n[<span class="code-number">15</span>],t},t}(),Kt=<span class="code-keyword">new</span> Mt,$t=<span class="code-keyword">new</span> Qt,te=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),ee=<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),ne=<span class="code-keyword">new</span> Mt,re=<span class="code-keyword">new</span> Mt,ie=<span class="code-keyword">new</span> Mt,ae=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=t.DefaultOrder),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isEuler"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>._x=e,<span class="code-keyword">this</span>._y=n,<span class="code-keyword">this</span>._z=r,<span class="code-keyword">this</span>._order=i}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t,<span class="code-keyword">this</span>._y=e,<span class="code-keyword">this</span>._z=n,<span class="code-keyword">this</span>._order=r||<span class="code-keyword">this</span>._order,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>._x,<span class="code-keyword">this</span>._y,<span class="code-keyword">this</span>._z,<span class="code-keyword">this</span>._order)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t._x,<span class="code-keyword">this</span>._y=t._y,<span class="code-keyword">this</span>._z=t._z,<span class="code-keyword">this</span>._order=t._order,<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromRotationMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=st.clamp,i=t.elements,a=i[<span class="code-number">0</span>],o=i[<span class="code-number">4</span>],s=i[<span class="code-number">8</span>],c=i[<span class="code-number">1</span>],l=i[<span class="code-number">5</span>],u=i[<span class="code-number">9</span>],h=i[<span class="code-number">2</span>],d=i[<span class="code-number">6</span>],p=i[<span class="code-number">10</span>];<span class="code-keyword">switch</span>(e=e||<span class="code-keyword">this</span>._order){<span class="code-keyword">case</span><span class="code-string">"XYZ"</span>:<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.asin(r(s,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(s)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(-u,p),<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(-o,a)):(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(d,l),<span class="code-keyword">this</span>._z=<span class="code-number">0</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YXZ"</span>:<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.asin(-r(u,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(u)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(s,p),<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(c,l)):(<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(-h,a),<span class="code-keyword">this</span>._z=<span class="code-number">0</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZXY"</span>:<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.asin(r(d,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(d)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(-h,p),<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(-o,l)):(<span class="code-keyword">this</span>._y=<span class="code-number">0</span>,<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(c,a));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ZYX"</span>:<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.asin(-r(h,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(h)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(d,p),<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(c,a)):(<span class="code-keyword">this</span>._x=<span class="code-number">0</span>,<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.atan2(-o,l));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"YZX"</span>:<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.asin(r(c,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(c)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(-u,l),<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(-h,a)):(<span class="code-keyword">this</span>._x=<span class="code-number">0</span>,<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(s,p));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"XZY"</span>:<span class="code-keyword">this</span>._z=<span class="code-built_in">Math</span>.asin(-r(o,<span class="code-number">-1</span>,<span class="code-number">1</span>)),<span class="code-built_in">Math</span>.abs(o)&lt;<span class="code-number">.9999999</span>?(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(d,l),<span class="code-keyword">this</span>._y=<span class="code-built_in">Math</span>.atan2(s,a)):(<span class="code-keyword">this</span>._x=<span class="code-built_in">Math</span>.atan2(-u,p),<span class="code-keyword">this</span>._y=<span class="code-number">0</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "</span>+e)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._order=e,!<span class="code-number">1</span>!==n&amp;&amp;<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.setFromQuaternion=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> oe.makeRotationFromQuaternion(t),<span class="code-keyword">this</span>.setFromRotationMatrix(oe,e,n)},e.setFromVector3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(t.x,t.y,t.z,e||<span class="code-keyword">this</span>._order)},e.reorder=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> se.setFromEuler(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.setFromQuaternion(se,t)},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t._x===<span class="code-keyword">this</span>._x&amp;&amp;t._y===<span class="code-keyword">this</span>._y&amp;&amp;t._z===<span class="code-keyword">this</span>._z&amp;&amp;t._order===<span class="code-keyword">this</span>._order},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x=t[<span class="code-number">0</span>],<span class="code-keyword">this</span>._y=t[<span class="code-number">1</span>],<span class="code-keyword">this</span>._z=t[<span class="code-number">2</span>],<span class="code-keyword">void</span> <span class="code-number">0</span>!==t[<span class="code-number">3</span>]&amp;&amp;(<span class="code-keyword">this</span>._order=t[<span class="code-number">3</span>]),<span class="code-keyword">this</span>._onChangeCallback(),<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>._x,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>._y,t[e+<span class="code-number">2</span>]=<span class="code-keyword">this</span>._z,t[e+<span class="code-number">3</span>]=<span class="code-keyword">this</span>._order,t},e.toVector3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t?t.set(<span class="code-keyword">this</span>._x,<span class="code-keyword">this</span>._y,<span class="code-keyword">this</span>._z):<span class="code-keyword">new</span> Mt(<span class="code-keyword">this</span>._x,<span class="code-keyword">this</span>._y,<span class="code-keyword">this</span>._z)},e._onChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._onChangeCallback=t,<span class="code-keyword">this</span>},e._onChangeCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},lt(t,[{<span class="code-attr">key</span>:<span class="code-string">"x"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._x},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._x=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"y"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._y},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._y=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"z"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._z},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._z=t,<span class="code-keyword">this</span>._onChangeCallback()}},{<span class="code-attr">key</span>:<span class="code-string">"order"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._order},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._order=t,<span class="code-keyword">this</span>._onChangeCallback()}}]),t}();ae.DefaultOrder=<span class="code-string">"XYZ"</span>,ae.RotationOrders=[<span class="code-string">"XYZ"</span>,<span class="code-string">"YZX"</span>,<span class="code-string">"ZXY"</span>,<span class="code-string">"XZY"</span>,<span class="code-string">"YXZ"</span>,<span class="code-string">"ZYX"</span>];<span class="code-keyword">var</span> oe=<span class="code-keyword">new</span> Qt,se=<span class="code-keyword">new</span> wt,ce=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mask=<span class="code-number">1</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.mask=<span class="code-number">1</span>&lt;&lt;t|<span class="code-number">0</span>},e.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.mask|=<span class="code-number">1</span>&lt;&lt;t|<span class="code-number">0</span>},e.enableAll=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mask=<span class="code-number">-1</span>},e.toggle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.mask^=<span class="code-number">1</span>&lt;&lt;t|<span class="code-number">0</span>},e.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.mask&amp;=~(<span class="code-number">1</span>&lt;&lt;t|<span class="code-number">0</span>)},e.disableAll=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mask=<span class="code-number">0</span>},e.test=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>!=(<span class="code-keyword">this</span>.mask&amp;t.mask)},t}(),le=<span class="code-number">0</span>,ue=<span class="code-keyword">new</span> Mt,he=<span class="code-keyword">new</span> wt,de=<span class="code-keyword">new</span> Qt,pe=<span class="code-keyword">new</span> Mt,fe=<span class="code-keyword">new</span> Mt,me=<span class="code-keyword">new</span> Mt,ve=<span class="code-keyword">new</span> wt,ge=<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),ye=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),xe=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),_e={<span class="code-attr">type</span>:<span class="code-string">"added"</span>},be={<span class="code-attr">type</span>:<span class="code-string">"removed"</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">we</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"id"</span>,{<span class="code-attr">value</span>:le++}),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.type=<span class="code-string">"Object3D"</span>,<span class="code-keyword">this</span>.parent=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.children=[],<span class="code-keyword">this</span>.up=we.DefaultUp.clone();<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Mt,e=<span class="code-keyword">new</span> ae,n=<span class="code-keyword">new</span> wt,r=<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>);e._onChange((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.setFromEuler(e,!<span class="code-number">1</span>)})),n._onChange((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.setFromQuaternion(n,<span class="code-keyword">void</span> <span class="code-number">0</span>,!<span class="code-number">1</span>)})),<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>,{<span class="code-attr">position</span>:{<span class="code-attr">configurable</span>:!<span class="code-number">0</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:t},<span class="code-attr">rotation</span>:{<span class="code-attr">configurable</span>:!<span class="code-number">0</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:e},<span class="code-attr">quaternion</span>:{<span class="code-attr">configurable</span>:!<span class="code-number">0</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:n},<span class="code-attr">scale</span>:{<span class="code-attr">configurable</span>:!<span class="code-number">0</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:r},<span class="code-attr">modelViewMatrix</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> Qt},<span class="code-attr">normalMatrix</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft}}),<span class="code-keyword">this</span>.matrix=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.matrixWorld=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.matrixAutoUpdate=we.DefaultMatrixAutoUpdate,<span class="code-keyword">this</span>.matrixWorldNeedsUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.layers=<span class="code-keyword">new</span> ce,<span class="code-keyword">this</span>.visible=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.castShadow=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.receiveShadow=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.frustumCulled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.renderOrder=<span class="code-number">0</span>,<span class="code-keyword">this</span>.animations=[],<span class="code-keyword">this</span>.userData={}}we.DefaultUp=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),we.DefaultMatrixAutoUpdate=!<span class="code-number">0</span>,we.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:we,<span class="code-attr">isObject3D</span>:!<span class="code-number">0</span>,<span class="code-attr">onBeforeRender</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">onAfterRender</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">applyMatrix4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.matrixAutoUpdate&amp;&amp;<span class="code-keyword">this</span>.updateMatrix(),<span class="code-keyword">this</span>.matrix.premultiply(t),<span class="code-keyword">this</span>.matrix.decompose(<span class="code-keyword">this</span>.position,<span class="code-keyword">this</span>.quaternion,<span class="code-keyword">this</span>.scale)},<span class="code-attr">applyQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.quaternion.premultiply(t),<span class="code-keyword">this</span>},<span class="code-attr">setRotationFromAxisAngle</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.quaternion.setFromAxisAngle(t,e)},<span class="code-attr">setRotationFromEuler</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.quaternion.setFromEuler(t,!<span class="code-number">0</span>)},<span class="code-attr">setRotationFromMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.quaternion.setFromRotationMatrix(t)},<span class="code-attr">setRotationFromQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.quaternion.copy(t)},<span class="code-attr">rotateOnAxis</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> he.setFromAxisAngle(t,e),<span class="code-keyword">this</span>.quaternion.multiply(he),<span class="code-keyword">this</span>},<span class="code-attr">rotateOnWorldAxis</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> he.setFromAxisAngle(t,e),<span class="code-keyword">this</span>.quaternion.premultiply(he),<span class="code-keyword">this</span>},<span class="code-attr">rotateX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.rotateOnAxis(ge,t)},<span class="code-attr">rotateY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.rotateOnAxis(ye,t)},<span class="code-attr">rotateZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.rotateOnAxis(xe,t)},<span class="code-attr">translateOnAxis</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> ue.copy(t).applyQuaternion(<span class="code-keyword">this</span>.quaternion),<span class="code-keyword">this</span>.position.add(ue.multiplyScalar(e)),<span class="code-keyword">this</span>},<span class="code-attr">translateX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.translateOnAxis(ge,t)},<span class="code-attr">translateY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.translateOnAxis(ye,t)},<span class="code-attr">translateZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.translateOnAxis(xe,t)},<span class="code-attr">localToWorld</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.applyMatrix4(<span class="code-keyword">this</span>.matrixWorld)},<span class="code-attr">worldToLocal</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.applyMatrix4(de.copy(<span class="code-keyword">this</span>.matrixWorld).invert())},<span class="code-attr">lookAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{t.isVector3?pe.copy(t):pe.set(t,e,n);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.parent;<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),fe.setFromMatrixPosition(<span class="code-keyword">this</span>.matrixWorld),<span class="code-keyword">this</span>.isCamera||<span class="code-keyword">this</span>.isLight?de.lookAt(fe,pe,<span class="code-keyword">this</span>.up):de.lookAt(pe,fe,<span class="code-keyword">this</span>.up),<span class="code-keyword">this</span>.quaternion.setFromRotationMatrix(de),r&amp;&amp;(de.extractRotation(r.matrixWorld),he.setFromRotationMatrix(de),<span class="code-keyword">this</span>.quaternion.premultiply(he.invert()))},<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)<span class="code-keyword">this</span>.add(<span class="code-built_in">arguments</span>[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>}<span class="code-keyword">return</span> t===<span class="code-keyword">this</span>?(<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Object3D.add: object can't be added as a child of itself."</span>,t),<span class="code-keyword">this</span>):(t&amp;&amp;t.isObject3D?(<span class="code-literal">null</span>!==t.parent&amp;&amp;t.parent.remove(t),t.parent=<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.children.push(t),t.dispatchEvent(_e)):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Object3D.add: object not an instance of THREE.Object3D."</span>,t),<span class="code-keyword">this</span>)},<span class="code-attr">remove</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-built_in">arguments</span>.length;e++)<span class="code-keyword">this</span>.remove(<span class="code-built_in">arguments</span>[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>}<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.children.indexOf(t);<span class="code-keyword">return</span><span class="code-number">-1</span>!==n&amp;&amp;(t.parent=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.children.splice(n,<span class="code-number">1</span>),t.dispatchEvent(be)),<span class="code-keyword">this</span>},<span class="code-attr">clear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;<span class="code-keyword">this</span>.children.length;t++){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.children[t];e.parent=<span class="code-literal">null</span>,e.dispatchEvent(be)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.children.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>},<span class="code-attr">attach</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),de.copy(<span class="code-keyword">this</span>.matrixWorld).invert(),<span class="code-literal">null</span>!==t.parent&amp;&amp;(t.parent.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),de.multiply(t.parent.matrixWorld)),t.applyMatrix4(de),t.updateWorldMatrix(!<span class="code-number">1</span>,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.add(t),<span class="code-keyword">this</span>},<span class="code-attr">getObjectById</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getObjectByProperty(<span class="code-string">"id"</span>,t)},<span class="code-attr">getObjectByName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getObjectByProperty(<span class="code-string">"name"</span>,t)},<span class="code-attr">getObjectByProperty</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>[t]===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.children.length;n&lt;r;n++){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.children[n].getObjectByProperty(t,e);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==i)<span class="code-keyword">return</span> i}},<span class="code-attr">getWorldPosition</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .getWorldPosition() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),t.setFromMatrixPosition(<span class="code-keyword">this</span>.matrixWorld)},<span class="code-attr">getWorldQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .getWorldQuaternion() target is now required"</span>),t=<span class="code-keyword">new</span> wt),<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.matrixWorld.decompose(fe,t,me),t},<span class="code-attr">getWorldScale</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .getWorldScale() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.matrixWorld.decompose(fe,ve,t),t},<span class="code-attr">getWorldDirection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .getWorldDirection() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.matrixWorld.elements;<span class="code-keyword">return</span> t.set(e[<span class="code-number">8</span>],e[<span class="code-number">9</span>],e[<span class="code-number">10</span>]).normalize()},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">traverse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t(<span class="code-keyword">this</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.children,n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++)e[n].traverse(t)},<span class="code-attr">traverseVisible</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.visible){t(<span class="code-keyword">this</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.children,n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++)e[n].traverseVisible(t)}},<span class="code-attr">traverseAncestors</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.parent;<span class="code-literal">null</span>!==e&amp;&amp;(t(e),e.traverseAncestors(t))},<span class="code-attr">updateMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.matrix.compose(<span class="code-keyword">this</span>.position,<span class="code-keyword">this</span>.quaternion,<span class="code-keyword">this</span>.scale),<span class="code-keyword">this</span>.matrixWorldNeedsUpdate=!<span class="code-number">0</span>},<span class="code-attr">updateMatrixWorld</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.matrixAutoUpdate&amp;&amp;<span class="code-keyword">this</span>.updateMatrix(),(<span class="code-keyword">this</span>.matrixWorldNeedsUpdate||t)&amp;&amp;(<span class="code-literal">null</span>===<span class="code-keyword">this</span>.parent?<span class="code-keyword">this</span>.matrixWorld.copy(<span class="code-keyword">this</span>.matrix):<span class="code-keyword">this</span>.matrixWorld.multiplyMatrices(<span class="code-keyword">this</span>.parent.matrixWorld,<span class="code-keyword">this</span>.matrix),<span class="code-keyword">this</span>.matrixWorldNeedsUpdate=!<span class="code-number">1</span>,t=!<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.children,n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++)e[n].updateMatrixWorld(t)},<span class="code-attr">updateWorldMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.parent;<span class="code-keyword">if</span>(!<span class="code-number">0</span>===t&amp;&amp;<span class="code-literal">null</span>!==n&amp;&amp;n.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.matrixAutoUpdate&amp;&amp;<span class="code-keyword">this</span>.updateMatrix(),<span class="code-literal">null</span>===<span class="code-keyword">this</span>.parent?<span class="code-keyword">this</span>.matrixWorld.copy(<span class="code-keyword">this</span>.matrix):<span class="code-keyword">this</span>.matrixWorld.multiplyMatrices(<span class="code-keyword">this</span>.parent.matrixWorld,<span class="code-keyword">this</span>.matrix),!<span class="code-number">0</span>===e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.children,i=<span class="code-number">0</span>,a=r.length;i&lt;a;i++)r[i].updateWorldMatrix(!<span class="code-number">1</span>,!<span class="code-number">0</span>)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">void</span> <span class="code-number">0</span>===t||<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t,n={};e&amp;&amp;(t={<span class="code-attr">geometries</span>:{},<span class="code-attr">materials</span>:{},<span class="code-attr">textures</span>:{},<span class="code-attr">images</span>:{},<span class="code-attr">shapes</span>:{},<span class="code-attr">skeletons</span>:{},<span class="code-attr">animations</span>:{}},n.metadata={<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Object"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Object3D.toJSON"</span>});<span class="code-keyword">var</span> r={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e[n.uuid]&amp;&amp;(e[n.uuid]=n.toJSON(t)),n.uuid}<span class="code-keyword">if</span>(r.uuid=<span class="code-keyword">this</span>.uuid,r.type=<span class="code-keyword">this</span>.type,<span class="code-string">""</span>!==<span class="code-keyword">this</span>.name&amp;&amp;(r.name=<span class="code-keyword">this</span>.name),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.castShadow&amp;&amp;(r.castShadow=!<span class="code-number">0</span>),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.receiveShadow&amp;&amp;(r.receiveShadow=!<span class="code-number">0</span>),!<span class="code-number">1</span>===<span class="code-keyword">this</span>.visible&amp;&amp;(r.visible=!<span class="code-number">1</span>),!<span class="code-number">1</span>===<span class="code-keyword">this</span>.frustumCulled&amp;&amp;(r.frustumCulled=!<span class="code-number">1</span>),<span class="code-number">0</span>!==<span class="code-keyword">this</span>.renderOrder&amp;&amp;(r.renderOrder=<span class="code-keyword">this</span>.renderOrder),<span class="code-string">"{}"</span>!==<span class="code-built_in">JSON</span>.stringify(<span class="code-keyword">this</span>.userData)&amp;&amp;(r.userData=<span class="code-keyword">this</span>.userData),r.layers=<span class="code-keyword">this</span>.layers.mask,r.matrix=<span class="code-keyword">this</span>.matrix.toArray(),!<span class="code-number">1</span>===<span class="code-keyword">this</span>.matrixAutoUpdate&amp;&amp;(r.matrixAutoUpdate=!<span class="code-number">1</span>),<span class="code-keyword">this</span>.isInstancedMesh&amp;&amp;(r.type=<span class="code-string">"InstancedMesh"</span>,r.count=<span class="code-keyword">this</span>.count,r.instanceMatrix=<span class="code-keyword">this</span>.instanceMatrix.toJSON()),<span class="code-keyword">this</span>.isMesh||<span class="code-keyword">this</span>.isLine||<span class="code-keyword">this</span>.isPoints){r.geometry=i(t.geometries,<span class="code-keyword">this</span>.geometry);<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.geometry.parameters;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==a.shapes){<span class="code-keyword">var</span> o=a.shapes;<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(o))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>,c=o.length;s&lt;c;s++){<span class="code-keyword">var</span> l=o[s];i(t.shapes,l)}<span class="code-keyword">else</span> i(t.shapes,o)}}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.isSkinnedMesh&amp;&amp;(r.bindMode=<span class="code-keyword">this</span>.bindMode,r.bindMatrix=<span class="code-keyword">this</span>.bindMatrix.toArray(),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.skeleton&amp;&amp;(i(t.skeletons,<span class="code-keyword">this</span>.skeleton),r.skeleton=<span class="code-keyword">this</span>.skeleton.uuid)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.material)<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(<span class="code-keyword">this</span>.material)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=[],h=<span class="code-number">0</span>,d=<span class="code-keyword">this</span>.material.length;h&lt;d;h++)u.push(i(t.materials,<span class="code-keyword">this</span>.material[h]));r.material=u}<span class="code-keyword">else</span> r.material=i(t.materials,<span class="code-keyword">this</span>.material);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.children.length&gt;<span class="code-number">0</span>){r.children=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>;p&lt;<span class="code-keyword">this</span>.children.length;p++)r.children.push(<span class="code-keyword">this</span>.children[p].toJSON(t).object)}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.animations.length&gt;<span class="code-number">0</span>){r.animations=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>;f&lt;<span class="code-keyword">this</span>.animations.length;f++){<span class="code-keyword">var</span> m=<span class="code-keyword">this</span>.animations[f];r.animations.push(i(t.animations,m))}}<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> v=M(t.geometries),g=M(t.materials),y=M(t.textures),x=M(t.images),_=M(t.shapes),b=M(t.skeletons),w=M(t.animations);v.length&gt;<span class="code-number">0</span>&amp;&amp;(n.geometries=v),g.length&gt;<span class="code-number">0</span>&amp;&amp;(n.materials=g),y.length&gt;<span class="code-number">0</span>&amp;&amp;(n.textures=y),x.length&gt;<span class="code-number">0</span>&amp;&amp;(n.images=x),_.length&gt;<span class="code-number">0</span>&amp;&amp;(n.shapes=_),b.length&gt;<span class="code-number">0</span>&amp;&amp;(n.skeletons=b),w.length&gt;<span class="code-number">0</span>&amp;&amp;(n.animations=w)}<span class="code-keyword">return</span> n.object=r,n;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">M</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t){<span class="code-keyword">var</span> r=t[n];<span class="code-keyword">delete</span> r.metadata,e.push(r)}<span class="code-keyword">return</span> e}},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>,t)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.name=t.name,<span class="code-keyword">this</span>.up.copy(t.up),<span class="code-keyword">this</span>.position.copy(t.position),<span class="code-keyword">this</span>.rotation.order=t.rotation.order,<span class="code-keyword">this</span>.quaternion.copy(t.quaternion),<span class="code-keyword">this</span>.scale.copy(t.scale),<span class="code-keyword">this</span>.matrix.copy(t.matrix),<span class="code-keyword">this</span>.matrixWorld.copy(t.matrixWorld),<span class="code-keyword">this</span>.matrixAutoUpdate=t.matrixAutoUpdate,<span class="code-keyword">this</span>.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,<span class="code-keyword">this</span>.layers.mask=t.layers.mask,<span class="code-keyword">this</span>.visible=t.visible,<span class="code-keyword">this</span>.castShadow=t.castShadow,<span class="code-keyword">this</span>.receiveShadow=t.receiveShadow,<span class="code-keyword">this</span>.frustumCulled=t.frustumCulled,<span class="code-keyword">this</span>.renderOrder=t.renderOrder,<span class="code-keyword">this</span>.userData=<span class="code-built_in">JSON</span>.parse(<span class="code-built_in">JSON</span>.stringify(t.userData)),!<span class="code-number">0</span>===e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.children.length;n++){<span class="code-keyword">var</span> r=t.children[n];<span class="code-keyword">this</span>.add(r.clone())}<span class="code-keyword">return</span> <span class="code-keyword">this</span>}});<span class="code-keyword">var</span> Me=<span class="code-keyword">new</span> Mt,Se=<span class="code-keyword">new</span> Mt,Te=<span class="code-keyword">new</span> ft,Ee=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isPlane"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.normal=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>.constant=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">0</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.copy(t),<span class="code-keyword">this</span>.constant=e,<span class="code-keyword">this</span>},e.setComponents=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.set(t,e,n),<span class="code-keyword">this</span>.constant=r,<span class="code-keyword">this</span>},e.setFromNormalAndCoplanarPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.copy(t),<span class="code-keyword">this</span>.constant=-e.dot(<span class="code-keyword">this</span>.normal),<span class="code-keyword">this</span>},e.setFromCoplanarPoints=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=Me.subVectors(n,e).cross(Se.subVectors(t,e)).normalize();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromNormalAndCoplanarPoint(r,t),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.copy(t.normal),<span class="code-keyword">this</span>.constant=t.constant,<span class="code-keyword">this</span>},e.normalize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">1</span>/<span class="code-keyword">this</span>.normal.length();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.multiplyScalar(t),<span class="code-keyword">this</span>.constant*=t,<span class="code-keyword">this</span>},e.negate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constant*=<span class="code-number">-1</span>,<span class="code-keyword">this</span>.normal.negate(),<span class="code-keyword">this</span>},e.distanceToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.normal.dot(t)+<span class="code-keyword">this</span>.constant},e.distanceToSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.distanceToPoint(t.center)-t.radius},e.projectPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Plane: .projectPoint() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),e.copy(<span class="code-keyword">this</span>.normal).multiplyScalar(-<span class="code-keyword">this</span>.distanceToPoint(t)).add(t)},e.intersectLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Plane: .intersectLine() target is now required"</span>),e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n=t.delta(Me),r=<span class="code-keyword">this</span>.normal.dot(n);<span class="code-keyword">if</span>(<span class="code-number">0</span>===r)<span class="code-keyword">return</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.distanceToPoint(t.start)?e.copy(t.start):<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> i=-(t.start.dot(<span class="code-keyword">this</span>.normal)+<span class="code-keyword">this</span>.constant)/r;<span class="code-keyword">return</span> i&lt;<span class="code-number">0</span>||i&gt;<span class="code-number">1</span>?<span class="code-keyword">void</span> <span class="code-number">0</span>:e.copy(n).multiplyScalar(i).add(t.start)},e.intersectsLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.distanceToPoint(t.start),n=<span class="code-keyword">this</span>.distanceToPoint(t.end);<span class="code-keyword">return</span> e&lt;<span class="code-number">0</span>&amp;&amp;n&gt;<span class="code-number">0</span>||n&lt;<span class="code-number">0</span>&amp;&amp;e&gt;<span class="code-number">0</span>},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.intersectsPlane(<span class="code-keyword">this</span>)},e.intersectsSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.intersectsPlane(<span class="code-keyword">this</span>)},e.coplanarPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Plane: .coplanarPoint() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),t.copy(<span class="code-keyword">this</span>.normal).multiplyScalar(-<span class="code-keyword">this</span>.constant)},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=e||Te.getNormalMatrix(t),r=<span class="code-keyword">this</span>.coplanarPoint(Me).applyMatrix4(t),i=<span class="code-keyword">this</span>.normal.applyMatrix3(n).normalize();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constant=-r.dot(i),<span class="code-keyword">this</span>},e.translate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constant-=t.dot(<span class="code-keyword">this</span>.normal),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.normal.equals(<span class="code-keyword">this</span>.normal)&amp;&amp;t.constant===<span class="code-keyword">this</span>.constant},t}(),Ae=<span class="code-keyword">new</span> Mt,Le=<span class="code-keyword">new</span> Mt,Re=<span class="code-keyword">new</span> Mt,Ce=<span class="code-keyword">new</span> Mt,Pe=<span class="code-keyword">new</span> Mt,Ie=<span class="code-keyword">new</span> Mt,Ne=<span class="code-keyword">new</span> Mt,De=<span class="code-keyword">new</span> Mt,Oe=<span class="code-keyword">new</span> Mt,Be=<span class="code-keyword">new</span> Mt,ze=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.a=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.b=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.c=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-keyword">new</span> Mt}t.getNormal=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .getNormal() target is now required"</span>),r=<span class="code-keyword">new</span> Mt),r.subVectors(n,e),Ae.subVectors(t,e),r.cross(Ae);<span class="code-keyword">var</span> i=r.lengthSq();<span class="code-keyword">return</span> i&gt;<span class="code-number">0</span>?r.multiplyScalar(<span class="code-number">1</span>/<span class="code-built_in">Math</span>.sqrt(i)):r.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)},t.getBarycoord=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{Ae.subVectors(r,e),Le.subVectors(n,e),Re.subVectors(t,e);<span class="code-keyword">var</span> a=Ae.dot(Ae),o=Ae.dot(Le),s=Ae.dot(Re),c=Le.dot(Le),l=Le.dot(Re),u=a*c-o*o;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .getBarycoord() target is now required"</span>),i=<span class="code-keyword">new</span> Mt),<span class="code-number">0</span>===u)<span class="code-keyword">return</span> i.set(<span class="code-number">-2</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>);<span class="code-keyword">var</span> h=<span class="code-number">1</span>/u,d=(c*s-o*l)*h,p=(a*l-o*s)*h;<span class="code-keyword">return</span> i.set(<span class="code-number">1</span>-d-p,p,d)},t.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getBarycoord(t,e,n,r,Ce),Ce.x&gt;=<span class="code-number">0</span>&amp;&amp;Ce.y&gt;=<span class="code-number">0</span>&amp;&amp;Ce.x+Ce.y&lt;=<span class="code-number">1</span>},t.getUV=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getBarycoord(t,e,n,r,Ce),s.set(<span class="code-number">0</span>,<span class="code-number">0</span>),s.addScaledVector(i,Ce.x),s.addScaledVector(a,Ce.y),s.addScaledVector(o,Ce.z),s},t.isFrontFacing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> Ae.subVectors(n,e),Le.subVectors(t,e),Ae.cross(Le).dot(r)&lt;<span class="code-number">0</span>};<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.a.copy(t),<span class="code-keyword">this</span>.b.copy(e),<span class="code-keyword">this</span>.c.copy(n),<span class="code-keyword">this</span>},e.setFromPointsAndIndices=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.a.copy(t[e]),<span class="code-keyword">this</span>.b.copy(t[n]),<span class="code-keyword">this</span>.c.copy(t[r]),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.a.copy(t.a),<span class="code-keyword">this</span>.b.copy(t.b),<span class="code-keyword">this</span>.c.copy(t.c),<span class="code-keyword">this</span>},e.getArea=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Ae.subVectors(<span class="code-keyword">this</span>.c,<span class="code-keyword">this</span>.b),Le.subVectors(<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b),<span class="code-number">.5</span>*Ae.cross(Le).length()},e.getMidpoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .getMidpoint() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),t.addVectors(<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b).add(<span class="code-keyword">this</span>.c).multiplyScalar(<span class="code-number">1</span>/<span class="code-number">3</span>)},e.getNormal=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.getNormal(<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c,e)},e.getPlane=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .getPlane() target is now required"</span>),t=<span class="code-keyword">new</span> Ee),t.setFromCoplanarPoints(<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c)},e.getBarycoord=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">return</span> t.getBarycoord(e,<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c,n)},e.getUV=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,r,i,a</span>)</span>{<span class="code-keyword">return</span> t.getUV(e,<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c,n,r,i,a)},e.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.containsPoint(e,<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c)},e.isFrontFacing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.isFrontFacing(<span class="code-keyword">this</span>.a,<span class="code-keyword">this</span>.b,<span class="code-keyword">this</span>.c,e)},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.intersectsTriangle(<span class="code-keyword">this</span>)},e.closestPointToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .closestPointToPoint() target is now required"</span>),e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n,r,i=<span class="code-keyword">this</span>.a,a=<span class="code-keyword">this</span>.b,o=<span class="code-keyword">this</span>.c;Pe.subVectors(a,i),Ie.subVectors(o,i),De.subVectors(t,i);<span class="code-keyword">var</span> s=Pe.dot(De),c=Ie.dot(De);<span class="code-keyword">if</span>(s&lt;=<span class="code-number">0</span>&amp;&amp;c&lt;=<span class="code-number">0</span>)<span class="code-keyword">return</span> e.copy(i);Oe.subVectors(t,a);<span class="code-keyword">var</span> l=Pe.dot(Oe),u=Ie.dot(Oe);<span class="code-keyword">if</span>(l&gt;=<span class="code-number">0</span>&amp;&amp;u&lt;=l)<span class="code-keyword">return</span> e.copy(a);<span class="code-keyword">var</span> h=s*u-l*c;<span class="code-keyword">if</span>(h&lt;=<span class="code-number">0</span>&amp;&amp;s&gt;=<span class="code-number">0</span>&amp;&amp;l&lt;=<span class="code-number">0</span>)<span class="code-keyword">return</span> n=s/(s-l),e.copy(i).addScaledVector(Pe,n);Be.subVectors(t,o);<span class="code-keyword">var</span> d=Pe.dot(Be),p=Ie.dot(Be);<span class="code-keyword">if</span>(p&gt;=<span class="code-number">0</span>&amp;&amp;d&lt;=p)<span class="code-keyword">return</span> e.copy(o);<span class="code-keyword">var</span> f=d*c-s*p;<span class="code-keyword">if</span>(f&lt;=<span class="code-number">0</span>&amp;&amp;c&gt;=<span class="code-number">0</span>&amp;&amp;p&lt;=<span class="code-number">0</span>)<span class="code-keyword">return</span> r=c/(c-p),e.copy(i).addScaledVector(Ie,r);<span class="code-keyword">var</span> m=l*p-d*u;<span class="code-keyword">if</span>(m&lt;=<span class="code-number">0</span>&amp;&amp;u-l&gt;=<span class="code-number">0</span>&amp;&amp;d-p&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span> Ne.subVectors(o,a),r=(u-l)/(u-l+(d-p)),e.copy(a).addScaledVector(Ne,r);<span class="code-keyword">var</span> v=<span class="code-number">1</span>/(m+f+h);<span class="code-keyword">return</span> n=f*v,r=h*v,e.copy(i).addScaledVector(Pe,n).addScaledVector(Ie,r)},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.a.equals(<span class="code-keyword">this</span>.a)&amp;&amp;t.b.equals(<span class="code-keyword">this</span>.b)&amp;&amp;t.c.equals(<span class="code-keyword">this</span>.c)},t}(),Ue={<span class="code-attr">aliceblue</span>:<span class="code-number">15792383</span>,<span class="code-attr">antiquewhite</span>:<span class="code-number">16444375</span>,<span class="code-attr">aqua</span>:<span class="code-number">65535</span>,<span class="code-attr">aquamarine</span>:<span class="code-number">8388564</span>,<span class="code-attr">azure</span>:<span class="code-number">15794175</span>,<span class="code-attr">beige</span>:<span class="code-number">16119260</span>,<span class="code-attr">bisque</span>:<span class="code-number">16770244</span>,<span class="code-attr">black</span>:<span class="code-number">0</span>,<span class="code-attr">blanchedalmond</span>:<span class="code-number">16772045</span>,<span class="code-attr">blue</span>:<span class="code-number">255</span>,<span class="code-attr">blueviolet</span>:<span class="code-number">9055202</span>,<span class="code-attr">brown</span>:<span class="code-number">10824234</span>,<span class="code-attr">burlywood</span>:<span class="code-number">14596231</span>,<span class="code-attr">cadetblue</span>:<span class="code-number">6266528</span>,<span class="code-attr">chartreuse</span>:<span class="code-number">8388352</span>,<span class="code-attr">chocolate</span>:<span class="code-number">13789470</span>,<span class="code-attr">coral</span>:<span class="code-number">16744272</span>,<span class="code-attr">cornflowerblue</span>:<span class="code-number">6591981</span>,<span class="code-attr">cornsilk</span>:<span class="code-number">16775388</span>,<span class="code-attr">crimson</span>:<span class="code-number">14423100</span>,<span class="code-attr">cyan</span>:<span class="code-number">65535</span>,<span class="code-attr">darkblue</span>:<span class="code-number">139</span>,<span class="code-attr">darkcyan</span>:<span class="code-number">35723</span>,<span class="code-attr">darkgoldenrod</span>:<span class="code-number">12092939</span>,<span class="code-attr">darkgray</span>:<span class="code-number">11119017</span>,<span class="code-attr">darkgreen</span>:<span class="code-number">25600</span>,<span class="code-attr">darkgrey</span>:<span class="code-number">11119017</span>,<span class="code-attr">darkkhaki</span>:<span class="code-number">12433259</span>,<span class="code-attr">darkmagenta</span>:<span class="code-number">9109643</span>,<span class="code-attr">darkolivegreen</span>:<span class="code-number">5597999</span>,<span class="code-attr">darkorange</span>:<span class="code-number">16747520</span>,<span class="code-attr">darkorchid</span>:<span class="code-number">10040012</span>,<span class="code-attr">darkred</span>:<span class="code-number">9109504</span>,<span class="code-attr">darksalmon</span>:<span class="code-number">15308410</span>,<span class="code-attr">darkseagreen</span>:<span class="code-number">9419919</span>,<span class="code-attr">darkslateblue</span>:<span class="code-number">4734347</span>,<span class="code-attr">darkslategray</span>:<span class="code-number">3100495</span>,<span class="code-attr">darkslategrey</span>:<span class="code-number">3100495</span>,<span class="code-attr">darkturquoise</span>:<span class="code-number">52945</span>,<span class="code-attr">darkviolet</span>:<span class="code-number">9699539</span>,<span class="code-attr">deeppink</span>:<span class="code-number">16716947</span>,<span class="code-attr">deepskyblue</span>:<span class="code-number">49151</span>,<span class="code-attr">dimgray</span>:<span class="code-number">6908265</span>,<span class="code-attr">dimgrey</span>:<span class="code-number">6908265</span>,<span class="code-attr">dodgerblue</span>:<span class="code-number">2003199</span>,<span class="code-attr">firebrick</span>:<span class="code-number">11674146</span>,<span class="code-attr">floralwhite</span>:<span class="code-number">16775920</span>,<span class="code-attr">forestgreen</span>:<span class="code-number">2263842</span>,<span class="code-attr">fuchsia</span>:<span class="code-number">16711935</span>,<span class="code-attr">gainsboro</span>:<span class="code-number">14474460</span>,<span class="code-attr">ghostwhite</span>:<span class="code-number">16316671</span>,<span class="code-attr">gold</span>:<span class="code-number">16766720</span>,<span class="code-attr">goldenrod</span>:<span class="code-number">14329120</span>,<span class="code-attr">gray</span>:<span class="code-number">8421504</span>,<span class="code-attr">green</span>:<span class="code-number">32768</span>,<span class="code-attr">greenyellow</span>:<span class="code-number">11403055</span>,<span class="code-attr">grey</span>:<span class="code-number">8421504</span>,<span class="code-attr">honeydew</span>:<span class="code-number">15794160</span>,<span class="code-attr">hotpink</span>:<span class="code-number">16738740</span>,<span class="code-attr">indianred</span>:<span class="code-number">13458524</span>,<span class="code-attr">indigo</span>:<span class="code-number">4915330</span>,<span class="code-attr">ivory</span>:<span class="code-number">16777200</span>,<span class="code-attr">khaki</span>:<span class="code-number">15787660</span>,<span class="code-attr">lavender</span>:<span class="code-number">15132410</span>,<span class="code-attr">lavenderblush</span>:<span class="code-number">16773365</span>,<span class="code-attr">lawngreen</span>:<span class="code-number">8190976</span>,<span class="code-attr">lemonchiffon</span>:<span class="code-number">16775885</span>,<span class="code-attr">lightblue</span>:<span class="code-number">11393254</span>,<span class="code-attr">lightcoral</span>:<span class="code-number">15761536</span>,<span class="code-attr">lightcyan</span>:<span class="code-number">14745599</span>,<span class="code-attr">lightgoldenrodyellow</span>:<span class="code-number">16448210</span>,<span class="code-attr">lightgray</span>:<span class="code-number">13882323</span>,<span class="code-attr">lightgreen</span>:<span class="code-number">9498256</span>,<span class="code-attr">lightgrey</span>:<span class="code-number">13882323</span>,<span class="code-attr">lightpink</span>:<span class="code-number">16758465</span>,<span class="code-attr">lightsalmon</span>:<span class="code-number">16752762</span>,<span class="code-attr">lightseagreen</span>:<span class="code-number">2142890</span>,<span class="code-attr">lightskyblue</span>:<span class="code-number">8900346</span>,<span class="code-attr">lightslategray</span>:<span class="code-number">7833753</span>,<span class="code-attr">lightslategrey</span>:<span class="code-number">7833753</span>,<span class="code-attr">lightsteelblue</span>:<span class="code-number">11584734</span>,<span class="code-attr">lightyellow</span>:<span class="code-number">16777184</span>,<span class="code-attr">lime</span>:<span class="code-number">65280</span>,<span class="code-attr">limegreen</span>:<span class="code-number">3329330</span>,<span class="code-attr">linen</span>:<span class="code-number">16445670</span>,<span class="code-attr">magenta</span>:<span class="code-number">16711935</span>,<span class="code-attr">maroon</span>:<span class="code-number">8388608</span>,<span class="code-attr">mediumaquamarine</span>:<span class="code-number">6737322</span>,<span class="code-attr">mediumblue</span>:<span class="code-number">205</span>,<span class="code-attr">mediumorchid</span>:<span class="code-number">12211667</span>,<span class="code-attr">mediumpurple</span>:<span class="code-number">9662683</span>,<span class="code-attr">mediumseagreen</span>:<span class="code-number">3978097</span>,<span class="code-attr">mediumslateblue</span>:<span class="code-number">8087790</span>,<span class="code-attr">mediumspringgreen</span>:<span class="code-number">64154</span>,<span class="code-attr">mediumturquoise</span>:<span class="code-number">4772300</span>,<span class="code-attr">mediumvioletred</span>:<span class="code-number">13047173</span>,<span class="code-attr">midnightblue</span>:<span class="code-number">1644912</span>,<span class="code-attr">mintcream</span>:<span class="code-number">16121850</span>,<span class="code-attr">mistyrose</span>:<span class="code-number">16770273</span>,<span class="code-attr">moccasin</span>:<span class="code-number">16770229</span>,<span class="code-attr">navajowhite</span>:<span class="code-number">16768685</span>,<span class="code-attr">navy</span>:<span class="code-number">128</span>,<span class="code-attr">oldlace</span>:<span class="code-number">16643558</span>,<span class="code-attr">olive</span>:<span class="code-number">8421376</span>,<span class="code-attr">olivedrab</span>:<span class="code-number">7048739</span>,<span class="code-attr">orange</span>:<span class="code-number">16753920</span>,<span class="code-attr">orangered</span>:<span class="code-number">16729344</span>,<span class="code-attr">orchid</span>:<span class="code-number">14315734</span>,<span class="code-attr">palegoldenrod</span>:<span class="code-number">15657130</span>,<span class="code-attr">palegreen</span>:<span class="code-number">10025880</span>,<span class="code-attr">paleturquoise</span>:<span class="code-number">11529966</span>,<span class="code-attr">palevioletred</span>:<span class="code-number">14381203</span>,<span class="code-attr">papayawhip</span>:<span class="code-number">16773077</span>,<span class="code-attr">peachpuff</span>:<span class="code-number">16767673</span>,<span class="code-attr">peru</span>:<span class="code-number">13468991</span>,<span class="code-attr">pink</span>:<span class="code-number">16761035</span>,<span class="code-attr">plum</span>:<span class="code-number">14524637</span>,<span class="code-attr">powderblue</span>:<span class="code-number">11591910</span>,<span class="code-attr">purple</span>:<span class="code-number">8388736</span>,<span class="code-attr">rebeccapurple</span>:<span class="code-number">6697881</span>,<span class="code-attr">red</span>:<span class="code-number">16711680</span>,<span class="code-attr">rosybrown</span>:<span class="code-number">12357519</span>,<span class="code-attr">royalblue</span>:<span class="code-number">4286945</span>,<span class="code-attr">saddlebrown</span>:<span class="code-number">9127187</span>,<span class="code-attr">salmon</span>:<span class="code-number">16416882</span>,<span class="code-attr">sandybrown</span>:<span class="code-number">16032864</span>,<span class="code-attr">seagreen</span>:<span class="code-number">3050327</span>,<span class="code-attr">seashell</span>:<span class="code-number">16774638</span>,<span class="code-attr">sienna</span>:<span class="code-number">10506797</span>,<span class="code-attr">silver</span>:<span class="code-number">12632256</span>,<span class="code-attr">skyblue</span>:<span class="code-number">8900331</span>,<span class="code-attr">slateblue</span>:<span class="code-number">6970061</span>,<span class="code-attr">slategray</span>:<span class="code-number">7372944</span>,<span class="code-attr">slategrey</span>:<span class="code-number">7372944</span>,<span class="code-attr">snow</span>:<span class="code-number">16775930</span>,<span class="code-attr">springgreen</span>:<span class="code-number">65407</span>,<span class="code-attr">steelblue</span>:<span class="code-number">4620980</span>,<span class="code-attr">tan</span>:<span class="code-number">13808780</span>,<span class="code-attr">teal</span>:<span class="code-number">32896</span>,<span class="code-attr">thistle</span>:<span class="code-number">14204888</span>,<span class="code-attr">tomato</span>:<span class="code-number">16737095</span>,<span class="code-attr">turquoise</span>:<span class="code-number">4251856</span>,<span class="code-attr">violet</span>:<span class="code-number">15631086</span>,<span class="code-attr">wheat</span>:<span class="code-number">16113331</span>,<span class="code-attr">white</span>:<span class="code-number">16777215</span>,<span class="code-attr">whitesmoke</span>:<span class="code-number">16119285</span>,<span class="code-attr">yellow</span>:<span class="code-number">16776960</span>,<span class="code-attr">yellowgreen</span>:<span class="code-number">10145074</span>},Fe={<span class="code-attr">h</span>:<span class="code-number">0</span>,<span class="code-attr">s</span>:<span class="code-number">0</span>,<span class="code-attr">l</span>:<span class="code-number">0</span>},Ge={<span class="code-attr">h</span>:<span class="code-number">0</span>,<span class="code-attr">s</span>:<span class="code-number">0</span>,<span class="code-attr">l</span>:<span class="code-number">0</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">He</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> n&lt;<span class="code-number">0</span>&amp;&amp;(n+=<span class="code-number">1</span>),n&gt;<span class="code-number">1</span>&amp;&amp;(n-=<span class="code-number">1</span>),n&lt;<span class="code-number">1</span>/<span class="code-number">6</span>?t+<span class="code-number">6</span>*(e-t)*n:n&lt;<span class="code-number">.5</span>?e:n&lt;<span class="code-number">2</span>/<span class="code-number">3</span>?t+<span class="code-number">6</span>*(e-t)*(<span class="code-number">2</span>/<span class="code-number">3</span>-n):t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ke</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&lt;<span class="code-number">.04045</span>?<span class="code-number">.0773993808</span>*t:<span class="code-built_in">Math</span>.pow(<span class="code-number">.9478672986</span>*t+<span class="code-number">.0521327014</span>,<span class="code-number">2.4</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ve</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&lt;<span class="code-number">.0031308</span>?<span class="code-number">12.92</span>*t:<span class="code-number">1.055</span>*<span class="code-built_in">Math</span>.pow(t,<span class="code-number">.41666</span>)<span class="code-number">-.055</span>}<span class="code-keyword">var</span> We=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isColor"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-keyword">this</span>.set(t):<span class="code-keyword">this</span>.setRGB(t,e,n)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.isColor?<span class="code-keyword">this</span>.copy(t):<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t?<span class="code-keyword">this</span>.setHex(t):<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-keyword">this</span>.setStyle(t),<span class="code-keyword">this</span>},e.setScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=t,<span class="code-keyword">this</span>.g=t,<span class="code-keyword">this</span>.b=t,<span class="code-keyword">this</span>},e.setHex=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t=<span class="code-built_in">Math</span>.floor(t),<span class="code-keyword">this</span>.r=(t&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.g=(t&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.b=(<span class="code-number">255</span>&amp;t)/<span class="code-number">255</span>,<span class="code-keyword">this</span>},e.setRGB=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=t,<span class="code-keyword">this</span>.g=e,<span class="code-keyword">this</span>.b=n,<span class="code-keyword">this</span>},e.setHSL=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(t=st.euclideanModulo(t,<span class="code-number">1</span>),e=st.clamp(e,<span class="code-number">0</span>,<span class="code-number">1</span>),n=st.clamp(n,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-number">0</span>===e)<span class="code-keyword">this</span>.r=<span class="code-keyword">this</span>.g=<span class="code-keyword">this</span>.b=n;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> r=n&lt;=<span class="code-number">.5</span>?n*(<span class="code-number">1</span>+e):n+e-n*e,i=<span class="code-number">2</span>*n-r;<span class="code-keyword">this</span>.r=He(i,r,t+<span class="code-number">1</span>/<span class="code-number">3</span>),<span class="code-keyword">this</span>.g=He(i,r,t),<span class="code-keyword">this</span>.b=He(i,r,t<span class="code-number">-1</span>/<span class="code-number">3</span>)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.setStyle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;<span class="code-built_in">parseFloat</span>(e)&lt;<span class="code-number">1</span>&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Color: Alpha component of "</span>+t+<span class="code-string">" will be ignored."</span>)}<span class="code-keyword">var</span> n;<span class="code-keyword">if</span>(n=<span class="code-regexp">/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/</span>.exec(t)){<span class="code-keyword">var</span> r,i=n[<span class="code-number">1</span>],a=n[<span class="code-number">2</span>];<span class="code-keyword">switch</span>(i){<span class="code-keyword">case</span><span class="code-string">"rgb"</span>:<span class="code-keyword">case</span><span class="code-string">"rgba"</span>:<span class="code-keyword">if</span>(r=<span class="code-regexp">/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/</span>.exec(a))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">Math</span>.min(<span class="code-number">255</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>))/<span class="code-number">255</span>,<span class="code-keyword">this</span>.g=<span class="code-built_in">Math</span>.min(<span class="code-number">255</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">2</span>],<span class="code-number">10</span>))/<span class="code-number">255</span>,<span class="code-keyword">this</span>.b=<span class="code-built_in">Math</span>.min(<span class="code-number">255</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">3</span>],<span class="code-number">10</span>))/<span class="code-number">255</span>,e(r[<span class="code-number">5</span>]),<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(r=<span class="code-regexp">/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/</span>.exec(a))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">Math</span>.min(<span class="code-number">100</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>))/<span class="code-number">100</span>,<span class="code-keyword">this</span>.g=<span class="code-built_in">Math</span>.min(<span class="code-number">100</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">2</span>],<span class="code-number">10</span>))/<span class="code-number">100</span>,<span class="code-keyword">this</span>.b=<span class="code-built_in">Math</span>.min(<span class="code-number">100</span>,<span class="code-built_in">parseInt</span>(r[<span class="code-number">3</span>],<span class="code-number">10</span>))/<span class="code-number">100</span>,e(r[<span class="code-number">5</span>]),<span class="code-keyword">this</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"hsl"</span>:<span class="code-keyword">case</span><span class="code-string">"hsla"</span>:<span class="code-keyword">if</span>(r=<span class="code-regexp">/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/</span>.exec(a)){<span class="code-keyword">var</span> o=<span class="code-built_in">parseFloat</span>(r[<span class="code-number">1</span>])/<span class="code-number">360</span>,s=<span class="code-built_in">parseInt</span>(r[<span class="code-number">2</span>],<span class="code-number">10</span>)/<span class="code-number">100</span>,c=<span class="code-built_in">parseInt</span>(r[<span class="code-number">3</span>],<span class="code-number">10</span>)/<span class="code-number">100</span>;<span class="code-keyword">return</span> e(r[<span class="code-number">5</span>]),<span class="code-keyword">this</span>.setHSL(o,s,c)}}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n=<span class="code-regexp">/^\#([A-Fa-f0-9]+)$/</span>.exec(t)){<span class="code-keyword">var</span> l=n[<span class="code-number">1</span>],u=l.length;<span class="code-keyword">if</span>(<span class="code-number">3</span>===u)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">0</span>)+l.charAt(<span class="code-number">0</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.g=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">1</span>)+l.charAt(<span class="code-number">1</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.b=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">2</span>)+l.charAt(<span class="code-number">2</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-number">6</span>===u)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">0</span>)+l.charAt(<span class="code-number">1</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.g=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">2</span>)+l.charAt(<span class="code-number">3</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>.b=<span class="code-built_in">parseInt</span>(l.charAt(<span class="code-number">4</span>)+l.charAt(<span class="code-number">5</span>),<span class="code-number">16</span>)/<span class="code-number">255</span>,<span class="code-keyword">this</span>}<span class="code-keyword">return</span> t&amp;&amp;t.length&gt;<span class="code-number">0</span>?<span class="code-keyword">this</span>.setColorName(t):<span class="code-keyword">this</span>},e.setColorName=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Ue[t];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?<span class="code-keyword">this</span>.setHex(e):<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Color: Unknown color "</span>+t),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.r,<span class="code-keyword">this</span>.g,<span class="code-keyword">this</span>.b)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=t.r,<span class="code-keyword">this</span>.g=t.g,<span class="code-keyword">this</span>.b=t.b,<span class="code-keyword">this</span>},e.copyGammaToLinear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">2</span>),<span class="code-keyword">this</span>.r=<span class="code-built_in">Math</span>.pow(t.r,e),<span class="code-keyword">this</span>.g=<span class="code-built_in">Math</span>.pow(t.g,e),<span class="code-keyword">this</span>.b=<span class="code-built_in">Math</span>.pow(t.b,e),<span class="code-keyword">this</span>},e.copyLinearToGamma=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">2</span>);<span class="code-keyword">var</span> n=e&gt;<span class="code-number">0</span>?<span class="code-number">1</span>/e:<span class="code-number">1</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">Math</span>.pow(t.r,n),<span class="code-keyword">this</span>.g=<span class="code-built_in">Math</span>.pow(t.g,n),<span class="code-keyword">this</span>.b=<span class="code-built_in">Math</span>.pow(t.b,n),<span class="code-keyword">this</span>},e.convertGammaToLinear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copyGammaToLinear(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>},e.convertLinearToGamma=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copyLinearToGamma(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>},e.copySRGBToLinear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=ke(t.r),<span class="code-keyword">this</span>.g=ke(t.g),<span class="code-keyword">this</span>.b=ke(t.b),<span class="code-keyword">this</span>},e.copyLinearToSRGB=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=Ve(t.r),<span class="code-keyword">this</span>.g=Ve(t.g),<span class="code-keyword">this</span>.b=Ve(t.b),<span class="code-keyword">this</span>},e.convertSRGBToLinear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copySRGBToLinear(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>},e.convertLinearToSRGB=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copyLinearToSRGB(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>},e.getHex=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">255</span>*<span class="code-keyword">this</span>.r&lt;&lt;<span class="code-number">16</span>^<span class="code-number">255</span>*<span class="code-keyword">this</span>.g&lt;&lt;<span class="code-number">8</span>^<span class="code-number">255</span>*<span class="code-keyword">this</span>.b&lt;&lt;<span class="code-number">0</span>},e.getHexString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-string">"000000"</span>+<span class="code-keyword">this</span>.getHex().toString(<span class="code-number">16</span>)).slice(<span class="code-number">-6</span>)},e.getHSL=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Color: .getHSL() target is now required"</span>),t={<span class="code-attr">h</span>:<span class="code-number">0</span>,<span class="code-attr">s</span>:<span class="code-number">0</span>,<span class="code-attr">l</span>:<span class="code-number">0</span>});<span class="code-keyword">var</span> e,n,r=<span class="code-keyword">this</span>.r,i=<span class="code-keyword">this</span>.g,a=<span class="code-keyword">this</span>.b,o=<span class="code-built_in">Math</span>.max(r,i,a),s=<span class="code-built_in">Math</span>.min(r,i,a),c=(s+o)/<span class="code-number">2</span>;<span class="code-keyword">if</span>(s===o)e=<span class="code-number">0</span>,n=<span class="code-number">0</span>;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> l=o-s;<span class="code-keyword">switch</span>(n=c&lt;=<span class="code-number">.5</span>?l/(o+s):l/(<span class="code-number">2</span>-o-s),o){<span class="code-keyword">case</span> r:e=(i-a)/l+(i&lt;a?<span class="code-number">6</span>:<span class="code-number">0</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> i:e=(a-r)/l+<span class="code-number">2</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> a:e=(r-i)/l+<span class="code-number">4</span>}e/=<span class="code-number">6</span>}<span class="code-keyword">return</span> t.h=e,t.s=n,t.l=c,t},e.getStyle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"rgb("</span>+(<span class="code-number">255</span>*<span class="code-keyword">this</span>.r|<span class="code-number">0</span>)+<span class="code-string">","</span>+(<span class="code-number">255</span>*<span class="code-keyword">this</span>.g|<span class="code-number">0</span>)+<span class="code-string">","</span>+(<span class="code-number">255</span>*<span class="code-keyword">this</span>.b|<span class="code-number">0</span>)+<span class="code-string">")"</span>},e.offsetHSL=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getHSL(Fe),Fe.h+=t,Fe.s+=e,Fe.l+=n,<span class="code-keyword">this</span>.setHSL(Fe.h,Fe.s,Fe.l),<span class="code-keyword">this</span>},e.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r+=t.r,<span class="code-keyword">this</span>.g+=t.g,<span class="code-keyword">this</span>.b+=t.b,<span class="code-keyword">this</span>},e.addColors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=t.r+e.r,<span class="code-keyword">this</span>.g=t.g+e.g,<span class="code-keyword">this</span>.b=t.b+e.b,<span class="code-keyword">this</span>},e.addScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r+=t,<span class="code-keyword">this</span>.g+=t,<span class="code-keyword">this</span>.b+=t,<span class="code-keyword">this</span>},e.sub=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-keyword">this</span>.r-t.r),<span class="code-keyword">this</span>.g=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-keyword">this</span>.g-t.g),<span class="code-keyword">this</span>.b=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-keyword">this</span>.b-t.b),<span class="code-keyword">this</span>},e.multiply=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r*=t.r,<span class="code-keyword">this</span>.g*=t.g,<span class="code-keyword">this</span>.b*=t.b,<span class="code-keyword">this</span>},e.multiplyScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r*=t,<span class="code-keyword">this</span>.g*=t,<span class="code-keyword">this</span>.b*=t,<span class="code-keyword">this</span>},e.lerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r+=(t.r-<span class="code-keyword">this</span>.r)*e,<span class="code-keyword">this</span>.g+=(t.g-<span class="code-keyword">this</span>.g)*e,<span class="code-keyword">this</span>.b+=(t.b-<span class="code-keyword">this</span>.b)*e,<span class="code-keyword">this</span>},e.lerpHSL=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.getHSL(Fe),t.getHSL(Ge);<span class="code-keyword">var</span> n=st.lerp(Fe.h,Ge.h,e),r=st.lerp(Fe.s,Ge.s,e),i=st.lerp(Fe.l,Ge.l,e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setHSL(n,r,i),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.r===<span class="code-keyword">this</span>.r&amp;&amp;t.g===<span class="code-keyword">this</span>.g&amp;&amp;t.b===<span class="code-keyword">this</span>.b},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.r=t[e],<span class="code-keyword">this</span>.g=t[e+<span class="code-number">1</span>],<span class="code-keyword">this</span>.b=t[e+<span class="code-number">2</span>],<span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),t[e]=<span class="code-keyword">this</span>.r,t[e+<span class="code-number">1</span>]=<span class="code-keyword">this</span>.g,t[e+<span class="code-number">2</span>]=<span class="code-keyword">this</span>.b,t},e.fromBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.r=t.getX(e),<span class="code-keyword">this</span>.g=t.getY(e),<span class="code-keyword">this</span>.b=t.getZ(e),!<span class="code-number">0</span>===t.normalized&amp;&amp;(<span class="code-keyword">this</span>.r/=<span class="code-number">255</span>,<span class="code-keyword">this</span>.g/=<span class="code-number">255</span>,<span class="code-keyword">this</span>.b/=<span class="code-number">255</span>),<span class="code-keyword">this</span>},e.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getHex()},t}();We.NAMES=Ue,We.prototype.r=<span class="code-number">1</span>,We.prototype.g=<span class="code-number">1</span>,We.prototype.b=<span class="code-number">1</span>;<span class="code-keyword">var</span> je=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">0</span>),<span class="code-keyword">this</span>.a=t,<span class="code-keyword">this</span>.b=e,<span class="code-keyword">this</span>.c=n,<span class="code-keyword">this</span>.normal=r&amp;&amp;r.isVector3?r:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.vertexNormals=<span class="code-built_in">Array</span>.isArray(r)?r:[],<span class="code-keyword">this</span>.color=i&amp;&amp;i.isColor?i:<span class="code-keyword">new</span> We,<span class="code-keyword">this</span>.vertexColors=<span class="code-built_in">Array</span>.isArray(i)?i:[],<span class="code-keyword">this</span>.materialIndex=a}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.a=t.a,<span class="code-keyword">this</span>.b=t.b,<span class="code-keyword">this</span>.c=t.c,<span class="code-keyword">this</span>.normal.copy(t.normal),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.materialIndex=t.materialIndex;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.vertexNormals.length;e&lt;n;e++)<span class="code-keyword">this</span>.vertexNormals[e]=t.vertexNormals[e].clone();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=t.vertexColors.length;r&lt;i;r++)<span class="code-keyword">this</span>.vertexColors[r]=t.vertexColors[r].clone();<span class="code-keyword">return</span> <span class="code-keyword">this</span>},t}(),qe=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xe</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"id"</span>,{<span class="code-attr">value</span>:qe++}),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.type=<span class="code-string">"Material"</span>,<span class="code-keyword">this</span>.fog=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.blending=<span class="code-number">1</span>,<span class="code-keyword">this</span>.side=<span class="code-number">0</span>,<span class="code-keyword">this</span>.flatShading=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.vertexColors=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.opacity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.transparent=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.blendSrc=<span class="code-number">204</span>,<span class="code-keyword">this</span>.blendDst=<span class="code-number">205</span>,<span class="code-keyword">this</span>.blendEquation=e,<span class="code-keyword">this</span>.blendSrcAlpha=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.blendDstAlpha=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.blendEquationAlpha=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.depthFunc=<span class="code-number">3</span>,<span class="code-keyword">this</span>.depthTest=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.depthWrite=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.stencilWriteMask=<span class="code-number">255</span>,<span class="code-keyword">this</span>.stencilFunc=<span class="code-number">519</span>,<span class="code-keyword">this</span>.stencilRef=<span class="code-number">0</span>,<span class="code-keyword">this</span>.stencilFuncMask=<span class="code-number">255</span>,<span class="code-keyword">this</span>.stencilFail=$,<span class="code-keyword">this</span>.stencilZFail=$,<span class="code-keyword">this</span>.stencilZPass=$,<span class="code-keyword">this</span>.stencilWrite=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.clippingPlanes=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.clipIntersection=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.clipShadows=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.shadowSide=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.colorWrite=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.precision=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.polygonOffset=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.polygonOffsetFactor=<span class="code-number">0</span>,<span class="code-keyword">this</span>.polygonOffsetUnits=<span class="code-number">0</span>,<span class="code-keyword">this</span>.dithering=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.alphaTest=<span class="code-number">0</span>,<span class="code-keyword">this</span>.premultipliedAlpha=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.visible=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.toneMapped=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.userData={},<span class="code-keyword">this</span>.version=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ye</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshBasicMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.aoMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.aoMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.specularMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.envMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.combine=<span class="code-number">0</span>,<span class="code-keyword">this</span>.reflectivity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.refractionRatio=<span class="code-number">.98</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.wireframeLinejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}Xe.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:Xe,<span class="code-attr">isMaterial</span>:!<span class="code-number">0</span>,<span class="code-attr">onBeforeCompile</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">customProgramCacheKey</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.onBeforeCompile.toString()},<span class="code-attr">setValues</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e <span class="code-keyword">in</span> t){<span class="code-keyword">var</span> n=t[e];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n)<span class="code-keyword">if</span>(<span class="code-string">"shading"</span>!==e){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>[e];<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r&amp;&amp;r.isColor?r.set(n):r&amp;&amp;r.isVector3&amp;&amp;n&amp;&amp;n.isVector3?r.copy(n):<span class="code-keyword">this</span>[e]=n:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": '"</span>+e+<span class="code-string">"' is not a property of this material."</span>)}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": .shading has been removed. Use the boolean .flatShading instead."</span>),<span class="code-keyword">this</span>.flatShading=<span class="code-number">1</span>===n;<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: '"</span>+e+<span class="code-string">"' parameter is undefined."</span>)}},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">void</span> <span class="code-number">0</span>===t||<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t;e&amp;&amp;(t={<span class="code-attr">textures</span>:{},<span class="code-attr">images</span>:{}});<span class="code-keyword">var</span> n={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Material"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Material.toJSON"</span>}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t){<span class="code-keyword">var</span> r=t[n];<span class="code-keyword">delete</span> r.metadata,e.push(r)}<span class="code-keyword">return</span> e}<span class="code-keyword">if</span>(n.uuid=<span class="code-keyword">this</span>.uuid,n.type=<span class="code-keyword">this</span>.type,<span class="code-string">""</span>!==<span class="code-keyword">this</span>.name&amp;&amp;(n.name=<span class="code-keyword">this</span>.name),<span class="code-keyword">this</span>.color&amp;&amp;<span class="code-keyword">this</span>.color.isColor&amp;&amp;(n.color=<span class="code-keyword">this</span>.color.getHex()),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.roughness&amp;&amp;(n.roughness=<span class="code-keyword">this</span>.roughness),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.metalness&amp;&amp;(n.metalness=<span class="code-keyword">this</span>.metalness),<span class="code-keyword">this</span>.sheen&amp;&amp;<span class="code-keyword">this</span>.sheen.isColor&amp;&amp;(n.sheen=<span class="code-keyword">this</span>.sheen.getHex()),<span class="code-keyword">this</span>.emissive&amp;&amp;<span class="code-keyword">this</span>.emissive.isColor&amp;&amp;(n.emissive=<span class="code-keyword">this</span>.emissive.getHex()),<span class="code-keyword">this</span>.emissiveIntensity&amp;&amp;<span class="code-number">1</span>!==<span class="code-keyword">this</span>.emissiveIntensity&amp;&amp;(n.emissiveIntensity=<span class="code-keyword">this</span>.emissiveIntensity),<span class="code-keyword">this</span>.specular&amp;&amp;<span class="code-keyword">this</span>.specular.isColor&amp;&amp;(n.specular=<span class="code-keyword">this</span>.specular.getHex()),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.shininess&amp;&amp;(n.shininess=<span class="code-keyword">this</span>.shininess),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.clearcoat&amp;&amp;(n.clearcoat=<span class="code-keyword">this</span>.clearcoat),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.clearcoatRoughness&amp;&amp;(n.clearcoatRoughness=<span class="code-keyword">this</span>.clearcoatRoughness),<span class="code-keyword">this</span>.clearcoatMap&amp;&amp;<span class="code-keyword">this</span>.clearcoatMap.isTexture&amp;&amp;(n.clearcoatMap=<span class="code-keyword">this</span>.clearcoatMap.toJSON(t).uuid),<span class="code-keyword">this</span>.clearcoatRoughnessMap&amp;&amp;<span class="code-keyword">this</span>.clearcoatRoughnessMap.isTexture&amp;&amp;(n.clearcoatRoughnessMap=<span class="code-keyword">this</span>.clearcoatRoughnessMap.toJSON(t).uuid),<span class="code-keyword">this</span>.clearcoatNormalMap&amp;&amp;<span class="code-keyword">this</span>.clearcoatNormalMap.isTexture&amp;&amp;(n.clearcoatNormalMap=<span class="code-keyword">this</span>.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=<span class="code-keyword">this</span>.clearcoatNormalScale.toArray()),<span class="code-keyword">this</span>.map&amp;&amp;<span class="code-keyword">this</span>.map.isTexture&amp;&amp;(n.map=<span class="code-keyword">this</span>.map.toJSON(t).uuid),<span class="code-keyword">this</span>.matcap&amp;&amp;<span class="code-keyword">this</span>.matcap.isTexture&amp;&amp;(n.matcap=<span class="code-keyword">this</span>.matcap.toJSON(t).uuid),<span class="code-keyword">this</span>.alphaMap&amp;&amp;<span class="code-keyword">this</span>.alphaMap.isTexture&amp;&amp;(n.alphaMap=<span class="code-keyword">this</span>.alphaMap.toJSON(t).uuid),<span class="code-keyword">this</span>.lightMap&amp;&amp;<span class="code-keyword">this</span>.lightMap.isTexture&amp;&amp;(n.lightMap=<span class="code-keyword">this</span>.lightMap.toJSON(t).uuid),<span class="code-keyword">this</span>.aoMap&amp;&amp;<span class="code-keyword">this</span>.aoMap.isTexture&amp;&amp;(n.aoMap=<span class="code-keyword">this</span>.aoMap.toJSON(t).uuid,n.aoMapIntensity=<span class="code-keyword">this</span>.aoMapIntensity),<span class="code-keyword">this</span>.bumpMap&amp;&amp;<span class="code-keyword">this</span>.bumpMap.isTexture&amp;&amp;(n.bumpMap=<span class="code-keyword">this</span>.bumpMap.toJSON(t).uuid,n.bumpScale=<span class="code-keyword">this</span>.bumpScale),<span class="code-keyword">this</span>.normalMap&amp;&amp;<span class="code-keyword">this</span>.normalMap.isTexture&amp;&amp;(n.normalMap=<span class="code-keyword">this</span>.normalMap.toJSON(t).uuid,n.normalMapType=<span class="code-keyword">this</span>.normalMapType,n.normalScale=<span class="code-keyword">this</span>.normalScale.toArray()),<span class="code-keyword">this</span>.displacementMap&amp;&amp;<span class="code-keyword">this</span>.displacementMap.isTexture&amp;&amp;(n.displacementMap=<span class="code-keyword">this</span>.displacementMap.toJSON(t).uuid,n.displacementScale=<span class="code-keyword">this</span>.displacementScale,n.displacementBias=<span class="code-keyword">this</span>.displacementBias),<span class="code-keyword">this</span>.roughnessMap&amp;&amp;<span class="code-keyword">this</span>.roughnessMap.isTexture&amp;&amp;(n.roughnessMap=<span class="code-keyword">this</span>.roughnessMap.toJSON(t).uuid),<span class="code-keyword">this</span>.metalnessMap&amp;&amp;<span class="code-keyword">this</span>.metalnessMap.isTexture&amp;&amp;(n.metalnessMap=<span class="code-keyword">this</span>.metalnessMap.toJSON(t).uuid),<span class="code-keyword">this</span>.emissiveMap&amp;&amp;<span class="code-keyword">this</span>.emissiveMap.isTexture&amp;&amp;(n.emissiveMap=<span class="code-keyword">this</span>.emissiveMap.toJSON(t).uuid),<span class="code-keyword">this</span>.specularMap&amp;&amp;<span class="code-keyword">this</span>.specularMap.isTexture&amp;&amp;(n.specularMap=<span class="code-keyword">this</span>.specularMap.toJSON(t).uuid),<span class="code-keyword">this</span>.envMap&amp;&amp;<span class="code-keyword">this</span>.envMap.isTexture&amp;&amp;(n.envMap=<span class="code-keyword">this</span>.envMap.toJSON(t).uuid,n.reflectivity=<span class="code-keyword">this</span>.reflectivity,n.refractionRatio=<span class="code-keyword">this</span>.refractionRatio,<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.combine&amp;&amp;(n.combine=<span class="code-keyword">this</span>.combine),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.envMapIntensity&amp;&amp;(n.envMapIntensity=<span class="code-keyword">this</span>.envMapIntensity)),<span class="code-keyword">this</span>.gradientMap&amp;&amp;<span class="code-keyword">this</span>.gradientMap.isTexture&amp;&amp;(n.gradientMap=<span class="code-keyword">this</span>.gradientMap.toJSON(t).uuid),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.size&amp;&amp;(n.size=<span class="code-keyword">this</span>.size),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.sizeAttenuation&amp;&amp;(n.sizeAttenuation=<span class="code-keyword">this</span>.sizeAttenuation),<span class="code-number">1</span>!==<span class="code-keyword">this</span>.blending&amp;&amp;(n.blending=<span class="code-keyword">this</span>.blending),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.flatShading&amp;&amp;(n.flatShading=<span class="code-keyword">this</span>.flatShading),<span class="code-number">0</span>!==<span class="code-keyword">this</span>.side&amp;&amp;(n.side=<span class="code-keyword">this</span>.side),<span class="code-keyword">this</span>.vertexColors&amp;&amp;(n.vertexColors=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.opacity&lt;<span class="code-number">1</span>&amp;&amp;(n.opacity=<span class="code-keyword">this</span>.opacity),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.transparent&amp;&amp;(n.transparent=<span class="code-keyword">this</span>.transparent),n.depthFunc=<span class="code-keyword">this</span>.depthFunc,n.depthTest=<span class="code-keyword">this</span>.depthTest,n.depthWrite=<span class="code-keyword">this</span>.depthWrite,n.stencilWrite=<span class="code-keyword">this</span>.stencilWrite,n.stencilWriteMask=<span class="code-keyword">this</span>.stencilWriteMask,n.stencilFunc=<span class="code-keyword">this</span>.stencilFunc,n.stencilRef=<span class="code-keyword">this</span>.stencilRef,n.stencilFuncMask=<span class="code-keyword">this</span>.stencilFuncMask,n.stencilFail=<span class="code-keyword">this</span>.stencilFail,n.stencilZFail=<span class="code-keyword">this</span>.stencilZFail,n.stencilZPass=<span class="code-keyword">this</span>.stencilZPass,<span class="code-keyword">this</span>.rotation&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>.rotation&amp;&amp;(n.rotation=<span class="code-keyword">this</span>.rotation),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.polygonOffset&amp;&amp;(n.polygonOffset=!<span class="code-number">0</span>),<span class="code-number">0</span>!==<span class="code-keyword">this</span>.polygonOffsetFactor&amp;&amp;(n.polygonOffsetFactor=<span class="code-keyword">this</span>.polygonOffsetFactor),<span class="code-number">0</span>!==<span class="code-keyword">this</span>.polygonOffsetUnits&amp;&amp;(n.polygonOffsetUnits=<span class="code-keyword">this</span>.polygonOffsetUnits),<span class="code-keyword">this</span>.linewidth&amp;&amp;<span class="code-number">1</span>!==<span class="code-keyword">this</span>.linewidth&amp;&amp;(n.linewidth=<span class="code-keyword">this</span>.linewidth),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.dashSize&amp;&amp;(n.dashSize=<span class="code-keyword">this</span>.dashSize),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.gapSize&amp;&amp;(n.gapSize=<span class="code-keyword">this</span>.gapSize),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.scale&amp;&amp;(n.scale=<span class="code-keyword">this</span>.scale),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.dithering&amp;&amp;(n.dithering=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.alphaTest&gt;<span class="code-number">0</span>&amp;&amp;(n.alphaTest=<span class="code-keyword">this</span>.alphaTest),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.premultipliedAlpha&amp;&amp;(n.premultipliedAlpha=<span class="code-keyword">this</span>.premultipliedAlpha),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.wireframe&amp;&amp;(n.wireframe=<span class="code-keyword">this</span>.wireframe),<span class="code-keyword">this</span>.wireframeLinewidth&gt;<span class="code-number">1</span>&amp;&amp;(n.wireframeLinewidth=<span class="code-keyword">this</span>.wireframeLinewidth),<span class="code-string">"round"</span>!==<span class="code-keyword">this</span>.wireframeLinecap&amp;&amp;(n.wireframeLinecap=<span class="code-keyword">this</span>.wireframeLinecap),<span class="code-string">"round"</span>!==<span class="code-keyword">this</span>.wireframeLinejoin&amp;&amp;(n.wireframeLinejoin=<span class="code-keyword">this</span>.wireframeLinejoin),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.morphTargets&amp;&amp;(n.morphTargets=!<span class="code-number">0</span>),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.morphNormals&amp;&amp;(n.morphNormals=!<span class="code-number">0</span>),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.skinning&amp;&amp;(n.skinning=!<span class="code-number">0</span>),!<span class="code-number">1</span>===<span class="code-keyword">this</span>.visible&amp;&amp;(n.visible=!<span class="code-number">1</span>),!<span class="code-number">1</span>===<span class="code-keyword">this</span>.toneMapped&amp;&amp;(n.toneMapped=!<span class="code-number">1</span>),<span class="code-string">"{}"</span>!==<span class="code-built_in">JSON</span>.stringify(<span class="code-keyword">this</span>.userData)&amp;&amp;(n.userData=<span class="code-keyword">this</span>.userData),e){<span class="code-keyword">var</span> i=r(t.textures),a=r(t.images);i.length&gt;<span class="code-number">0</span>&amp;&amp;(n.textures=i),a.length&gt;<span class="code-number">0</span>&amp;&amp;(n.images=a)}<span class="code-keyword">return</span> n},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.name=t.name,<span class="code-keyword">this</span>.fog=t.fog,<span class="code-keyword">this</span>.blending=t.blending,<span class="code-keyword">this</span>.side=t.side,<span class="code-keyword">this</span>.flatShading=t.flatShading,<span class="code-keyword">this</span>.vertexColors=t.vertexColors,<span class="code-keyword">this</span>.opacity=t.opacity,<span class="code-keyword">this</span>.transparent=t.transparent,<span class="code-keyword">this</span>.blendSrc=t.blendSrc,<span class="code-keyword">this</span>.blendDst=t.blendDst,<span class="code-keyword">this</span>.blendEquation=t.blendEquation,<span class="code-keyword">this</span>.blendSrcAlpha=t.blendSrcAlpha,<span class="code-keyword">this</span>.blendDstAlpha=t.blendDstAlpha,<span class="code-keyword">this</span>.blendEquationAlpha=t.blendEquationAlpha,<span class="code-keyword">this</span>.depthFunc=t.depthFunc,<span class="code-keyword">this</span>.depthTest=t.depthTest,<span class="code-keyword">this</span>.depthWrite=t.depthWrite,<span class="code-keyword">this</span>.stencilWriteMask=t.stencilWriteMask,<span class="code-keyword">this</span>.stencilFunc=t.stencilFunc,<span class="code-keyword">this</span>.stencilRef=t.stencilRef,<span class="code-keyword">this</span>.stencilFuncMask=t.stencilFuncMask,<span class="code-keyword">this</span>.stencilFail=t.stencilFail,<span class="code-keyword">this</span>.stencilZFail=t.stencilZFail,<span class="code-keyword">this</span>.stencilZPass=t.stencilZPass,<span class="code-keyword">this</span>.stencilWrite=t.stencilWrite;<span class="code-keyword">var</span> e=t.clippingPlanes,n=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==e){<span class="code-keyword">var</span> r=e.length;n=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(r);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i!==r;++i)n[i]=e[i].clone()}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.clippingPlanes=n,<span class="code-keyword">this</span>.clipIntersection=t.clipIntersection,<span class="code-keyword">this</span>.clipShadows=t.clipShadows,<span class="code-keyword">this</span>.shadowSide=t.shadowSide,<span class="code-keyword">this</span>.colorWrite=t.colorWrite,<span class="code-keyword">this</span>.precision=t.precision,<span class="code-keyword">this</span>.polygonOffset=t.polygonOffset,<span class="code-keyword">this</span>.polygonOffsetFactor=t.polygonOffsetFactor,<span class="code-keyword">this</span>.polygonOffsetUnits=t.polygonOffsetUnits,<span class="code-keyword">this</span>.dithering=t.dithering,<span class="code-keyword">this</span>.alphaTest=t.alphaTest,<span class="code-keyword">this</span>.premultipliedAlpha=t.premultipliedAlpha,<span class="code-keyword">this</span>.visible=t.visible,<span class="code-keyword">this</span>.toneMapped=t.toneMapped,<span class="code-keyword">this</span>.userData=<span class="code-built_in">JSON</span>.parse(<span class="code-built_in">JSON</span>.stringify(t.userData)),<span class="code-keyword">this</span>},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>})}}),<span class="code-built_in">Object</span>.defineProperty(Xe.prototype,<span class="code-string">"needsUpdate"</span>,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{!<span class="code-number">0</span>===t&amp;&amp;<span class="code-keyword">this</span>.version++}}),Ye.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshBasicMaterial=!<span class="code-number">0</span>,Ye.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.lightMap=t.lightMap,<span class="code-keyword">this</span>.lightMapIntensity=t.lightMapIntensity,<span class="code-keyword">this</span>.aoMap=t.aoMap,<span class="code-keyword">this</span>.aoMapIntensity=t.aoMapIntensity,<span class="code-keyword">this</span>.specularMap=t.specularMap,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.envMap=t.envMap,<span class="code-keyword">this</span>.combine=t.combine,<span class="code-keyword">this</span>.reflectivity=t.reflectivity,<span class="code-keyword">this</span>.refractionRatio=t.refractionRatio,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.wireframeLinecap=t.wireframeLinecap,<span class="code-keyword">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>};<span class="code-keyword">var</span> Ze=<span class="code-keyword">new</span> Mt,Je=<span class="code-keyword">new</span> pt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qe</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"THREE.BufferAttribute: array should be a Typed Array."</span>);<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.array=t,<span class="code-keyword">this</span>.itemSize=e,<span class="code-keyword">this</span>.count=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t.length/e:<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalized=!<span class="code-number">0</span>===n,<span class="code-keyword">this</span>.usage=tt,<span class="code-keyword">this</span>.updateRange={<span class="code-attr">offset</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:<span class="code-number">-1</span>},<span class="code-keyword">this</span>.version=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ke</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Int8Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$e</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tn</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint8ClampedArray</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">en</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Int16Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nn</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint16Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rn</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">an</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">on</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint16Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sn</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(t),e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cn</span>(<span class="code-params">t,e,n</span>)</span>{Qe.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> <span class="code-built_in">Float64Array</span>(t),e,n)}<span class="code-built_in">Object</span>.defineProperty(Qe.prototype,<span class="code-string">"needsUpdate"</span>,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{!<span class="code-number">0</span>===t&amp;&amp;<span class="code-keyword">this</span>.version++}}),<span class="code-built_in">Object</span>.assign(Qe.prototype,{<span class="code-attr">isBufferAttribute</span>:!<span class="code-number">0</span>,<span class="code-attr">onUploadCallback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">setUsage</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.usage=t,<span class="code-keyword">this</span>},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.name=t.name,<span class="code-keyword">this</span>.array=<span class="code-keyword">new</span> t.array.constructor(t.array),<span class="code-keyword">this</span>.itemSize=t.itemSize,<span class="code-keyword">this</span>.count=t.count,<span class="code-keyword">this</span>.normalized=t.normalized,<span class="code-keyword">this</span>.usage=t.usage,<span class="code-keyword">this</span>},<span class="code-attr">copyAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{t*=<span class="code-keyword">this</span>.itemSize,n*=e.itemSize;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.itemSize;r&lt;i;r++)<span class="code-keyword">this</span>.array[t+r]=e.array[n+r];<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">copyArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array.set(t),<span class="code-keyword">this</span>},<span class="code-attr">copyColorsArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.array,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute.copyColorsArray(): color is undefined"</span>,r),a=<span class="code-keyword">new</span> We),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">copyVector2sArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.array,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute.copyVector2sArray(): vector is undefined"</span>,r),a=<span class="code-keyword">new</span> pt),e[n++]=a.x,e[n++]=a.y}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">copyVector3sArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.array,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute.copyVector3sArray(): vector is undefined"</span>,r),a=<span class="code-keyword">new</span> Mt),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">copyVector4sArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.array,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute.copyVector4sArray(): vector is undefined"</span>,r),a=<span class="code-keyword">new</span> xt),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">applyMatrix3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">2</span>===<span class="code-keyword">this</span>.itemSize)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.count;e&lt;n;e++)Je.fromBufferAttribute(<span class="code-keyword">this</span>,e),Je.applyMatrix3(t),<span class="code-keyword">this</span>.setXY(e,Je.x,Je.y);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">3</span>===<span class="code-keyword">this</span>.itemSize)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.count;r&lt;i;r++)Ze.fromBufferAttribute(<span class="code-keyword">this</span>,r),Ze.applyMatrix3(t),<span class="code-keyword">this</span>.setXYZ(r,Ze.x,Ze.y,Ze.z);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">applyMatrix4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.count;e&lt;n;e++)Ze.x=<span class="code-keyword">this</span>.getX(e),Ze.y=<span class="code-keyword">this</span>.getY(e),Ze.z=<span class="code-keyword">this</span>.getZ(e),Ze.applyMatrix4(t),<span class="code-keyword">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">applyNormalMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.count;e&lt;n;e++)Ze.x=<span class="code-keyword">this</span>.getX(e),Ze.y=<span class="code-keyword">this</span>.getY(e),Ze.z=<span class="code-keyword">this</span>.getZ(e),Ze.applyNormalMatrix(t),<span class="code-keyword">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">transformDirection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.count;e&lt;n;e++)Ze.x=<span class="code-keyword">this</span>.getX(e),Ze.y=<span class="code-keyword">this</span>.getY(e),Ze.z=<span class="code-keyword">this</span>.getZ(e),Ze.transformDirection(t),<span class="code-keyword">this</span>.setXYZ(e,Ze.x,Ze.y,Ze.z);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.array.set(t,e),<span class="code-keyword">this</span>},<span class="code-attr">getX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize]},<span class="code-attr">setX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize]=e,<span class="code-keyword">this</span>},<span class="code-attr">getY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">1</span>]},<span class="code-attr">setY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">1</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">getZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">2</span>]},<span class="code-attr">setZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">2</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">getW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">3</span>]},<span class="code-attr">setW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array[t*<span class="code-keyword">this</span>.itemSize+<span class="code-number">3</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">setXY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t*=<span class="code-keyword">this</span>.itemSize,<span class="code-keyword">this</span>.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>},<span class="code-attr">setXYZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> t*=<span class="code-keyword">this</span>.itemSize,<span class="code-keyword">this</span>.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>.array[t+<span class="code-number">2</span>]=r,<span class="code-keyword">this</span>},<span class="code-attr">setXYZW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span> t*=<span class="code-keyword">this</span>.itemSize,<span class="code-keyword">this</span>.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>.array[t+<span class="code-number">2</span>]=r,<span class="code-keyword">this</span>.array[t+<span class="code-number">3</span>]=i,<span class="code-keyword">this</span>},<span class="code-attr">onUpload</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.onUploadCallback=t,<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.array,<span class="code-keyword">this</span>.itemSize).copy(<span class="code-keyword">this</span>)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">itemSize</span>:<span class="code-keyword">this</span>.itemSize,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.array.constructor.name,<span class="code-attr">array</span>:<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-keyword">this</span>.array),<span class="code-attr">normalized</span>:<span class="code-keyword">this</span>.normalized}}}),Ke.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),Ke.prototype.constructor=Ke,$e.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),$e.prototype.constructor=$e,tn.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),tn.prototype.constructor=tn,en.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),en.prototype.constructor=en,nn.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),nn.prototype.constructor=nn,rn.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),rn.prototype.constructor=rn,an.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),an.prototype.constructor=an,on.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),on.prototype.constructor=on,on.prototype.isFloat16BufferAttribute=!<span class="code-number">0</span>,sn.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),sn.prototype.constructor=sn,cn.prototype=<span class="code-built_in">Object</span>.create(Qe.prototype),cn.prototype.constructor=cn;<span class="code-keyword">var</span> ln=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.vertices=[],<span class="code-keyword">this</span>.normals=[],<span class="code-keyword">this</span>.colors=[],<span class="code-keyword">this</span>.uvs=[],<span class="code-keyword">this</span>.uvs2=[],<span class="code-keyword">this</span>.groups=[],<span class="code-keyword">this</span>.morphTargets={},<span class="code-keyword">this</span>.skinWeights=[],<span class="code-keyword">this</span>.skinIndices=[],<span class="code-keyword">this</span>.boundingBox=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundingSphere=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.verticesNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.colorsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.uvsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.groupsNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.computeGroups=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n,r=[],i=<span class="code-keyword">void</span> <span class="code-number">0</span>,a=t.faces;<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;a.length;n++){<span class="code-keyword">var</span> o=a[n];o.materialIndex!==i&amp;&amp;(i=o.materialIndex,<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(e.count=<span class="code-number">3</span>*n-e.start,r.push(e)),e={<span class="code-attr">start</span>:<span class="code-number">3</span>*n,<span class="code-attr">materialIndex</span>:i})}<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(e.count=<span class="code-number">3</span>*n-e.start,r.push(e)),<span class="code-keyword">this</span>.groups=r},e.fromGeometry=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[<span class="code-number">0</span>]&amp;&amp;i[<span class="code-number">0</span>].length&gt;<span class="code-number">0</span>,o=i[<span class="code-number">1</span>]&amp;&amp;i[<span class="code-number">1</span>].length&gt;<span class="code-number">0</span>,s=t.morphTargets,c=s.length;<span class="code-keyword">if</span>(c&gt;<span class="code-number">0</span>){e=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;c;l++)e[l]={<span class="code-attr">name</span>:s[l].name,<span class="code-attr">data</span>:[]};<span class="code-keyword">this</span>.morphTargets.position=e}<span class="code-keyword">var</span> u,h=t.morphNormals,d=h.length;<span class="code-keyword">if</span>(d&gt;<span class="code-number">0</span>){u=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>;p&lt;d;p++)u[p]={<span class="code-attr">name</span>:h[p].name,<span class="code-attr">data</span>:[]};<span class="code-keyword">this</span>.morphTargets.normal=u}<span class="code-keyword">var</span> f=t.skinIndices,m=t.skinWeights,v=f.length===r.length,g=m.length===r.length;r.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-number">0</span>===n.length&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.DirectGeometry: Faceless geometries are not supported."</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;n.length;y++){<span class="code-keyword">var</span> x=n[y];<span class="code-keyword">this</span>.vertices.push(r[x.a],r[x.b],r[x.c]);<span class="code-keyword">var</span> _=x.vertexNormals;<span class="code-keyword">if</span>(<span class="code-number">3</span>===_.length)<span class="code-keyword">this</span>.normals.push(_[<span class="code-number">0</span>],_[<span class="code-number">1</span>],_[<span class="code-number">2</span>]);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> b=x.normal;<span class="code-keyword">this</span>.normals.push(b,b,b)}<span class="code-keyword">var</span> w=x.vertexColors;<span class="code-keyword">if</span>(<span class="code-number">3</span>===w.length)<span class="code-keyword">this</span>.colors.push(w[<span class="code-number">0</span>],w[<span class="code-number">1</span>],w[<span class="code-number">2</span>]);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> M=x.color;<span class="code-keyword">this</span>.colors.push(M,M,M)}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===a){<span class="code-keyword">var</span> S=i[<span class="code-number">0</span>][y];<span class="code-keyword">void</span> <span class="code-number">0</span>!==S?<span class="code-keyword">this</span>.uvs.push(S[<span class="code-number">0</span>],S[<span class="code-number">1</span>],S[<span class="code-number">2</span>]):(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv "</span>,y),<span class="code-keyword">this</span>.uvs.push(<span class="code-keyword">new</span> pt,<span class="code-keyword">new</span> pt,<span class="code-keyword">new</span> pt))}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===o){<span class="code-keyword">var</span> T=i[<span class="code-number">1</span>][y];<span class="code-keyword">void</span> <span class="code-number">0</span>!==T?<span class="code-keyword">this</span>.uvs2.push(T[<span class="code-number">0</span>],T[<span class="code-number">1</span>],T[<span class="code-number">2</span>]):(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 "</span>,y),<span class="code-keyword">this</span>.uvs2.push(<span class="code-keyword">new</span> pt,<span class="code-keyword">new</span> pt,<span class="code-keyword">new</span> pt))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">0</span>;E&lt;c;E++){<span class="code-keyword">var</span> A=s[E].vertices;e[E].data.push(A[x.a],A[x.b],A[x.c])}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=<span class="code-number">0</span>;L&lt;d;L++){<span class="code-keyword">var</span> R=h[L].vertexNormals[y];u[L].data.push(R.a,R.b,R.c)}v&amp;&amp;<span class="code-keyword">this</span>.skinIndices.push(f[x.a],f[x.b],f[x.c]),g&amp;&amp;<span class="code-keyword">this</span>.skinWeights.push(m[x.a],m[x.b],m[x.c])}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.computeGroups(t),<span class="code-keyword">this</span>.verticesNeedUpdate=t.verticesNeedUpdate,<span class="code-keyword">this</span>.normalsNeedUpdate=t.normalsNeedUpdate,<span class="code-keyword">this</span>.colorsNeedUpdate=t.colorsNeedUpdate,<span class="code-keyword">this</span>.uvsNeedUpdate=t.uvsNeedUpdate,<span class="code-keyword">this</span>.groupsNeedUpdate=t.groupsNeedUpdate,<span class="code-literal">null</span>!==t.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=t.boundingSphere.clone()),<span class="code-literal">null</span>!==t.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=t.boundingBox.clone()),<span class="code-keyword">this</span>},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">un</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>===t.length)<span class="code-keyword">return</span><span class="code-number">-1</span>/<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t[<span class="code-number">0</span>],n=<span class="code-number">1</span>,r=t.length;n&lt;r;++n)t[n]&gt;e&amp;&amp;(e=t[n]);<span class="code-keyword">return</span> e}<span class="code-keyword">var</span> hn={<span class="code-attr">Int8Array</span>:<span class="code-built_in">Int8Array</span>,<span class="code-attr">Uint8Array</span>:<span class="code-built_in">Uint8Array</span>,<span class="code-attr">Uint8ClampedArray</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">Uint8ClampedArray</span>?<span class="code-built_in">Uint8ClampedArray</span>:<span class="code-built_in">Uint8Array</span>,<span class="code-attr">Int16Array</span>:<span class="code-built_in">Int16Array</span>,<span class="code-attr">Uint16Array</span>:<span class="code-built_in">Uint16Array</span>,<span class="code-attr">Int32Array</span>:<span class="code-built_in">Int32Array</span>,<span class="code-attr">Uint32Array</span>:<span class="code-built_in">Uint32Array</span>,<span class="code-attr">Float32Array</span>:<span class="code-built_in">Float32Array</span>,<span class="code-attr">Float64Array</span>:<span class="code-built_in">Float64Array</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dn</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> hn[t](e)}<span class="code-keyword">var</span> pn=<span class="code-number">1</span>,fn=<span class="code-keyword">new</span> Qt,mn=<span class="code-keyword">new</span> we,vn=<span class="code-keyword">new</span> Mt,gn=<span class="code-keyword">new</span> Et,yn=<span class="code-keyword">new</span> Et,xn=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_n</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"id"</span>,{<span class="code-attr">value</span>:pn+=<span class="code-number">2</span>}),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.type=<span class="code-string">"BufferGeometry"</span>,<span class="code-keyword">this</span>.index=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.attributes={},<span class="code-keyword">this</span>.morphAttributes={},<span class="code-keyword">this</span>.morphTargetsRelative=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.groups=[],<span class="code-keyword">this</span>.boundingBox=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundingSphere=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.drawRange={<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:<span class="code-number">1</span>/<span class="code-number">0</span>},<span class="code-keyword">this</span>.userData={}}_n.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:_n,<span class="code-attr">isBufferGeometry</span>:!<span class="code-number">0</span>,<span class="code-attr">getIndex</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index},<span class="code-attr">setIndex</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Array</span>.isArray(t)?<span class="code-keyword">this</span>.index=<span class="code-keyword">new</span>(un(t)&gt;<span class="code-number">65535</span>?an:nn)(t,<span class="code-number">1</span>):<span class="code-keyword">this</span>.index=t,<span class="code-keyword">this</span>},<span class="code-attr">getAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes[t]},<span class="code-attr">setAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes[t]=e,<span class="code-keyword">this</span>},<span class="code-attr">deleteAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.attributes[t],<span class="code-keyword">this</span>},<span class="code-attr">hasAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.attributes[t]},<span class="code-attr">addGroup</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-keyword">this</span>.groups.push({<span class="code-attr">start</span>:t,<span class="code-attr">count</span>:e,<span class="code-attr">materialIndex</span>:n})},<span class="code-attr">clearGroups</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.groups=[]},<span class="code-attr">setDrawRange</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.drawRange.start=t,<span class="code-keyword">this</span>.drawRange.count=e},<span class="code-attr">applyMatrix4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.attributes.position;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(e.applyMatrix4(t),e.needsUpdate=!<span class="code-number">0</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.attributes.normal;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n){<span class="code-keyword">var</span> r=(<span class="code-keyword">new</span> ft).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!<span class="code-number">0</span>}<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.attributes.tangent;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(i.transformDirection(t),i.needsUpdate=!<span class="code-number">0</span>),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.boundingBox&amp;&amp;<span class="code-keyword">this</span>.computeBoundingBox(),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.boundingSphere&amp;&amp;<span class="code-keyword">this</span>.computeBoundingSphere(),<span class="code-keyword">this</span>},<span class="code-attr">rotateX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> fn.makeRotationX(t),<span class="code-keyword">this</span>.applyMatrix4(fn),<span class="code-keyword">this</span>},<span class="code-attr">rotateY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> fn.makeRotationY(t),<span class="code-keyword">this</span>.applyMatrix4(fn),<span class="code-keyword">this</span>},<span class="code-attr">rotateZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> fn.makeRotationZ(t),<span class="code-keyword">this</span>.applyMatrix4(fn),<span class="code-keyword">this</span>},<span class="code-attr">translate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> fn.makeTranslation(t,e,n),<span class="code-keyword">this</span>.applyMatrix4(fn),<span class="code-keyword">this</span>},<span class="code-attr">scale</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> fn.makeScale(t,e,n),<span class="code-keyword">this</span>.applyMatrix4(fn),<span class="code-keyword">this</span>},<span class="code-attr">lookAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> mn.lookAt(t),mn.updateMatrix(),<span class="code-keyword">this</span>.applyMatrix4(mn.matrix),<span class="code-keyword">this</span>},<span class="code-attr">center</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.computeBoundingBox(),<span class="code-keyword">this</span>.boundingBox.getCenter(vn).negate(),<span class="code-keyword">this</span>.translate(vn.x,vn.y,vn.z),<span class="code-keyword">this</span>},<span class="code-attr">setFromObject</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.geometry;<span class="code-keyword">if</span>(t.isPoints||t.isLine){<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> sn(<span class="code-number">3</span>*e.vertices.length,<span class="code-number">3</span>),r=<span class="code-keyword">new</span> sn(<span class="code-number">3</span>*e.colors.length,<span class="code-number">3</span>);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"position"</span>,n.copyVector3sArray(e.vertices)),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"color"</span>,r.copyColorsArray(e.colors)),e.lineDistances&amp;&amp;e.lineDistances.length===e.vertices.length){<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> sn(e.lineDistances.length,<span class="code-number">1</span>);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"lineDistance"</span>,i.copyArray(e.lineDistances))}<span class="code-literal">null</span>!==e.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=e.boundingSphere.clone()),<span class="code-literal">null</span>!==e.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=e.boundingBox.clone())}<span class="code-keyword">else</span> t.isMesh&amp;&amp;e&amp;&amp;e.isGeometry&amp;&amp;<span class="code-keyword">this</span>.fromGeometry(e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">setFromPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t[n];e.push(i.x,i.y,i.z||<span class="code-number">0</span>)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(e,<span class="code-number">3</span>)),<span class="code-keyword">this</span>},<span class="code-attr">updateFromObject</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.geometry;<span class="code-keyword">if</span>(t.isMesh){<span class="code-keyword">var</span> n=e.__directGeometry;<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e.elementsNeedUpdate&amp;&amp;(n=<span class="code-keyword">void</span> <span class="code-number">0</span>,e.elementsNeedUpdate=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!<span class="code-number">1</span>,e.normalsNeedUpdate=!<span class="code-number">1</span>,e.colorsNeedUpdate=!<span class="code-number">1</span>,e.uvsNeedUpdate=!<span class="code-number">1</span>,e.groupsNeedUpdate=!<span class="code-number">1</span>,e=n}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e.verticesNeedUpdate){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.attributes.position;<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;(r.copyVector3sArray(e.vertices),r.needsUpdate=!<span class="code-number">0</span>),e.verticesNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e.normalsNeedUpdate){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.attributes.normal;<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(i.copyVector3sArray(e.normals),i.needsUpdate=!<span class="code-number">0</span>),e.normalsNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e.colorsNeedUpdate){<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.attributes.color;<span class="code-keyword">void</span> <span class="code-number">0</span>!==a&amp;&amp;(a.copyColorsArray(e.colors),a.needsUpdate=!<span class="code-number">0</span>),e.colorsNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(e.uvsNeedUpdate){<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.attributes.uv;<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;(o.copyVector2sArray(e.uvs),o.needsUpdate=!<span class="code-number">0</span>),e.uvsNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(e.lineDistancesNeedUpdate){<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.attributes.lineDistance;<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;(s.copyArray(e.lineDistances),s.needsUpdate=!<span class="code-number">0</span>),e.lineDistancesNeedUpdate=!<span class="code-number">1</span>}<span class="code-keyword">return</span> e.groupsNeedUpdate&amp;&amp;(e.computeGroups(t.geometry),<span class="code-keyword">this</span>.groups=e.groups,e.groupsNeedUpdate=!<span class="code-number">1</span>),<span class="code-keyword">this</span>},<span class="code-attr">fromGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.__directGeometry=(<span class="code-keyword">new</span> ln).fromGeometry(t),<span class="code-keyword">this</span>.fromDirectGeometry(t.__directGeometry)},<span class="code-attr">fromDirectGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*t.vertices.length);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> Qe(e,<span class="code-number">3</span>).copyVector3sArray(t.vertices)),t.normals.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*t.normals.length);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> Qe(n,<span class="code-number">3</span>).copyVector3sArray(t.normals))}<span class="code-keyword">if</span>(t.colors.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*t.colors.length);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> Qe(r,<span class="code-number">3</span>).copyColorsArray(t.colors))}<span class="code-keyword">if</span>(t.uvs.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">2</span>*t.uvs.length);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> Qe(i,<span class="code-number">2</span>).copyVector2sArray(t.uvs))}<span class="code-keyword">if</span>(t.uvs2.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">2</span>*t.uvs2.length);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"uv2"</span>,<span class="code-keyword">new</span> Qe(a,<span class="code-number">2</span>).copyVector2sArray(t.uvs2))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> <span class="code-keyword">this</span>.groups=t.groups,t.morphTargets){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=[],c=t.morphTargets[o],l=<span class="code-number">0</span>,u=c.length;l&lt;u;l++){<span class="code-keyword">var</span> h=c[l],d=<span class="code-keyword">new</span> sn(<span class="code-number">3</span>*h.data.length,<span class="code-number">3</span>);d.name=h.name,s.push(d.copyVector3sArray(h.data))}<span class="code-keyword">this</span>.morphAttributes[o]=s}<span class="code-keyword">if</span>(t.skinIndices.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> p=<span class="code-keyword">new</span> sn(<span class="code-number">4</span>*t.skinIndices.length,<span class="code-number">4</span>);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"skinIndex"</span>,p.copyVector4sArray(t.skinIndices))}<span class="code-keyword">if</span>(t.skinWeights.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> f=<span class="code-keyword">new</span> sn(<span class="code-number">4</span>*t.skinWeights.length,<span class="code-number">4</span>);<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"skinWeight"</span>,f.copyVector4sArray(t.skinWeights))}<span class="code-keyword">return</span> <span class="code-literal">null</span>!==t.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=t.boundingSphere.clone()),<span class="code-literal">null</span>!==t.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=t.boundingBox.clone()),<span class="code-keyword">this</span>},<span class="code-attr">computeBoundingBox</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=<span class="code-keyword">new</span> Et);<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.attributes.position,e=<span class="code-keyword">this</span>.morphAttributes.position;<span class="code-keyword">if</span>(t&amp;&amp;t.isGLBufferAttribute)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".'</span>,<span class="code-keyword">this</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.boundingBox.set(<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-number">-1</span>/<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>));<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.boundingBox.setFromBufferAttribute(t),e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++){<span class="code-keyword">var</span> i=e[n];gn.setFromBufferAttribute(i),<span class="code-keyword">this</span>.morphTargetsRelative?(xn.addVectors(<span class="code-keyword">this</span>.boundingBox.min,gn.min),<span class="code-keyword">this</span>.boundingBox.expandByPoint(xn),xn.addVectors(<span class="code-keyword">this</span>.boundingBox.max,gn.max),<span class="code-keyword">this</span>.boundingBox.expandByPoint(xn)):(<span class="code-keyword">this</span>.boundingBox.expandByPoint(gn.min),<span class="code-keyword">this</span>.boundingBox.expandByPoint(gn.max))}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.boundingBox.makeEmpty();(<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.boundingBox.min.x)||<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.boundingBox.min.y)||<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.boundingBox.min.z))&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.'</span>,<span class="code-keyword">this</span>)},<span class="code-attr">computeBoundingSphere</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=<span class="code-keyword">new</span> kt);<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.attributes.position,e=<span class="code-keyword">this</span>.morphAttributes.position;<span class="code-keyword">if</span>(t&amp;&amp;t.isGLBufferAttribute)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".'</span>,<span class="code-keyword">this</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.boundingSphere.set(<span class="code-keyword">new</span> Mt,<span class="code-number">1</span>/<span class="code-number">0</span>);<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.boundingSphere.center;<span class="code-keyword">if</span>(gn.setFromBufferAttribute(t),e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=e.length;r&lt;i;r++){<span class="code-keyword">var</span> a=e[r];yn.setFromBufferAttribute(a),<span class="code-keyword">this</span>.morphTargetsRelative?(xn.addVectors(gn.min,yn.min),gn.expandByPoint(xn),xn.addVectors(gn.max,yn.max),gn.expandByPoint(xn)):(gn.expandByPoint(yn.min),gn.expandByPoint(yn.max))}gn.getCenter(n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>,s=<span class="code-number">0</span>,c=t.count;s&lt;c;s++)xn.fromBufferAttribute(t,s),o=<span class="code-built_in">Math</span>.max(o,n.distanceToSquared(xn));<span class="code-keyword">if</span>(e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>,u=e.length;l&lt;u;l++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=e[l],d=<span class="code-keyword">this</span>.morphTargetsRelative,p=<span class="code-number">0</span>,f=h.count;p&lt;f;p++)xn.fromBufferAttribute(h,p),d&amp;&amp;(vn.fromBufferAttribute(t,p),xn.add(vn)),o=<span class="code-built_in">Math</span>.max(o,n.distanceToSquared(xn));<span class="code-keyword">this</span>.boundingSphere.radius=<span class="code-built_in">Math</span>.sqrt(o),<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.boundingSphere.radius)&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.'</span>,<span class="code-keyword">this</span>)}},<span class="code-attr">computeFaceNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">computeVertexNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.index,e=<span class="code-keyword">this</span>.getAttribute(<span class="code-string">"position"</span>);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.getAttribute(<span class="code-string">"normal"</span>);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n)n=<span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*e.count),<span class="code-number">3</span>),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"normal"</span>,n);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=n.count;r&lt;i;r++)n.setXYZ(r,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> Mt,o=<span class="code-keyword">new</span> Mt,s=<span class="code-keyword">new</span> Mt,c=<span class="code-keyword">new</span> Mt,l=<span class="code-keyword">new</span> Mt,u=<span class="code-keyword">new</span> Mt,h=<span class="code-keyword">new</span> Mt,d=<span class="code-keyword">new</span> Mt;<span class="code-keyword">if</span>(t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>,f=t.count;p&lt;f;p+=<span class="code-number">3</span>){<span class="code-keyword">var</span> m=t.getX(p+<span class="code-number">0</span>),v=t.getX(p+<span class="code-number">1</span>),g=t.getX(p+<span class="code-number">2</span>);a.fromBufferAttribute(e,m),o.fromBufferAttribute(e,v),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),c.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,g),c.add(h),l.add(h),u.add(h),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,u.x,u.y,u.z)}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>,x=e.count;y&lt;x;y+=<span class="code-number">3</span>)a.fromBufferAttribute(e,y+<span class="code-number">0</span>),o.fromBufferAttribute(e,y+<span class="code-number">1</span>),s.fromBufferAttribute(e,y+<span class="code-number">2</span>),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+<span class="code-number">0</span>,h.x,h.y,h.z),n.setXYZ(y+<span class="code-number">1</span>,h.x,h.y,h.z),n.setXYZ(y+<span class="code-number">2</span>,h.x,h.y,h.z);<span class="code-keyword">this</span>.normalizeNormals(),n.needsUpdate=!<span class="code-number">0</span>}},<span class="code-attr">merge</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(t&amp;&amp;t.isBufferGeometry){<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>,<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."</span>));<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> n)<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.attributes[r])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,c=<span class="code-built_in">Math</span>.min(o.length,i.length-s),l=<span class="code-number">0</span>,u=s;l&lt;c;l++,u++)i[u]=o[l];<span class="code-keyword">return</span> <span class="code-keyword">this</span>}<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry."</span>,t)},<span class="code-attr">normalizeNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.attributes.normal,e=<span class="code-number">0</span>,n=t.count;e&lt;n;e++)xn.fromBufferAttribute(t,e),xn.normalize(),t.setXYZ(e,xn.x,xn.y,xn.z)},<span class="code-attr">toNonIndexed</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=t.array,r=t.itemSize,i=t.normalized,a=<span class="code-keyword">new</span> n.constructor(e.length*r),o=<span class="code-number">0</span>,s=<span class="code-number">0</span>,c=<span class="code-number">0</span>,l=e.length;c&lt;l;c++){o=e[c]*r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;r;u++)a[s++]=n[o++]}<span class="code-keyword">return</span> <span class="code-keyword">new</span> Qe(a,r,i)}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===<span class="code-keyword">this</span>.index)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."</span>),<span class="code-keyword">this</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> _n,n=<span class="code-keyword">this</span>.index.array,r=<span class="code-keyword">this</span>.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r){<span class="code-keyword">var</span> a=t(r[i],n);e.setAttribute(i,a)}<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.morphAttributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> o){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=o[s],u=<span class="code-number">0</span>,h=l.length;u&lt;h;u++){<span class="code-keyword">var</span> d=t(l[u],n);c.push(d)}e.morphAttributes[s]=c}e.morphTargetsRelative=<span class="code-keyword">this</span>.morphTargetsRelative;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-keyword">this</span>.groups,f=<span class="code-number">0</span>,m=p.length;f&lt;m;f++){<span class="code-keyword">var</span> v=p[f];e.addGroup(v.start,v.count,v.materialIndex)}<span class="code-keyword">return</span> e},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"BufferGeometry"</span>,<span class="code-attr">generator</span>:<span class="code-string">"BufferGeometry.toJSON"</span>}};<span class="code-keyword">if</span>(t.uuid=<span class="code-keyword">this</span>.uuid,t.type=<span class="code-keyword">this</span>.type,<span class="code-string">""</span>!==<span class="code-keyword">this</span>.name&amp;&amp;(t.name=<span class="code-keyword">this</span>.name),<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.userData).length&gt;<span class="code-number">0</span>&amp;&amp;(t.userData=<span class="code-keyword">this</span>.userData),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.parameters){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.parameters;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e)<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[n]&amp;&amp;(t[n]=e[n]);<span class="code-keyword">return</span> t}t.data={<span class="code-attr">attributes</span>:{}};<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.index;<span class="code-literal">null</span>!==r&amp;&amp;(t.data.index={<span class="code-attr">type</span>:r.array.constructor.name,<span class="code-attr">array</span>:<span class="code-built_in">Array</span>.prototype.slice.call(r.array)});<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> i){<span class="code-keyword">var</span> o=i[a],s=o.toJSON(t.data);<span class="code-string">""</span>!==o.name&amp;&amp;(s.name=o.name),t.data.attributes[a]=s}<span class="code-keyword">var</span> c={},l=!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u <span class="code-keyword">in</span> <span class="code-keyword">this</span>.morphAttributes){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-keyword">this</span>.morphAttributes[u],d=[],p=<span class="code-number">0</span>,f=h.length;p&lt;f;p++){<span class="code-keyword">var</span> m=h[p],v=m.toJSON(t.data);<span class="code-string">""</span>!==m.name&amp;&amp;(v.name=m.name),d.push(v)}d.length&gt;<span class="code-number">0</span>&amp;&amp;(c[u]=d,l=!<span class="code-number">0</span>)}l&amp;&amp;(t.data.morphAttributes=c,t.data.morphTargetsRelative=<span class="code-keyword">this</span>.morphTargetsRelative);<span class="code-keyword">var</span> g=<span class="code-keyword">this</span>.groups;g.length&gt;<span class="code-number">0</span>&amp;&amp;(t.data.groups=<span class="code-built_in">JSON</span>.parse(<span class="code-built_in">JSON</span>.stringify(g)));<span class="code-keyword">var</span> y=<span class="code-keyword">this</span>.boundingSphere;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==y&amp;&amp;(t.data.boundingSphere={<span class="code-attr">center</span>:y.center.toArray(),<span class="code-attr">radius</span>:y.radius}),t},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> _n).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.index=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.attributes={},<span class="code-keyword">this</span>.morphAttributes={},<span class="code-keyword">this</span>.groups=[],<span class="code-keyword">this</span>.boundingBox=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundingSphere=<span class="code-literal">null</span>;<span class="code-keyword">var</span> e={};<span class="code-keyword">this</span>.name=t.name;<span class="code-keyword">var</span> n=t.index;<span class="code-literal">null</span>!==n&amp;&amp;<span class="code-keyword">this</span>.setIndex(n.clone(e));<span class="code-keyword">var</span> r=t.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r){<span class="code-keyword">var</span> a=r[i];<span class="code-keyword">this</span>.setAttribute(i,a.clone(e))}<span class="code-keyword">var</span> o=t.morphAttributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> o){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=o[s],u=<span class="code-number">0</span>,h=l.length;u&lt;h;u++)c.push(l[u].clone(e));<span class="code-keyword">this</span>.morphAttributes[s]=c}<span class="code-keyword">this</span>.morphTargetsRelative=t.morphTargetsRelative;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=t.groups,p=<span class="code-number">0</span>,f=d.length;p&lt;f;p++){<span class="code-keyword">var</span> m=d[p];<span class="code-keyword">this</span>.addGroup(m.start,m.count,m.materialIndex)}<span class="code-keyword">var</span> v=t.boundingBox;<span class="code-literal">null</span>!==v&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=v.clone());<span class="code-keyword">var</span> g=t.boundingSphere;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==g&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=g.clone()),<span class="code-keyword">this</span>.drawRange.start=t.drawRange.start,<span class="code-keyword">this</span>.drawRange.count=t.drawRange.count,<span class="code-keyword">this</span>.userData=t.userData,<span class="code-keyword">this</span>},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>})}});<span class="code-keyword">var</span> bn=<span class="code-keyword">new</span> Qt,wn=<span class="code-keyword">new</span> Jt,Mn=<span class="code-keyword">new</span> kt,Sn=<span class="code-keyword">new</span> Mt,Tn=<span class="code-keyword">new</span> Mt,En=<span class="code-keyword">new</span> Mt,An=<span class="code-keyword">new</span> Mt,Ln=<span class="code-keyword">new</span> Mt,Rn=<span class="code-keyword">new</span> Mt,Cn=<span class="code-keyword">new</span> Mt,Pn=<span class="code-keyword">new</span> Mt,In=<span class="code-keyword">new</span> Mt,Nn=<span class="code-keyword">new</span> pt,Dn=<span class="code-keyword">new</span> pt,On=<span class="code-keyword">new</span> pt,Bn=<span class="code-keyword">new</span> Mt,zn=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Un</span>(<span class="code-params">t,e</span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Mesh"</span>,<span class="code-keyword">this</span>.geometry=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> _n,<span class="code-keyword">this</span>.material=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Ye,<span class="code-keyword">this</span>.updateMorphTargets()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fn</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>===(<span class="code-number">1</span>===e.side?r.intersectTriangle(o,a,i,!<span class="code-number">0</span>,s):r.intersectTriangle(i,a,o,<span class="code-number">2</span>!==e.side,s)))<span class="code-keyword">return</span> <span class="code-literal">null</span>;zn.copy(s),zn.applyMatrix4(t.matrixWorld);<span class="code-keyword">var</span> c=n.ray.origin.distanceTo(zn);<span class="code-keyword">return</span> c&lt;n.near||c&gt;n.far?<span class="code-literal">null</span>:{<span class="code-attr">distance</span>:c,<span class="code-attr">point</span>:zn.clone(),<span class="code-attr">object</span>:t}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gn</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{Sn.fromBufferAttribute(i,l),Tn.fromBufferAttribute(i,u),En.fromBufferAttribute(i,h);<span class="code-keyword">var</span> d=t.morphTargetInfluences;<span class="code-keyword">if</span>(e.morphTargets&amp;&amp;a&amp;&amp;d){Cn.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),Pn.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),In.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>,f=a.length;p&lt;f;p++){<span class="code-keyword">var</span> m=d[p],v=a[p];<span class="code-number">0</span>!==m&amp;&amp;(An.fromBufferAttribute(v,l),Ln.fromBufferAttribute(v,u),Rn.fromBufferAttribute(v,h),o?(Cn.addScaledVector(An,m),Pn.addScaledVector(Ln,m),In.addScaledVector(Rn,m)):(Cn.addScaledVector(An.sub(Sn),m),Pn.addScaledVector(Ln.sub(Tn),m),In.addScaledVector(Rn.sub(En),m)))}Sn.add(Cn),Tn.add(Pn),En.add(In)}t.isSkinnedMesh&amp;&amp;(t.boneTransform(l,Sn),t.boneTransform(u,Tn),t.boneTransform(h,En));<span class="code-keyword">var</span> g=Fn(t,e,n,r,Sn,Tn,En,Bn);<span class="code-keyword">if</span>(g){s&amp;&amp;(Nn.fromBufferAttribute(s,l),Dn.fromBufferAttribute(s,u),On.fromBufferAttribute(s,h),g.uv=ze.getUV(Bn,Sn,Tn,En,Nn,Dn,On,<span class="code-keyword">new</span> pt)),c&amp;&amp;(Nn.fromBufferAttribute(c,l),Dn.fromBufferAttribute(c,u),On.fromBufferAttribute(c,h),g.uv2=ze.getUV(Bn,Sn,Tn,En,Nn,Dn,On,<span class="code-keyword">new</span> pt));<span class="code-keyword">var</span> y=<span class="code-keyword">new</span> je(l,u,h);ze.getNormal(Sn,Tn,En,y.normal),g.face=y}<span class="code-keyword">return</span> g}Un.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:Un,<span class="code-attr">isMesh</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.morphTargetInfluences&amp;&amp;(<span class="code-keyword">this</span>.morphTargetInfluences=t.morphTargetInfluences.slice()),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.morphTargetDictionary&amp;&amp;(<span class="code-keyword">this</span>.morphTargetDictionary=<span class="code-built_in">Object</span>.assign({},t.morphTargetDictionary)),<span class="code-keyword">this</span>.material=t.material,<span class="code-keyword">this</span>.geometry=t.geometry,<span class="code-keyword">this</span>},<span class="code-attr">updateMorphTargets</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry;<span class="code-keyword">if</span>(t.isBufferGeometry){<span class="code-keyword">var</span> e=t.morphAttributes,n=<span class="code-built_in">Object</span>.keys(e);<span class="code-keyword">if</span>(n.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> r=e[n[<span class="code-number">0</span>]];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r){<span class="code-keyword">this</span>.morphTargetInfluences=[],<span class="code-keyword">this</span>.morphTargetDictionary={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=r.length;i&lt;a;i++){<span class="code-keyword">var</span> o=r[i].name||<span class="code-built_in">String</span>(i);<span class="code-keyword">this</span>.morphTargetInfluences.push(<span class="code-number">0</span>),<span class="code-keyword">this</span>.morphTargetDictionary[o]=i}}}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=t.morphTargets;<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;s.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."</span>)}},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r=<span class="code-keyword">this</span>.geometry,i=<span class="code-keyword">this</span>.material,a=<span class="code-keyword">this</span>.matrixWorld;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(<span class="code-literal">null</span>===r.boundingSphere&amp;&amp;r.computeBoundingSphere(),Mn.copy(r.boundingSphere),Mn.applyMatrix4(a),!<span class="code-number">1</span>!==t.ray.intersectsSphere(Mn)&amp;&amp;(bn.copy(a).invert(),wn.copy(t.ray).applyMatrix4(bn),<span class="code-literal">null</span>===r.boundingBox||!<span class="code-number">1</span>!==wn.intersectsBox(r.boundingBox))))<span class="code-keyword">if</span>(r.isBufferGeometry){<span class="code-keyword">var</span> o=r.index,s=r.attributes.position,c=r.morphAttributes.position,l=r.morphTargetsRelative,u=r.attributes.uv,h=r.attributes.uv2,d=r.groups,p=r.drawRange;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==o)<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(i))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,m=d.length;f&lt;m;f++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=d[f],g=i[v.materialIndex],y=<span class="code-built_in">Math</span>.max(v.start,p.start),x=<span class="code-built_in">Math</span>.min(v.start+v.count,p.start+p.count);y&lt;x;y+=<span class="code-number">3</span>){<span class="code-keyword">var</span> _=o.getX(y),b=o.getX(y+<span class="code-number">1</span>),w=o.getX(y+<span class="code-number">2</span>);(n=Gn(<span class="code-keyword">this</span>,g,t,wn,s,c,l,u,h,_,b,w))&amp;&amp;(n.faceIndex=<span class="code-built_in">Math</span>.floor(y/<span class="code-number">3</span>),n.face.materialIndex=v.materialIndex,e.push(n))}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> M=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,p.start),S=<span class="code-built_in">Math</span>.min(o.count,p.start+p.count);M&lt;S;M+=<span class="code-number">3</span>){<span class="code-keyword">var</span> T=o.getX(M),E=o.getX(M+<span class="code-number">1</span>),A=o.getX(M+<span class="code-number">2</span>);(n=Gn(<span class="code-keyword">this</span>,i,t,wn,s,c,l,u,h,T,E,A))&amp;&amp;(n.faceIndex=<span class="code-built_in">Math</span>.floor(M/<span class="code-number">3</span>),e.push(n))}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==s)<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(i))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=<span class="code-number">0</span>,R=d.length;L&lt;R;L++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> C=d[L],P=i[C.materialIndex],I=<span class="code-built_in">Math</span>.max(C.start,p.start),N=<span class="code-built_in">Math</span>.min(C.start+C.count,p.start+p.count);I&lt;N;I+=<span class="code-number">3</span>){(n=Gn(<span class="code-keyword">this</span>,P,t,wn,s,c,l,u,h,I,I+<span class="code-number">1</span>,I+<span class="code-number">2</span>))&amp;&amp;(n.faceIndex=<span class="code-built_in">Math</span>.floor(I/<span class="code-number">3</span>),n.face.materialIndex=C.materialIndex,e.push(n))}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> D=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,p.start),O=<span class="code-built_in">Math</span>.min(s.count,p.start+p.count);D&lt;O;D+=<span class="code-number">3</span>){(n=Gn(<span class="code-keyword">this</span>,i,t,wn,s,c,l,u,h,D,D+<span class="code-number">1</span>,D+<span class="code-number">2</span>))&amp;&amp;(n.faceIndex=<span class="code-built_in">Math</span>.floor(D/<span class="code-number">3</span>),e.push(n))}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.isGeometry){<span class="code-keyword">var</span> B,z=<span class="code-built_in">Array</span>.isArray(i),U=r.vertices,F=r.faces,G=r.faceVertexUvs[<span class="code-number">0</span>];G.length&gt;<span class="code-number">0</span>&amp;&amp;(B=G);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> H=<span class="code-number">0</span>,k=F.length;H&lt;k;H++){<span class="code-keyword">var</span> V=F[H],W=z?i[V.materialIndex]:i;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==W){<span class="code-keyword">var</span> j=U[V.a],q=U[V.b],X=U[V.c];<span class="code-keyword">if</span>(n=Fn(<span class="code-keyword">this</span>,W,t,wn,j,q,X,Bn)){<span class="code-keyword">if</span>(B&amp;&amp;B[H]){<span class="code-keyword">var</span> Y=B[H];Nn.copy(Y[<span class="code-number">0</span>]),Dn.copy(Y[<span class="code-number">1</span>]),On.copy(Y[<span class="code-number">2</span>]),n.uv=ze.getUV(Bn,j,q,X,Nn,Dn,On,<span class="code-keyword">new</span> pt)}n.face=V,n.faceIndex=H,e.push(n)}}}}}});<span class="code-keyword">var</span> Hn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">1</span>),(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"BoxBufferGeometry"</span>,s.parameters={<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">depth</span>:r,<span class="code-attr">widthSegments</span>:i,<span class="code-attr">heightSegments</span>:a,<span class="code-attr">depthSegments</span>:o};<span class="code-keyword">var</span> c=ht(s);i=<span class="code-built_in">Math</span>.floor(i),a=<span class="code-built_in">Math</span>.floor(a),o=<span class="code-built_in">Math</span>.floor(o);<span class="code-keyword">var</span> l=[],u=[],h=[],d=[],p=<span class="code-number">0</span>,f=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">m</span>(<span class="code-params">t,e,n,r,i,a,o,s,m,v,g</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=a/m,x=o/v,_=a/<span class="code-number">2</span>,b=o/<span class="code-number">2</span>,w=s/<span class="code-number">2</span>,M=m+<span class="code-number">1</span>,S=v+<span class="code-number">1</span>,T=<span class="code-number">0</span>,E=<span class="code-number">0</span>,A=<span class="code-keyword">new</span> Mt,L=<span class="code-number">0</span>;L&lt;S;L++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> R=L*x-b,C=<span class="code-number">0</span>;C&lt;M;C++){<span class="code-keyword">var</span> P=C*y-_;A[t]=P*r,A[e]=R*i,A[n]=w,u.push(A.x,A.y,A.z),A[t]=<span class="code-number">0</span>,A[e]=<span class="code-number">0</span>,A[n]=s&gt;<span class="code-number">0</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>,h.push(A.x,A.y,A.z),d.push(C/m),d.push(<span class="code-number">1</span>-L/v),T+=<span class="code-number">1</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> I=<span class="code-number">0</span>;I&lt;v;I++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> N=<span class="code-number">0</span>;N&lt;m;N++){<span class="code-keyword">var</span> D=p+N+M*I,O=p+N+M*(I+<span class="code-number">1</span>),B=p+(N+<span class="code-number">1</span>)+M*(I+<span class="code-number">1</span>),z=p+(N+<span class="code-number">1</span>)+M*I;l.push(D,O,z),l.push(O,B,z),E+=<span class="code-number">6</span>}c.addGroup(f,E,g),f+=E,p+=T}<span class="code-keyword">return</span> m(<span class="code-string">"z"</span>,<span class="code-string">"y"</span>,<span class="code-string">"x"</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,r,n,e,o,a,<span class="code-number">0</span>),m(<span class="code-string">"z"</span>,<span class="code-string">"y"</span>,<span class="code-string">"x"</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,r,n,-e,o,a,<span class="code-number">1</span>),m(<span class="code-string">"x"</span>,<span class="code-string">"z"</span>,<span class="code-string">"y"</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,e,r,n,i,o,<span class="code-number">2</span>),m(<span class="code-string">"x"</span>,<span class="code-string">"z"</span>,<span class="code-string">"y"</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,e,r,-n,i,o,<span class="code-number">3</span>),m(<span class="code-string">"x"</span>,<span class="code-string">"y"</span>,<span class="code-string">"z"</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,e,n,r,i,a,<span class="code-number">4</span>),m(<span class="code-string">"x"</span>,<span class="code-string">"y"</span>,<span class="code-string">"z"</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,e,n,-r,i,a,<span class="code-number">5</span>),s.setIndex(l),s.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(u,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(h,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(d,<span class="code-number">2</span>)),s}<span class="code-keyword">return</span> ut(e,t),e}(_n);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e[n]={},t[n]){<span class="code-keyword">var</span> i=t[n][r];i&amp;&amp;(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():<span class="code-built_in">Array</span>.isArray(i)?e[n][r]=i.slice():e[n][r]=i}<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vn</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e={},n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=kn(t[n]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)e[i]=r[i]}<span class="code-keyword">return</span> e}<span class="code-keyword">var</span> Wn={<span class="code-attr">clone</span>:kn,<span class="code-attr">merge</span>:Vn};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jn</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"ShaderMaterial"</span>,<span class="code-keyword">this</span>.defines={},<span class="code-keyword">this</span>.uniforms={},<span class="code-keyword">this</span>.vertexShader=<span class="code-string">"void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"</span>,<span class="code-keyword">this</span>.fragmentShader=<span class="code-string">"void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"</span>,<span class="code-keyword">this</span>.linewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.fog=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.lights=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.clipping=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.extensions={<span class="code-attr">derivatives</span>:!<span class="code-number">1</span>,<span class="code-attr">fragDepth</span>:!<span class="code-number">1</span>,<span class="code-attr">drawBuffers</span>:!<span class="code-number">1</span>,<span class="code-attr">shaderTextureLOD</span>:!<span class="code-number">1</span>},<span class="code-keyword">this</span>.defaultAttributeValues={<span class="code-attr">color</span>:[<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>],<span class="code-attr">uv</span>:[<span class="code-number">0</span>,<span class="code-number">0</span>],<span class="code-attr">uv2</span>:[<span class="code-number">0</span>,<span class="code-number">0</span>]},<span class="code-keyword">this</span>.index0AttributeName=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.uniformsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.glslVersion=<span class="code-literal">null</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.attributes&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."</span>),<span class="code-keyword">this</span>.setValues(t))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qn</span>(<span class="code-params"></span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Camera"</span>,<span class="code-keyword">this</span>.matrixWorldInverse=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.projectionMatrix=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.projectionMatrixInverse=<span class="code-keyword">new</span> Qt}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xn</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">50</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">.1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">2e3</span>),qn.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"PerspectiveCamera"</span>,<span class="code-keyword">this</span>.fov=t,<span class="code-keyword">this</span>.zoom=<span class="code-number">1</span>,<span class="code-keyword">this</span>.near=n,<span class="code-keyword">this</span>.far=r,<span class="code-keyword">this</span>.focus=<span class="code-number">10</span>,<span class="code-keyword">this</span>.aspect=e,<span class="code-keyword">this</span>.view=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.filmGauge=<span class="code-number">35</span>,<span class="code-keyword">this</span>.filmOffset=<span class="code-number">0</span>,<span class="code-keyword">this</span>.updateProjectionMatrix()}jn.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),jn.prototype.constructor=jn,jn.prototype.isShaderMaterial=!<span class="code-number">0</span>,jn.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.fragmentShader=t.fragmentShader,<span class="code-keyword">this</span>.vertexShader=t.vertexShader,<span class="code-keyword">this</span>.uniforms=kn(t.uniforms),<span class="code-keyword">this</span>.defines=<span class="code-built_in">Object</span>.assign({},t.defines),<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.lights=t.lights,<span class="code-keyword">this</span>.clipping=t.clipping,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>.extensions=<span class="code-built_in">Object</span>.assign({},t.extensions),<span class="code-keyword">this</span>.glslVersion=t.glslVersion,<span class="code-keyword">this</span>},jn.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Xe.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e.glslVersion=<span class="code-keyword">this</span>.glslVersion,e.uniforms={},<span class="code-keyword">this</span>.uniforms){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.uniforms[n].value;r&amp;&amp;r.isTexture?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"t"</span>,<span class="code-attr">value</span>:r.toJSON(t).uuid}:r&amp;&amp;r.isColor?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"c"</span>,<span class="code-attr">value</span>:r.getHex()}:r&amp;&amp;r.isVector2?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"v2"</span>,<span class="code-attr">value</span>:r.toArray()}:r&amp;&amp;r.isVector3?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"v3"</span>,<span class="code-attr">value</span>:r.toArray()}:r&amp;&amp;r.isVector4?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"v4"</span>,<span class="code-attr">value</span>:r.toArray()}:r&amp;&amp;r.isMatrix3?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"m3"</span>,<span class="code-attr">value</span>:r.toArray()}:r&amp;&amp;r.isMatrix4?e.uniforms[n]={<span class="code-attr">type</span>:<span class="code-string">"m4"</span>,<span class="code-attr">value</span>:r.toArray()}:e.uniforms[n]={<span class="code-attr">value</span>:r}}<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.defines).length&gt;<span class="code-number">0</span>&amp;&amp;(e.defines=<span class="code-keyword">this</span>.defines),e.vertexShader=<span class="code-keyword">this</span>.vertexShader,e.fragmentShader=<span class="code-keyword">this</span>.fragmentShader;<span class="code-keyword">var</span> i={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> <span class="code-keyword">this</span>.extensions)!<span class="code-number">0</span>===<span class="code-keyword">this</span>.extensions[a]&amp;&amp;(i[a]=!<span class="code-number">0</span>);<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(i).length&gt;<span class="code-number">0</span>&amp;&amp;(e.extensions=i),e},qn.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:qn,<span class="code-attr">isCamera</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.matrixWorldInverse.copy(t.matrixWorldInverse),<span class="code-keyword">this</span>.projectionMatrix.copy(t.projectionMatrix),<span class="code-keyword">this</span>.projectionMatrixInverse.copy(t.projectionMatrixInverse),<span class="code-keyword">this</span>},<span class="code-attr">getWorldDirection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Camera: .getWorldDirection() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.updateWorldMatrix(!<span class="code-number">0</span>,!<span class="code-number">1</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.matrixWorld.elements;<span class="code-keyword">return</span> t.set(-e[<span class="code-number">8</span>],-e[<span class="code-number">9</span>],-e[<span class="code-number">10</span>]).normalize()},<span class="code-attr">updateMatrixWorld</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{we.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.matrixWorldInverse.copy(<span class="code-keyword">this</span>.matrixWorld).invert()},<span class="code-attr">updateWorldMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{we.prototype.updateWorldMatrix.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.matrixWorldInverse.copy(<span class="code-keyword">this</span>.matrixWorld).invert()},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)}}),Xn.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(qn.prototype),{<span class="code-attr">constructor</span>:Xn,<span class="code-attr">isPerspectiveCamera</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> qn.prototype.copy.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.fov=t.fov,<span class="code-keyword">this</span>.zoom=t.zoom,<span class="code-keyword">this</span>.near=t.near,<span class="code-keyword">this</span>.far=t.far,<span class="code-keyword">this</span>.focus=t.focus,<span class="code-keyword">this</span>.aspect=t.aspect,<span class="code-keyword">this</span>.view=<span class="code-literal">null</span>===t.view?<span class="code-literal">null</span>:<span class="code-built_in">Object</span>.assign({},t.view),<span class="code-keyword">this</span>.filmGauge=t.filmGauge,<span class="code-keyword">this</span>.filmOffset=t.filmOffset,<span class="code-keyword">this</span>},<span class="code-attr">setFocalLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">.5</span>*<span class="code-keyword">this</span>.getFilmHeight()/t;<span class="code-keyword">this</span>.fov=<span class="code-number">2</span>*st.RAD2DEG*<span class="code-built_in">Math</span>.atan(e),<span class="code-keyword">this</span>.updateProjectionMatrix()},<span class="code-attr">getFocalLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">Math</span>.tan(<span class="code-number">.5</span>*st.DEG2RAD*<span class="code-keyword">this</span>.fov);<span class="code-keyword">return</span><span class="code-number">.5</span>*<span class="code-keyword">this</span>.getFilmHeight()/t},<span class="code-attr">getEffectiveFOV</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">2</span>*st.RAD2DEG*<span class="code-built_in">Math</span>.atan(<span class="code-built_in">Math</span>.tan(<span class="code-number">.5</span>*st.DEG2RAD*<span class="code-keyword">this</span>.fov)/<span class="code-keyword">this</span>.zoom)},<span class="code-attr">getFilmWidth</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.filmGauge*<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.aspect,<span class="code-number">1</span>)},<span class="code-attr">getFilmHeight</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.filmGauge/<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.aspect,<span class="code-number">1</span>)},<span class="code-attr">setViewOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">this</span>.aspect=t/e,<span class="code-literal">null</span>===<span class="code-keyword">this</span>.view&amp;&amp;(<span class="code-keyword">this</span>.view={<span class="code-attr">enabled</span>:!<span class="code-number">0</span>,<span class="code-attr">fullWidth</span>:<span class="code-number">1</span>,<span class="code-attr">fullHeight</span>:<span class="code-number">1</span>,<span class="code-attr">offsetX</span>:<span class="code-number">0</span>,<span class="code-attr">offsetY</span>:<span class="code-number">0</span>,<span class="code-attr">width</span>:<span class="code-number">1</span>,<span class="code-attr">height</span>:<span class="code-number">1</span>}),<span class="code-keyword">this</span>.view.enabled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.view.fullWidth=t,<span class="code-keyword">this</span>.view.fullHeight=e,<span class="code-keyword">this</span>.view.offsetX=n,<span class="code-keyword">this</span>.view.offsetY=r,<span class="code-keyword">this</span>.view.width=i,<span class="code-keyword">this</span>.view.height=a,<span class="code-keyword">this</span>.updateProjectionMatrix()},<span class="code-attr">clearViewOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;(<span class="code-keyword">this</span>.view.enabled=!<span class="code-number">1</span>),<span class="code-keyword">this</span>.updateProjectionMatrix()},<span class="code-attr">updateProjectionMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.near,e=t*<span class="code-built_in">Math</span>.tan(<span class="code-number">.5</span>*st.DEG2RAD*<span class="code-keyword">this</span>.fov)/<span class="code-keyword">this</span>.zoom,n=<span class="code-number">2</span>*e,r=<span class="code-keyword">this</span>.aspect*n,i=<span class="code-number">-.5</span>*r,a=<span class="code-keyword">this</span>.view;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;<span class="code-keyword">this</span>.view.enabled){<span class="code-keyword">var</span> o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>.filmOffset;<span class="code-number">0</span>!==c&amp;&amp;(i+=t*c/<span class="code-keyword">this</span>.getFilmWidth()),<span class="code-keyword">this</span>.projectionMatrix.makePerspective(i,i+r,e,e-n,t,<span class="code-keyword">this</span>.far),<span class="code-keyword">this</span>.projectionMatrixInverse.copy(<span class="code-keyword">this</span>.projectionMatrix).invert()},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=we.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.object.fov=<span class="code-keyword">this</span>.fov,e.object.zoom=<span class="code-keyword">this</span>.zoom,e.object.near=<span class="code-keyword">this</span>.near,e.object.far=<span class="code-keyword">this</span>.far,e.object.focus=<span class="code-keyword">this</span>.focus,e.object.aspect=<span class="code-keyword">this</span>.aspect,<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;(e.object.view=<span class="code-built_in">Object</span>.assign({},<span class="code-keyword">this</span>.view)),e.object.filmGauge=<span class="code-keyword">this</span>.filmGauge,e.object.filmOffset=<span class="code-keyword">this</span>.filmOffset,e}});<span class="code-keyword">var</span> Yn=<span class="code-number">90</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zn</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"CubeCamera"</span>,!<span class="code-number">0</span>===n.isWebGLCubeRenderTarget){<span class="code-keyword">this</span>.renderTarget=n;<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);r.layers=<span class="code-keyword">this</span>.layers,r.up.set(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>),r.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),<span class="code-keyword">this</span>.add(r);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);i.layers=<span class="code-keyword">this</span>.layers,i.up.set(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>),i.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),<span class="code-keyword">this</span>.add(i);<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);a.layers=<span class="code-keyword">this</span>.layers,a.up.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),a.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>)),<span class="code-keyword">this</span>.add(a);<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);o.layers=<span class="code-keyword">this</span>.layers,o.up.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>),o.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>)),<span class="code-keyword">this</span>.add(o);<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);s.layers=<span class="code-keyword">this</span>.layers,s.up.set(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>),s.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>)),<span class="code-keyword">this</span>.add(s);<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> Xn(Yn,<span class="code-number">1</span>,t,e);c.layers=<span class="code-keyword">this</span>.layers,c.up.set(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>),c.lookAt(<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>)),<span class="code-keyword">this</span>.add(c),<span class="code-keyword">this</span>.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.parent&amp;&amp;<span class="code-keyword">this</span>.updateMatrixWorld();<span class="code-keyword">var</span> l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!<span class="code-number">1</span>;<span class="code-keyword">var</span> h=n.texture.generateMipmaps;n.texture.generateMipmaps=!<span class="code-number">1</span>,t.setRenderTarget(n,<span class="code-number">0</span>),t.render(e,r),t.setRenderTarget(n,<span class="code-number">1</span>),t.render(e,i),t.setRenderTarget(n,<span class="code-number">2</span>),t.render(e,a),t.setRenderTarget(n,<span class="code-number">3</span>),t.render(e,o),t.setRenderTarget(n,<span class="code-number">4</span>),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,<span class="code-number">5</span>),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jn</span>(<span class="code-params">t,e,n,i,a,o,s,c,l,u</span>)</span>{t=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:[],e=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:r,s=<span class="code-keyword">void</span> <span class="code-number">0</span>!==s?s:S,gt.call(<span class="code-keyword">this</span>,t,e,n,i,a,o,s,c,l,u),<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._needsFlipEnvMap=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qn</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-built_in">Number</span>.isInteger(e)&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"</span>),e=n),_t.call(<span class="code-keyword">this</span>,t,t,e),e=e||{},<span class="code-keyword">this</span>.texture=<span class="code-keyword">new</span> Jn(<span class="code-keyword">void</span> <span class="code-number">0</span>,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),<span class="code-keyword">this</span>.texture._needsFlipEnvMap=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Kn</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{gt.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>,a,o,s,c,l,r,i,u,h),<span class="code-keyword">this</span>.image={<span class="code-attr">data</span>:t||<span class="code-literal">null</span>,<span class="code-attr">width</span>:e||<span class="code-number">1</span>,<span class="code-attr">height</span>:n||<span class="code-number">1</span>},<span class="code-keyword">this</span>.magFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==c?c:d,<span class="code-keyword">this</span>.minFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==l?l:d,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.unpackAlignment=<span class="code-number">1</span>,<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>}Zn.prototype=<span class="code-built_in">Object</span>.create(we.prototype),Zn.prototype.constructor=Zn,Jn.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),Jn.prototype.constructor=Jn,Jn.prototype.isCubeTexture=!<span class="code-number">0</span>,<span class="code-built_in">Object</span>.defineProperty(Jn.prototype,<span class="code-string">"images"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.image},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.image=t}}),Qn.prototype=<span class="code-built_in">Object</span>.create(_t.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isWebGLCubeRenderTarget=!<span class="code-number">0</span>,Qn.prototype.fromEquirectangularTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.texture.type=e.type,<span class="code-keyword">this</span>.texture.format=T,<span class="code-keyword">this</span>.texture.encoding=e.encoding,<span class="code-keyword">this</span>.texture.generateMipmaps=e.generateMipmaps,<span class="code-keyword">this</span>.texture.minFilter=e.minFilter,<span class="code-keyword">this</span>.texture.magFilter=e.magFilter;<span class="code-keyword">var</span> n={<span class="code-attr">tEquirect</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},r=<span class="code-string">"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include &lt;begin_vertex&gt;\n\t\t\t\t#include &lt;project_vertex&gt;\n\n\t\t\t}\n\t\t"</span>,i=<span class="code-string">"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include &lt;common&gt;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t"</span>,a=<span class="code-keyword">new</span> Hn(<span class="code-number">5</span>,<span class="code-number">5</span>,<span class="code-number">5</span>),o=<span class="code-keyword">new</span> jn({<span class="code-attr">name</span>:<span class="code-string">"CubemapFromEquirect"</span>,<span class="code-attr">uniforms</span>:kn(n),<span class="code-attr">vertexShader</span>:r,<span class="code-attr">fragmentShader</span>:i,<span class="code-attr">side</span>:<span class="code-number">1</span>,<span class="code-attr">blending</span>:<span class="code-number">0</span>});o.uniforms.tEquirect.value=e;<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> Un(a,o),c=e.minFilter;<span class="code-keyword">return</span> e.minFilter===g&amp;&amp;(e.minFilter=m),<span class="code-keyword">new</span> Zn(<span class="code-number">1</span>,<span class="code-number">10</span>,<span class="code-keyword">this</span>).update(t,s),e.minFilter=c,s.geometry.dispose(),s.material.dispose(),<span class="code-keyword">this</span>},Qn.prototype.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.getRenderTarget(),a=<span class="code-number">0</span>;a&lt;<span class="code-number">6</span>;a++)t.setRenderTarget(<span class="code-keyword">this</span>,a),t.clear(e,n,r);t.setRenderTarget(i)},Kn.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isDataTexture=!<span class="code-number">0</span>;<span class="code-keyword">var</span> $n=<span class="code-keyword">new</span> kt,tr=<span class="code-keyword">new</span> Mt,er=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">this</span>.planes=[<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Ee,<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Ee,<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-keyword">new</span> Ee,<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-keyword">new</span> Ee,<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?i:<span class="code-keyword">new</span> Ee,<span class="code-keyword">void</span> <span class="code-number">0</span>!==a?a:<span class="code-keyword">new</span> Ee]}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.planes;<span class="code-keyword">return</span> o[<span class="code-number">0</span>].copy(t),o[<span class="code-number">1</span>].copy(e),o[<span class="code-number">2</span>].copy(n),o[<span class="code-number">3</span>].copy(r),o[<span class="code-number">4</span>].copy(i),o[<span class="code-number">5</span>].copy(a),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.planes,n=<span class="code-number">0</span>;n&lt;<span class="code-number">6</span>;n++)e[n].copy(t.planes[n]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.setFromProjectionMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.planes,n=t.elements,r=n[<span class="code-number">0</span>],i=n[<span class="code-number">1</span>],a=n[<span class="code-number">2</span>],o=n[<span class="code-number">3</span>],s=n[<span class="code-number">4</span>],c=n[<span class="code-number">5</span>],l=n[<span class="code-number">6</span>],u=n[<span class="code-number">7</span>],h=n[<span class="code-number">8</span>],d=n[<span class="code-number">9</span>],p=n[<span class="code-number">10</span>],f=n[<span class="code-number">11</span>],m=n[<span class="code-number">12</span>],v=n[<span class="code-number">13</span>],g=n[<span class="code-number">14</span>],y=n[<span class="code-number">15</span>];<span class="code-keyword">return</span> e[<span class="code-number">0</span>].setComponents(o-r,u-s,f-h,y-m).normalize(),e[<span class="code-number">1</span>].setComponents(o+r,u+s,f+h,y+m).normalize(),e[<span class="code-number">2</span>].setComponents(o+i,u+c,f+d,y+v).normalize(),e[<span class="code-number">3</span>].setComponents(o-i,u-c,f-d,y-v).normalize(),e[<span class="code-number">4</span>].setComponents(o-a,u-l,f-p,y-g).normalize(),e[<span class="code-number">5</span>].setComponents(o+a,u+l,f+p,y+g).normalize(),<span class="code-keyword">this</span>},e.intersectsObject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.geometry;<span class="code-keyword">return</span> <span class="code-literal">null</span>===e.boundingSphere&amp;&amp;e.computeBoundingSphere(),$n.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),<span class="code-keyword">this</span>.intersectsSphere($n)},e.intersectsSprite=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> $n.center.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),$n.radius=<span class="code-number">.7071067811865476</span>,$n.applyMatrix4(t.matrixWorld),<span class="code-keyword">this</span>.intersectsSphere($n)},e.intersectsSphere=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.planes,n=t.center,r=-t.radius,i=<span class="code-number">0</span>;i&lt;<span class="code-number">6</span>;i++){<span class="code-keyword">if</span>(e[i].distanceToPoint(n)&lt;r)<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.planes,n=<span class="code-number">0</span>;n&lt;<span class="code-number">6</span>;n++){<span class="code-keyword">var</span> r=e[n];<span class="code-keyword">if</span>(tr.x=r.normal.x&gt;<span class="code-number">0</span>?t.max.x:t.min.x,tr.y=r.normal.y&gt;<span class="code-number">0</span>?t.max.y:t.min.y,tr.z=r.normal.z&gt;<span class="code-number">0</span>?t.max.z:t.min.z,r.distanceToPoint(tr)&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.planes,n=<span class="code-number">0</span>;n&lt;<span class="code-number">6</span>;n++)<span class="code-keyword">if</span>(e[n].distanceToPoint(t)&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nr</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-literal">null</span>,e=!<span class="code-number">1</span>,n=<span class="code-literal">null</span>,r=<span class="code-literal">null</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,a</span>)</span>{n(e,a),r=t.requestAnimationFrame(i)}<span class="code-keyword">return</span>{<span class="code-attr">start</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{!<span class="code-number">0</span>!==e&amp;&amp;<span class="code-literal">null</span>!==n&amp;&amp;(r=t.requestAnimationFrame(i),e=!<span class="code-number">0</span>)},<span class="code-attr">stop</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.cancelAnimationFrame(r),e=!<span class="code-number">1</span>},<span class="code-attr">setAnimationLoop</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{n=t},<span class="code-attr">setContext</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t=e}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=e.isWebGL2,r=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.isInterleavedBufferAttribute&amp;&amp;(t=t.data),r.get(t)},<span class="code-attr">remove</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.isInterleavedBufferAttribute&amp;&amp;(e=e.data);<span class="code-keyword">var</span> n=r.get(e);n&amp;&amp;(t.deleteBuffer(n.buffer),r.delete(e))},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">if</span>(e.isGLBufferAttribute){<span class="code-keyword">var</span> a=r.get(e);(!a||a.version&lt;e.version)&amp;&amp;r.set(e,{<span class="code-attr">buffer</span>:e.buffer,<span class="code-attr">type</span>:e.type,<span class="code-attr">bytesPerElement</span>:e.elementSize,<span class="code-attr">version</span>:e.version})}<span class="code-keyword">else</span>{e.isInterleavedBufferAttribute&amp;&amp;(e=e.data);<span class="code-keyword">var</span> o=r.get(e);<span class="code-keyword">void</span> <span class="code-number">0</span>===o?r.set(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> i=e.array,a=e.usage,o=t.createBuffer();t.bindBuffer(r,o),t.bufferData(r,i,a),e.onUploadCallback();<span class="code-keyword">var</span> s=<span class="code-number">5126</span>;<span class="code-keyword">return</span> i <span class="code-keyword">instanceof</span> <span class="code-built_in">Float32Array</span>?s=<span class="code-number">5126</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Float64Array</span>?<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."</span>):i <span class="code-keyword">instanceof</span> <span class="code-built_in">Uint16Array</span>?e.isFloat16BufferAttribute?n?s=<span class="code-number">5131</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."</span>):s=<span class="code-number">5123</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Int16Array</span>?s=<span class="code-number">5122</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Uint32Array</span>?s=<span class="code-number">5125</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Int32Array</span>?s=<span class="code-number">5124</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Int8Array</span>?s=<span class="code-number">5120</span>:i <span class="code-keyword">instanceof</span> <span class="code-built_in">Uint8Array</span>&amp;&amp;(s=<span class="code-number">5121</span>),{<span class="code-attr">buffer</span>:o,<span class="code-attr">type</span>:s,<span class="code-attr">bytesPerElement</span>:i.BYTES_PER_ELEMENT,<span class="code-attr">version</span>:e.version}}(e,i)):o.version&lt;e.version&amp;&amp;(!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,i</span>)</span>{<span class="code-keyword">var</span> a=r.array,o=r.updateRange;t.bindBuffer(i,e),<span class="code-number">-1</span>===o.count?t.bufferSubData(i,<span class="code-number">0</span>,a):(n?t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=<span class="code-number">-1</span>)}(o.buffer,e,i),o.version=e.version)}}}}<span class="code-keyword">var</span> ir=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">1</span>),(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"PlaneBufferGeometry"</span>,a.parameters={<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">widthSegments</span>:r,<span class="code-attr">heightSegments</span>:i};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=e/<span class="code-number">2</span>,s=n/<span class="code-number">2</span>,c=<span class="code-built_in">Math</span>.floor(r),l=<span class="code-built_in">Math</span>.floor(i),u=c+<span class="code-number">1</span>,h=l+<span class="code-number">1</span>,d=e/c,p=n/l,f=[],m=[],v=[],g=[],y=<span class="code-number">0</span>;y&lt;h;y++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=y*p-s,_=<span class="code-number">0</span>;_&lt;u;_++){<span class="code-keyword">var</span> b=_*d-o;m.push(b,-x,<span class="code-number">0</span>),v.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),g.push(_/c),g.push(<span class="code-number">1</span>-y/l)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w=<span class="code-number">0</span>;w&lt;l;w++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> M=<span class="code-number">0</span>;M&lt;c;M++){<span class="code-keyword">var</span> S=M+u*w,T=M+u*(w+<span class="code-number">1</span>),E=M+<span class="code-number">1</span>+u*(w+<span class="code-number">1</span>),A=M+<span class="code-number">1</span>+u*w;f.push(S,T,A),f.push(T,E,A)}<span class="code-keyword">return</span> a.setIndex(f),a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(m,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(v,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(g,<span class="code-number">2</span>)),a}<span class="code-keyword">return</span> ut(e,t),e}(_n),ar={<span class="code-attr">alphamap_fragment</span>:<span class="code-string">"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif"</span>,<span class="code-attr">alphamap_pars_fragment</span>:<span class="code-string">"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif"</span>,<span class="code-attr">alphatest_fragment</span>:<span class="code-string">"#ifdef ALPHATEST\n\tif ( diffuseColor.a &lt; ALPHATEST ) discard;\n#endif"</span>,<span class="code-attr">aomap_fragment</span>:<span class="code-string">"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) &amp;&amp; defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif"</span>,<span class="code-attr">aomap_pars_fragment</span>:<span class="code-string">"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif"</span>,<span class="code-attr">begin_vertex</span>:<span class="code-string">"vec3 transformed = vec3( position );"</span>,<span class="code-attr">beginnormal_vertex</span>:<span class="code-string">"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif"</span>,<span class="code-attr">bsdfs</span>:<span class="code-string">"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance &gt; 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance &gt; 0.0 &amp;&amp; decayExponent &gt; 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x &gt; 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) &lt; 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif"</span>,<span class="code-attr">bumpmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif"</span>,<span class="code-attr">clipping_planes_fragment</span>:<span class="code-string">"#if NUM_CLIPPING_PLANES &gt; 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) &gt; plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES &lt; NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i &lt; NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) &gt; plane.w ) &amp;&amp; clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif"</span>,<span class="code-attr">clipping_planes_pars_fragment</span>:<span class="code-string">"#if NUM_CLIPPING_PLANES &gt; 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif"</span>,<span class="code-attr">clipping_planes_pars_vertex</span>:<span class="code-string">"#if NUM_CLIPPING_PLANES &gt; 0\n\tvarying vec3 vClipPosition;\n#endif"</span>,<span class="code-attr">clipping_planes_vertex</span>:<span class="code-string">"#if NUM_CLIPPING_PLANES &gt; 0\n\tvClipPosition = - mvPosition.xyz;\n#endif"</span>,<span class="code-attr">color_fragment</span>:<span class="code-string">"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif"</span>,<span class="code-attr">color_pars_fragment</span>:<span class="code-string">"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif"</span>,<span class="code-attr">color_pars_vertex</span>:<span class="code-string">"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif"</span>,<span class="code-attr">color_vertex</span>:<span class="code-string">"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif"</span>,<span class="code-attr">common</span>:<span class="code-string">"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}"</span>,<span class="code-attr">cube_uv_reflection_fragment</span>:<span class="code-string">"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x &gt; absDirection.z ) {\n\t\t\tif ( absDirection.x &gt; absDirection.y )\n\t\t\t\tface = direction.x &gt; 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y &gt; 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z &gt; absDirection.y )\n\t\t\t\tface = direction.z &gt; 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y &gt; 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face &gt; 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt &lt; cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness &gt;= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness &gt;= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness &gt;= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness &gt;= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif"</span>,<span class="code-attr">defaultnormal_vertex</span>:<span class="code-string">"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif"</span>,<span class="code-attr">displacementmap_pars_vertex</span>:<span class="code-string">"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif"</span>,<span class="code-attr">displacementmap_vertex</span>:<span class="code-string">"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif"</span>,<span class="code-attr">emissivemap_fragment</span>:<span class="code-string">"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif"</span>,<span class="code-attr">emissivemap_pars_fragment</span>:<span class="code-string">"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif"</span>,<span class="code-attr">encodings_fragment</span>:<span class="code-string">"gl_FragColor = linearToOutputTexel( gl_FragColor );"</span>,<span class="code-attr">encodings_pars_fragment</span>:<span class="code-string">"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}"</span>,<span class="code-attr">envmap_fragment</span>:<span class="code-string">"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif"</span>,<span class="code-attr">envmap_common_pars_fragment</span>:<span class="code-string">"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif"</span>,<span class="code-attr">envmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif"</span>,<span class="code-attr">envmap_pars_vertex</span>:<span class="code-string">"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif"</span>,<span class="code-attr">envmap_physical_pars_fragment</span>:<span class="code-string">"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif"</span>,<span class="code-attr">envmap_vertex</span>:<span class="code-string">"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif"</span>,<span class="code-attr">fog_vertex</span>:<span class="code-string">"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif"</span>,<span class="code-attr">fog_pars_vertex</span>:<span class="code-string">"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif"</span>,<span class="code-attr">fog_fragment</span>:<span class="code-string">"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif"</span>,<span class="code-attr">fog_pars_fragment</span>:<span class="code-string">"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif"</span>,<span class="code-attr">gradientmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x &lt; 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}"</span>,<span class="code-attr">lightmap_fragment</span>:<span class="code-string">"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif"</span>,<span class="code-attr">lightmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif"</span>,<span class="code-attr">lights_lambert_vertex</span>:<span class="code-string">"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif"</span>,<span class="code-attr">lights_pars_begin</span>:<span class="code-string">"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS &gt; 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS &gt; 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS &gt; 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos &gt; spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS &gt; 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS &gt; 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif"</span>,<span class="code-attr">lights_toon_fragment</span>:<span class="code-string">"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;"</span>,<span class="code-attr">lights_toon_pars_fragment</span>:<span class="code-string">"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)"</span>,<span class="code-attr">lights_phong_fragment</span>:<span class="code-string">"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;"</span>,<span class="code-attr">lights_phong_pars_fragment</span>:<span class="code-string">"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)"</span>,<span class="code-attr">lights_physical_fragment</span>:<span class="code-string">"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif"</span>,<span class="code-attr">lights_physical_pars_fragment</span>:<span class="code-string">"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS &gt; 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}"</span>,<span class="code-attr">lights_fragment_begin</span>:<span class="code-string">"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_POINT_LIGHT_SHADOWS &gt; 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_SPOT_LIGHT_SHADOWS &gt; 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) &amp;&amp; NUM_DIR_LIGHT_SHADOWS &gt; 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) &amp;&amp; ( UNROLLED_LOOP_INDEX &lt; NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS &gt; 0 ) &amp;&amp; defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS &gt; 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i &lt; NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif"</span>,<span class="code-attr">lights_fragment_maps</span>:<span class="code-string">"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) &amp;&amp; defined( STANDARD ) &amp;&amp; defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) &amp;&amp; defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif"</span>,<span class="code-attr">lights_fragment_end</span>:<span class="code-string">"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif"</span>,<span class="code-attr">logdepthbuf_fragment</span>:<span class="code-string">"#if defined( USE_LOGDEPTHBUF ) &amp;&amp; defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif"</span>,<span class="code-attr">logdepthbuf_pars_fragment</span>:<span class="code-string">"#if defined( USE_LOGDEPTHBUF ) &amp;&amp; defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif"</span>,<span class="code-attr">logdepthbuf_pars_vertex</span>:<span class="code-string">"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif"</span>,<span class="code-attr">logdepthbuf_vertex</span>:<span class="code-string">"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif"</span>,<span class="code-attr">map_fragment</span>:<span class="code-string">"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif"</span>,<span class="code-attr">map_pars_fragment</span>:<span class="code-string">"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif"</span>,<span class="code-attr">map_particle_fragment</span>:<span class="code-string">"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif"</span>,<span class="code-attr">map_particle_pars_fragment</span>:<span class="code-string">"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif"</span>,<span class="code-attr">metalnessmap_fragment</span>:<span class="code-string">"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif"</span>,<span class="code-attr">metalnessmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif"</span>,<span class="code-attr">morphnormal_vertex</span>:<span class="code-string">"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif"</span>,<span class="code-attr">morphtarget_pars_vertex</span>:<span class="code-string">"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif"</span>,<span class="code-attr">morphtarget_vertex</span>:<span class="code-string">"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif"</span>,<span class="code-attr">normal_fragment_begin</span>:<span class="code-string">"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;"</span>,<span class="code-attr">normal_fragment_maps</span>:<span class="code-string">"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif"</span>,<span class="code-attr">normalmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) &amp;&amp; ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif"</span>,<span class="code-attr">clearcoat_normal_fragment_begin</span>:<span class="code-string">"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif"</span>,<span class="code-attr">clearcoat_normal_fragment_maps</span>:<span class="code-string">"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif"</span>,<span class="code-attr">clearcoat_pars_fragment</span>:<span class="code-string">"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif"</span>,<span class="code-attr">packing</span>:<span class="code-string">"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}"</span>,<span class="code-attr">premultiplied_alpha_fragment</span>:<span class="code-string">"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif"</span>,<span class="code-attr">project_vertex</span>:<span class="code-string">"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;"</span>,<span class="code-attr">dithering_fragment</span>:<span class="code-string">"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif"</span>,<span class="code-attr">dithering_pars_fragment</span>:<span class="code-string">"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif"</span>,<span class="code-attr">roughnessmap_fragment</span>:<span class="code-string">"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif"</span>,<span class="code-attr">roughnessmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif"</span>,<span class="code-attr">shadowmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x &gt;= 0.0, shadowCoord.x &lt;= 1.0, shadowCoord.y &gt;= 0.0, shadowCoord.y &lt;= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z &lt;= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z &gt;= almostOne ) {\n\t\t\tif ( v.z &gt; 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x &gt;= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y &gt;= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif"</span>,<span class="code-attr">shadowmap_pars_vertex</span>:<span class="code-string">"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif"</span>,<span class="code-attr">shadowmap_vertex</span>:<span class="code-string">"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0 || NUM_SPOT_LIGHT_SHADOWS &gt; 0 || NUM_POINT_LIGHT_SHADOWS &gt; 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif"</span>,<span class="code-attr">shadowmask_pars_fragment</span>:<span class="code-string">"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS &gt; 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS &gt; 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS &gt; 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i &lt; NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}"</span>,<span class="code-attr">skinbase_vertex</span>:<span class="code-string">"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif"</span>,<span class="code-attr">skinning_pars_vertex</span>:<span class="code-string">"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif"</span>,<span class="code-attr">skinning_vertex</span>:<span class="code-string">"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif"</span>,<span class="code-attr">skinnormal_vertex</span>:<span class="code-string">"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif"</span>,<span class="code-attr">specularmap_fragment</span>:<span class="code-string">"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif"</span>,<span class="code-attr">specularmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif"</span>,<span class="code-attr">tonemapping_fragment</span>:<span class="code-string">"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif"</span>,<span class="code-attr">tonemapping_pars_fragment</span>:<span class="code-string">"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }"</span>,<span class="code-attr">transmissionmap_fragment</span>:<span class="code-string">"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif"</span>,<span class="code-attr">transmissionmap_pars_fragment</span>:<span class="code-string">"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif"</span>,<span class="code-attr">uv_pars_fragment</span>:<span class="code-string">"#if ( defined( USE_UV ) &amp;&amp; ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif"</span>,<span class="code-attr">uv_pars_vertex</span>:<span class="code-string">"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"</span>,<span class="code-attr">uv_vertex</span>:<span class="code-string">"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif"</span>,<span class="code-attr">uv2_pars_fragment</span>:<span class="code-string">"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif"</span>,<span class="code-attr">uv2_pars_vertex</span>:<span class="code-string">"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif"</span>,<span class="code-attr">uv2_vertex</span>:<span class="code-string">"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif"</span>,<span class="code-attr">worldpos_vertex</span>:<span class="code-string">"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif"</span>,<span class="code-attr">background_frag</span>:<span class="code-string">"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n}"</span>,<span class="code-attr">background_vert</span>:<span class="code-string">"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}"</span>,<span class="code-attr">cube_frag</span>:<span class="code-string">"#include &lt;envmap_common_pars_fragment&gt;\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include &lt;cube_uv_reflection_fragment&gt;\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include &lt;envmap_fragment&gt;\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n}"</span>,<span class="code-attr">cube_vert</span>:<span class="code-string">"varying vec3 vWorldDirection;\n#include &lt;common&gt;\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\tgl_Position.z = gl_Position.w;\n}"</span>,<span class="code-attr">depth_frag</span>:<span class="code-string">"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include &lt;map_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;logdepthbuf_fragment&gt;\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}"</span>,<span class="code-attr">depth_vert</span>:<span class="code-string">"#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include &lt;beginnormal_vertex&gt;\n\t\t#include &lt;morphnormal_vertex&gt;\n\t\t#include &lt;skinnormal_vertex&gt;\n\t#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\tvHighPrecisionZW = gl_Position.zw;\n}"</span>,<span class="code-attr">distanceRGBA_frag</span>:<span class="code-string">"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main () {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include &lt;map_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}"</span>,<span class="code-attr">distanceRGBA_vert</span>:<span class="code-string">"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include &lt;beginnormal_vertex&gt;\n\t\t#include &lt;morphnormal_vertex&gt;\n\t\t#include &lt;skinnormal_vertex&gt;\n\t#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\tvWorldPosition = worldPosition.xyz;\n}"</span>,<span class="code-attr">equirect_frag</span>:<span class="code-string">"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include &lt;common&gt;\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n}"</span>,<span class="code-attr">equirect_vert</span>:<span class="code-string">"varying vec3 vWorldDirection;\n#include &lt;common&gt;\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;project_vertex&gt;\n}"</span>,<span class="code-attr">linedashed_frag</span>:<span class="code-string">"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include &lt;common&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tif ( mod( vLineDistance, totalSize ) &gt; dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n}"</span>,<span class="code-attr">linedashed_vert</span>:<span class="code-string">"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include &lt;common&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">meshbasic_frag</span>:<span class="code-string">"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include &lt;common&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;uv2_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;aomap_pars_fragment&gt;\n#include &lt;lightmap_pars_fragment&gt;\n#include &lt;envmap_common_pars_fragment&gt;\n#include &lt;envmap_pars_fragment&gt;\n#include &lt;cube_uv_reflection_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;specularmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;specularmap_fragment&gt;\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include &lt;aomap_fragment&gt;\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include &lt;envmap_fragment&gt;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshbasic_vert</span>:<span class="code-string">"#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;uv2_pars_vertex&gt;\n#include &lt;envmap_pars_vertex&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;uv2_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#ifdef USE_ENVMAP\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n\t#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;envmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">meshlambert_frag</span>:<span class="code-string">"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;uv2_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;aomap_pars_fragment&gt;\n#include &lt;lightmap_pars_fragment&gt;\n#include &lt;emissivemap_pars_fragment&gt;\n#include &lt;envmap_common_pars_fragment&gt;\n#include &lt;envmap_pars_fragment&gt;\n#include &lt;cube_uv_reflection_fragment&gt;\n#include &lt;bsdfs&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;shadowmap_pars_fragment&gt;\n#include &lt;shadowmask_pars_fragment&gt;\n#include &lt;specularmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;specularmap_fragment&gt;\n\t#include &lt;emissivemap_fragment&gt;\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include &lt;lightmap_fragment&gt;\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include &lt;aomap_fragment&gt;\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include &lt;envmap_fragment&gt;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshlambert_vert</span>:<span class="code-string">"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;uv2_pars_vertex&gt;\n#include &lt;envmap_pars_vertex&gt;\n#include &lt;bsdfs&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;shadowmap_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;uv2_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;envmap_vertex&gt;\n\t#include &lt;lights_lambert_vertex&gt;\n\t#include &lt;shadowmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">meshmatcap_frag</span>:<span class="code-string">"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include &lt;common&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;bumpmap_pars_fragment&gt;\n#include &lt;normalmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;normal_fragment_begin&gt;\n\t#include &lt;normal_fragment_maps&gt;\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshmatcap_vert</span>:<span class="code-string">"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n\tvViewPosition = - mvPosition.xyz;\n}"</span>,<span class="code-attr">meshtoon_frag</span>:<span class="code-string">"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;uv2_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;aomap_pars_fragment&gt;\n#include &lt;lightmap_pars_fragment&gt;\n#include &lt;emissivemap_pars_fragment&gt;\n#include &lt;gradientmap_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;bsdfs&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;lights_toon_pars_fragment&gt;\n#include &lt;shadowmap_pars_fragment&gt;\n#include &lt;bumpmap_pars_fragment&gt;\n#include &lt;normalmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;normal_fragment_begin&gt;\n\t#include &lt;normal_fragment_maps&gt;\n\t#include &lt;emissivemap_fragment&gt;\n\t#include &lt;lights_toon_fragment&gt;\n\t#include &lt;lights_fragment_begin&gt;\n\t#include &lt;lights_fragment_maps&gt;\n\t#include &lt;lights_fragment_end&gt;\n\t#include &lt;aomap_fragment&gt;\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshtoon_vert</span>:<span class="code-string">"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;uv2_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;shadowmap_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;uv2_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\tvViewPosition = - mvPosition.xyz;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;shadowmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">meshphong_frag</span>:<span class="code-string">"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;uv2_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;aomap_pars_fragment&gt;\n#include &lt;lightmap_pars_fragment&gt;\n#include &lt;emissivemap_pars_fragment&gt;\n#include &lt;envmap_common_pars_fragment&gt;\n#include &lt;envmap_pars_fragment&gt;\n#include &lt;cube_uv_reflection_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;bsdfs&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;lights_phong_pars_fragment&gt;\n#include &lt;shadowmap_pars_fragment&gt;\n#include &lt;bumpmap_pars_fragment&gt;\n#include &lt;normalmap_pars_fragment&gt;\n#include &lt;specularmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;specularmap_fragment&gt;\n\t#include &lt;normal_fragment_begin&gt;\n\t#include &lt;normal_fragment_maps&gt;\n\t#include &lt;emissivemap_fragment&gt;\n\t#include &lt;lights_phong_fragment&gt;\n\t#include &lt;lights_fragment_begin&gt;\n\t#include &lt;lights_fragment_maps&gt;\n\t#include &lt;lights_fragment_end&gt;\n\t#include &lt;aomap_fragment&gt;\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include &lt;envmap_fragment&gt;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshphong_vert</span>:<span class="code-string">"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;uv2_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;envmap_pars_vertex&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;shadowmap_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;uv2_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\tvViewPosition = - mvPosition.xyz;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;envmap_vertex&gt;\n\t#include &lt;shadowmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">meshphysical_frag</span>:<span class="code-string">"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;dithering_pars_fragment&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;uv2_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;aomap_pars_fragment&gt;\n#include &lt;lightmap_pars_fragment&gt;\n#include &lt;emissivemap_pars_fragment&gt;\n#include &lt;transmissionmap_pars_fragment&gt;\n#include &lt;bsdfs&gt;\n#include &lt;cube_uv_reflection_fragment&gt;\n#include &lt;envmap_common_pars_fragment&gt;\n#include &lt;envmap_physical_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;lights_physical_pars_fragment&gt;\n#include &lt;shadowmap_pars_fragment&gt;\n#include &lt;bumpmap_pars_fragment&gt;\n#include &lt;normalmap_pars_fragment&gt;\n#include &lt;clearcoat_pars_fragment&gt;\n#include &lt;roughnessmap_pars_fragment&gt;\n#include &lt;metalnessmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\t#include &lt;roughnessmap_fragment&gt;\n\t#include &lt;metalnessmap_fragment&gt;\n\t#include &lt;normal_fragment_begin&gt;\n\t#include &lt;normal_fragment_maps&gt;\n\t#include &lt;clearcoat_normal_fragment_begin&gt;\n\t#include &lt;clearcoat_normal_fragment_maps&gt;\n\t#include &lt;emissivemap_fragment&gt;\n\t#include &lt;transmissionmap_fragment&gt;\n\t#include &lt;lights_physical_fragment&gt;\n\t#include &lt;lights_fragment_begin&gt;\n\t#include &lt;lights_fragment_maps&gt;\n\t#include &lt;lights_fragment_end&gt;\n\t#include &lt;aomap_fragment&gt;\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n\t#include &lt;dithering_fragment&gt;\n}"</span>,<span class="code-attr">meshphysical_vert</span>:<span class="code-string">"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;uv2_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;shadowmap_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;uv2_vertex&gt;\n\t#include &lt;color_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\tvViewPosition = - mvPosition.xyz;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;shadowmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">normal_frag</span>:<span class="code-string">"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include &lt;packing&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;bumpmap_pars_fragment&gt;\n#include &lt;normalmap_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;normal_fragment_begin&gt;\n\t#include &lt;normal_fragment_maps&gt;\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}"</span>,<span class="code-attr">normal_vert</span>:<span class="code-string">"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;displacementmap_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;skinning_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;skinning_vertex&gt;\n\t#include &lt;displacementmap_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}"</span>,<span class="code-attr">points_frag</span>:<span class="code-string">"uniform vec3 diffuse;\nuniform float opacity;\n#include &lt;common&gt;\n#include &lt;color_pars_fragment&gt;\n#include &lt;map_particle_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_particle_fragment&gt;\n\t#include &lt;color_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n\t#include &lt;premultiplied_alpha_fragment&gt;\n}"</span>,<span class="code-attr">points_vert</span>:<span class="code-string">"uniform float size;\nuniform float scale;\n#include &lt;common&gt;\n#include &lt;color_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;morphtarget_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;color_vertex&gt;\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;morphtarget_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">shadow_frag</span>:<span class="code-string">"uniform vec3 color;\nuniform float opacity;\n#include &lt;common&gt;\n#include &lt;packing&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;bsdfs&gt;\n#include &lt;lights_pars_begin&gt;\n#include &lt;shadowmap_pars_fragment&gt;\n#include &lt;shadowmask_pars_fragment&gt;\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n}"</span>,<span class="code-attr">shadow_vert</span>:<span class="code-string">"#include &lt;common&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;shadowmap_pars_vertex&gt;\nvoid main() {\n\t#include &lt;begin_vertex&gt;\n\t#include &lt;project_vertex&gt;\n\t#include &lt;worldpos_vertex&gt;\n\t#include &lt;beginnormal_vertex&gt;\n\t#include &lt;morphnormal_vertex&gt;\n\t#include &lt;skinbase_vertex&gt;\n\t#include &lt;skinnormal_vertex&gt;\n\t#include &lt;defaultnormal_vertex&gt;\n\t#include &lt;shadowmap_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>,<span class="code-attr">sprite_frag</span>:<span class="code-string">"uniform vec3 diffuse;\nuniform float opacity;\n#include &lt;common&gt;\n#include &lt;uv_pars_fragment&gt;\n#include &lt;map_pars_fragment&gt;\n#include &lt;alphamap_pars_fragment&gt;\n#include &lt;fog_pars_fragment&gt;\n#include &lt;logdepthbuf_pars_fragment&gt;\n#include &lt;clipping_planes_pars_fragment&gt;\nvoid main() {\n\t#include &lt;clipping_planes_fragment&gt;\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include &lt;logdepthbuf_fragment&gt;\n\t#include &lt;map_fragment&gt;\n\t#include &lt;alphamap_fragment&gt;\n\t#include &lt;alphatest_fragment&gt;\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include &lt;tonemapping_fragment&gt;\n\t#include &lt;encodings_fragment&gt;\n\t#include &lt;fog_fragment&gt;\n}"</span>,<span class="code-attr">sprite_vert</span>:<span class="code-string">"uniform float rotation;\nuniform vec2 center;\n#include &lt;common&gt;\n#include &lt;uv_pars_vertex&gt;\n#include &lt;fog_pars_vertex&gt;\n#include &lt;logdepthbuf_pars_vertex&gt;\n#include &lt;clipping_planes_pars_vertex&gt;\nvoid main() {\n\t#include &lt;uv_vertex&gt;\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include &lt;logdepthbuf_vertex&gt;\n\t#include &lt;clipping_planes_vertex&gt;\n\t#include &lt;fog_vertex&gt;\n}"</span>},or={<span class="code-attr">common</span>:{<span class="code-attr">diffuse</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">15658734</span>)},<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">map</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">uvTransform</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft},<span class="code-attr">uv2Transform</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft},<span class="code-attr">alphaMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">specularmap</span>:{<span class="code-attr">specularMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">envmap</span>:{<span class="code-attr">envMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">flipEnvMap</span>:{<span class="code-attr">value</span>:<span class="code-number">-1</span>},<span class="code-attr">reflectivity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">refractionRatio</span>:{<span class="code-attr">value</span>:<span class="code-number">.98</span>},<span class="code-attr">maxMipLevel</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>}},<span class="code-attr">aomap</span>:{<span class="code-attr">aoMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">aoMapIntensity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}},<span class="code-attr">lightmap</span>:{<span class="code-attr">lightMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">lightMapIntensity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}},<span class="code-attr">emissivemap</span>:{<span class="code-attr">emissiveMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">bumpmap</span>:{<span class="code-attr">bumpMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">bumpScale</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}},<span class="code-attr">normalmap</span>:{<span class="code-attr">normalMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">normalScale</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>)}},<span class="code-attr">displacementmap</span>:{<span class="code-attr">displacementMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">displacementScale</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">displacementBias</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>}},<span class="code-attr">roughnessmap</span>:{<span class="code-attr">roughnessMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">metalnessmap</span>:{<span class="code-attr">metalnessMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">gradientmap</span>:{<span class="code-attr">gradientMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">fog</span>:{<span class="code-attr">fogDensity</span>:{<span class="code-attr">value</span>:<span class="code-number">25e-5</span>},<span class="code-attr">fogNear</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">fogFar</span>:{<span class="code-attr">value</span>:<span class="code-number">2e3</span>},<span class="code-attr">fogColor</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>)}},<span class="code-attr">lights</span>:{<span class="code-attr">ambientLightColor</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">lightProbe</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">directionalLights</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">direction</span>:{},<span class="code-attr">color</span>:{}}},<span class="code-attr">directionalLightShadows</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">shadowBias</span>:{},<span class="code-attr">shadowNormalBias</span>:{},<span class="code-attr">shadowRadius</span>:{},<span class="code-attr">shadowMapSize</span>:{}}},<span class="code-attr">directionalShadowMap</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">directionalShadowMatrix</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">spotLights</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">color</span>:{},<span class="code-attr">position</span>:{},<span class="code-attr">direction</span>:{},<span class="code-attr">distance</span>:{},<span class="code-attr">coneCos</span>:{},<span class="code-attr">penumbraCos</span>:{},<span class="code-attr">decay</span>:{}}},<span class="code-attr">spotLightShadows</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">shadowBias</span>:{},<span class="code-attr">shadowNormalBias</span>:{},<span class="code-attr">shadowRadius</span>:{},<span class="code-attr">shadowMapSize</span>:{}}},<span class="code-attr">spotShadowMap</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">spotShadowMatrix</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">pointLights</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">color</span>:{},<span class="code-attr">position</span>:{},<span class="code-attr">decay</span>:{},<span class="code-attr">distance</span>:{}}},<span class="code-attr">pointLightShadows</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">shadowBias</span>:{},<span class="code-attr">shadowNormalBias</span>:{},<span class="code-attr">shadowRadius</span>:{},<span class="code-attr">shadowMapSize</span>:{},<span class="code-attr">shadowCameraNear</span>:{},<span class="code-attr">shadowCameraFar</span>:{}}},<span class="code-attr">pointShadowMap</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">pointShadowMatrix</span>:{<span class="code-attr">value</span>:[]},<span class="code-attr">hemisphereLights</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">direction</span>:{},<span class="code-attr">skyColor</span>:{},<span class="code-attr">groundColor</span>:{}}},<span class="code-attr">rectAreaLights</span>:{<span class="code-attr">value</span>:[],<span class="code-attr">properties</span>:{<span class="code-attr">color</span>:{},<span class="code-attr">position</span>:{},<span class="code-attr">width</span>:{},<span class="code-attr">height</span>:{}}},<span class="code-attr">ltc_1</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">ltc_2</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">points</span>:{<span class="code-attr">diffuse</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">15658734</span>)},<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">size</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">scale</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">map</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">alphaMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">uvTransform</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft}},<span class="code-attr">sprite</span>:{<span class="code-attr">diffuse</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">15658734</span>)},<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">center</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> pt(<span class="code-number">.5</span>,<span class="code-number">.5</span>)},<span class="code-attr">rotation</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">map</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">alphaMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">uvTransform</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft}}},sr={<span class="code-attr">basic</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.fog]),<span class="code-attr">vertexShader</span>:ar.meshbasic_vert,<span class="code-attr">fragmentShader</span>:ar.meshbasic_frag},<span class="code-attr">lambert</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.fog,or.lights,{<span class="code-attr">emissive</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)}}]),<span class="code-attr">vertexShader</span>:ar.meshlambert_vert,<span class="code-attr">fragmentShader</span>:ar.meshlambert_frag},<span class="code-attr">phong</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.fog,or.lights,{<span class="code-attr">emissive</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)},<span class="code-attr">specular</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">1118481</span>)},<span class="code-attr">shininess</span>:{<span class="code-attr">value</span>:<span class="code-number">30</span>}}]),<span class="code-attr">vertexShader</span>:ar.meshphong_vert,<span class="code-attr">fragmentShader</span>:ar.meshphong_frag},<span class="code-attr">standard</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.roughnessmap,or.metalnessmap,or.fog,or.lights,{<span class="code-attr">emissive</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)},<span class="code-attr">roughness</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">metalness</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">envMapIntensity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}}]),<span class="code-attr">vertexShader</span>:ar.meshphysical_vert,<span class="code-attr">fragmentShader</span>:ar.meshphysical_frag},<span class="code-attr">toon</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.gradientmap,or.fog,or.lights,{<span class="code-attr">emissive</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)}}]),<span class="code-attr">vertexShader</span>:ar.meshtoon_vert,<span class="code-attr">fragmentShader</span>:ar.meshtoon_frag},<span class="code-attr">matcap</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.bumpmap,or.normalmap,or.displacementmap,or.fog,{<span class="code-attr">matcap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}}]),<span class="code-attr">vertexShader</span>:ar.meshmatcap_vert,<span class="code-attr">fragmentShader</span>:ar.meshmatcap_frag},<span class="code-attr">points</span>:{<span class="code-attr">uniforms</span>:Vn([or.points,or.fog]),<span class="code-attr">vertexShader</span>:ar.points_vert,<span class="code-attr">fragmentShader</span>:ar.points_frag},<span class="code-attr">dashed</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.fog,{<span class="code-attr">scale</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">dashSize</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">totalSize</span>:{<span class="code-attr">value</span>:<span class="code-number">2</span>}}]),<span class="code-attr">vertexShader</span>:ar.linedashed_vert,<span class="code-attr">fragmentShader</span>:ar.linedashed_frag},<span class="code-attr">depth</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.displacementmap]),<span class="code-attr">vertexShader</span>:ar.depth_vert,<span class="code-attr">fragmentShader</span>:ar.depth_frag},<span class="code-attr">normal</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.bumpmap,or.normalmap,or.displacementmap,{<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}}]),<span class="code-attr">vertexShader</span>:ar.normal_vert,<span class="code-attr">fragmentShader</span>:ar.normal_frag},<span class="code-attr">sprite</span>:{<span class="code-attr">uniforms</span>:Vn([or.sprite,or.fog]),<span class="code-attr">vertexShader</span>:ar.sprite_vert,<span class="code-attr">fragmentShader</span>:ar.sprite_frag},<span class="code-attr">background</span>:{<span class="code-attr">uniforms</span>:{<span class="code-attr">uvTransform</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> ft},<span class="code-attr">t2D</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">vertexShader</span>:ar.background_vert,<span class="code-attr">fragmentShader</span>:ar.background_frag},<span class="code-attr">cube</span>:{<span class="code-attr">uniforms</span>:Vn([or.envmap,{<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}}]),<span class="code-attr">vertexShader</span>:ar.cube_vert,<span class="code-attr">fragmentShader</span>:ar.cube_frag},<span class="code-attr">equirect</span>:{<span class="code-attr">uniforms</span>:{<span class="code-attr">tEquirect</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}},<span class="code-attr">vertexShader</span>:ar.equirect_vert,<span class="code-attr">fragmentShader</span>:ar.equirect_frag},<span class="code-attr">distanceRGBA</span>:{<span class="code-attr">uniforms</span>:Vn([or.common,or.displacementmap,{<span class="code-attr">referencePosition</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> Mt},<span class="code-attr">nearDistance</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">farDistance</span>:{<span class="code-attr">value</span>:<span class="code-number">1e3</span>}}]),<span class="code-attr">vertexShader</span>:ar.distanceRGBA_vert,<span class="code-attr">fragmentShader</span>:ar.distanceRGBA_frag},<span class="code-attr">shadow</span>:{<span class="code-attr">uniforms</span>:Vn([or.lights,or.fog,{<span class="code-attr">color</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)},<span class="code-attr">opacity</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>}}]),<span class="code-attr">vertexShader</span>:ar.shadow_vert,<span class="code-attr">fragmentShader</span>:ar.shadow_frag}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cr</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a,o,c=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),l=<span class="code-number">0</span>,u=<span class="code-literal">null</span>,h=<span class="code-number">0</span>,d=<span class="code-literal">null</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params">t,e</span>)</span>{n.buffers.color.setClear(t.r,t.g,t.b,e,i)}<span class="code-keyword">return</span>{<span class="code-attr">getClearColor</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> c},<span class="code-attr">setClearColor</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),c.set(t),p(c,l=e)},<span class="code-attr">getClearAlpha</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l},<span class="code-attr">setClearAlpha</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{p(c,l=t)},<span class="code-attr">render</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,i,f,m</span>)</span>{<span class="code-keyword">var</span> v=!<span class="code-number">0</span>===i.isScene?i.background:<span class="code-literal">null</span>;v&amp;&amp;v.isTexture&amp;&amp;(v=e.get(v));<span class="code-keyword">var</span> g=t.xr,y=g.getSession&amp;&amp;g.getSession();y&amp;&amp;<span class="code-string">"additive"</span>===y.environmentBlendMode&amp;&amp;(v=<span class="code-literal">null</span>),<span class="code-literal">null</span>===v?p(c,l):v&amp;&amp;v.isColor&amp;&amp;(p(v,<span class="code-number">1</span>),m=!<span class="code-number">0</span>),(t.autoClear||m)&amp;&amp;t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&amp;&amp;(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===s)?(<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;((o=<span class="code-keyword">new</span> Un(<span class="code-keyword">new</span> Hn(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> jn({<span class="code-attr">name</span>:<span class="code-string">"BackgroundCubeMaterial"</span>,<span class="code-attr">uniforms</span>:kn(sr.cube.uniforms),<span class="code-attr">vertexShader</span>:sr.cube.vertexShader,<span class="code-attr">fragmentShader</span>:sr.cube.fragmentShader,<span class="code-attr">side</span>:<span class="code-number">1</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>,<span class="code-attr">fog</span>:!<span class="code-number">1</span>}))).geometry.deleteAttribute(<span class="code-string">"normal"</span>),o.geometry.deleteAttribute(<span class="code-string">"uv"</span>),o.onBeforeRender=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.matrixWorld.copyPosition(n.matrixWorld)},<span class="code-built_in">Object</span>.defineProperty(o.material,<span class="code-string">"envMap"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.uniforms.envMap.value}}),r.update(o)),v.isWebGLCubeRenderTarget&amp;&amp;(v=v.texture),o.material.uniforms.envMap.value=v,o.material.uniforms.flipEnvMap.value=v.isCubeTexture&amp;&amp;v._needsFlipEnvMap?<span class="code-number">-1</span>:<span class="code-number">1</span>,u===v&amp;&amp;h===v.version&amp;&amp;d===t.toneMapping||(o.material.needsUpdate=!<span class="code-number">0</span>,u=v,h=v.version,d=t.toneMapping),n.unshift(o,o.geometry,o.material,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-literal">null</span>)):v&amp;&amp;v.isTexture&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;((a=<span class="code-keyword">new</span> Un(<span class="code-keyword">new</span> ir(<span class="code-number">2</span>,<span class="code-number">2</span>),<span class="code-keyword">new</span> jn({<span class="code-attr">name</span>:<span class="code-string">"BackgroundMaterial"</span>,<span class="code-attr">uniforms</span>:kn(sr.background.uniforms),<span class="code-attr">vertexShader</span>:sr.background.vertexShader,<span class="code-attr">fragmentShader</span>:sr.background.fragmentShader,<span class="code-attr">side</span>:<span class="code-number">0</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>,<span class="code-attr">fog</span>:!<span class="code-number">1</span>}))).geometry.deleteAttribute(<span class="code-string">"normal"</span>),<span class="code-built_in">Object</span>.defineProperty(a.material,<span class="code-string">"map"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=v,!<span class="code-number">0</span>===v.matrixAutoUpdate&amp;&amp;v.updateMatrix(),a.material.uniforms.uvTransform.value.copy(v.matrix),u===v&amp;&amp;h===v.version&amp;&amp;d===t.toneMapping||(a.material.needsUpdate=!<span class="code-number">0</span>,u=v,h=v.version,d=t.toneMapping),n.unshift(a,a.geometry,a.material,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-literal">null</span>))}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lr</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=t.getParameter(<span class="code-number">34921</span>),a=r.isWebGL2?<span class="code-literal">null</span>:e.get(<span class="code-string">"OES_vertex_array_object"</span>),o=r.isWebGL2||<span class="code-literal">null</span>!==a,s={},c=d(<span class="code-literal">null</span>),l=c;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">h</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">d</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=[],r=[],a=<span class="code-number">0</span>;a&lt;i;a++)e[a]=<span class="code-number">0</span>,n[a]=<span class="code-number">0</span>,r[a]=<span class="code-number">0</span>;<span class="code-keyword">return</span>{<span class="code-attr">geometry</span>:<span class="code-literal">null</span>,<span class="code-attr">program</span>:<span class="code-literal">null</span>,<span class="code-attr">wireframe</span>:!<span class="code-number">1</span>,<span class="code-attr">newAttributes</span>:e,<span class="code-attr">enabledAttributes</span>:n,<span class="code-attr">attributeDivisors</span>:r,<span class="code-attr">object</span>:t,<span class="code-attr">attributes</span>:{},<span class="code-attr">index</span>:<span class="code-literal">null</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=l.newAttributes,e=<span class="code-number">0</span>,n=t.length;e&lt;n;e++)t[e]=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params">t</span>)</span>{m(t,<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">m</span>(<span class="code-params">n,i</span>)</span>{<span class="code-keyword">var</span> a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=<span class="code-number">1</span>,<span class="code-number">0</span>===o[n]&amp;&amp;(t.enableVertexAttribArray(n),o[n]=<span class="code-number">1</span>),s[n]!==i)&amp;&amp;((r.isWebGL2?t:e.get(<span class="code-string">"ANGLE_instanced_arrays"</span>))[r.isWebGL2?<span class="code-string">"vertexAttribDivisor"</span>:<span class="code-string">"vertexAttribDivisorANGLE"</span>](n,i),s[n]=i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">v</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=l.newAttributes,n=l.enabledAttributes,r=<span class="code-number">0</span>,i=n.length;r&lt;i;r++)n[r]!==e[r]&amp;&amp;(t.disableVertexAttribArray(r),n[r]=<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">g</span>(<span class="code-params">e,n,i,a,o,s</span>)</span>{!<span class="code-number">0</span>!==r.isWebGL2||<span class="code-number">5124</span>!==i&amp;&amp;<span class="code-number">5125</span>!==i?t.vertexAttribPointer(e,n,i,a,o,s):t.vertexAttribIPointer(e,n,i,o,s)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">y</span>(<span class="code-params"></span>)</span>{x(),l!==c&amp;&amp;u((l=c).object)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">x</span>(<span class="code-params"></span>)</span>{c.geometry=<span class="code-literal">null</span>,c.program=<span class="code-literal">null</span>,c.wireframe=!<span class="code-number">1</span>}<span class="code-keyword">return</span>{<span class="code-attr">setup</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,c,h,y,x</span>)</span>{<span class="code-keyword">var</span> _=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(o){<span class="code-keyword">var</span> b=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,i</span>)</span>{<span class="code-keyword">var</span> o=!<span class="code-number">0</span>===i.wireframe,c=s[e.id];<span class="code-keyword">void</span> <span class="code-number">0</span>===c&amp;&amp;(c={},s[e.id]=c);<span class="code-keyword">var</span> l=c[n.id];<span class="code-keyword">void</span> <span class="code-number">0</span>===l&amp;&amp;(l={},c[n.id]=l);<span class="code-keyword">var</span> u=l[o];<span class="code-keyword">void</span> <span class="code-number">0</span>===u&amp;&amp;(u=d(r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),l[o]=u);<span class="code-keyword">return</span> u}(y,h,c);l!==b&amp;&amp;u((l=b).object),(_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=l.attributes,r=t.attributes,i=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> r){<span class="code-keyword">var</span> o=n[a],s=r[a];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===o)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(o.attribute!==s)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(o.data!==s.data)<span class="code-keyword">return</span>!<span class="code-number">0</span>;i++}<span class="code-keyword">return</span> l.attributesNum!==i||l.index!==e}(y,x))&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n={},r=t.attributes,i=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> r){<span class="code-keyword">var</span> o=r[a],s={};s.attribute=o,o.data&amp;&amp;(s.data=o.data),n[a]=s,i++}l.attributes=n,l.attributesNum=i,l.index=e}(y,x)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> w=!<span class="code-number">0</span>===c.wireframe;l.geometry===y.id&amp;&amp;l.program===h.id&amp;&amp;l.wireframe===w||(l.geometry=y.id,l.program=h.id,l.wireframe=w,_=!<span class="code-number">0</span>)}!<span class="code-number">0</span>===i.isInstancedMesh&amp;&amp;(_=!<span class="code-number">0</span>),<span class="code-literal">null</span>!==x&amp;&amp;n.update(x,<span class="code-number">34963</span>),_&amp;&amp;(!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,a,o,s</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>===r.isWebGL2&amp;&amp;(i.isInstancedMesh||s.isInstancedBufferGeometry)&amp;&amp;<span class="code-literal">null</span>===e.get(<span class="code-string">"ANGLE_instanced_arrays"</span>))<span class="code-keyword">return</span>;p();<span class="code-keyword">var</span> c=s.attributes,l=o.getAttributes(),u=a.defaultAttributeValues;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h <span class="code-keyword">in</span> l){<span class="code-keyword">var</span> d=l[h];<span class="code-keyword">if</span>(d&gt;=<span class="code-number">0</span>){<span class="code-keyword">var</span> y=c[h];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==y){<span class="code-keyword">var</span> x=y.normalized,_=y.itemSize,b=n.get(y);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===b)<span class="code-keyword">continue</span>;<span class="code-keyword">var</span> w=b.buffer,M=b.type,S=b.bytesPerElement;<span class="code-keyword">if</span>(y.isInterleavedBufferAttribute){<span class="code-keyword">var</span> T=y.data,E=T.stride,A=y.offset;T&amp;&amp;T.isInstancedInterleavedBuffer?(m(d,T.meshPerAttribute),<span class="code-keyword">void</span> <span class="code-number">0</span>===s._maxInstanceCount&amp;&amp;(s._maxInstanceCount=T.meshPerAttribute*T.count)):f(d),t.bindBuffer(<span class="code-number">34962</span>,w),g(d,_,M,x,E*S,A*S)}<span class="code-keyword">else</span> y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),<span class="code-keyword">void</span> <span class="code-number">0</span>===s._maxInstanceCount&amp;&amp;(s._maxInstanceCount=y.meshPerAttribute*y.count)):f(d),t.bindBuffer(<span class="code-number">34962</span>,w),g(d,_,M,x,<span class="code-number">0</span>,<span class="code-number">0</span>)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"instanceMatrix"</span>===h){<span class="code-keyword">var</span> L=n.get(i.instanceMatrix);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===L)<span class="code-keyword">continue</span>;<span class="code-keyword">var</span> R=L.buffer,C=L.type;m(d+<span class="code-number">0</span>,<span class="code-number">1</span>),m(d+<span class="code-number">1</span>,<span class="code-number">1</span>),m(d+<span class="code-number">2</span>,<span class="code-number">1</span>),m(d+<span class="code-number">3</span>,<span class="code-number">1</span>),t.bindBuffer(<span class="code-number">34962</span>,R),t.vertexAttribPointer(d+<span class="code-number">0</span>,<span class="code-number">4</span>,C,!<span class="code-number">1</span>,<span class="code-number">64</span>,<span class="code-number">0</span>),t.vertexAttribPointer(d+<span class="code-number">1</span>,<span class="code-number">4</span>,C,!<span class="code-number">1</span>,<span class="code-number">64</span>,<span class="code-number">16</span>),t.vertexAttribPointer(d+<span class="code-number">2</span>,<span class="code-number">4</span>,C,!<span class="code-number">1</span>,<span class="code-number">64</span>,<span class="code-number">32</span>),t.vertexAttribPointer(d+<span class="code-number">3</span>,<span class="code-number">4</span>,C,!<span class="code-number">1</span>,<span class="code-number">64</span>,<span class="code-number">48</span>)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"instanceColor"</span>===h){<span class="code-keyword">var</span> P=n.get(i.instanceColor);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===P)<span class="code-keyword">continue</span>;<span class="code-keyword">var</span> I=P.buffer,N=P.type;m(d,<span class="code-number">1</span>),t.bindBuffer(<span class="code-number">34962</span>,I),t.vertexAttribPointer(d,<span class="code-number">3</span>,N,!<span class="code-number">1</span>,<span class="code-number">12</span>,<span class="code-number">0</span>)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==u){<span class="code-keyword">var</span> D=u[h];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==D)<span class="code-keyword">switch</span>(D.length){<span class="code-keyword">case</span> <span class="code-number">2</span>:t.vertexAttrib2fv(d,D);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:t.vertexAttrib3fv(d,D);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:t.vertexAttrib4fv(d,D);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:t.vertexAttrib1fv(d,D)}}}}v()}(i,c,h,y),<span class="code-literal">null</span>!==x&amp;&amp;t.bindBuffer(<span class="code-number">34963</span>,n.get(x).buffer))},<span class="code-attr">reset</span>:y,<span class="code-attr">resetDefaultState</span>:x,<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> y(),s){<span class="code-keyword">var</span> e=s[t];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e){<span class="code-keyword">var</span> r=e[n];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)h(r[i].object),<span class="code-keyword">delete</span> r[i];<span class="code-keyword">delete</span> e[n]}<span class="code-keyword">delete</span> s[t]}},<span class="code-attr">releaseStatesOfGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==s[t.id]){<span class="code-keyword">var</span> e=s[t.id];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e){<span class="code-keyword">var</span> r=e[n];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)h(r[i].object),<span class="code-keyword">delete</span> r[i];<span class="code-keyword">delete</span> e[n]}<span class="code-keyword">delete</span> s[t.id]}},<span class="code-attr">releaseStatesOfProgram</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e <span class="code-keyword">in</span> s){<span class="code-keyword">var</span> n=s[e];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n[t.id]){<span class="code-keyword">var</span> r=n[t.id];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r)h(r[i].object),<span class="code-keyword">delete</span> r[i];<span class="code-keyword">delete</span> n[t.id]}}},<span class="code-attr">initAttributes</span>:p,<span class="code-attr">enableAttribute</span>:f,<span class="code-attr">disableUnusedAttributes</span>:v}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ur</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i,a=r.isWebGL2;<span class="code-keyword">this</span>.setMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i=t},<span class="code-keyword">this</span>.render=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{t.drawArrays(i,e,r),n.update(r,i,<span class="code-number">1</span>)},<span class="code-keyword">this</span>.renderInstances=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,o,s</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==s){<span class="code-keyword">var</span> c,l;<span class="code-keyword">if</span>(a)c=t,l=<span class="code-string">"drawArraysInstanced"</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(l=<span class="code-string">"drawArraysInstancedANGLE"</span>,<span class="code-literal">null</span>===(c=e.get(<span class="code-string">"ANGLE_instanced_arrays"</span>)))<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."</span>);c[l](i,r,o,s),n.update(o,i,s)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"highp"</span>===e){<span class="code-keyword">if</span>(t.getShaderPrecisionFormat(<span class="code-number">35633</span>,<span class="code-number">36338</span>).precision&gt;<span class="code-number">0</span>&amp;&amp;t.getShaderPrecisionFormat(<span class="code-number">35632</span>,<span class="code-number">36338</span>).precision&gt;<span class="code-number">0</span>)<span class="code-keyword">return</span><span class="code-string">"highp"</span>;e=<span class="code-string">"mediump"</span>}<span class="code-keyword">return</span><span class="code-string">"mediump"</span>===e&amp;&amp;t.getShaderPrecisionFormat(<span class="code-number">35633</span>,<span class="code-number">36337</span>).precision&gt;<span class="code-number">0</span>&amp;&amp;t.getShaderPrecisionFormat(<span class="code-number">35632</span>,<span class="code-number">36337</span>).precision&gt;<span class="code-number">0</span>?<span class="code-string">"mediump"</span>:<span class="code-string">"lowp"</span>}<span class="code-keyword">var</span> a=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> WebGL2RenderingContext&amp;&amp;t <span class="code-keyword">instanceof</span> WebGL2RenderingContext||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> WebGL2ComputeRenderingContext&amp;&amp;t <span class="code-keyword">instanceof</span> WebGL2ComputeRenderingContext,o=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.precision?n.precision:<span class="code-string">"highp"</span>,s=i(o);s!==o&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer:"</span>,o,<span class="code-string">"not supported, using"</span>,s,<span class="code-string">"instead."</span>),o=s);<span class="code-keyword">var</span> c=!<span class="code-number">0</span>===n.logarithmicDepthBuffer,l=t.getParameter(<span class="code-number">34930</span>),u=t.getParameter(<span class="code-number">35660</span>),h=t.getParameter(<span class="code-number">3379</span>),d=t.getParameter(<span class="code-number">34076</span>),p=t.getParameter(<span class="code-number">34921</span>),f=t.getParameter(<span class="code-number">36347</span>),m=t.getParameter(<span class="code-number">36348</span>),v=t.getParameter(<span class="code-number">36349</span>),g=u&gt;<span class="code-number">0</span>,y=a||!!e.get(<span class="code-string">"OES_texture_float"</span>);<span class="code-keyword">return</span>{<span class="code-attr">isWebGL2</span>:a,<span class="code-attr">getMaxAnisotropy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r)<span class="code-keyword">return</span> r;<span class="code-keyword">var</span> n=e.get(<span class="code-string">"EXT_texture_filter_anisotropic"</span>);<span class="code-keyword">return</span> r=<span class="code-literal">null</span>!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):<span class="code-number">0</span>},<span class="code-attr">getMaxPrecision</span>:i,<span class="code-attr">precision</span>:o,<span class="code-attr">logarithmicDepthBuffer</span>:c,<span class="code-attr">maxTextures</span>:l,<span class="code-attr">maxVertexTextures</span>:u,<span class="code-attr">maxTextureSize</span>:h,<span class="code-attr">maxCubemapSize</span>:d,<span class="code-attr">maxAttributes</span>:p,<span class="code-attr">maxVertexUniforms</span>:f,<span class="code-attr">maxVaryings</span>:m,<span class="code-attr">maxFragmentUniforms</span>:v,<span class="code-attr">vertexTextures</span>:g,<span class="code-attr">floatFragmentTextures</span>:y,<span class="code-attr">floatVertexTextures</span>:g&amp;&amp;y,<span class="code-attr">maxSamples</span>:a?t.getParameter(<span class="code-number">36183</span>):<span class="code-number">0</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,n=<span class="code-literal">null</span>,r=<span class="code-number">0</span>,i=!<span class="code-number">1</span>,a=!<span class="code-number">1</span>,o=<span class="code-keyword">new</span> Ee,s=<span class="code-keyword">new</span> ft,c={<span class="code-attr">value</span>:<span class="code-literal">null</span>,<span class="code-attr">needsUpdate</span>:!<span class="code-number">1</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params"></span>)</span>{c.value!==n&amp;&amp;(c.value=n,c.needsUpdate=r&gt;<span class="code-number">0</span>),e.numPlanes=r,e.numIntersection=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-literal">null</span>!==t?t.length:<span class="code-number">0</span>,l=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>!==a){<span class="code-keyword">if</span>(l=c.value,!<span class="code-number">0</span>!==i||<span class="code-literal">null</span>===l){<span class="code-keyword">var</span> u=r+<span class="code-number">4</span>*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(<span class="code-literal">null</span>===l||l.length&lt;u)&amp;&amp;(l=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(u));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=r;d!==a;++d,p+=<span class="code-number">4</span>)o.copy(t[d]).applyMatrix4(h,s),o.normal.toArray(l,p),l[p+<span class="code-number">3</span>]=o.constant}c.value=l,c.needsUpdate=!<span class="code-number">0</span>}<span class="code-keyword">return</span> e.numPlanes=a,e.numIntersection=<span class="code-number">0</span>,l}<span class="code-keyword">this</span>.uniform=c,<span class="code-keyword">this</span>.numPlanes=<span class="code-number">0</span>,<span class="code-keyword">this</span>.numIntersection=<span class="code-number">0</span>,<span class="code-keyword">this</span>.init=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,a</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-number">0</span>!==t.length||e||<span class="code-number">0</span>!==r||i;<span class="code-keyword">return</span> i=e,n=u(t,a,<span class="code-number">0</span>),r=t.length,o},<span class="code-keyword">this</span>.beginShadows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=!<span class="code-number">0</span>,u(<span class="code-literal">null</span>)},<span class="code-keyword">this</span>.endShadows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=!<span class="code-number">1</span>,l()},<span class="code-keyword">this</span>.setState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,o,s</span>)</span>{<span class="code-keyword">var</span> h=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);<span class="code-keyword">if</span>(!i||<span class="code-literal">null</span>===h||<span class="code-number">0</span>===h.length||a&amp;&amp;!p)a?u(<span class="code-literal">null</span>):l();<span class="code-keyword">else</span>{<span class="code-keyword">var</span> m=a?<span class="code-number">0</span>:r,v=<span class="code-number">4</span>*m,g=f.clippingState||<span class="code-literal">null</span>;c.value=g,g=u(h,o,v,s);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y!==v;++y)g[y]=n[y];f.clippingState=g,<span class="code-keyword">this</span>.numIntersection=d?<span class="code-keyword">this</span>.numPlanes:<span class="code-number">0</span>,<span class="code-keyword">this</span>.numPlanes+=m}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> e===a?t.mapping=r:e===o&amp;&amp;(t.mapping=i),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=t.target;n.removeEventListener(<span class="code-string">"dispose"</span>,s);<span class="code-keyword">var</span> r=e.get(n);<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;(e.delete(n),r.dispose())}<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">if</span>(r&amp;&amp;r.isTexture){<span class="code-keyword">var</span> i=r.mapping;<span class="code-keyword">if</span>(i===a||i===o){<span class="code-keyword">if</span>(e.has(r))<span class="code-keyword">return</span> n(e.get(r).texture,r.mapping);<span class="code-keyword">var</span> c=r.image;<span class="code-keyword">if</span>(c&amp;&amp;c.height&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> l=t.getRenderList(),u=t.getRenderTarget(),h=t.getRenderState(),d=<span class="code-keyword">new</span> Qn(c.height/<span class="code-number">2</span>);<span class="code-keyword">return</span> d.fromEquirectangularTexture(t,r),e.set(r,d),t.setRenderTarget(u),t.setRenderList(l),t.setRenderState(h),r.addEventListener(<span class="code-string">"dispose"</span>,s),n(d.texture,r.mapping)}<span class="code-keyword">return</span> <span class="code-literal">null</span>}}<span class="code-keyword">return</span> r},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={};<span class="code-keyword">return</span>{<span class="code-attr">has</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[n])<span class="code-keyword">return</span> <span class="code-literal">null</span>!==e[n];<span class="code-keyword">var</span> r;<span class="code-keyword">switch</span>(n){<span class="code-keyword">case</span><span class="code-string">"WEBGL_depth_texture"</span>:r=t.getExtension(<span class="code-string">"WEBGL_depth_texture"</span>)||t.getExtension(<span class="code-string">"MOZ_WEBGL_depth_texture"</span>)||t.getExtension(<span class="code-string">"WEBKIT_WEBGL_depth_texture"</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"EXT_texture_filter_anisotropic"</span>:r=t.getExtension(<span class="code-string">"EXT_texture_filter_anisotropic"</span>)||t.getExtension(<span class="code-string">"MOZ_EXT_texture_filter_anisotropic"</span>)||t.getExtension(<span class="code-string">"WEBKIT_EXT_texture_filter_anisotropic"</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"WEBGL_compressed_texture_s3tc"</span>:r=t.getExtension(<span class="code-string">"WEBGL_compressed_texture_s3tc"</span>)||t.getExtension(<span class="code-string">"MOZ_WEBGL_compressed_texture_s3tc"</span>)||t.getExtension(<span class="code-string">"WEBKIT_WEBGL_compressed_texture_s3tc"</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"WEBGL_compressed_texture_pvrtc"</span>:r=t.getExtension(<span class="code-string">"WEBGL_compressed_texture_pvrtc"</span>)||t.getExtension(<span class="code-string">"WEBKIT_WEBGL_compressed_texture_pvrtc"</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r=t.getExtension(n)}<span class="code-keyword">return</span> e[n]=r,<span class="code-literal">null</span>!==r},<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.has(t)||<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: "</span>+t+<span class="code-string">" extension not supported."</span>),e[t]}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mr</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>,a=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> s=t.target,c=i.get(s);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l <span class="code-keyword">in</span> <span class="code-literal">null</span>!==c.index&amp;&amp;e.remove(c.index),c.attributes)e.remove(c.attributes[l]);s.removeEventListener(<span class="code-string">"dispose"</span>,o),i.delete(s);<span class="code-keyword">var</span> u=a.get(c);u&amp;&amp;(e.remove(u),a.delete(c)),r.releaseStatesOfGeometry(c),!<span class="code-number">0</span>===s.isInstancedBufferGeometry&amp;&amp;<span class="code-keyword">delete</span> s._maxInstanceCount,n.memory.geometries--}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=[],r=t.index,i=t.attributes.position,o=<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==r){<span class="code-keyword">var</span> s=r.array;o=r.version;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>,l=s.length;c&lt;l;c+=<span class="code-number">3</span>){<span class="code-keyword">var</span> u=s[c+<span class="code-number">0</span>],h=s[c+<span class="code-number">1</span>],d=s[c+<span class="code-number">2</span>];n.push(u,h,h,d,d,u)}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> p=i.array;o=i.version;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,m=p.length/<span class="code-number">3</span><span class="code-number">-1</span>;f&lt;m;f+=<span class="code-number">3</span>){<span class="code-keyword">var</span> v=f+<span class="code-number">0</span>,g=f+<span class="code-number">1</span>,y=f+<span class="code-number">2</span>;n.push(v,g,g,y,y,v)}}<span class="code-keyword">var</span> x=<span class="code-keyword">new</span>(un(n)&gt;<span class="code-number">65535</span>?an:nn)(n,<span class="code-number">1</span>);x.version=o;<span class="code-keyword">var</span> _=a.get(t);_&amp;&amp;e.remove(_),a.set(t,x)}<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r=i.get(e);<span class="code-keyword">return</span> r||(e.addEventListener(<span class="code-string">"dispose"</span>,o),e.isBufferGeometry?r=e:e.isGeometry&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>===e._bufferGeometry&amp;&amp;(e._bufferGeometry=(<span class="code-keyword">new</span> _n).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=t.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> n)e.update(n[r],<span class="code-number">34962</span>);<span class="code-keyword">var</span> i=t.morphAttributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> i)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=i[a],s=<span class="code-number">0</span>,c=o.length;s&lt;c;s++)e.update(o[s],<span class="code-number">34962</span>)},<span class="code-attr">getWireframeAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=a.get(t);<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> n=t.index;<span class="code-literal">null</span>!==n&amp;&amp;e.version&lt;n.version&amp;&amp;s(t)}<span class="code-keyword">else</span> s(t);<span class="code-keyword">return</span> a.get(t)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vr</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i,a,o,s=r.isWebGL2;<span class="code-keyword">this</span>.setMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i=t},<span class="code-keyword">this</span>.setIndex=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{a=t.type,o=t.bytesPerElement},<span class="code-keyword">this</span>.render=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{t.drawElements(i,r,a,e*o),n.update(r,i,<span class="code-number">1</span>)},<span class="code-keyword">this</span>.renderInstances=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,c,l</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==l){<span class="code-keyword">var</span> u,h;<span class="code-keyword">if</span>(s)u=t,h=<span class="code-string">"drawElementsInstanced"</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(h=<span class="code-string">"drawElementsInstancedANGLE"</span>,<span class="code-literal">null</span>===(u=e.get(<span class="code-string">"ANGLE_instanced_arrays"</span>)))<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."</span>);u[h](i,c,a,r*o,l),n.update(c,i,l)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={<span class="code-attr">frame</span>:<span class="code-number">0</span>,<span class="code-attr">calls</span>:<span class="code-number">0</span>,<span class="code-attr">triangles</span>:<span class="code-number">0</span>,<span class="code-attr">points</span>:<span class="code-number">0</span>,<span class="code-attr">lines</span>:<span class="code-number">0</span>};<span class="code-keyword">return</span>{<span class="code-attr">memory</span>:{<span class="code-attr">geometries</span>:<span class="code-number">0</span>,<span class="code-attr">textures</span>:<span class="code-number">0</span>},<span class="code-attr">render</span>:e,<span class="code-attr">programs</span>:<span class="code-literal">null</span>,<span class="code-attr">autoReset</span>:!<span class="code-number">0</span>,<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.frame++,e.calls=<span class="code-number">0</span>,e.triangles=<span class="code-number">0</span>,e.points=<span class="code-number">0</span>,e.lines=<span class="code-number">0</span>},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-keyword">switch</span>(e.calls++,n){<span class="code-keyword">case</span> <span class="code-number">4</span>:e.triangles+=r*(t/<span class="code-number">3</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:e.lines+=r*(t/<span class="code-number">2</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:e.lines+=r*(t<span class="code-number">-1</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:e.lines+=r*t;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">0</span>:e.points+=r*t;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLInfo: Unknown draw mode:"</span>,n)}}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t[<span class="code-number">0</span>]-e[<span class="code-number">0</span>]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(e[<span class="code-number">1</span>])-<span class="code-built_in">Math</span>.abs(t[<span class="code-number">1</span>])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e={},n=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">8</span>),r=[],i=<span class="code-number">0</span>;i&lt;<span class="code-number">8</span>;i++)r[i]=[i,<span class="code-number">0</span>];<span class="code-keyword">return</span>{<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c=i.morphTargetInfluences,l=<span class="code-keyword">void</span> <span class="code-number">0</span>===c?<span class="code-number">0</span>:c.length,u=e[a.id];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===u){u=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>;h&lt;l;h++)u[h]=[h,<span class="code-number">0</span>];e[a.id]=u}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>;d&lt;l;d++){<span class="code-keyword">var</span> p=u[d];p[<span class="code-number">0</span>]=d,p[<span class="code-number">1</span>]=c[d]}u.sort(xr);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>;f&lt;<span class="code-number">8</span>;f++)f&lt;l&amp;&amp;u[f][<span class="code-number">1</span>]?(r[f][<span class="code-number">0</span>]=u[f][<span class="code-number">0</span>],r[f][<span class="code-number">1</span>]=u[f][<span class="code-number">1</span>]):(r[f][<span class="code-number">0</span>]=<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER,r[f][<span class="code-number">1</span>]=<span class="code-number">0</span>);r.sort(yr);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=o.morphTargets&amp;&amp;a.morphAttributes.position,v=o.morphNormals&amp;&amp;a.morphAttributes.normal,g=<span class="code-number">0</span>,y=<span class="code-number">0</span>;y&lt;<span class="code-number">8</span>;y++){<span class="code-keyword">var</span> x=r[y],_=x[<span class="code-number">0</span>],b=x[<span class="code-number">1</span>];_!==<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER&amp;&amp;b?(m&amp;&amp;a.getAttribute(<span class="code-string">"morphTarget"</span>+y)!==m[_]&amp;&amp;a.setAttribute(<span class="code-string">"morphTarget"</span>+y,m[_]),v&amp;&amp;a.getAttribute(<span class="code-string">"morphNormal"</span>+y)!==v[_]&amp;&amp;a.setAttribute(<span class="code-string">"morphNormal"</span>+y,v[_]),n[y]=b,g+=b):(m&amp;&amp;!<span class="code-number">0</span>===a.hasAttribute(<span class="code-string">"morphTarget"</span>+y)&amp;&amp;a.deleteAttribute(<span class="code-string">"morphTarget"</span>+y),v&amp;&amp;!<span class="code-number">0</span>===a.hasAttribute(<span class="code-string">"morphNormal"</span>+y)&amp;&amp;a.deleteAttribute(<span class="code-string">"morphNormal"</span>+y),n[y]=<span class="code-number">0</span>)}<span class="code-keyword">var</span> w=a.morphTargetsRelative?<span class="code-number">1</span>:<span class="code-number">1</span>-g;s.getUniforms().setValue(t,<span class="code-string">"morphTargetBaseInfluence"</span>,w),s.getUniforms().setValue(t,<span class="code-string">"morphTargetInfluences"</span>,n)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">br</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">return</span>{<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> a=r.render.frame,o=t.geometry,s=e.get(t,o);<span class="code-keyword">return</span> i.get(s)!==a&amp;&amp;(o.isGeometry&amp;&amp;s.updateFromObject(t),e.update(s),i.set(s,a)),t.isInstancedMesh&amp;&amp;(n.update(t.instanceMatrix,<span class="code-number">34962</span>),<span class="code-literal">null</span>!==t.instanceColor&amp;&amp;n.update(t.instanceColor,<span class="code-number">34962</span>)),s},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wr</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-literal">null</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),gt.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>),<span class="code-keyword">this</span>.image={<span class="code-attr">data</span>:t,<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">depth</span>:r},<span class="code-keyword">this</span>.magFilter=d,<span class="code-keyword">this</span>.minFilter=d,<span class="code-keyword">this</span>.wrapR=u,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mr</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-literal">null</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),gt.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>),<span class="code-keyword">this</span>.image={<span class="code-attr">data</span>:t,<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">depth</span>:r},<span class="code-keyword">this</span>.magFilter=d,<span class="code-keyword">this</span>.minFilter=d,<span class="code-keyword">this</span>.wrapR=u,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>}sr.physical={<span class="code-attr">uniforms</span>:Vn([sr.standard.uniforms,{<span class="code-attr">clearcoat</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">clearcoatMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">clearcoatRoughness</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">clearcoatRoughnessMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">clearcoatNormalScale</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>)},<span class="code-attr">clearcoatNormalMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">sheen</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> We(<span class="code-number">0</span>)},<span class="code-attr">transmission</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">transmissionMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>}}]),<span class="code-attr">vertexShader</span>:ar.meshphysical_vert,<span class="code-attr">fragmentShader</span>:ar.meshphysical_frag},wr.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),wr.prototype.constructor=wr,wr.prototype.isDataTexture2DArray=!<span class="code-number">0</span>,Mr.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isDataTexture3D=!<span class="code-number">0</span>;<span class="code-keyword">var</span> Sr=<span class="code-keyword">new</span> gt,Tr=<span class="code-keyword">new</span> wr,Er=<span class="code-keyword">new</span> Mr,Ar=<span class="code-keyword">new</span> Jn,Lr=[],Rr=[],Cr=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">16</span>),Pr=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">9</span>),Ir=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">4</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t[<span class="code-number">0</span>];<span class="code-keyword">if</span>(r&lt;=<span class="code-number">0</span>||r&gt;<span class="code-number">0</span>)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> i=e*n,a=Lr[i];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(i),Lr[i]=a),<span class="code-number">0</span>!==e){r.toArray(a,<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">1</span>,s=<span class="code-number">0</span>;o!==e;++o)s+=n,t[o].toArray(a,s)}<span class="code-keyword">return</span> a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Dr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(t.length!==e.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++)<span class="code-keyword">if</span>(t[n]!==e[n])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Or</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++)t[n]=e[n]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Br</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Rr[e];<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(e),Rr[e]=n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r!==e;++r)n[r]=t.allocateTextureUnit();<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;n[<span class="code-number">0</span>]!==e&amp;&amp;(t.uniform1f(<span class="code-keyword">this</span>.addr,e),n[<span class="code-number">0</span>]=e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ur</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.x)n[<span class="code-number">0</span>]===e.x&amp;&amp;n[<span class="code-number">1</span>]===e.y||(t.uniform2f(<span class="code-keyword">this</span>.addr,e.x,e.y),n[<span class="code-number">0</span>]=e.x,n[<span class="code-number">1</span>]=e.y);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniform2fv(<span class="code-keyword">this</span>.addr,e),Or(n,e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.x)n[<span class="code-number">0</span>]===e.x&amp;&amp;n[<span class="code-number">1</span>]===e.y&amp;&amp;n[<span class="code-number">2</span>]===e.z||(t.uniform3f(<span class="code-keyword">this</span>.addr,e.x,e.y,e.z),n[<span class="code-number">0</span>]=e.x,n[<span class="code-number">1</span>]=e.y,n[<span class="code-number">2</span>]=e.z);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.r)n[<span class="code-number">0</span>]===e.r&amp;&amp;n[<span class="code-number">1</span>]===e.g&amp;&amp;n[<span class="code-number">2</span>]===e.b||(t.uniform3f(<span class="code-keyword">this</span>.addr,e.r,e.g,e.b),n[<span class="code-number">0</span>]=e.r,n[<span class="code-number">1</span>]=e.g,n[<span class="code-number">2</span>]=e.b);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniform3fv(<span class="code-keyword">this</span>.addr,e),Or(n,e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.x)n[<span class="code-number">0</span>]===e.x&amp;&amp;n[<span class="code-number">1</span>]===e.y&amp;&amp;n[<span class="code-number">2</span>]===e.z&amp;&amp;n[<span class="code-number">3</span>]===e.w||(t.uniform4f(<span class="code-keyword">this</span>.addr,e.x,e.y,e.z,e.w),n[<span class="code-number">0</span>]=e.x,n[<span class="code-number">1</span>]=e.y,n[<span class="code-number">2</span>]=e.z,n[<span class="code-number">3</span>]=e.w);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniform4fv(<span class="code-keyword">this</span>.addr,e),Or(n,e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache,r=e.elements;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r){<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniformMatrix2fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,e),Or(n,e)}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,r))<span class="code-keyword">return</span>;Ir.set(r),t.uniformMatrix2fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,Ir),Or(n,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache,r=e.elements;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r){<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniformMatrix3fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,e),Or(n,e)}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,r))<span class="code-keyword">return</span>;Pr.set(r),t.uniformMatrix3fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,Pr),Or(n,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache,r=e.elements;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r){<span class="code-keyword">if</span>(Dr(n,e))<span class="code-keyword">return</span>;t.uniformMatrix4fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,e),Or(n,e)}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(Dr(n,r))<span class="code-keyword">return</span>;Cr.set(r),t.uniformMatrix4fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,Cr),Or(n,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.cache,i=n.allocateTextureUnit();r[<span class="code-number">0</span>]!==i&amp;&amp;(t.uniform1i(<span class="code-keyword">this</span>.addr,i),r[<span class="code-number">0</span>]=i),n.safeSetTexture2D(e||Sr,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.cache,i=n.allocateTextureUnit();r[<span class="code-number">0</span>]!==i&amp;&amp;(t.uniform1i(<span class="code-keyword">this</span>.addr,i),r[<span class="code-number">0</span>]=i),n.setTexture2DArray(e||Tr,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.cache,i=n.allocateTextureUnit();r[<span class="code-number">0</span>]!==i&amp;&amp;(t.uniform1i(<span class="code-keyword">this</span>.addr,i),r[<span class="code-number">0</span>]=i),n.setTexture3D(e||Er,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xr</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.cache,i=n.allocateTextureUnit();r[<span class="code-number">0</span>]!==i&amp;&amp;(t.uniform1i(<span class="code-keyword">this</span>.addr,i),r[<span class="code-number">0</span>]=i),n.safeSetTextureCube(e||Ar,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;n[<span class="code-number">0</span>]!==e&amp;&amp;(t.uniform1i(<span class="code-keyword">this</span>.addr,e),n[<span class="code-number">0</span>]=e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;Dr(n,e)||(t.uniform2iv(<span class="code-keyword">this</span>.addr,e),Or(n,e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;Dr(n,e)||(t.uniform3iv(<span class="code-keyword">this</span>.addr,e),Or(n,e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;Dr(n,e)||(t.uniform4iv(<span class="code-keyword">this</span>.addr,e),Or(n,e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Kr</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.cache;n[<span class="code-number">0</span>]!==e&amp;&amp;(t.uniform1ui(<span class="code-keyword">this</span>.addr,e),n[<span class="code-number">0</span>]=e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$r</span>(<span class="code-params">t,e</span>)</span>{t.uniform1fv(<span class="code-keyword">this</span>.addr,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ti</span>(<span class="code-params">t,e</span>)</span>{t.uniform1iv(<span class="code-keyword">this</span>.addr,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ei</span>(<span class="code-params">t,e</span>)</span>{t.uniform2iv(<span class="code-keyword">this</span>.addr,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ni</span>(<span class="code-params">t,e</span>)</span>{t.uniform3iv(<span class="code-keyword">this</span>.addr,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ri</span>(<span class="code-params">t,e</span>)</span>{t.uniform4iv(<span class="code-keyword">this</span>.addr,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ii</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">2</span>);t.uniform2fv(<span class="code-keyword">this</span>.addr,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ai</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">3</span>);t.uniform3fv(<span class="code-keyword">this</span>.addr,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">4</span>);t.uniform4fv(<span class="code-keyword">this</span>.addr,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">si</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">4</span>);t.uniformMatrix2fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ci</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">9</span>);t.uniformMatrix3fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">li</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=Nr(e,<span class="code-keyword">this</span>.size,<span class="code-number">16</span>);t.uniformMatrix4fv(<span class="code-keyword">this</span>.addr,!<span class="code-number">1</span>,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ui</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=e.length,i=Br(n,r);t.uniform1iv(<span class="code-keyword">this</span>.addr,i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a!==r;++a)n.safeSetTexture2D(e[a]||Sr,i[a])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hi</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=e.length,i=Br(n,r);t.uniform1iv(<span class="code-keyword">this</span>.addr,i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a!==r;++a)n.safeSetTextureCube(e[a]||Ar,i[a])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">di</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.id=t,<span class="code-keyword">this</span>.addr=n,<span class="code-keyword">this</span>.cache=[],<span class="code-keyword">this</span>.setValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">5126</span>:<span class="code-keyword">return</span> zr;<span class="code-keyword">case</span> <span class="code-number">35664</span>:<span class="code-keyword">return</span> Ur;<span class="code-keyword">case</span> <span class="code-number">35665</span>:<span class="code-keyword">return</span> Fr;<span class="code-keyword">case</span> <span class="code-number">35666</span>:<span class="code-keyword">return</span> Gr;<span class="code-keyword">case</span> <span class="code-number">35674</span>:<span class="code-keyword">return</span> Hr;<span class="code-keyword">case</span> <span class="code-number">35675</span>:<span class="code-keyword">return</span> kr;<span class="code-keyword">case</span> <span class="code-number">35676</span>:<span class="code-keyword">return</span> Vr;<span class="code-keyword">case</span> <span class="code-number">5124</span>:<span class="code-keyword">case</span> <span class="code-number">35670</span>:<span class="code-keyword">return</span> Yr;<span class="code-keyword">case</span> <span class="code-number">35667</span>:<span class="code-keyword">case</span> <span class="code-number">35671</span>:<span class="code-keyword">return</span> Zr;<span class="code-keyword">case</span> <span class="code-number">35668</span>:<span class="code-keyword">case</span> <span class="code-number">35672</span>:<span class="code-keyword">return</span> Jr;<span class="code-keyword">case</span> <span class="code-number">35669</span>:<span class="code-keyword">case</span> <span class="code-number">35673</span>:<span class="code-keyword">return</span> Qr;<span class="code-keyword">case</span> <span class="code-number">5125</span>:<span class="code-keyword">return</span> Kr;<span class="code-keyword">case</span> <span class="code-number">35678</span>:<span class="code-keyword">case</span> <span class="code-number">36198</span>:<span class="code-keyword">case</span> <span class="code-number">36298</span>:<span class="code-keyword">case</span> <span class="code-number">36306</span>:<span class="code-keyword">case</span> <span class="code-number">35682</span>:<span class="code-keyword">return</span> Wr;<span class="code-keyword">case</span> <span class="code-number">35679</span>:<span class="code-keyword">case</span> <span class="code-number">36299</span>:<span class="code-keyword">case</span> <span class="code-number">36307</span>:<span class="code-keyword">return</span> qr;<span class="code-keyword">case</span> <span class="code-number">35680</span>:<span class="code-keyword">case</span> <span class="code-number">36300</span>:<span class="code-keyword">case</span> <span class="code-number">36308</span>:<span class="code-keyword">case</span> <span class="code-number">36293</span>:<span class="code-keyword">return</span> Xr;<span class="code-keyword">case</span> <span class="code-number">36289</span>:<span class="code-keyword">case</span> <span class="code-number">36303</span>:<span class="code-keyword">case</span> <span class="code-number">36311</span>:<span class="code-keyword">case</span> <span class="code-number">36292</span>:<span class="code-keyword">return</span> jr}}(e.type)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pi</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.id=t,<span class="code-keyword">this</span>.addr=n,<span class="code-keyword">this</span>.cache=[],<span class="code-keyword">this</span>.size=e.size,<span class="code-keyword">this</span>.setValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> <span class="code-number">5126</span>:<span class="code-keyword">return</span> $r;<span class="code-keyword">case</span> <span class="code-number">35664</span>:<span class="code-keyword">return</span> ii;<span class="code-keyword">case</span> <span class="code-number">35665</span>:<span class="code-keyword">return</span> ai;<span class="code-keyword">case</span> <span class="code-number">35666</span>:<span class="code-keyword">return</span> oi;<span class="code-keyword">case</span> <span class="code-number">35674</span>:<span class="code-keyword">return</span> si;<span class="code-keyword">case</span> <span class="code-number">35675</span>:<span class="code-keyword">return</span> ci;<span class="code-keyword">case</span> <span class="code-number">35676</span>:<span class="code-keyword">return</span> li;<span class="code-keyword">case</span> <span class="code-number">5124</span>:<span class="code-keyword">case</span> <span class="code-number">35670</span>:<span class="code-keyword">return</span> ti;<span class="code-keyword">case</span> <span class="code-number">35667</span>:<span class="code-keyword">case</span> <span class="code-number">35671</span>:<span class="code-keyword">return</span> ei;<span class="code-keyword">case</span> <span class="code-number">35668</span>:<span class="code-keyword">case</span> <span class="code-number">35672</span>:<span class="code-keyword">return</span> ni;<span class="code-keyword">case</span> <span class="code-number">35669</span>:<span class="code-keyword">case</span> <span class="code-number">35673</span>:<span class="code-keyword">return</span> ri;<span class="code-keyword">case</span> <span class="code-number">35678</span>:<span class="code-keyword">case</span> <span class="code-number">36198</span>:<span class="code-keyword">case</span> <span class="code-number">36298</span>:<span class="code-keyword">case</span> <span class="code-number">36306</span>:<span class="code-keyword">case</span> <span class="code-number">35682</span>:<span class="code-keyword">return</span> ui;<span class="code-keyword">case</span> <span class="code-number">35680</span>:<span class="code-keyword">case</span> <span class="code-number">36300</span>:<span class="code-keyword">case</span> <span class="code-number">36308</span>:<span class="code-keyword">case</span> <span class="code-number">36293</span>:<span class="code-keyword">return</span> hi}}(e.type)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fi</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.id=t,<span class="code-keyword">this</span>.seq=[],<span class="code-keyword">this</span>.map={}}pi.prototype.updateCache=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.cache;t <span class="code-keyword">instanceof</span> <span class="code-built_in">Float32Array</span>&amp;&amp;e.length!==t.length&amp;&amp;(<span class="code-keyword">this</span>.cache=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(t.length)),Or(e,t)},fi.prototype.setValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.seq,i=<span class="code-number">0</span>,a=r.length;i!==a;++i){<span class="code-keyword">var</span> o=r[i];o.setValue(t,e[o.id],n)}};<span class="code-keyword">var</span> mi=<span class="code-regexp">/([\w\d_]+)(\])?(\[|\.)?/g</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vi</span>(<span class="code-params">t,e</span>)</span>{t.seq.push(e),t.map[e.id]=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gi</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t.name,i=r.length;<span class="code-keyword">for</span>(mi.lastIndex=<span class="code-number">0</span>;;){<span class="code-keyword">var</span> a=mi.exec(r),o=mi.lastIndex,s=a[<span class="code-number">1</span>],c=<span class="code-string">"]"</span>===a[<span class="code-number">2</span>],l=a[<span class="code-number">3</span>];<span class="code-keyword">if</span>(c&amp;&amp;(s|=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===l||<span class="code-string">"["</span>===l&amp;&amp;o+<span class="code-number">2</span>===i){vi(n,<span class="code-keyword">void</span> <span class="code-number">0</span>===l?<span class="code-keyword">new</span> di(s,t,e):<span class="code-keyword">new</span> pi(s,t,e));<span class="code-keyword">break</span>}<span class="code-keyword">var</span> u=n.map[s];<span class="code-keyword">void</span> <span class="code-number">0</span>===u&amp;&amp;vi(n,u=<span class="code-keyword">new</span> fi(s)),n=u}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.seq=[],<span class="code-keyword">this</span>.map={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=t.getProgramParameter(e,<span class="code-number">35718</span>),r=<span class="code-number">0</span>;r&lt;n;++r){<span class="code-keyword">var</span> i=t.getActiveUniform(e,r);gi(i,t.getUniformLocation(e,i.name),<span class="code-keyword">this</span>)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xi</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t.createShader(e);<span class="code-keyword">return</span> t.shaderSource(r,n),t.compileShader(r),r}yi.prototype.setValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.map[e];<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;i.setValue(t,n,r)},yi.prototype.setOptional=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=e[n];<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;<span class="code-keyword">this</span>.setValue(t,n,r)},yi.upload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=e.length;i!==a;++i){<span class="code-keyword">var</span> o=e[i],s=n[o.id];!<span class="code-number">1</span>!==s.needsUpdate&amp;&amp;o.setValue(t,s.value,r)}},yi.seqWithValue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=<span class="code-number">0</span>,i=t.length;r!==i;++r){<span class="code-keyword">var</span> a=t[r];a.id <span class="code-keyword">in</span> e&amp;&amp;n.push(a)}<span class="code-keyword">return</span> n};<span class="code-keyword">var</span> _i=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bi</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> q:<span class="code-keyword">return</span>[<span class="code-string">"Linear"</span>,<span class="code-string">"( value )"</span>];<span class="code-keyword">case</span> X:<span class="code-keyword">return</span>[<span class="code-string">"sRGB"</span>,<span class="code-string">"( value )"</span>];<span class="code-keyword">case</span> Z:<span class="code-keyword">return</span>[<span class="code-string">"RGBE"</span>,<span class="code-string">"( value )"</span>];<span class="code-keyword">case</span> J:<span class="code-keyword">return</span>[<span class="code-string">"RGBM"</span>,<span class="code-string">"( value, 7.0 )"</span>];<span class="code-keyword">case</span> Q:<span class="code-keyword">return</span>[<span class="code-string">"RGBM"</span>,<span class="code-string">"( value, 16.0 )"</span>];<span class="code-keyword">case</span> K:<span class="code-keyword">return</span>[<span class="code-string">"RGBD"</span>,<span class="code-string">"( value, 256.0 )"</span>];<span class="code-keyword">case</span> Y:<span class="code-keyword">return</span>[<span class="code-string">"Gamma"</span>,<span class="code-string">"( value, float( GAMMA_FACTOR ) )"</span>];<span class="code-keyword">case</span> <span class="code-number">3003</span>:<span class="code-keyword">return</span>[<span class="code-string">"LogLuv"</span>,<span class="code-string">"( value )"</span>];<span class="code-keyword">default</span>:<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLProgram: Unsupported encoding:"</span>,t),[<span class="code-string">"Linear"</span>,<span class="code-string">"( value )"</span>]}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wi</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t.getShaderParameter(e,<span class="code-number">35713</span>),i=t.getShaderInfoLog(e).trim();<span class="code-keyword">return</span> r&amp;&amp;<span class="code-string">""</span>===i?<span class="code-string">""</span>:<span class="code-string">"THREE.WebGLShader: gl.getShaderInfoLog() "</span>+n+<span class="code-string">"\n"</span>+i+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.split(<span class="code-string">"\n"</span>),n=<span class="code-number">0</span>;n&lt;e.length;n++)e[n]=n+<span class="code-number">1</span>+<span class="code-string">": "</span>+e[n];<span class="code-keyword">return</span> e.join(<span class="code-string">"\n"</span>)}(t.getShaderSource(e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=bi(e);<span class="code-keyword">return</span><span class="code-string">"vec4 "</span>+t+<span class="code-string">"( vec4 value ) { return "</span>+n[<span class="code-number">0</span>]+<span class="code-string">"ToLinear"</span>+n[<span class="code-number">1</span>]+<span class="code-string">"; }"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Si</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span> <span class="code-number">1</span>:n=<span class="code-string">"Linear"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:n=<span class="code-string">"Reinhard"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:n=<span class="code-string">"OptimizedCineon"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:n=<span class="code-string">"ACESFilmic"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">5</span>:n=<span class="code-string">"Custom"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLProgram: Unsupported toneMapping:"</span>,e),n=<span class="code-string">"Linear"</span>}<span class="code-keyword">return</span><span class="code-string">"vec3 "</span>+t+<span class="code-string">"( vec3 color ) { return "</span>+n+<span class="code-string">"ToneMapping( color ); }"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ti</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>!==t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ei</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/NUM_DIR_LIGHTS/g</span>,e.numDirLights).replace(<span class="code-regexp">/NUM_SPOT_LIGHTS/g</span>,e.numSpotLights).replace(<span class="code-regexp">/NUM_RECT_AREA_LIGHTS/g</span>,e.numRectAreaLights).replace(<span class="code-regexp">/NUM_POINT_LIGHTS/g</span>,e.numPointLights).replace(<span class="code-regexp">/NUM_HEMI_LIGHTS/g</span>,e.numHemiLights).replace(<span class="code-regexp">/NUM_DIR_LIGHT_SHADOWS/g</span>,e.numDirLightShadows).replace(<span class="code-regexp">/NUM_SPOT_LIGHT_SHADOWS/g</span>,e.numSpotLightShadows).replace(<span class="code-regexp">/NUM_POINT_LIGHT_SHADOWS/g</span>,e.numPointLightShadows)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ai</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/NUM_CLIPPING_PLANES/g</span>,e.numClippingPlanes).replace(<span class="code-regexp">/UNION_CLIPPING_PLANES/g</span>,e.numClippingPlanes-e.numClipIntersection)}<span class="code-keyword">var</span> Li=<span class="code-regexp">/^[ \t]*#include +&lt;([\w\d./]+)&gt;/gm</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ri</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(Li,Ci)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ci</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=ar[e];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Can not resolve #include &lt;"</span>+e+<span class="code-string">"&gt;"</span>);<span class="code-keyword">return</span> Ri(n)}<span class="code-keyword">var</span> Pi=<span class="code-regexp">/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i &lt; (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g</span>,Ii=<span class="code-regexp">/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*&lt;\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ni</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(Ii,Oi).replace(Pi,Di)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Di</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."</span>),Oi(t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oi</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-string">""</span>,a=<span class="code-built_in">parseInt</span>(e);a&lt;<span class="code-built_in">parseInt</span>(n);a++)i+=r.replace(<span class="code-regexp">/\[\s*i\s*\]/g</span>,<span class="code-string">"[ "</span>+a+<span class="code-string">" ]"</span>).replace(<span class="code-regexp">/UNROLLED_LOOP_INDEX/g</span>,a);<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bi</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"precision "</span>+t.precision+<span class="code-string">" float;\nprecision "</span>+t.precision+<span class="code-string">" int;"</span>;<span class="code-keyword">return</span><span class="code-string">"highp"</span>===t.precision?e+=<span class="code-string">"\n#define HIGH_PRECISION"</span>:<span class="code-string">"mediump"</span>===t.precision?e+=<span class="code-string">"\n#define MEDIUM_PRECISION"</span>:<span class="code-string">"lowp"</span>===t.precision&amp;&amp;(e+=<span class="code-string">"\n#define LOW_PRECISION"</span>),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zi</span>(<span class="code-params">t,e,n,a</span>)</span>{<span class="code-keyword">var</span> o,l,u,h,d,p=t.getContext(),f=n.defines,m=n.vertexShader,v=n.fragmentShader,g=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"SHADOWMAP_TYPE_BASIC"</span>;<span class="code-keyword">return</span> <span class="code-number">1</span>===t.shadowMapType?e=<span class="code-string">"SHADOWMAP_TYPE_PCF"</span>:<span class="code-number">2</span>===t.shadowMapType?e=<span class="code-string">"SHADOWMAP_TYPE_PCF_SOFT"</span>:<span class="code-number">3</span>===t.shadowMapType&amp;&amp;(e=<span class="code-string">"SHADOWMAP_TYPE_VSM"</span>),e}(n),y=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"ENVMAP_TYPE_CUBE"</span>;<span class="code-keyword">if</span>(t.envMap)<span class="code-keyword">switch</span>(t.envMapMode){<span class="code-keyword">case</span> r:<span class="code-keyword">case</span> i:e=<span class="code-string">"ENVMAP_TYPE_CUBE"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> s:<span class="code-keyword">case</span> c:e=<span class="code-string">"ENVMAP_TYPE_CUBE_UV"</span>}<span class="code-keyword">return</span> e}(n),x=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"ENVMAP_MODE_REFLECTION"</span>;<span class="code-keyword">if</span>(t.envMap)<span class="code-keyword">switch</span>(t.envMapMode){<span class="code-keyword">case</span> i:<span class="code-keyword">case</span> c:e=<span class="code-string">"ENVMAP_MODE_REFRACTION"</span>}<span class="code-keyword">return</span> e}(n),_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"ENVMAP_BLENDING_NONE"</span>;<span class="code-keyword">if</span>(t.envMap)<span class="code-keyword">switch</span>(t.combine){<span class="code-keyword">case</span> <span class="code-number">0</span>:e=<span class="code-string">"ENVMAP_BLENDING_MULTIPLY"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:e=<span class="code-string">"ENVMAP_BLENDING_MIX"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:e=<span class="code-string">"ENVMAP_BLENDING_ADD"</span>}<span class="code-keyword">return</span> e}(n),b=t.gammaFactor&gt;<span class="code-number">0</span>?t.gammaFactor:<span class="code-number">1</span>,w=n.isWebGL2?<span class="code-string">""</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||<span class="code-string">"physical"</span>===t.shaderID?<span class="code-string">"#extension GL_OES_standard_derivatives : enable"</span>:<span class="code-string">""</span>,(t.extensionFragDepth||t.logarithmicDepthBuffer)&amp;&amp;t.rendererExtensionFragDepth?<span class="code-string">"#extension GL_EXT_frag_depth : enable"</span>:<span class="code-string">""</span>,t.extensionDrawBuffers&amp;&amp;t.rendererExtensionDrawBuffers?<span class="code-string">"#extension GL_EXT_draw_buffers : require"</span>:<span class="code-string">""</span>,(t.extensionShaderTextureLOD||t.envMap)&amp;&amp;t.rendererExtensionShaderTextureLod?<span class="code-string">"#extension GL_EXT_shader_texture_lod : enable"</span>:<span class="code-string">""</span>].filter(Ti).join(<span class="code-string">"\n"</span>)}(n),M=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t){<span class="code-keyword">var</span> r=t[n];!<span class="code-number">1</span>!==r&amp;&amp;e.push(<span class="code-string">"#define "</span>+n+<span class="code-string">" "</span>+r)}<span class="code-keyword">return</span> e.join(<span class="code-string">"\n"</span>)}(f),S=p.createProgram(),T=n.glslVersion?<span class="code-string">"#version "</span>+n.glslVersion+<span class="code-string">"\n"</span>:<span class="code-string">""</span>;n.isRawShaderMaterial?((o=[M].filter(Ti).join(<span class="code-string">"\n"</span>)).length&gt;<span class="code-number">0</span>&amp;&amp;(o+=<span class="code-string">"\n"</span>),(l=[w,M].filter(Ti).join(<span class="code-string">"\n"</span>)).length&gt;<span class="code-number">0</span>&amp;&amp;(l+=<span class="code-string">"\n"</span>)):(o=[Bi(n),<span class="code-string">"#define SHADER_NAME "</span>+n.shaderName,M,n.instancing?<span class="code-string">"#define USE_INSTANCING"</span>:<span class="code-string">""</span>,n.instancingColor?<span class="code-string">"#define USE_INSTANCING_COLOR"</span>:<span class="code-string">""</span>,n.supportsVertexTextures?<span class="code-string">"#define VERTEX_TEXTURES"</span>:<span class="code-string">""</span>,<span class="code-string">"#define GAMMA_FACTOR "</span>+b,<span class="code-string">"#define MAX_BONES "</span>+n.maxBones,n.useFog&amp;&amp;n.fog?<span class="code-string">"#define USE_FOG"</span>:<span class="code-string">""</span>,n.useFog&amp;&amp;n.fogExp2?<span class="code-string">"#define FOG_EXP2"</span>:<span class="code-string">""</span>,n.map?<span class="code-string">"#define USE_MAP"</span>:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define USE_ENVMAP"</span>:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define "</span>+x:<span class="code-string">""</span>,n.lightMap?<span class="code-string">"#define USE_LIGHTMAP"</span>:<span class="code-string">""</span>,n.aoMap?<span class="code-string">"#define USE_AOMAP"</span>:<span class="code-string">""</span>,n.emissiveMap?<span class="code-string">"#define USE_EMISSIVEMAP"</span>:<span class="code-string">""</span>,n.bumpMap?<span class="code-string">"#define USE_BUMPMAP"</span>:<span class="code-string">""</span>,n.normalMap?<span class="code-string">"#define USE_NORMALMAP"</span>:<span class="code-string">""</span>,n.normalMap&amp;&amp;n.objectSpaceNormalMap?<span class="code-string">"#define OBJECTSPACE_NORMALMAP"</span>:<span class="code-string">""</span>,n.normalMap&amp;&amp;n.tangentSpaceNormalMap?<span class="code-string">"#define TANGENTSPACE_NORMALMAP"</span>:<span class="code-string">""</span>,n.clearcoatMap?<span class="code-string">"#define USE_CLEARCOATMAP"</span>:<span class="code-string">""</span>,n.clearcoatRoughnessMap?<span class="code-string">"#define USE_CLEARCOAT_ROUGHNESSMAP"</span>:<span class="code-string">""</span>,n.clearcoatNormalMap?<span class="code-string">"#define USE_CLEARCOAT_NORMALMAP"</span>:<span class="code-string">""</span>,n.displacementMap&amp;&amp;n.supportsVertexTextures?<span class="code-string">"#define USE_DISPLACEMENTMAP"</span>:<span class="code-string">""</span>,n.specularMap?<span class="code-string">"#define USE_SPECULARMAP"</span>:<span class="code-string">""</span>,n.roughnessMap?<span class="code-string">"#define USE_ROUGHNESSMAP"</span>:<span class="code-string">""</span>,n.metalnessMap?<span class="code-string">"#define USE_METALNESSMAP"</span>:<span class="code-string">""</span>,n.alphaMap?<span class="code-string">"#define USE_ALPHAMAP"</span>:<span class="code-string">""</span>,n.transmissionMap?<span class="code-string">"#define USE_TRANSMISSIONMAP"</span>:<span class="code-string">""</span>,n.vertexTangents?<span class="code-string">"#define USE_TANGENT"</span>:<span class="code-string">""</span>,n.vertexColors?<span class="code-string">"#define USE_COLOR"</span>:<span class="code-string">""</span>,n.vertexUvs?<span class="code-string">"#define USE_UV"</span>:<span class="code-string">""</span>,n.uvsVertexOnly?<span class="code-string">"#define UVS_VERTEX_ONLY"</span>:<span class="code-string">""</span>,n.flatShading?<span class="code-string">"#define FLAT_SHADED"</span>:<span class="code-string">""</span>,n.skinning?<span class="code-string">"#define USE_SKINNING"</span>:<span class="code-string">""</span>,n.useVertexTexture?<span class="code-string">"#define BONE_TEXTURE"</span>:<span class="code-string">""</span>,n.morphTargets?<span class="code-string">"#define USE_MORPHTARGETS"</span>:<span class="code-string">""</span>,n.morphNormals&amp;&amp;!<span class="code-number">1</span>===n.flatShading?<span class="code-string">"#define USE_MORPHNORMALS"</span>:<span class="code-string">""</span>,n.doubleSided?<span class="code-string">"#define DOUBLE_SIDED"</span>:<span class="code-string">""</span>,n.flipSided?<span class="code-string">"#define FLIP_SIDED"</span>:<span class="code-string">""</span>,n.shadowMapEnabled?<span class="code-string">"#define USE_SHADOWMAP"</span>:<span class="code-string">""</span>,n.shadowMapEnabled?<span class="code-string">"#define "</span>+g:<span class="code-string">""</span>,n.sizeAttenuation?<span class="code-string">"#define USE_SIZEATTENUATION"</span>:<span class="code-string">""</span>,n.logarithmicDepthBuffer?<span class="code-string">"#define USE_LOGDEPTHBUF"</span>:<span class="code-string">""</span>,n.logarithmicDepthBuffer&amp;&amp;n.rendererExtensionFragDepth?<span class="code-string">"#define USE_LOGDEPTHBUF_EXT"</span>:<span class="code-string">""</span>,<span class="code-string">"uniform mat4 modelMatrix;"</span>,<span class="code-string">"uniform mat4 modelViewMatrix;"</span>,<span class="code-string">"uniform mat4 projectionMatrix;"</span>,<span class="code-string">"uniform mat4 viewMatrix;"</span>,<span class="code-string">"uniform mat3 normalMatrix;"</span>,<span class="code-string">"uniform vec3 cameraPosition;"</span>,<span class="code-string">"uniform bool isOrthographic;"</span>,<span class="code-string">"#ifdef USE_INSTANCING"</span>,<span class="code-string">"\tattribute mat4 instanceMatrix;"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"#ifdef USE_INSTANCING_COLOR"</span>,<span class="code-string">"\tattribute vec3 instanceColor;"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"attribute vec3 position;"</span>,<span class="code-string">"attribute vec3 normal;"</span>,<span class="code-string">"attribute vec2 uv;"</span>,<span class="code-string">"#ifdef USE_TANGENT"</span>,<span class="code-string">"\tattribute vec4 tangent;"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"#ifdef USE_COLOR"</span>,<span class="code-string">"\tattribute vec3 color;"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"#ifdef USE_MORPHTARGETS"</span>,<span class="code-string">"\tattribute vec3 morphTarget0;"</span>,<span class="code-string">"\tattribute vec3 morphTarget1;"</span>,<span class="code-string">"\tattribute vec3 morphTarget2;"</span>,<span class="code-string">"\tattribute vec3 morphTarget3;"</span>,<span class="code-string">"\t#ifdef USE_MORPHNORMALS"</span>,<span class="code-string">"\t\tattribute vec3 morphNormal0;"</span>,<span class="code-string">"\t\tattribute vec3 morphNormal1;"</span>,<span class="code-string">"\t\tattribute vec3 morphNormal2;"</span>,<span class="code-string">"\t\tattribute vec3 morphNormal3;"</span>,<span class="code-string">"\t#else"</span>,<span class="code-string">"\t\tattribute vec3 morphTarget4;"</span>,<span class="code-string">"\t\tattribute vec3 morphTarget5;"</span>,<span class="code-string">"\t\tattribute vec3 morphTarget6;"</span>,<span class="code-string">"\t\tattribute vec3 morphTarget7;"</span>,<span class="code-string">"\t#endif"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"#ifdef USE_SKINNING"</span>,<span class="code-string">"\tattribute vec4 skinIndex;"</span>,<span class="code-string">"\tattribute vec4 skinWeight;"</span>,<span class="code-string">"#endif"</span>,<span class="code-string">"\n"</span>].filter(Ti).join(<span class="code-string">"\n"</span>),l=[w,Bi(n),<span class="code-string">"#define SHADER_NAME "</span>+n.shaderName,M,n.alphaTest?<span class="code-string">"#define ALPHATEST "</span>+n.alphaTest+(n.alphaTest%<span class="code-number">1</span>?<span class="code-string">""</span>:<span class="code-string">".0"</span>):<span class="code-string">""</span>,<span class="code-string">"#define GAMMA_FACTOR "</span>+b,n.useFog&amp;&amp;n.fog?<span class="code-string">"#define USE_FOG"</span>:<span class="code-string">""</span>,n.useFog&amp;&amp;n.fogExp2?<span class="code-string">"#define FOG_EXP2"</span>:<span class="code-string">""</span>,n.map?<span class="code-string">"#define USE_MAP"</span>:<span class="code-string">""</span>,n.matcap?<span class="code-string">"#define USE_MATCAP"</span>:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define USE_ENVMAP"</span>:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define "</span>+y:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define "</span>+x:<span class="code-string">""</span>,n.envMap?<span class="code-string">"#define "</span>+_:<span class="code-string">""</span>,n.lightMap?<span class="code-string">"#define USE_LIGHTMAP"</span>:<span class="code-string">""</span>,n.aoMap?<span class="code-string">"#define USE_AOMAP"</span>:<span class="code-string">""</span>,n.emissiveMap?<span class="code-string">"#define USE_EMISSIVEMAP"</span>:<span class="code-string">""</span>,n.bumpMap?<span class="code-string">"#define USE_BUMPMAP"</span>:<span class="code-string">""</span>,n.normalMap?<span class="code-string">"#define USE_NORMALMAP"</span>:<span class="code-string">""</span>,n.normalMap&amp;&amp;n.objectSpaceNormalMap?<span class="code-string">"#define OBJECTSPACE_NORMALMAP"</span>:<span class="code-string">""</span>,n.normalMap&amp;&amp;n.tangentSpaceNormalMap?<span class="code-string">"#define TANGENTSPACE_NORMALMAP"</span>:<span class="code-string">""</span>,n.clearcoatMap?<span class="code-string">"#define USE_CLEARCOATMAP"</span>:<span class="code-string">""</span>,n.clearcoatRoughnessMap?<span class="code-string">"#define USE_CLEARCOAT_ROUGHNESSMAP"</span>:<span class="code-string">""</span>,n.clearcoatNormalMap?<span class="code-string">"#define USE_CLEARCOAT_NORMALMAP"</span>:<span class="code-string">""</span>,n.specularMap?<span class="code-string">"#define USE_SPECULARMAP"</span>:<span class="code-string">""</span>,n.roughnessMap?<span class="code-string">"#define USE_ROUGHNESSMAP"</span>:<span class="code-string">""</span>,n.metalnessMap?<span class="code-string">"#define USE_METALNESSMAP"</span>:<span class="code-string">""</span>,n.alphaMap?<span class="code-string">"#define USE_ALPHAMAP"</span>:<span class="code-string">""</span>,n.sheen?<span class="code-string">"#define USE_SHEEN"</span>:<span class="code-string">""</span>,n.transmissionMap?<span class="code-string">"#define USE_TRANSMISSIONMAP"</span>:<span class="code-string">""</span>,n.vertexTangents?<span class="code-string">"#define USE_TANGENT"</span>:<span class="code-string">""</span>,n.vertexColors||n.instancingColor?<span class="code-string">"#define USE_COLOR"</span>:<span class="code-string">""</span>,n.vertexUvs?<span class="code-string">"#define USE_UV"</span>:<span class="code-string">""</span>,n.uvsVertexOnly?<span class="code-string">"#define UVS_VERTEX_ONLY"</span>:<span class="code-string">""</span>,n.gradientMap?<span class="code-string">"#define USE_GRADIENTMAP"</span>:<span class="code-string">""</span>,n.flatShading?<span class="code-string">"#define FLAT_SHADED"</span>:<span class="code-string">""</span>,n.doubleSided?<span class="code-string">"#define DOUBLE_SIDED"</span>:<span class="code-string">""</span>,n.flipSided?<span class="code-string">"#define FLIP_SIDED"</span>:<span class="code-string">""</span>,n.shadowMapEnabled?<span class="code-string">"#define USE_SHADOWMAP"</span>:<span class="code-string">""</span>,n.shadowMapEnabled?<span class="code-string">"#define "</span>+g:<span class="code-string">""</span>,n.premultipliedAlpha?<span class="code-string">"#define PREMULTIPLIED_ALPHA"</span>:<span class="code-string">""</span>,n.physicallyCorrectLights?<span class="code-string">"#define PHYSICALLY_CORRECT_LIGHTS"</span>:<span class="code-string">""</span>,n.logarithmicDepthBuffer?<span class="code-string">"#define USE_LOGDEPTHBUF"</span>:<span class="code-string">""</span>,n.logarithmicDepthBuffer&amp;&amp;n.rendererExtensionFragDepth?<span class="code-string">"#define USE_LOGDEPTHBUF_EXT"</span>:<span class="code-string">""</span>,(n.extensionShaderTextureLOD||n.envMap)&amp;&amp;n.rendererExtensionShaderTextureLod?<span class="code-string">"#define TEXTURE_LOD_EXT"</span>:<span class="code-string">""</span>,<span class="code-string">"uniform mat4 viewMatrix;"</span>,<span class="code-string">"uniform vec3 cameraPosition;"</span>,<span class="code-string">"uniform bool isOrthographic;"</span>,<span class="code-number">0</span>!==n.toneMapping?<span class="code-string">"#define TONE_MAPPING"</span>:<span class="code-string">""</span>,<span class="code-number">0</span>!==n.toneMapping?ar.tonemapping_pars_fragment:<span class="code-string">""</span>,<span class="code-number">0</span>!==n.toneMapping?Si(<span class="code-string">"toneMapping"</span>,n.toneMapping):<span class="code-string">""</span>,n.dithering?<span class="code-string">"#define DITHERING"</span>:<span class="code-string">""</span>,ar.encodings_pars_fragment,n.map?Mi(<span class="code-string">"mapTexelToLinear"</span>,n.mapEncoding):<span class="code-string">""</span>,n.matcap?Mi(<span class="code-string">"matcapTexelToLinear"</span>,n.matcapEncoding):<span class="code-string">""</span>,n.envMap?Mi(<span class="code-string">"envMapTexelToLinear"</span>,n.envMapEncoding):<span class="code-string">""</span>,n.emissiveMap?Mi(<span class="code-string">"emissiveMapTexelToLinear"</span>,n.emissiveMapEncoding):<span class="code-string">""</span>,n.lightMap?Mi(<span class="code-string">"lightMapTexelToLinear"</span>,n.lightMapEncoding):<span class="code-string">""</span>,(u=<span class="code-string">"linearToOutputTexel"</span>,h=n.outputEncoding,d=bi(h),<span class="code-string">"vec4 "</span>+u+<span class="code-string">"( vec4 value ) { return LinearTo"</span>+d[<span class="code-number">0</span>]+d[<span class="code-number">1</span>]+<span class="code-string">"; }"</span>),n.depthPacking?<span class="code-string">"#define DEPTH_PACKING "</span>+n.depthPacking:<span class="code-string">""</span>,<span class="code-string">"\n"</span>].filter(Ti).join(<span class="code-string">"\n"</span>)),m=Ai(m=Ei(m=Ri(m),n),n),v=Ai(v=Ei(v=Ri(v),n),n),m=Ni(m),v=Ni(v),n.isWebGL2&amp;&amp;!<span class="code-number">0</span>!==n.isRawShaderMaterial&amp;&amp;(T=<span class="code-string">"#version 300 es\n"</span>,o=[<span class="code-string">"#define attribute in"</span>,<span class="code-string">"#define varying out"</span>,<span class="code-string">"#define texture2D texture"</span>].join(<span class="code-string">"\n"</span>)+<span class="code-string">"\n"</span>+o,l=[<span class="code-string">"#define varying in"</span>,n.glslVersion===nt?<span class="code-string">""</span>:<span class="code-string">"out highp vec4 pc_fragColor;"</span>,n.glslVersion===nt?<span class="code-string">""</span>:<span class="code-string">"#define gl_FragColor pc_fragColor"</span>,<span class="code-string">"#define gl_FragDepthEXT gl_FragDepth"</span>,<span class="code-string">"#define texture2D texture"</span>,<span class="code-string">"#define textureCube texture"</span>,<span class="code-string">"#define texture2DProj textureProj"</span>,<span class="code-string">"#define texture2DLodEXT textureLod"</span>,<span class="code-string">"#define texture2DProjLodEXT textureProjLod"</span>,<span class="code-string">"#define textureCubeLodEXT textureLod"</span>,<span class="code-string">"#define texture2DGradEXT textureGrad"</span>,<span class="code-string">"#define texture2DProjGradEXT textureProjGrad"</span>,<span class="code-string">"#define textureCubeGradEXT textureGrad"</span>].join(<span class="code-string">"\n"</span>)+<span class="code-string">"\n"</span>+l);<span class="code-keyword">var</span> E,A,L=T+l+v,R=xi(p,<span class="code-number">35633</span>,T+o+m),C=xi(p,<span class="code-number">35632</span>,L);<span class="code-keyword">if</span>(p.attachShader(S,R),p.attachShader(S,C),<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.index0AttributeName?p.bindAttribLocation(S,<span class="code-number">0</span>,n.index0AttributeName):!<span class="code-number">0</span>===n.morphTargets&amp;&amp;p.bindAttribLocation(S,<span class="code-number">0</span>,<span class="code-string">"position"</span>),p.linkProgram(S),t.debug.checkShaderErrors){<span class="code-keyword">var</span> P=p.getProgramInfoLog(S).trim(),I=p.getShaderInfoLog(R).trim(),N=p.getShaderInfoLog(C).trim(),D=!<span class="code-number">0</span>,O=!<span class="code-number">0</span>;<span class="code-keyword">if</span>(!<span class="code-number">1</span>===p.getProgramParameter(S,<span class="code-number">35714</span>)){D=!<span class="code-number">1</span>;<span class="code-keyword">var</span> B=wi(p,R,<span class="code-string">"vertex"</span>),z=wi(p,C,<span class="code-string">"fragment"</span>);<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLProgram: shader error: "</span>,p.getError(),<span class="code-string">"35715"</span>,p.getProgramParameter(S,<span class="code-number">35715</span>),<span class="code-string">"gl.getProgramInfoLog"</span>,P,B,z)}<span class="code-keyword">else</span><span class="code-string">""</span>!==P?<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLProgram: gl.getProgramInfoLog()"</span>,P):<span class="code-string">""</span>!==I&amp;&amp;<span class="code-string">""</span>!==N||(O=!<span class="code-number">1</span>);O&amp;&amp;(<span class="code-keyword">this</span>.diagnostics={<span class="code-attr">runnable</span>:D,<span class="code-attr">programLog</span>:P,<span class="code-attr">vertexShader</span>:{<span class="code-attr">log</span>:I,<span class="code-attr">prefix</span>:o},<span class="code-attr">fragmentShader</span>:{<span class="code-attr">log</span>:N,<span class="code-attr">prefix</span>:l}})}<span class="code-keyword">return</span> p.deleteShader(R),p.deleteShader(C),<span class="code-keyword">this</span>.getUniforms=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===E&amp;&amp;(E=<span class="code-keyword">new</span> yi(p,S)),E},<span class="code-keyword">this</span>.getAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===A&amp;&amp;(A=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n={},r=t.getProgramParameter(e,<span class="code-number">35721</span>),i=<span class="code-number">0</span>;i&lt;r;i++){<span class="code-keyword">var</span> a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}<span class="code-keyword">return</span> n}(p,S)),A},<span class="code-keyword">this</span>.destroy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.releaseStatesOfProgram(<span class="code-keyword">this</span>),p.deleteProgram(S),<span class="code-keyword">this</span>.program=<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-keyword">this</span>.name=n.shaderName,<span class="code-keyword">this</span>.id=_i++,<span class="code-keyword">this</span>.cacheKey=e,<span class="code-keyword">this</span>.usedTimes=<span class="code-number">1</span>,<span class="code-keyword">this</span>.program=S,<span class="code-keyword">this</span>.vertexShader=R,<span class="code-keyword">this</span>.fragmentShader=C,<span class="code-keyword">this</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ui</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=[],l=r.isWebGL2,u=r.logarithmicDepthBuffer,h=r.floatVertexTextures,d=r.maxVertexUniforms,p=r.vertexTextures,f=r.precision,m={<span class="code-attr">MeshDepthMaterial</span>:<span class="code-string">"depth"</span>,<span class="code-attr">MeshDistanceMaterial</span>:<span class="code-string">"distanceRGBA"</span>,<span class="code-attr">MeshNormalMaterial</span>:<span class="code-string">"normal"</span>,<span class="code-attr">MeshBasicMaterial</span>:<span class="code-string">"basic"</span>,<span class="code-attr">MeshLambertMaterial</span>:<span class="code-string">"lambert"</span>,<span class="code-attr">MeshPhongMaterial</span>:<span class="code-string">"phong"</span>,<span class="code-attr">MeshToonMaterial</span>:<span class="code-string">"toon"</span>,<span class="code-attr">MeshStandardMaterial</span>:<span class="code-string">"physical"</span>,<span class="code-attr">MeshPhysicalMaterial</span>:<span class="code-string">"physical"</span>,<span class="code-attr">MeshMatcapMaterial</span>:<span class="code-string">"matcap"</span>,<span class="code-attr">LineBasicMaterial</span>:<span class="code-string">"basic"</span>,<span class="code-attr">LineDashedMaterial</span>:<span class="code-string">"dashed"</span>,<span class="code-attr">PointsMaterial</span>:<span class="code-string">"points"</span>,<span class="code-attr">ShadowMaterial</span>:<span class="code-string">"shadow"</span>,<span class="code-attr">SpriteMaterial</span>:<span class="code-string">"sprite"</span>},v=[<span class="code-string">"precision"</span>,<span class="code-string">"isWebGL2"</span>,<span class="code-string">"supportsVertexTextures"</span>,<span class="code-string">"outputEncoding"</span>,<span class="code-string">"instancing"</span>,<span class="code-string">"instancingColor"</span>,<span class="code-string">"map"</span>,<span class="code-string">"mapEncoding"</span>,<span class="code-string">"matcap"</span>,<span class="code-string">"matcapEncoding"</span>,<span class="code-string">"envMap"</span>,<span class="code-string">"envMapMode"</span>,<span class="code-string">"envMapEncoding"</span>,<span class="code-string">"envMapCubeUV"</span>,<span class="code-string">"lightMap"</span>,<span class="code-string">"lightMapEncoding"</span>,<span class="code-string">"aoMap"</span>,<span class="code-string">"emissiveMap"</span>,<span class="code-string">"emissiveMapEncoding"</span>,<span class="code-string">"bumpMap"</span>,<span class="code-string">"normalMap"</span>,<span class="code-string">"objectSpaceNormalMap"</span>,<span class="code-string">"tangentSpaceNormalMap"</span>,<span class="code-string">"clearcoatMap"</span>,<span class="code-string">"clearcoatRoughnessMap"</span>,<span class="code-string">"clearcoatNormalMap"</span>,<span class="code-string">"displacementMap"</span>,<span class="code-string">"specularMap"</span>,<span class="code-string">"roughnessMap"</span>,<span class="code-string">"metalnessMap"</span>,<span class="code-string">"gradientMap"</span>,<span class="code-string">"alphaMap"</span>,<span class="code-string">"combine"</span>,<span class="code-string">"vertexColors"</span>,<span class="code-string">"vertexTangents"</span>,<span class="code-string">"vertexUvs"</span>,<span class="code-string">"uvsVertexOnly"</span>,<span class="code-string">"fog"</span>,<span class="code-string">"useFog"</span>,<span class="code-string">"fogExp2"</span>,<span class="code-string">"flatShading"</span>,<span class="code-string">"sizeAttenuation"</span>,<span class="code-string">"logarithmicDepthBuffer"</span>,<span class="code-string">"skinning"</span>,<span class="code-string">"maxBones"</span>,<span class="code-string">"useVertexTexture"</span>,<span class="code-string">"morphTargets"</span>,<span class="code-string">"morphNormals"</span>,<span class="code-string">"maxMorphTargets"</span>,<span class="code-string">"maxMorphNormals"</span>,<span class="code-string">"premultipliedAlpha"</span>,<span class="code-string">"numDirLights"</span>,<span class="code-string">"numPointLights"</span>,<span class="code-string">"numSpotLights"</span>,<span class="code-string">"numHemiLights"</span>,<span class="code-string">"numRectAreaLights"</span>,<span class="code-string">"numDirLightShadows"</span>,<span class="code-string">"numPointLightShadows"</span>,<span class="code-string">"numSpotLightShadows"</span>,<span class="code-string">"shadowMapEnabled"</span>,<span class="code-string">"shadowMapType"</span>,<span class="code-string">"toneMapping"</span>,<span class="code-string">"physicallyCorrectLights"</span>,<span class="code-string">"alphaTest"</span>,<span class="code-string">"doubleSided"</span>,<span class="code-string">"flipSided"</span>,<span class="code-string">"numClippingPlanes"</span>,<span class="code-string">"numClipIntersection"</span>,<span class="code-string">"depthPacking"</span>,<span class="code-string">"dithering"</span>,<span class="code-string">"sheen"</span>,<span class="code-string">"transmissionMap"</span>];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">g</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">return</span> t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."</span>),e=t.texture.encoding):e=q,e}<span class="code-keyword">return</span>{<span class="code-attr">getParameters</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,o,v,y,x</span>)</span>{<span class="code-keyword">var</span> _,b,w=y.fog,M=i.isMeshStandardMaterial?y.environment:<span class="code-literal">null</span>,S=e.get(i.envMap||M),T=m[i.type],E=x.isSkinnedMesh?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.skeleton.bones;<span class="code-keyword">if</span>(h)<span class="code-keyword">return</span> <span class="code-number">1024</span>;<span class="code-keyword">var</span> n=d,r=<span class="code-built_in">Math</span>.floor((n<span class="code-number">-20</span>)/<span class="code-number">4</span>),i=<span class="code-built_in">Math</span>.min(r,e.length);<span class="code-keyword">return</span> i&lt;e.length?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Skeleton has "</span>+e.length+<span class="code-string">" bones. This GPU supports "</span>+i+<span class="code-string">"."</span>),<span class="code-number">0</span>):i}(x):<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==i.precision&amp;&amp;(f=r.getMaxPrecision(i.precision))!==i.precision&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLProgram.getParameters:"</span>,i.precision,<span class="code-string">"not supported, using"</span>,f,<span class="code-string">"instead."</span>),T){<span class="code-keyword">var</span> A=sr[T];_=A.vertexShader,b=A.fragmentShader}<span class="code-keyword">else</span> _=i.vertexShader,b=i.fragmentShader;<span class="code-keyword">var</span> L=t.getRenderTarget();<span class="code-keyword">return</span>{<span class="code-attr">isWebGL2</span>:l,<span class="code-attr">shaderID</span>:T,<span class="code-attr">shaderName</span>:i.type,<span class="code-attr">vertexShader</span>:_,<span class="code-attr">fragmentShader</span>:b,<span class="code-attr">defines</span>:i.defines,<span class="code-attr">isRawShaderMaterial</span>:!<span class="code-number">0</span>===i.isRawShaderMaterial,<span class="code-attr">glslVersion</span>:i.glslVersion,<span class="code-attr">precision</span>:f,<span class="code-attr">instancing</span>:!<span class="code-number">0</span>===x.isInstancedMesh,<span class="code-attr">instancingColor</span>:!<span class="code-number">0</span>===x.isInstancedMesh&amp;&amp;<span class="code-literal">null</span>!==x.instanceColor,<span class="code-attr">supportsVertexTextures</span>:p,<span class="code-attr">outputEncoding</span>:<span class="code-literal">null</span>!==L?g(L.texture):t.outputEncoding,<span class="code-attr">map</span>:!!i.map,<span class="code-attr">mapEncoding</span>:g(i.map),<span class="code-attr">matcap</span>:!!i.matcap,<span class="code-attr">matcapEncoding</span>:g(i.matcap),<span class="code-attr">envMap</span>:!!S,<span class="code-attr">envMapMode</span>:S&amp;&amp;S.mapping,<span class="code-attr">envMapEncoding</span>:g(S),<span class="code-attr">envMapCubeUV</span>:!!S&amp;&amp;(S.mapping===s||S.mapping===c),<span class="code-attr">lightMap</span>:!!i.lightMap,<span class="code-attr">lightMapEncoding</span>:g(i.lightMap),<span class="code-attr">aoMap</span>:!!i.aoMap,<span class="code-attr">emissiveMap</span>:!!i.emissiveMap,<span class="code-attr">emissiveMapEncoding</span>:g(i.emissiveMap),<span class="code-attr">bumpMap</span>:!!i.bumpMap,<span class="code-attr">normalMap</span>:!!i.normalMap,<span class="code-attr">objectSpaceNormalMap</span>:<span class="code-number">1</span>===i.normalMapType,<span class="code-attr">tangentSpaceNormalMap</span>:<span class="code-number">0</span>===i.normalMapType,<span class="code-attr">clearcoatMap</span>:!!i.clearcoatMap,<span class="code-attr">clearcoatRoughnessMap</span>:!!i.clearcoatRoughnessMap,<span class="code-attr">clearcoatNormalMap</span>:!!i.clearcoatNormalMap,<span class="code-attr">displacementMap</span>:!!i.displacementMap,<span class="code-attr">roughnessMap</span>:!!i.roughnessMap,<span class="code-attr">metalnessMap</span>:!!i.metalnessMap,<span class="code-attr">specularMap</span>:!!i.specularMap,<span class="code-attr">alphaMap</span>:!!i.alphaMap,<span class="code-attr">gradientMap</span>:!!i.gradientMap,<span class="code-attr">sheen</span>:!!i.sheen,<span class="code-attr">transmissionMap</span>:!!i.transmissionMap,<span class="code-attr">combine</span>:i.combine,<span class="code-attr">vertexTangents</span>:i.normalMap&amp;&amp;i.vertexTangents,<span class="code-attr">vertexColors</span>:i.vertexColors,<span class="code-attr">vertexUvs</span>:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),<span class="code-attr">uvsVertexOnly</span>:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),<span class="code-attr">fog</span>:!!w,<span class="code-attr">useFog</span>:i.fog,<span class="code-attr">fogExp2</span>:w&amp;&amp;w.isFogExp2,<span class="code-attr">flatShading</span>:i.flatShading,<span class="code-attr">sizeAttenuation</span>:i.sizeAttenuation,<span class="code-attr">logarithmicDepthBuffer</span>:u,<span class="code-attr">skinning</span>:i.skinning&amp;&amp;E&gt;<span class="code-number">0</span>,<span class="code-attr">maxBones</span>:E,<span class="code-attr">useVertexTexture</span>:h,<span class="code-attr">morphTargets</span>:i.morphTargets,<span class="code-attr">morphNormals</span>:i.morphNormals,<span class="code-attr">maxMorphTargets</span>:t.maxMorphTargets,<span class="code-attr">maxMorphNormals</span>:t.maxMorphNormals,<span class="code-attr">numDirLights</span>:o.directional.length,<span class="code-attr">numPointLights</span>:o.point.length,<span class="code-attr">numSpotLights</span>:o.spot.length,<span class="code-attr">numRectAreaLights</span>:o.rectArea.length,<span class="code-attr">numHemiLights</span>:o.hemi.length,<span class="code-attr">numDirLightShadows</span>:o.directionalShadowMap.length,<span class="code-attr">numPointLightShadows</span>:o.pointShadowMap.length,<span class="code-attr">numSpotLightShadows</span>:o.spotShadowMap.length,<span class="code-attr">numClippingPlanes</span>:a.numPlanes,<span class="code-attr">numClipIntersection</span>:a.numIntersection,<span class="code-attr">dithering</span>:i.dithering,<span class="code-attr">shadowMapEnabled</span>:t.shadowMap.enabled&amp;&amp;v.length&gt;<span class="code-number">0</span>,<span class="code-attr">shadowMapType</span>:t.shadowMap.type,<span class="code-attr">toneMapping</span>:i.toneMapped?t.toneMapping:<span class="code-number">0</span>,<span class="code-attr">physicallyCorrectLights</span>:t.physicallyCorrectLights,<span class="code-attr">premultipliedAlpha</span>:i.premultipliedAlpha,<span class="code-attr">alphaTest</span>:i.alphaTest,<span class="code-attr">doubleSided</span>:<span class="code-number">2</span>===i.side,<span class="code-attr">flipSided</span>:<span class="code-number">1</span>===i.side,<span class="code-attr">depthPacking</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>!==i.depthPacking&amp;&amp;i.depthPacking,<span class="code-attr">index0AttributeName</span>:i.index0AttributeName,<span class="code-attr">extensionDerivatives</span>:i.extensions&amp;&amp;i.extensions.derivatives,<span class="code-attr">extensionFragDepth</span>:i.extensions&amp;&amp;i.extensions.fragDepth,<span class="code-attr">extensionDrawBuffers</span>:i.extensions&amp;&amp;i.extensions.drawBuffers,<span class="code-attr">extensionShaderTextureLOD</span>:i.extensions&amp;&amp;i.extensions.shaderTextureLOD,<span class="code-attr">rendererExtensionFragDepth</span>:l||n.has(<span class="code-string">"EXT_frag_depth"</span>),<span class="code-attr">rendererExtensionDrawBuffers</span>:l||n.has(<span class="code-string">"WEBGL_draw_buffers"</span>),<span class="code-attr">rendererExtensionShaderTextureLod</span>:l||n.has(<span class="code-string">"EXT_shader_texture_lod"</span>),<span class="code-attr">customProgramCacheKey</span>:i.customProgramCacheKey()}},<span class="code-attr">getProgramCacheKey</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=[];<span class="code-keyword">if</span>(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.defines)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e.defines)n.push(r),n.push(e.defines[r]);<span class="code-keyword">if</span>(!<span class="code-number">1</span>===e.isRawShaderMaterial){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;v.length;i++)n.push(e[v[i]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}<span class="code-keyword">return</span> n.push(e.customProgramCacheKey),n.join()},<span class="code-attr">getUniforms</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n=m[t.type];<span class="code-keyword">if</span>(n){<span class="code-keyword">var</span> r=sr[n];e=Wn.clone(r.uniforms)}<span class="code-keyword">else</span> e=t.uniforms;<span class="code-keyword">return</span> e},<span class="code-attr">acquireProgram</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,a=<span class="code-number">0</span>,s=o.length;a&lt;s;a++){<span class="code-keyword">var</span> c=o[a];<span class="code-keyword">if</span>(c.cacheKey===n){++(r=c).usedTimes;<span class="code-keyword">break</span>}}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-keyword">new</span> zi(t,n,e,i),o.push(r)),r},<span class="code-attr">releaseProgram</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>==--t.usedTimes){<span class="code-keyword">var</span> e=o.indexOf(t);o[e]=o[o.length<span class="code-number">-1</span>],o.pop(),t.destroy()}},<span class="code-attr">programs</span>:o}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fi</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=t.get(e);<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n={},t.set(e,n)),n},<span class="code-attr">remove</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.delete(e)},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,r</span>)</span>{t.get(e)[n]=r},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ki</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>,r=[],i=[],a={<span class="code-attr">id</span>:<span class="code-number">-1</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">r,i,o,s,c,l</span>)</span>{<span class="code-keyword">var</span> u=e[n],h=t.get(o);<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===u?(u={<span class="code-attr">id</span>:r.id,<span class="code-attr">object</span>:r,<span class="code-attr">geometry</span>:i,<span class="code-attr">material</span>:o,<span class="code-attr">program</span>:h.program||a,<span class="code-attr">groupOrder</span>:s,<span class="code-attr">renderOrder</span>:r.renderOrder,<span class="code-attr">z</span>:c,<span class="code-attr">group</span>:l},e[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=h.program||a,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=c,u.group=l),n++,u}<span class="code-keyword">return</span>{<span class="code-attr">opaque</span>:r,<span class="code-attr">transparent</span>:i,<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n=<span class="code-number">0</span>,r.length=<span class="code-number">0</span>,i.length=<span class="code-number">0</span>},<span class="code-attr">push</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,a,s,c</span>)</span>{<span class="code-keyword">var</span> l=o(t,e,n,a,s,c);(!<span class="code-number">0</span>===n.transparent?i:r).push(l)},<span class="code-attr">unshift</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,a,s,c</span>)</span>{<span class="code-keyword">var</span> l=o(t,e,n,a,s,c);(!<span class="code-number">0</span>===n.transparent?i:r).unshift(l)},<span class="code-attr">finish</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=n,r=e.length;t&lt;r;t++){<span class="code-keyword">var</span> i=e[t];<span class="code-keyword">if</span>(<span class="code-literal">null</span>===i.id)<span class="code-keyword">break</span>;i.id=<span class="code-literal">null</span>,i.object=<span class="code-literal">null</span>,i.geometry=<span class="code-literal">null</span>,i.material=<span class="code-literal">null</span>,i.program=<span class="code-literal">null</span>,i.group=<span class="code-literal">null</span>}},<span class="code-attr">sort</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{r.length&gt;<span class="code-number">1</span>&amp;&amp;r.sort(t||Gi),i.length&gt;<span class="code-number">1</span>&amp;&amp;i.sort(e||Hi)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vi</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">var</span> i,a=e.get(n);<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===a?(i=<span class="code-keyword">new</span> ki(t),e.set(n,<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>),e.get(n).set(r,i)):<span class="code-keyword">void</span> <span class="code-number">0</span>===(i=a.get(r))&amp;&amp;(i=<span class="code-keyword">new</span> ki(t),a.set(r,i)),i},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wi</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={};<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t[e.id])<span class="code-keyword">return</span> t[e.id];<span class="code-keyword">var</span> n;<span class="code-keyword">switch</span>(e.type){<span class="code-keyword">case</span><span class="code-string">"DirectionalLight"</span>:n={<span class="code-attr">direction</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">color</span>:<span class="code-keyword">new</span> We};<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"SpotLight"</span>:n={<span class="code-attr">position</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">direction</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">color</span>:<span class="code-keyword">new</span> We,<span class="code-attr">distance</span>:<span class="code-number">0</span>,<span class="code-attr">coneCos</span>:<span class="code-number">0</span>,<span class="code-attr">penumbraCos</span>:<span class="code-number">0</span>,<span class="code-attr">decay</span>:<span class="code-number">0</span>};<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PointLight"</span>:n={<span class="code-attr">position</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">color</span>:<span class="code-keyword">new</span> We,<span class="code-attr">distance</span>:<span class="code-number">0</span>,<span class="code-attr">decay</span>:<span class="code-number">0</span>};<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"HemisphereLight"</span>:n={<span class="code-attr">direction</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">skyColor</span>:<span class="code-keyword">new</span> We,<span class="code-attr">groundColor</span>:<span class="code-keyword">new</span> We};<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"RectAreaLight"</span>:n={<span class="code-attr">color</span>:<span class="code-keyword">new</span> We,<span class="code-attr">position</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">halfWidth</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">halfHeight</span>:<span class="code-keyword">new</span> Mt}}<span class="code-keyword">return</span> t[e.id]=n,n}}}<span class="code-keyword">var</span> ji=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span>(e.castShadow?<span class="code-number">1</span>:<span class="code-number">0</span>)-(t.castShadow?<span class="code-number">1</span>:<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r=<span class="code-keyword">new</span> Wi,i=(n={},{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n[t.id])<span class="code-keyword">return</span> n[t.id];<span class="code-keyword">var</span> e;<span class="code-keyword">switch</span>(t.type){<span class="code-keyword">case</span><span class="code-string">"DirectionalLight"</span>:<span class="code-keyword">case</span><span class="code-string">"SpotLight"</span>:e={<span class="code-attr">shadowBias</span>:<span class="code-number">0</span>,<span class="code-attr">shadowNormalBias</span>:<span class="code-number">0</span>,<span class="code-attr">shadowRadius</span>:<span class="code-number">1</span>,<span class="code-attr">shadowMapSize</span>:<span class="code-keyword">new</span> pt};<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PointLight"</span>:e={<span class="code-attr">shadowBias</span>:<span class="code-number">0</span>,<span class="code-attr">shadowNormalBias</span>:<span class="code-number">0</span>,<span class="code-attr">shadowRadius</span>:<span class="code-number">1</span>,<span class="code-attr">shadowMapSize</span>:<span class="code-keyword">new</span> pt,<span class="code-attr">shadowCameraNear</span>:<span class="code-number">1</span>,<span class="code-attr">shadowCameraFar</span>:<span class="code-number">1e3</span>}}<span class="code-keyword">return</span> n[t.id]=e,e}}),a={<span class="code-attr">version</span>:<span class="code-number">0</span>,<span class="code-attr">hash</span>:{<span class="code-attr">directionalLength</span>:<span class="code-number">-1</span>,<span class="code-attr">pointLength</span>:<span class="code-number">-1</span>,<span class="code-attr">spotLength</span>:<span class="code-number">-1</span>,<span class="code-attr">rectAreaLength</span>:<span class="code-number">-1</span>,<span class="code-attr">hemiLength</span>:<span class="code-number">-1</span>,<span class="code-attr">numDirectionalShadows</span>:<span class="code-number">-1</span>,<span class="code-attr">numPointShadows</span>:<span class="code-number">-1</span>,<span class="code-attr">numSpotShadows</span>:<span class="code-number">-1</span>},<span class="code-attr">ambient</span>:[<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>],<span class="code-attr">probe</span>:[],<span class="code-attr">directional</span>:[],<span class="code-attr">directionalShadow</span>:[],<span class="code-attr">directionalShadowMap</span>:[],<span class="code-attr">directionalShadowMatrix</span>:[],<span class="code-attr">spot</span>:[],<span class="code-attr">spotShadow</span>:[],<span class="code-attr">spotShadowMap</span>:[],<span class="code-attr">spotShadowMatrix</span>:[],<span class="code-attr">rectArea</span>:[],<span class="code-attr">rectAreaLTC1</span>:<span class="code-literal">null</span>,<span class="code-attr">rectAreaLTC2</span>:<span class="code-literal">null</span>,<span class="code-attr">point</span>:[],<span class="code-attr">pointShadow</span>:[],<span class="code-attr">pointShadowMap</span>:[],<span class="code-attr">pointShadowMatrix</span>:[],<span class="code-attr">hemi</span>:[]},o=<span class="code-number">0</span>;o&lt;<span class="code-number">9</span>;o++)a.probe.push(<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> Mt,c=<span class="code-keyword">new</span> Qt,l=<span class="code-keyword">new</span> Qt;<span class="code-keyword">return</span>{<span class="code-attr">setup</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,o,u</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>,d=<span class="code-number">0</span>,p=<span class="code-number">0</span>,f=<span class="code-number">0</span>;f&lt;<span class="code-number">9</span>;f++)a.probe[f].set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> m=<span class="code-number">0</span>,v=<span class="code-number">0</span>,g=<span class="code-number">0</span>,y=<span class="code-number">0</span>,x=<span class="code-number">0</span>,_=<span class="code-number">0</span>,b=<span class="code-number">0</span>,w=<span class="code-number">0</span>,M=u.matrixWorldInverse;n.sort(qi);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=<span class="code-number">0</span>,T=n.length;S&lt;T;S++){<span class="code-keyword">var</span> E=n[S],A=E.color,L=E.intensity,R=E.distance,C=E.shadow&amp;&amp;E.shadow.map?E.shadow.map.texture:<span class="code-literal">null</span>;<span class="code-keyword">if</span>(E.isAmbientLight)h+=A.r*L,d+=A.g*L,p+=A.b*L;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isLightProbe)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> P=<span class="code-number">0</span>;P&lt;<span class="code-number">9</span>;P++)a.probe[P].addScaledVector(E.sh.coefficients[P],L);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isDirectionalLight){<span class="code-keyword">var</span> I=r.get(E);<span class="code-keyword">if</span>(I.color.copy(E.color).multiplyScalar(E.intensity),I.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(M),E.castShadow){<span class="code-keyword">var</span> N=E.shadow,D=i.get(E);D.shadowBias=N.bias,D.shadowNormalBias=N.normalBias,D.shadowRadius=N.radius,D.shadowMapSize=N.mapSize,a.directionalShadow[m]=D,a.directionalShadowMap[m]=C,a.directionalShadowMatrix[m]=E.shadow.matrix,_++}a.directional[m]=I,m++}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isSpotLight){<span class="code-keyword">var</span> O=r.get(E);<span class="code-keyword">if</span>(O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(M),O.color.copy(A).multiplyScalar(L),O.distance=R,O.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(M),O.coneCos=<span class="code-built_in">Math</span>.cos(E.angle),O.penumbraCos=<span class="code-built_in">Math</span>.cos(E.angle*(<span class="code-number">1</span>-E.penumbra)),O.decay=E.decay,E.castShadow){<span class="code-keyword">var</span> B=E.shadow,z=i.get(E);z.shadowBias=B.bias,z.shadowNormalBias=B.normalBias,z.shadowRadius=B.radius,z.shadowMapSize=B.mapSize,a.spotShadow[g]=z,a.spotShadowMap[g]=C,a.spotShadowMatrix[g]=E.shadow.matrix,w++}a.spot[g]=O,g++}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isRectAreaLight){<span class="code-keyword">var</span> U=r.get(E);U.color.copy(A).multiplyScalar(L),U.position.setFromMatrixPosition(E.matrixWorld),U.position.applyMatrix4(M),l.identity(),c.copy(E.matrixWorld),c.premultiply(M),l.extractRotation(c),U.halfWidth.set(<span class="code-number">.5</span>*E.width,<span class="code-number">0</span>,<span class="code-number">0</span>),U.halfHeight.set(<span class="code-number">0</span>,<span class="code-number">.5</span>*E.height,<span class="code-number">0</span>),U.halfWidth.applyMatrix4(l),U.halfHeight.applyMatrix4(l),a.rectArea[y]=U,y++}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isPointLight){<span class="code-keyword">var</span> F=r.get(E);<span class="code-keyword">if</span>(F.position.setFromMatrixPosition(E.matrixWorld),F.position.applyMatrix4(M),F.color.copy(E.color).multiplyScalar(E.intensity),F.distance=E.distance,F.decay=E.decay,E.castShadow){<span class="code-keyword">var</span> G=E.shadow,H=i.get(E);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,H.shadowCameraNear=G.camera.near,H.shadowCameraFar=G.camera.far,a.pointShadow[v]=H,a.pointShadowMap[v]=C,a.pointShadowMatrix[v]=E.shadow.matrix,b++}a.point[v]=F,v++}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(E.isHemisphereLight){<span class="code-keyword">var</span> k=r.get(E);k.direction.setFromMatrixPosition(E.matrixWorld),k.direction.transformDirection(M),k.direction.normalize(),k.skyColor.copy(E.color).multiplyScalar(L),k.groundColor.copy(E.groundColor).multiplyScalar(L),a.hemi[x]=k,x++}}y&gt;<span class="code-number">0</span>&amp;&amp;(e.isWebGL2||!<span class="code-number">0</span>===t.has(<span class="code-string">"OES_texture_float_linear"</span>)?(a.rectAreaLTC1=or.LTC_FLOAT_1,a.rectAreaLTC2=or.LTC_FLOAT_2):!<span class="code-number">0</span>===t.has(<span class="code-string">"OES_texture_half_float_linear"</span>)?(a.rectAreaLTC1=or.LTC_HALF_1,a.rectAreaLTC2=or.LTC_HALF_2):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."</span>)),a.ambient[<span class="code-number">0</span>]=h,a.ambient[<span class="code-number">1</span>]=d,a.ambient[<span class="code-number">2</span>]=p;<span class="code-keyword">var</span> V=a.hash;V.directionalLength===m&amp;&amp;V.pointLength===v&amp;&amp;V.spotLength===g&amp;&amp;V.rectAreaLength===y&amp;&amp;V.hemiLength===x&amp;&amp;V.numDirectionalShadows===_&amp;&amp;V.numPointShadows===b&amp;&amp;V.numSpotShadows===w||(a.directional.length=m,a.spot.length=g,a.rectArea.length=y,a.point.length=v,a.hemi.length=x,a.directionalShadow.length=_,a.directionalShadowMap.length=_,a.pointShadow.length=b,a.pointShadowMap.length=b,a.spotShadow.length=w,a.spotShadowMap.length=w,a.directionalShadowMatrix.length=_,a.pointShadowMatrix.length=b,a.spotShadowMatrix.length=w,V.directionalLength=m,V.pointLength=v,V.spotLength=g,V.rectAreaLength=y,V.hemiLength=x,V.numDirectionalShadows=_,V.numPointShadows=b,V.numSpotShadows=w,a.version=ji++)},<span class="code-attr">state</span>:a}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Xi(t,e),r=[],i=[];<span class="code-keyword">return</span>{<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.length=<span class="code-number">0</span>,i.length=<span class="code-number">0</span>},<span class="code-attr">state</span>:{<span class="code-attr">lightsArray</span>:r,<span class="code-attr">shadowsArray</span>:i,<span class="code-attr">lights</span>:n},<span class="code-attr">setupLights</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{n.setup(r,i,t)},<span class="code-attr">pushLight</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{r.push(t)},<span class="code-attr">pushShadow</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i.push(t)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zi</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">return</span>{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">return</span>!<span class="code-number">1</span>===n.has(r)?(a=<span class="code-keyword">new</span> Yi(t,e),n.set(r,<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>),n.get(r).set(i,a)):!<span class="code-number">1</span>===n.get(r).has(i)?(a=<span class="code-keyword">new</span> Yi(t,e),n.get(r).set(i,a)):a=n.get(r).get(i),a},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ji</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshDepthMaterial"</span>,<span class="code-keyword">this</span>.depthPacking=<span class="code-number">3200</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.fog=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qi</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshDistanceMaterial"</span>,<span class="code-keyword">this</span>.referencePosition=<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.nearDistance=<span class="code-number">1</span>,<span class="code-keyword">this</span>.farDistance=<span class="code-number">1e3</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.fog=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}Ji.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isMeshDepthMaterial=!<span class="code-number">0</span>,Ji.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.depthPacking=t.depthPacking,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>},Qi.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Qi.prototype.constructor=Qi,Qi.prototype.isMeshDistanceMaterial=!<span class="code-number">0</span>,Qi.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.referencePosition.copy(t.referencePosition),<span class="code-keyword">this</span>.nearDistance=t.nearDistance,<span class="code-keyword">this</span>.farDistance=t.farDistance,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ki</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> er,i=<span class="code-keyword">new</span> pt,a=<span class="code-keyword">new</span> pt,o=<span class="code-keyword">new</span> xt,s=[],c=[],l={},u={<span class="code-number">0</span>:<span class="code-number">1</span>,<span class="code-number">1</span>:<span class="code-number">0</span>,<span class="code-number">2</span>:<span class="code-number">2</span>},h=<span class="code-keyword">new</span> jn({<span class="code-attr">defines</span>:{<span class="code-attr">SAMPLE_RATE</span>:<span class="code-number">2</span>/<span class="code-number">8</span>,<span class="code-attr">HALF_SAMPLE_RATE</span>:<span class="code-number">1</span>/<span class="code-number">8</span>},<span class="code-attr">uniforms</span>:{<span class="code-attr">shadow_pass</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">resolution</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> pt},<span class="code-attr">radius</span>:{<span class="code-attr">value</span>:<span class="code-number">4</span>}},<span class="code-attr">vertexShader</span>:<span class="code-string">"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}"</span>,<span class="code-attr">fragmentShader</span>:<span class="code-string">"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include &lt;packing&gt;\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i &lt; 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"</span>}),p=h.clone();p.defines.HORIZONAL_PASS=<span class="code-number">1</span>;<span class="code-keyword">var</span> f=<span class="code-keyword">new</span> _n;f.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>([<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">.5</span>,<span class="code-number">3</span>,<span class="code-number">-1</span>,<span class="code-number">.5</span>,<span class="code-number">-1</span>,<span class="code-number">3</span>,<span class="code-number">.5</span>]),<span class="code-number">3</span>));<span class="code-keyword">var</span> v=<span class="code-keyword">new</span> Un(f,h),g=<span class="code-keyword">this</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">y</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">var</span> i=e.update(v);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,<span class="code-literal">null</span>,i,h,v,<span class="code-literal">null</span>),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,<span class="code-literal">null</span>,i,p,v,<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">x</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t&lt;&lt;<span class="code-number">0</span>|e&lt;&lt;<span class="code-number">1</span>|n&lt;&lt;<span class="code-number">2</span>,i=s[r];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-keyword">new</span> Ji({<span class="code-attr">depthPacking</span>:<span class="code-number">3201</span>,<span class="code-attr">morphTargets</span>:t,<span class="code-attr">skinning</span>:e}),s[r]=i),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t&lt;&lt;<span class="code-number">0</span>|e&lt;&lt;<span class="code-number">1</span>|n&lt;&lt;<span class="code-number">2</span>,i=c[r];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-keyword">new</span> Qi({<span class="code-attr">morphTargets</span>:t,<span class="code-attr">skinning</span>:e}),c[r]=i),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">b</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c=<span class="code-literal">null</span>,h=x,d=e.customDepthMaterial;<span class="code-keyword">if</span>(!<span class="code-number">0</span>===i.isPointLight&amp;&amp;(h=_,d=e.customDistanceMaterial),<span class="code-keyword">void</span> <span class="code-number">0</span>===d){<span class="code-keyword">var</span> p=!<span class="code-number">1</span>;!<span class="code-number">0</span>===r.morphTargets&amp;&amp;(p=n.morphAttributes&amp;&amp;n.morphAttributes.position&amp;&amp;n.morphAttributes.position.length&gt;<span class="code-number">0</span>);<span class="code-keyword">var</span> f=!<span class="code-number">1</span>;!<span class="code-number">0</span>===e.isSkinnedMesh&amp;&amp;(!<span class="code-number">0</span>===r.skinning?f=!<span class="code-number">0</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:"</span>,e)),c=h(p,f,!<span class="code-number">0</span>===e.isInstancedMesh)}<span class="code-keyword">else</span> c=d;<span class="code-keyword">if</span>(t.localClippingEnabled&amp;&amp;!<span class="code-number">0</span>===r.clipShadows&amp;&amp;<span class="code-number">0</span>!==r.clippingPlanes.length){<span class="code-keyword">var</span> m=c.uuid,v=r.uuid,g=l[m];<span class="code-keyword">void</span> <span class="code-number">0</span>===g&amp;&amp;(g={},l[m]=g);<span class="code-keyword">var</span> y=g[v];<span class="code-keyword">void</span> <span class="code-number">0</span>===y&amp;&amp;(y=c.clone(),g[v]=y),c=y}<span class="code-keyword">return</span> c.visible=r.visible,c.wireframe=r.wireframe,c.side=<span class="code-number">3</span>===s?<span class="code-literal">null</span>!==r.shadowSide?r.shadowSide:r.side:<span class="code-literal">null</span>!==r.shadowSide?r.shadowSide:u[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!<span class="code-number">0</span>===i.isPointLight&amp;&amp;!<span class="code-number">0</span>===c.isMeshDistanceMaterial&amp;&amp;(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=a,c.farDistance=o),c}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">n,i,a,o,s</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==n.visible){<span class="code-keyword">if</span>(n.layers.test(i.layers)&amp;&amp;(n.isMesh||n.isLine||n.isPoints)&amp;&amp;(n.castShadow||n.receiveShadow&amp;&amp;<span class="code-number">3</span>===s)&amp;&amp;(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);<span class="code-keyword">var</span> c=e.update(n),l=n.material;<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(l))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=c.groups,h=<span class="code-number">0</span>,d=u.length;h&lt;d;h++){<span class="code-keyword">var</span> p=u[h],f=l[p.materialIndex];<span class="code-keyword">if</span>(f&amp;&amp;f.visible){<span class="code-keyword">var</span> m=b(n,c,f,o,a.near,a.far,s);t.renderBufferDirect(a,<span class="code-literal">null</span>,c,m,n,p)}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(l.visible){<span class="code-keyword">var</span> v=b(n,c,l,o,a.near,a.far,s);t.renderBufferDirect(a,<span class="code-literal">null</span>,c,v,n,<span class="code-literal">null</span>)}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=n.children,y=<span class="code-number">0</span>,x=g.length;y&lt;x;y++)w(g[y],i,a,o,s)}}<span class="code-keyword">this</span>.enabled=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.autoUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.type=<span class="code-number">1</span>,<span class="code-keyword">this</span>.render=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,s,c</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==g.enabled&amp;&amp;(!<span class="code-number">1</span>!==g.autoUpdate||!<span class="code-number">1</span>!==g.needsUpdate)&amp;&amp;<span class="code-number">0</span>!==e.length){<span class="code-keyword">var</span> l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.state;p.setBlending(<span class="code-number">0</span>),p.buffers.color.setClear(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),p.buffers.depth.setTest(!<span class="code-number">0</span>),p.setScissorTest(!<span class="code-number">1</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,v=e.length;f&lt;v;f++){<span class="code-keyword">var</span> x=e[f],_=x.shadow;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==_){<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==_.autoUpdate||!<span class="code-number">1</span>!==_.needsUpdate){i.copy(_.mapSize);<span class="code-keyword">var</span> b=_.getFrameExtents();<span class="code-keyword">if</span>(i.multiply(b),a.copy(_.mapSize),(i.x&gt;n||i.y&gt;n)&amp;&amp;(i.x&gt;n&amp;&amp;(a.x=<span class="code-built_in">Math</span>.floor(n/b.x),i.x=a.x*b.x,_.mapSize.x=a.x),i.y&gt;n&amp;&amp;(a.y=<span class="code-built_in">Math</span>.floor(n/b.y),i.y=a.y*b.y,_.mapSize.y=a.y)),<span class="code-literal">null</span>===_.map&amp;&amp;!_.isPointLightShadow&amp;&amp;<span class="code-number">3</span>===<span class="code-keyword">this</span>.type){<span class="code-keyword">var</span> M={<span class="code-attr">minFilter</span>:m,<span class="code-attr">magFilter</span>:m,<span class="code-attr">format</span>:T};_.map=<span class="code-keyword">new</span> _t(i.x,i.y,M),_.map.texture.name=x.name+<span class="code-string">".shadowMap"</span>,_.mapPass=<span class="code-keyword">new</span> _t(i.x,i.y,M),_.camera.updateProjectionMatrix()}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===_.map){<span class="code-keyword">var</span> S={<span class="code-attr">minFilter</span>:d,<span class="code-attr">magFilter</span>:d,<span class="code-attr">format</span>:T};_.map=<span class="code-keyword">new</span> _t(i.x,i.y,S),_.map.texture.name=x.name+<span class="code-string">".shadowMap"</span>,_.camera.updateProjectionMatrix()}t.setRenderTarget(_.map),t.clear();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=_.getViewportCount(),A=<span class="code-number">0</span>;A&lt;E;A++){<span class="code-keyword">var</span> L=_.getViewport(A);o.set(a.x*L.x,a.y*L.y,a.x*L.z,a.y*L.w),p.viewport(o),_.updateMatrices(x,A),r=_.getFrustum(),w(s,c,_.camera,x,<span class="code-keyword">this</span>.type)}_.isPointLightShadow||<span class="code-number">3</span>!==<span class="code-keyword">this</span>.type||y(_,c),_.needsUpdate=!<span class="code-number">1</span>}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLShadowMap:"</span>,x,<span class="code-string">"has no shadow."</span>)}g.needsUpdate=!<span class="code-number">1</span>,t.setRenderTarget(l,u,h)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$i</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-keyword">var</span> i,a,o=r.isWebGL2;<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=!<span class="code-number">1</span>,n=<span class="code-keyword">new</span> xt,r=<span class="code-literal">null</span>,i=<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">return</span>{<span class="code-attr">setMask</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{r===n||e||(t.colorMask(n,n,n,n),r=n)},<span class="code-attr">setLocked</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e=t},<span class="code-attr">setClear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,a,o,s</span>)</span>{!<span class="code-number">0</span>===s&amp;&amp;(e*=o,r*=o,a*=o),n.set(e,r,a,o),!<span class="code-number">1</span>===i.equals(n)&amp;&amp;(t.clearColor(e,r,a,o),i.copy(n))},<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e=!<span class="code-number">1</span>,r=<span class="code-literal">null</span>,i.set(<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)}}},c=<span class="code-keyword">new</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=!<span class="code-number">1</span>,n=<span class="code-literal">null</span>,r=<span class="code-literal">null</span>,i=<span class="code-literal">null</span>;<span class="code-keyword">return</span>{<span class="code-attr">setTest</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t?B(<span class="code-number">2929</span>):z(<span class="code-number">2929</span>)},<span class="code-attr">setMask</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{n===r||e||(t.depthMask(r),n=r)},<span class="code-attr">setFunc</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(r!==e){<span class="code-keyword">if</span>(e)<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span> <span class="code-number">0</span>:t.depthFunc(<span class="code-number">512</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:t.depthFunc(<span class="code-number">519</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:t.depthFunc(<span class="code-number">513</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:t.depthFunc(<span class="code-number">515</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:t.depthFunc(<span class="code-number">514</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">5</span>:t.depthFunc(<span class="code-number">518</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">6</span>:t.depthFunc(<span class="code-number">516</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:t.depthFunc(<span class="code-number">517</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:t.depthFunc(<span class="code-number">515</span>)}<span class="code-keyword">else</span> t.depthFunc(<span class="code-number">515</span>);r=e}},<span class="code-attr">setLocked</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e=t},<span class="code-attr">setClear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i!==e&amp;&amp;(t.clearDepth(e),i=e)},<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e=!<span class="code-number">1</span>,n=<span class="code-literal">null</span>,r=<span class="code-literal">null</span>,i=<span class="code-literal">null</span>}}},l=<span class="code-keyword">new</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=!<span class="code-number">1</span>,n=<span class="code-literal">null</span>,r=<span class="code-literal">null</span>,i=<span class="code-literal">null</span>,a=<span class="code-literal">null</span>,o=<span class="code-literal">null</span>,s=<span class="code-literal">null</span>,c=<span class="code-literal">null</span>,l=<span class="code-literal">null</span>;<span class="code-keyword">return</span>{<span class="code-attr">setTest</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e||(t?B(<span class="code-number">2960</span>):z(<span class="code-number">2960</span>))},<span class="code-attr">setMask</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{n===r||e||(t.stencilMask(r),n=r)},<span class="code-attr">setFunc</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,o</span>)</span>{r===e&amp;&amp;i===n&amp;&amp;a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},<span class="code-attr">setOp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,r</span>)</span>{o===e&amp;&amp;s===n&amp;&amp;c===r||(t.stencilOp(e,n,r),o=e,s=n,c=r)},<span class="code-attr">setLocked</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e=t},<span class="code-attr">setClear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{l!==e&amp;&amp;(t.clearStencil(e),l=e)},<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e=!<span class="code-number">1</span>,n=<span class="code-literal">null</span>,r=<span class="code-literal">null</span>,i=<span class="code-literal">null</span>,a=<span class="code-literal">null</span>,o=<span class="code-literal">null</span>,s=<span class="code-literal">null</span>,c=<span class="code-literal">null</span>,l=<span class="code-literal">null</span>}}},u={},h=<span class="code-literal">null</span>,d=<span class="code-literal">null</span>,p=<span class="code-literal">null</span>,f=<span class="code-literal">null</span>,m=<span class="code-literal">null</span>,v=<span class="code-literal">null</span>,g=<span class="code-literal">null</span>,y=<span class="code-literal">null</span>,x=<span class="code-literal">null</span>,_=!<span class="code-number">1</span>,b=<span class="code-literal">null</span>,w=<span class="code-literal">null</span>,M=<span class="code-literal">null</span>,S=<span class="code-literal">null</span>,T=<span class="code-literal">null</span>,E=t.getParameter(<span class="code-number">35661</span>),A=!<span class="code-number">1</span>,L=<span class="code-number">0</span>,R=t.getParameter(<span class="code-number">7938</span>);<span class="code-number">-1</span>!==R.indexOf(<span class="code-string">"WebGL"</span>)?(L=<span class="code-built_in">parseFloat</span>(<span class="code-regexp">/^WebGL\ ([0-9])/</span>.exec(R)[<span class="code-number">1</span>]),A=L&gt;=<span class="code-number">1</span>):<span class="code-number">-1</span>!==R.indexOf(<span class="code-string">"OpenGL ES"</span>)&amp;&amp;(L=<span class="code-built_in">parseFloat</span>(<span class="code-regexp">/^OpenGL\ ES\ ([0-9])/</span>.exec(R)[<span class="code-number">1</span>]),A=L&gt;=<span class="code-number">2</span>);<span class="code-keyword">var</span> C=<span class="code-literal">null</span>,P={},I=<span class="code-keyword">new</span> xt,N=<span class="code-keyword">new</span> xt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">D</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-number">4</span>),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,<span class="code-number">10241</span>,<span class="code-number">9728</span>),t.texParameteri(e,<span class="code-number">10240</span>,<span class="code-number">9728</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;r;o++)t.texImage2D(n+o,<span class="code-number">0</span>,<span class="code-number">6408</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">6408</span>,<span class="code-number">5121</span>,i);<span class="code-keyword">return</span> a}<span class="code-keyword">var</span> O={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">B</span>(<span class="code-params">e</span>)</span>{!<span class="code-number">0</span>!==u[e]&amp;&amp;(t.enable(e),u[e]=!<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params">e</span>)</span>{!<span class="code-number">1</span>!==u[e]&amp;&amp;(t.disable(e),u[e]=!<span class="code-number">1</span>)}O[<span class="code-number">3553</span>]=D(<span class="code-number">3553</span>,<span class="code-number">3553</span>,<span class="code-number">1</span>),O[<span class="code-number">34067</span>]=D(<span class="code-number">34067</span>,<span class="code-number">34069</span>,<span class="code-number">6</span>),s.setClear(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),c.setClear(<span class="code-number">1</span>),l.setClear(<span class="code-number">0</span>),B(<span class="code-number">2929</span>),c.setFunc(<span class="code-number">3</span>),k(!<span class="code-number">1</span>),V(<span class="code-number">1</span>),B(<span class="code-number">2884</span>),H(<span class="code-number">0</span>);<span class="code-keyword">var</span> U=((i={})[<span class="code-number">100</span>]=<span class="code-number">32774</span>,i[<span class="code-number">101</span>]=<span class="code-number">32778</span>,i[<span class="code-number">102</span>]=<span class="code-number">32779</span>,i);<span class="code-keyword">if</span>(o)U[<span class="code-number">103</span>]=<span class="code-number">32775</span>,U[<span class="code-number">104</span>]=<span class="code-number">32776</span>;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> F=n.get(<span class="code-string">"EXT_blend_minmax"</span>);<span class="code-literal">null</span>!==F&amp;&amp;(U[<span class="code-number">103</span>]=F.MIN_EXT,U[<span class="code-number">104</span>]=F.MAX_EXT)}<span class="code-keyword">var</span> G=((a={})[<span class="code-number">200</span>]=<span class="code-number">0</span>,a[<span class="code-number">201</span>]=<span class="code-number">1</span>,a[<span class="code-number">202</span>]=<span class="code-number">768</span>,a[<span class="code-number">204</span>]=<span class="code-number">770</span>,a[<span class="code-number">210</span>]=<span class="code-number">776</span>,a[<span class="code-number">208</span>]=<span class="code-number">774</span>,a[<span class="code-number">206</span>]=<span class="code-number">772</span>,a[<span class="code-number">203</span>]=<span class="code-number">769</span>,a[<span class="code-number">205</span>]=<span class="code-number">771</span>,a[<span class="code-number">209</span>]=<span class="code-number">775</span>,a[<span class="code-number">207</span>]=<span class="code-number">773</span>,a);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">H</span>(<span class="code-params">n,r,i,a,o,s,c,l</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==n){<span class="code-keyword">if</span>(d||(B(<span class="code-number">3042</span>),d=!<span class="code-number">0</span>),<span class="code-number">5</span>===n)o=o||r,s=s||i,c=c||a,r===f&amp;&amp;o===g||(t.blendEquationSeparate(U[r],U[o]),f=r,g=o),i===m&amp;&amp;a===v&amp;&amp;s===y&amp;&amp;c===x||(t.blendFuncSeparate(G[i],G[a],G[s],G[c]),m=i,v=a,y=s,x=c),p=n,_=<span class="code-literal">null</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n!==p||l!==_){<span class="code-keyword">if</span>(f===e&amp;&amp;g===e||(t.blendEquation(<span class="code-number">32774</span>),f=e,g=e),l)<span class="code-keyword">switch</span>(n){<span class="code-keyword">case</span> <span class="code-number">1</span>:t.blendFuncSeparate(<span class="code-number">1</span>,<span class="code-number">771</span>,<span class="code-number">1</span>,<span class="code-number">771</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:t.blendFunc(<span class="code-number">1</span>,<span class="code-number">1</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:t.blendFuncSeparate(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">769</span>,<span class="code-number">771</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:t.blendFuncSeparate(<span class="code-number">0</span>,<span class="code-number">768</span>,<span class="code-number">0</span>,<span class="code-number">770</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLState: Invalid blending: "</span>,n)}<span class="code-keyword">else</span> <span class="code-keyword">switch</span>(n){<span class="code-keyword">case</span> <span class="code-number">1</span>:t.blendFuncSeparate(<span class="code-number">770</span>,<span class="code-number">771</span>,<span class="code-number">1</span>,<span class="code-number">771</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:t.blendFunc(<span class="code-number">770</span>,<span class="code-number">1</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:t.blendFunc(<span class="code-number">0</span>,<span class="code-number">769</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:t.blendFunc(<span class="code-number">0</span>,<span class="code-number">768</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLState: Invalid blending: "</span>,n)}m=<span class="code-literal">null</span>,v=<span class="code-literal">null</span>,y=<span class="code-literal">null</span>,x=<span class="code-literal">null</span>,p=n,_=l}}<span class="code-keyword">else</span> d&amp;&amp;(z(<span class="code-number">3042</span>),d=!<span class="code-number">1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">k</span>(<span class="code-params">e</span>)</span>{b!==e&amp;&amp;(e?t.frontFace(<span class="code-number">2304</span>):t.frontFace(<span class="code-number">2305</span>),b=e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">V</span>(<span class="code-params">e</span>)</span>{<span class="code-number">0</span>!==e?(B(<span class="code-number">2884</span>),e!==w&amp;&amp;(<span class="code-number">1</span>===e?t.cullFace(<span class="code-number">1029</span>):<span class="code-number">2</span>===e?t.cullFace(<span class="code-number">1028</span>):t.cullFace(<span class="code-number">1032</span>))):z(<span class="code-number">2884</span>),w=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">W</span>(<span class="code-params">e,n,r</span>)</span>{e?(B(<span class="code-number">32823</span>),S===n&amp;&amp;T===r||(t.polygonOffset(n,r),S=n,T=r)):z(<span class="code-number">32823</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">j</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">33984</span>+E<span class="code-number">-1</span>),C!==e&amp;&amp;(t.activeTexture(e),C=e)}<span class="code-keyword">return</span>{<span class="code-attr">buffers</span>:{<span class="code-attr">color</span>:s,<span class="code-attr">depth</span>:c,<span class="code-attr">stencil</span>:l},<span class="code-attr">enable</span>:B,<span class="code-attr">disable</span>:z,<span class="code-attr">useProgram</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> h!==e&amp;&amp;(t.useProgram(e),h=e,!<span class="code-number">0</span>)},<span class="code-attr">setBlending</span>:H,<span class="code-attr">setMaterial</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-number">2</span>===t.side?z(<span class="code-number">2884</span>):B(<span class="code-number">2884</span>);<span class="code-keyword">var</span> n=<span class="code-number">1</span>===t.side;e&amp;&amp;(n=!n),k(n),<span class="code-number">1</span>===t.blending&amp;&amp;!<span class="code-number">1</span>===t.transparent?H(<span class="code-number">0</span>):H(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),c.setFunc(t.depthFunc),c.setTest(t.depthTest),c.setMask(t.depthWrite),s.setMask(t.colorWrite);<span class="code-keyword">var</span> r=t.stencilWrite;l.setTest(r),r&amp;&amp;(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},<span class="code-attr">setFlipSided</span>:k,<span class="code-attr">setCullFace</span>:V,<span class="code-attr">setLineWidth</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e!==M&amp;&amp;(A&amp;&amp;t.lineWidth(e),M=e)},<span class="code-attr">setPolygonOffset</span>:W,<span class="code-attr">setScissorTest</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t?B(<span class="code-number">3089</span>):z(<span class="code-number">3089</span>)},<span class="code-attr">activeTexture</span>:j,<span class="code-attr">bindTexture</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-literal">null</span>===C&amp;&amp;j();<span class="code-keyword">var</span> r=P[C];<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={<span class="code-attr">type</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">texture</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>},P[C]=r),r.type===e&amp;&amp;r.texture===n||(t.bindTexture(e,n||O[e]),r.type=e,r.texture=n)},<span class="code-attr">unbindTexture</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=P[C];<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.type&amp;&amp;(t.bindTexture(e.type,<span class="code-literal">null</span>),e.type=<span class="code-keyword">void</span> <span class="code-number">0</span>,e.texture=<span class="code-keyword">void</span> <span class="code-number">0</span>)},<span class="code-attr">compressedTexImage2D</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{t.compressedTexImage2D.apply(t,<span class="code-built_in">arguments</span>)}<span class="code-keyword">catch</span>(t){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLState:"</span>,t)}},<span class="code-attr">texImage2D</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{t.texImage2D.apply(t,<span class="code-built_in">arguments</span>)}<span class="code-keyword">catch</span>(t){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLState:"</span>,t)}},<span class="code-attr">texImage3D</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{t.texImage3D.apply(t,<span class="code-built_in">arguments</span>)}<span class="code-keyword">catch</span>(t){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLState:"</span>,t)}},<span class="code-attr">scissor</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{!<span class="code-number">1</span>===I.equals(e)&amp;&amp;(t.scissor(e.x,e.y,e.z,e.w),I.copy(e))},<span class="code-attr">viewport</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{!<span class="code-number">1</span>===N.equals(e)&amp;&amp;(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u={},C=<span class="code-literal">null</span>,P={},h=<span class="code-literal">null</span>,d=<span class="code-literal">null</span>,p=<span class="code-literal">null</span>,f=<span class="code-literal">null</span>,m=<span class="code-literal">null</span>,v=<span class="code-literal">null</span>,g=<span class="code-literal">null</span>,y=<span class="code-literal">null</span>,x=<span class="code-literal">null</span>,_=!<span class="code-number">1</span>,b=<span class="code-literal">null</span>,w=<span class="code-literal">null</span>,M=<span class="code-literal">null</span>,S=<span class="code-literal">null</span>,T=<span class="code-literal">null</span>,s.reset(),c.reset(),l.reset()}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ta</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s,c,l,h=i.isWebGL2,v=i.maxTextures,g=i.maxCubemapSize,y=i.maxTextureSize,L=i.maxSamples,R=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>,C=!<span class="code-number">1</span>;<span class="code-keyword">try</span>{C=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> OffscreenCanvas&amp;&amp;<span class="code-literal">null</span>!==<span class="code-keyword">new</span> OffscreenCanvas(<span class="code-number">1</span>,<span class="code-number">1</span>).getContext(<span class="code-string">"2d"</span>)}<span class="code-keyword">catch</span>(t){}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">P</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> C?<span class="code-keyword">new</span> OffscreenCanvas(t,e):<span class="code-built_in">document</span>.createElementNS(<span class="code-string">"http://www.w3.org/1999/xhtml"</span>,<span class="code-string">"canvas"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">I</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">1</span>;<span class="code-keyword">if</span>((t.width&gt;r||t.height&gt;r)&amp;&amp;(i=r/<span class="code-built_in">Math</span>.max(t.width,t.height)),i&lt;<span class="code-number">1</span>||!<span class="code-number">0</span>===e){<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> HTMLImageElement&amp;&amp;t <span class="code-keyword">instanceof</span> HTMLImageElement||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> HTMLCanvasElement&amp;&amp;t <span class="code-keyword">instanceof</span> HTMLCanvasElement||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> ImageBitmap&amp;&amp;t <span class="code-keyword">instanceof</span> ImageBitmap){<span class="code-keyword">var</span> a=e?st.floorPowerOfTwo:<span class="code-built_in">Math</span>.floor,o=a(i*t.width),s=a(i*t.height);<span class="code-keyword">void</span> <span class="code-number">0</span>===l&amp;&amp;(l=P(o,s));<span class="code-keyword">var</span> c=n?P(o,s):l;<span class="code-keyword">return</span> c.width=o,c.height=s,c.getContext(<span class="code-string">"2d"</span>).drawImage(t,<span class="code-number">0</span>,<span class="code-number">0</span>,o,s),<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Texture has been resized from ("</span>+t.width+<span class="code-string">"x"</span>+t.height+<span class="code-string">") to ("</span>+o+<span class="code-string">"x"</span>+s+<span class="code-string">")."</span>),c}<span class="code-keyword">return</span><span class="code-string">"data"</span><span class="code-keyword">in</span> t&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Image in DataTexture is too big ("</span>+t.width+<span class="code-string">"x"</span>+t.height+<span class="code-string">")."</span>),t}<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">N</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> st.isPowerOfTwo(t.width)&amp;&amp;st.isPowerOfTwo(t.height)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">D</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.generateMipmaps&amp;&amp;e&amp;&amp;t.minFilter!==d&amp;&amp;t.minFilter!==m}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">O</span>(<span class="code-params">e,n,i,a</span>)</span>{t.generateMipmap(e),r.get(n).__maxMipLevel=<span class="code-built_in">Math</span>.log(<span class="code-built_in">Math</span>.max(i,a))*<span class="code-built_in">Math</span>.LOG2E}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">B</span>(<span class="code-params">n,r,i</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>===h)<span class="code-keyword">return</span> r;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==n){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t[n])<span class="code-keyword">return</span> t[n];<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"</span>+n+<span class="code-string">"'"</span>)}<span class="code-keyword">var</span> a=r;<span class="code-keyword">return</span> <span class="code-number">6403</span>===r&amp;&amp;(<span class="code-number">5126</span>===i&amp;&amp;(a=<span class="code-number">33326</span>),<span class="code-number">5131</span>===i&amp;&amp;(a=<span class="code-number">33325</span>),<span class="code-number">5121</span>===i&amp;&amp;(a=<span class="code-number">33321</span>)),<span class="code-number">6407</span>===r&amp;&amp;(<span class="code-number">5126</span>===i&amp;&amp;(a=<span class="code-number">34837</span>),<span class="code-number">5131</span>===i&amp;&amp;(a=<span class="code-number">34843</span>),<span class="code-number">5121</span>===i&amp;&amp;(a=<span class="code-number">32849</span>)),<span class="code-number">6408</span>===r&amp;&amp;(<span class="code-number">5126</span>===i&amp;&amp;(a=<span class="code-number">34836</span>),<span class="code-number">5131</span>===i&amp;&amp;(a=<span class="code-number">34842</span>),<span class="code-number">5121</span>===i&amp;&amp;(a=<span class="code-number">32856</span>)),<span class="code-number">33325</span>!==a&amp;&amp;<span class="code-number">33326</span>!==a&amp;&amp;<span class="code-number">34842</span>!==a&amp;&amp;<span class="code-number">34836</span>!==a||e.get(<span class="code-string">"EXT_color_buffer_float"</span>),a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t===d||t===p||t===f?<span class="code-number">9728</span>:<span class="code-number">9729</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">U</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=e.target;n.removeEventListener(<span class="code-string">"dispose"</span>,U),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=r.get(e);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n.__webglInit)<span class="code-keyword">return</span>;t.deleteTexture(n.__webglTexture),r.remove(e)}(n),n.isVideoTexture&amp;&amp;R.delete(n),o.memory.textures--}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">F</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=e.target;n.removeEventListener(<span class="code-string">"dispose"</span>,F),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=r.get(e),i=r.get(e.texture);<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>!==i.__webglTexture&amp;&amp;t.deleteTexture(i.__webglTexture);e.depthTexture&amp;&amp;e.depthTexture.dispose();<span class="code-keyword">if</span>(e.isWebGLCubeRenderTarget)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;<span class="code-number">6</span>;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthbuffer[a]);<span class="code-keyword">else</span> t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&amp;&amp;t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&amp;&amp;t.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(e.texture),r.remove(e)}(n),o.memory.textures--}<span class="code-keyword">var</span> G=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">H</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i=r.get(t);<span class="code-keyword">if</span>(t.isVideoTexture&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=o.render.frame;R.get(t)!==e&amp;&amp;(R.set(t,e),t.update())}(t),t.version&gt;<span class="code-number">0</span>&amp;&amp;i.__version!==t.version){<span class="code-keyword">var</span> a=t.image;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===a)<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Texture marked for update but image is undefined"</span>);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==a.complete)<span class="code-keyword">return</span> <span class="code-keyword">void</span> X(i,t,e);<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Texture marked for update but image is incomplete"</span>)}}n.activeTexture(<span class="code-number">33984</span>+e),n.bindTexture(<span class="code-number">3553</span>,i.__webglTexture)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">k</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">var</span> o=r.get(e);e.version&gt;<span class="code-number">0</span>&amp;&amp;o.__version!==e.version?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">6</span>!==r.image.length)<span class="code-keyword">return</span>;q(e,r),n.activeTexture(<span class="code-number">33984</span>+i),n.bindTexture(<span class="code-number">34067</span>,e.__webglTexture),t.pixelStorei(<span class="code-number">37440</span>,r.flipY);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=r&amp;&amp;(r.isCompressedTexture||r.image[<span class="code-number">0</span>].isCompressedTexture),s=r.image[<span class="code-number">0</span>]&amp;&amp;r.image[<span class="code-number">0</span>].isDataTexture,c=[],l=<span class="code-number">0</span>;l&lt;<span class="code-number">6</span>;l++)c[l]=o||s?s?r.image[l].image:r.image[l]:I(r.image[l],!<span class="code-number">1</span>,!<span class="code-number">0</span>,g);<span class="code-keyword">var</span> u,d=c[<span class="code-number">0</span>],p=N(d)||h,f=a.convert(r.format),m=a.convert(r.type),v=B(r.internalFormat,f,m);<span class="code-keyword">if</span>(j(<span class="code-number">34067</span>,r,p),o){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;<span class="code-number">6</span>;y++){u=c[y].mipmaps;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=<span class="code-number">0</span>;x&lt;u.length;x++){<span class="code-keyword">var</span> _=u[x];r.format!==T&amp;&amp;r.format!==S?<span class="code-literal">null</span>!==f?n.compressedTexImage2D(<span class="code-number">34069</span>+y,x,v,_.width,_.height,<span class="code-number">0</span>,_.data):<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"</span>):n.texImage2D(<span class="code-number">34069</span>+y,x,v,_.width,_.height,<span class="code-number">0</span>,f,m,_.data)}}e.__maxMipLevel=u.length<span class="code-number">-1</span>}<span class="code-keyword">else</span>{u=r.mipmaps;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=<span class="code-number">0</span>;b&lt;<span class="code-number">6</span>;b++)<span class="code-keyword">if</span>(s){n.texImage2D(<span class="code-number">34069</span>+b,<span class="code-number">0</span>,v,c[b].width,c[b].height,<span class="code-number">0</span>,f,m,c[b].data);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w=<span class="code-number">0</span>;w&lt;u.length;w++){<span class="code-keyword">var</span> M=u[w].image[b].image;n.texImage2D(<span class="code-number">34069</span>+b,w+<span class="code-number">1</span>,v,M.width,M.height,<span class="code-number">0</span>,f,m,M.data)}}<span class="code-keyword">else</span>{n.texImage2D(<span class="code-number">34069</span>+b,<span class="code-number">0</span>,v,f,m,c[b]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">0</span>;E&lt;u.length;E++){<span class="code-keyword">var</span> A=u[E];n.texImage2D(<span class="code-number">34069</span>+b,E+<span class="code-number">1</span>,v,f,m,A.image[b])}}e.__maxMipLevel=u.length}D(r,p)&amp;&amp;O(<span class="code-number">34067</span>,r,d.width,d.height);e.__version=r.version,r.onUpdate&amp;&amp;r.onUpdate(r)}(o,e,i):(n.activeTexture(<span class="code-number">33984</span>+i),n.bindTexture(<span class="code-number">34067</span>,o.__webglTexture))}<span class="code-keyword">var</span> V=((s={})[<span class="code-number">1e3</span>]=<span class="code-number">10497</span>,s[<span class="code-number">1001</span>]=<span class="code-number">33071</span>,s[<span class="code-number">1002</span>]=<span class="code-number">33648</span>,s),W=((c={})[<span class="code-number">1003</span>]=<span class="code-number">9728</span>,c[<span class="code-number">1004</span>]=<span class="code-number">9984</span>,c[<span class="code-number">1005</span>]=<span class="code-number">9986</span>,c[<span class="code-number">1006</span>]=<span class="code-number">9729</span>,c[<span class="code-number">1007</span>]=<span class="code-number">9985</span>,c[<span class="code-number">1008</span>]=<span class="code-number">9987</span>,c);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">j</span>(<span class="code-params">n,a,o</span>)</span>{o?(t.texParameteri(n,<span class="code-number">10242</span>,V[a.wrapS]),t.texParameteri(n,<span class="code-number">10243</span>,V[a.wrapT]),<span class="code-number">32879</span>!==n&amp;&amp;<span class="code-number">35866</span>!==n||t.texParameteri(n,<span class="code-number">32882</span>,V[a.wrapR]),t.texParameteri(n,<span class="code-number">10240</span>,W[a.magFilter]),t.texParameteri(n,<span class="code-number">10241</span>,W[a.minFilter])):(t.texParameteri(n,<span class="code-number">10242</span>,<span class="code-number">33071</span>),t.texParameteri(n,<span class="code-number">10243</span>,<span class="code-number">33071</span>),<span class="code-number">32879</span>!==n&amp;&amp;<span class="code-number">35866</span>!==n||t.texParameteri(n,<span class="code-number">32882</span>,<span class="code-number">33071</span>),a.wrapS===u&amp;&amp;a.wrapT===u||<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."</span>),t.texParameteri(n,<span class="code-number">10240</span>,z(a.magFilter)),t.texParameteri(n,<span class="code-number">10241</span>,z(a.minFilter)),a.minFilter!==d&amp;&amp;a.minFilter!==m&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."</span>));<span class="code-keyword">var</span> s=e.get(<span class="code-string">"EXT_texture_filter_anisotropic"</span>);<span class="code-keyword">if</span>(s){<span class="code-keyword">if</span>(a.type===b&amp;&amp;<span class="code-literal">null</span>===e.get(<span class="code-string">"OES_texture_float_linear"</span>))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(a.type===w&amp;&amp;<span class="code-literal">null</span>===(h||e.get(<span class="code-string">"OES_texture_half_float_linear"</span>)))<span class="code-keyword">return</span>;(a.anisotropy&gt;<span class="code-number">1</span>||r.get(a).__currentAnisotropy)&amp;&amp;(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,<span class="code-built_in">Math</span>.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">q</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e.__webglInit&amp;&amp;(e.__webglInit=!<span class="code-number">0</span>,n.addEventListener(<span class="code-string">"dispose"</span>,U),e.__webglTexture=t.createTexture(),o.memory.textures++)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">X</span>(<span class="code-params">e,r,i</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-number">3553</span>;r.isDataTexture2DArray&amp;&amp;(o=<span class="code-number">35866</span>),r.isDataTexture3D&amp;&amp;(o=<span class="code-number">32879</span>),q(e,r),n.activeTexture(<span class="code-number">33984</span>+i),n.bindTexture(o,e.__webglTexture),t.pixelStorei(<span class="code-number">37440</span>,r.flipY),t.pixelStorei(<span class="code-number">37441</span>,r.premultiplyAlpha),t.pixelStorei(<span class="code-number">3317</span>,r.unpackAlignment);<span class="code-keyword">var</span> s,c=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!h&amp;&amp;(t.wrapS!==u||t.wrapT!==u||t.minFilter!==d&amp;&amp;t.minFilter!==m)}(r)&amp;&amp;!<span class="code-number">1</span>===N(r.image),l=I(r.image,c,!<span class="code-number">1</span>,y),p=N(l)||h,f=a.convert(r.format),v=a.convert(r.type),g=B(r.internalFormat,f,v);j(o,r,p);<span class="code-keyword">var</span> w=r.mipmaps;<span class="code-keyword">if</span>(r.isDepthTexture)g=<span class="code-number">6402</span>,h?g=r.type===b?<span class="code-number">36012</span>:r.type===_?<span class="code-number">33190</span>:r.type===M?<span class="code-number">35056</span>:<span class="code-number">33189</span>:r.type===b&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"WebGLRenderer: Floating point depth texture requires WebGL2."</span>),r.format===E&amp;&amp;<span class="code-number">6402</span>===g&amp;&amp;r.type!==x&amp;&amp;r.type!==_&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."</span>),r.type=x,v=a.convert(r.type)),r.format===A&amp;&amp;<span class="code-number">6402</span>===g&amp;&amp;(g=<span class="code-number">34041</span>,r.type!==M&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."</span>),r.type=M,v=a.convert(r.type))),n.texImage2D(<span class="code-number">3553</span>,<span class="code-number">0</span>,g,l.width,l.height,<span class="code-number">0</span>,f,v,<span class="code-literal">null</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.isDataTexture)<span class="code-keyword">if</span>(w.length&gt;<span class="code-number">0</span>&amp;&amp;p){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=<span class="code-number">0</span>,R=w.length;L&lt;R;L++)s=w[L],n.texImage2D(<span class="code-number">3553</span>,L,g,s.width,s.height,<span class="code-number">0</span>,f,v,s.data);r.generateMipmaps=!<span class="code-number">1</span>,e.__maxMipLevel=w.length<span class="code-number">-1</span>}<span class="code-keyword">else</span> n.texImage2D(<span class="code-number">3553</span>,<span class="code-number">0</span>,g,l.width,l.height,<span class="code-number">0</span>,f,v,l.data),e.__maxMipLevel=<span class="code-number">0</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.isCompressedTexture){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> C=<span class="code-number">0</span>,P=w.length;C&lt;P;C++)s=w[C],r.format!==T&amp;&amp;r.format!==S?<span class="code-literal">null</span>!==f?n.compressedTexImage2D(<span class="code-number">3553</span>,C,g,s.width,s.height,<span class="code-number">0</span>,s.data):<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"</span>):n.texImage2D(<span class="code-number">3553</span>,C,g,s.width,s.height,<span class="code-number">0</span>,f,v,s.data);e.__maxMipLevel=w.length<span class="code-number">-1</span>}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.isDataTexture2DArray)n.texImage3D(<span class="code-number">35866</span>,<span class="code-number">0</span>,g,l.width,l.height,l.depth,<span class="code-number">0</span>,f,v,l.data),e.__maxMipLevel=<span class="code-number">0</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.isDataTexture3D)n.texImage3D(<span class="code-number">32879</span>,<span class="code-number">0</span>,g,l.width,l.height,l.depth,<span class="code-number">0</span>,f,v,l.data),e.__maxMipLevel=<span class="code-number">0</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(w.length&gt;<span class="code-number">0</span>&amp;&amp;p){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> z=<span class="code-number">0</span>,U=w.length;z&lt;U;z++)s=w[z],n.texImage2D(<span class="code-number">3553</span>,z,g,f,v,s);r.generateMipmaps=!<span class="code-number">1</span>,e.__maxMipLevel=w.length<span class="code-number">-1</span>}<span class="code-keyword">else</span> n.texImage2D(<span class="code-number">3553</span>,<span class="code-number">0</span>,g,f,v,l),e.__maxMipLevel=<span class="code-number">0</span>;D(r,p)&amp;&amp;O(o,r,l.width,l.height),e.__version=r.version,r.onUpdate&amp;&amp;r.onUpdate(r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Y</span>(<span class="code-params">e,i,o,s</span>)</span>{<span class="code-keyword">var</span> c=a.convert(i.texture.format),l=a.convert(i.texture.type),u=B(i.texture.internalFormat,c,l);n.texImage2D(s,<span class="code-number">0</span>,u,i.width,i.height,<span class="code-number">0</span>,c,l,<span class="code-literal">null</span>),t.bindFramebuffer(<span class="code-number">36160</span>,e),t.framebufferTexture2D(<span class="code-number">36160</span>,o,s,r.get(i.texture).__webglTexture,<span class="code-number">0</span>),t.bindFramebuffer(<span class="code-number">36160</span>,<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Z</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">if</span>(t.bindRenderbuffer(<span class="code-number">36161</span>,e),n.depthBuffer&amp;&amp;!n.stencilBuffer){<span class="code-keyword">var</span> i=<span class="code-number">33189</span>;<span class="code-keyword">if</span>(r){<span class="code-keyword">var</span> o=n.depthTexture;o&amp;&amp;o.isDepthTexture&amp;&amp;(o.type===b?i=<span class="code-number">36012</span>:o.type===_&amp;&amp;(i=<span class="code-number">33190</span>));<span class="code-keyword">var</span> s=Q(n);t.renderbufferStorageMultisample(<span class="code-number">36161</span>,s,i,n.width,n.height)}<span class="code-keyword">else</span> t.renderbufferStorage(<span class="code-number">36161</span>,i,n.width,n.height);t.framebufferRenderbuffer(<span class="code-number">36160</span>,<span class="code-number">36096</span>,<span class="code-number">36161</span>,e)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n.depthBuffer&amp;&amp;n.stencilBuffer){<span class="code-keyword">if</span>(r){<span class="code-keyword">var</span> c=Q(n);t.renderbufferStorageMultisample(<span class="code-number">36161</span>,c,<span class="code-number">35056</span>,n.width,n.height)}<span class="code-keyword">else</span> t.renderbufferStorage(<span class="code-number">36161</span>,<span class="code-number">34041</span>,n.width,n.height);t.framebufferRenderbuffer(<span class="code-number">36160</span>,<span class="code-number">33306</span>,<span class="code-number">36161</span>,e)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> l=a.convert(n.texture.format),u=a.convert(n.texture.type),h=B(n.texture.internalFormat,l,u);<span class="code-keyword">if</span>(r){<span class="code-keyword">var</span> d=Q(n);t.renderbufferStorageMultisample(<span class="code-number">36161</span>,d,h,n.width,n.height)}<span class="code-keyword">else</span> t.renderbufferStorage(<span class="code-number">36161</span>,h,n.width,n.height)}t.bindRenderbuffer(<span class="code-number">36161</span>,<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">J</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=r.get(e),i=!<span class="code-number">0</span>===e.isWebGLCubeRenderTarget;<span class="code-keyword">if</span>(e.depthTexture){<span class="code-keyword">if</span>(i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"target.depthTexture not supported in Cube render targets"</span>);!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">if</span>(n&amp;&amp;n.isWebGLCubeRenderTarget)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Depth Texture with cube render targets is not supported"</span>);<span class="code-keyword">if</span>(t.bindFramebuffer(<span class="code-number">36160</span>,e),!n.depthTexture||!n.depthTexture.isDepthTexture)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"renderTarget.depthTexture must be an instance of THREE.DepthTexture"</span>);r.get(n.depthTexture).__webglTexture&amp;&amp;n.depthTexture.image.width===n.width&amp;&amp;n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!<span class="code-number">0</span>),H(n.depthTexture,<span class="code-number">0</span>);<span class="code-keyword">var</span> i=r.get(n.depthTexture).__webglTexture;<span class="code-keyword">if</span>(n.depthTexture.format===E)t.framebufferTexture2D(<span class="code-number">36160</span>,<span class="code-number">36096</span>,<span class="code-number">3553</span>,i,<span class="code-number">0</span>);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(n.depthTexture.format!==A)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown depthTexture format"</span>);t.framebufferTexture2D(<span class="code-number">36160</span>,<span class="code-number">33306</span>,<span class="code-number">3553</span>,i,<span class="code-number">0</span>)}}(n.__webglFramebuffer,e)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(i){n.__webglDepthbuffer=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;<span class="code-number">6</span>;a++)t.bindFramebuffer(<span class="code-number">36160</span>,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),Z(n.__webglDepthbuffer[a],e,!<span class="code-number">1</span>)}<span class="code-keyword">else</span> t.bindFramebuffer(<span class="code-number">36160</span>,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),Z(n.__webglDepthbuffer,e,!<span class="code-number">1</span>);t.bindFramebuffer(<span class="code-number">36160</span>,<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Q</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> h&amp;&amp;t.isWebGLMultisampleRenderTarget?<span class="code-built_in">Math</span>.min(L,t.samples):<span class="code-number">0</span>}<span class="code-keyword">var</span> K=!<span class="code-number">1</span>,$=!<span class="code-number">1</span>;<span class="code-keyword">this</span>.allocateTextureUnit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=G;<span class="code-keyword">return</span> t&gt;=v&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLTextures: Trying to use "</span>+t+<span class="code-string">" texture units while this GPU supports only "</span>+v),G+=<span class="code-number">1</span>,t},<span class="code-keyword">this</span>.resetTextureUnits=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{G=<span class="code-number">0</span>},<span class="code-keyword">this</span>.setTexture2D=H,<span class="code-keyword">this</span>.setTexture2DArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i=r.get(t);t.version&gt;<span class="code-number">0</span>&amp;&amp;i.__version!==t.version?X(i,t,e):(n.activeTexture(<span class="code-number">33984</span>+e),n.bindTexture(<span class="code-number">35866</span>,i.__webglTexture))},<span class="code-keyword">this</span>.setTexture3D=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i=r.get(t);t.version&gt;<span class="code-number">0</span>&amp;&amp;i.__version!==t.version?X(i,t,e):(n.activeTexture(<span class="code-number">33984</span>+e),n.bindTexture(<span class="code-number">32879</span>,i.__webglTexture))},<span class="code-keyword">this</span>.setTextureCube=k,<span class="code-keyword">this</span>.setupRenderTarget=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=r.get(e),s=r.get(e.texture);e.addEventListener(<span class="code-string">"dispose"</span>,F),s.__webglTexture=t.createTexture(),o.memory.textures++;<span class="code-keyword">var</span> c=!<span class="code-number">0</span>===e.isWebGLCubeRenderTarget,l=!<span class="code-number">0</span>===e.isWebGLMultisampleRenderTarget,u=N(e)||h;<span class="code-keyword">if</span>(!h||e.texture.format!==S||e.texture.type!==b&amp;&amp;e.texture.type!==w||(e.texture.format=T,<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead."</span>)),c){i.__webglFramebuffer=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>;d&lt;<span class="code-number">6</span>;d++)i.__webglFramebuffer[d]=t.createFramebuffer()}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(i.__webglFramebuffer=t.createFramebuffer(),l)<span class="code-keyword">if</span>(h){i.__webglMultisampledFramebuffer=t.createFramebuffer(),i.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(<span class="code-number">36161</span>,i.__webglColorRenderbuffer);<span class="code-keyword">var</span> p=a.convert(e.texture.format),f=a.convert(e.texture.type),m=B(e.texture.internalFormat,p,f),v=Q(e);t.renderbufferStorageMultisample(<span class="code-number">36161</span>,v,m,e.width,e.height),t.bindFramebuffer(<span class="code-number">36160</span>,i.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(<span class="code-number">36160</span>,<span class="code-number">36064</span>,<span class="code-number">36161</span>,i.__webglColorRenderbuffer),t.bindRenderbuffer(<span class="code-number">36161</span>,<span class="code-literal">null</span>),e.depthBuffer&amp;&amp;(i.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(i.__webglDepthRenderbuffer,e,!<span class="code-number">0</span>)),t.bindFramebuffer(<span class="code-number">36160</span>,<span class="code-literal">null</span>)}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2."</span>);<span class="code-keyword">if</span>(c){n.bindTexture(<span class="code-number">34067</span>,s.__webglTexture),j(<span class="code-number">34067</span>,e.texture,u);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>;g&lt;<span class="code-number">6</span>;g++)Y(i.__webglFramebuffer[g],e,<span class="code-number">36064</span>,<span class="code-number">34069</span>+g);D(e.texture,u)&amp;&amp;O(<span class="code-number">34067</span>,e.texture,e.width,e.height),n.bindTexture(<span class="code-number">34067</span>,<span class="code-literal">null</span>)}<span class="code-keyword">else</span> n.bindTexture(<span class="code-number">3553</span>,s.__webglTexture),j(<span class="code-number">3553</span>,e.texture,u),Y(i.__webglFramebuffer,e,<span class="code-number">36064</span>,<span class="code-number">3553</span>),D(e.texture,u)&amp;&amp;O(<span class="code-number">3553</span>,e.texture,e.width,e.height),n.bindTexture(<span class="code-number">3553</span>,<span class="code-literal">null</span>);e.depthBuffer&amp;&amp;J(e)},<span class="code-keyword">this</span>.updateRenderTargetMipmap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.texture;<span class="code-keyword">if</span>(D(e,N(t)||h)){<span class="code-keyword">var</span> i=t.isWebGLCubeRenderTarget?<span class="code-number">34067</span>:<span class="code-number">3553</span>,a=r.get(e).__webglTexture;n.bindTexture(i,a),O(i,e,t.width,t.height),n.bindTexture(i,<span class="code-literal">null</span>)}},<span class="code-keyword">this</span>.updateMultisampleRenderTarget=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.isWebGLMultisampleRenderTarget)<span class="code-keyword">if</span>(h){<span class="code-keyword">var</span> n=r.get(e);t.bindFramebuffer(<span class="code-number">36008</span>,n.__webglMultisampledFramebuffer),t.bindFramebuffer(<span class="code-number">36009</span>,n.__webglFramebuffer);<span class="code-keyword">var</span> i=e.width,a=e.height,o=<span class="code-number">16384</span>;e.depthBuffer&amp;&amp;(o|=<span class="code-number">256</span>),e.stencilBuffer&amp;&amp;(o|=<span class="code-number">1024</span>),t.blitFramebuffer(<span class="code-number">0</span>,<span class="code-number">0</span>,i,a,<span class="code-number">0</span>,<span class="code-number">0</span>,i,a,o,<span class="code-number">9728</span>),t.bindFramebuffer(<span class="code-number">36160</span>,n.__webglMultisampledFramebuffer)}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2."</span>)},<span class="code-keyword">this</span>.safeSetTexture2D=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t&amp;&amp;t.isWebGLRenderTarget&amp;&amp;(!<span class="code-number">1</span>===K&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."</span>),K=!<span class="code-number">0</span>),t=t.texture),H(t,e)},<span class="code-keyword">this</span>.safeSetTextureCube=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t&amp;&amp;t.isWebGLCubeRenderTarget&amp;&amp;(!<span class="code-number">1</span>===$&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."</span>),$=!<span class="code-number">0</span>),t=t.texture),k(t,e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ea</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=n.isWebGL2;<span class="code-keyword">return</span>{<span class="code-attr">convert</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">if</span>(t===y)<span class="code-keyword">return</span> <span class="code-number">5121</span>;<span class="code-keyword">if</span>(<span class="code-number">1017</span>===t)<span class="code-keyword">return</span> <span class="code-number">32819</span>;<span class="code-keyword">if</span>(<span class="code-number">1018</span>===t)<span class="code-keyword">return</span> <span class="code-number">32820</span>;<span class="code-keyword">if</span>(<span class="code-number">1019</span>===t)<span class="code-keyword">return</span> <span class="code-number">33635</span>;<span class="code-keyword">if</span>(<span class="code-number">1010</span>===t)<span class="code-keyword">return</span> <span class="code-number">5120</span>;<span class="code-keyword">if</span>(<span class="code-number">1011</span>===t)<span class="code-keyword">return</span> <span class="code-number">5122</span>;<span class="code-keyword">if</span>(t===x)<span class="code-keyword">return</span> <span class="code-number">5123</span>;<span class="code-keyword">if</span>(<span class="code-number">1013</span>===t)<span class="code-keyword">return</span> <span class="code-number">5124</span>;<span class="code-keyword">if</span>(t===_)<span class="code-keyword">return</span> <span class="code-number">5125</span>;<span class="code-keyword">if</span>(t===b)<span class="code-keyword">return</span> <span class="code-number">5126</span>;<span class="code-keyword">if</span>(t===w)<span class="code-keyword">return</span> r?<span class="code-number">5131</span>:<span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"OES_texture_half_float"</span>))?n.HALF_FLOAT_OES:<span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-number">1021</span>===t)<span class="code-keyword">return</span> <span class="code-number">6406</span>;<span class="code-keyword">if</span>(t===S)<span class="code-keyword">return</span> <span class="code-number">6407</span>;<span class="code-keyword">if</span>(t===T)<span class="code-keyword">return</span> <span class="code-number">6408</span>;<span class="code-keyword">if</span>(<span class="code-number">1024</span>===t)<span class="code-keyword">return</span> <span class="code-number">6409</span>;<span class="code-keyword">if</span>(<span class="code-number">1025</span>===t)<span class="code-keyword">return</span> <span class="code-number">6410</span>;<span class="code-keyword">if</span>(t===E)<span class="code-keyword">return</span> <span class="code-number">6402</span>;<span class="code-keyword">if</span>(t===A)<span class="code-keyword">return</span> <span class="code-number">34041</span>;<span class="code-keyword">if</span>(<span class="code-number">1028</span>===t)<span class="code-keyword">return</span> <span class="code-number">6403</span>;<span class="code-keyword">if</span>(<span class="code-number">1029</span>===t)<span class="code-keyword">return</span> <span class="code-number">36244</span>;<span class="code-keyword">if</span>(<span class="code-number">1030</span>===t)<span class="code-keyword">return</span> <span class="code-number">33319</span>;<span class="code-keyword">if</span>(<span class="code-number">1031</span>===t)<span class="code-keyword">return</span> <span class="code-number">33320</span>;<span class="code-keyword">if</span>(<span class="code-number">1032</span>===t)<span class="code-keyword">return</span> <span class="code-number">36248</span>;<span class="code-keyword">if</span>(<span class="code-number">1033</span>===t)<span class="code-keyword">return</span> <span class="code-number">36249</span>;<span class="code-keyword">if</span>(t===L||t===R||t===C||t===P){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===(n=e.get(<span class="code-string">"WEBGL_compressed_texture_s3tc"</span>)))<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(t===L)<span class="code-keyword">return</span> n.COMPRESSED_RGB_S3TC_DXT1_EXT;<span class="code-keyword">if</span>(t===R)<span class="code-keyword">return</span> n.COMPRESSED_RGBA_S3TC_DXT1_EXT;<span class="code-keyword">if</span>(t===C)<span class="code-keyword">return</span> n.COMPRESSED_RGBA_S3TC_DXT3_EXT;<span class="code-keyword">if</span>(t===P)<span class="code-keyword">return</span> n.COMPRESSED_RGBA_S3TC_DXT5_EXT}<span class="code-keyword">if</span>(t===I||t===N||t===D||t===O){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===(n=e.get(<span class="code-string">"WEBGL_compressed_texture_pvrtc"</span>)))<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(t===I)<span class="code-keyword">return</span> n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;<span class="code-keyword">if</span>(t===N)<span class="code-keyword">return</span> n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;<span class="code-keyword">if</span>(t===D)<span class="code-keyword">return</span> n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;<span class="code-keyword">if</span>(t===O)<span class="code-keyword">return</span> n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}<span class="code-keyword">if</span>(<span class="code-number">36196</span>===t)<span class="code-keyword">return</span> <span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"WEBGL_compressed_texture_etc1"</span>))?n.COMPRESSED_RGB_ETC1_WEBGL:<span class="code-literal">null</span>;<span class="code-keyword">if</span>((t===B||t===z)&amp;&amp;<span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"WEBGL_compressed_texture_etc"</span>))){<span class="code-keyword">if</span>(t===B)<span class="code-keyword">return</span> n.COMPRESSED_RGB8_ETC2;<span class="code-keyword">if</span>(t===z)<span class="code-keyword">return</span> n.COMPRESSED_RGBA8_ETC2_EAC}<span class="code-keyword">return</span> <span class="code-number">37808</span>===t||<span class="code-number">37809</span>===t||<span class="code-number">37810</span>===t||<span class="code-number">37811</span>===t||<span class="code-number">37812</span>===t||<span class="code-number">37813</span>===t||<span class="code-number">37814</span>===t||<span class="code-number">37815</span>===t||<span class="code-number">37816</span>===t||<span class="code-number">37817</span>===t||<span class="code-number">37818</span>===t||<span class="code-number">37819</span>===t||<span class="code-number">37820</span>===t||<span class="code-number">37821</span>===t||<span class="code-number">37840</span>===t||<span class="code-number">37841</span>===t||<span class="code-number">37842</span>===t||<span class="code-number">37843</span>===t||<span class="code-number">37844</span>===t||<span class="code-number">37845</span>===t||<span class="code-number">37846</span>===t||<span class="code-number">37847</span>===t||<span class="code-number">37848</span>===t||<span class="code-number">37849</span>===t||<span class="code-number">37850</span>===t||<span class="code-number">37851</span>===t||<span class="code-number">37852</span>===t||<span class="code-number">37853</span>===t?<span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"WEBGL_compressed_texture_astc"</span>))?t:<span class="code-literal">null</span>:<span class="code-number">36492</span>===t?<span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"EXT_texture_compression_bptc"</span>))?t:<span class="code-literal">null</span>:t===M?r?<span class="code-number">34042</span>:<span class="code-literal">null</span>!==(n=e.get(<span class="code-string">"WEBGL_depth_texture"</span>))?n.UNSIGNED_INT_24_8_WEBGL:<span class="code-literal">null</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">na</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),Xn.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.cameras=t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ra</span>(<span class="code-params"></span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Group"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ia</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._targetRay=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._grip=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._hand=<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">aa</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=<span class="code-literal">null</span>,i=<span class="code-number">1</span>,a=<span class="code-literal">null</span>,o=<span class="code-string">"local-floor"</span>,s=<span class="code-literal">null</span>,c=[],l=<span class="code-keyword">new</span> <span class="code-built_in">Map</span>,u=<span class="code-keyword">new</span> Xn;u.layers.enable(<span class="code-number">1</span>),u.viewport=<span class="code-keyword">new</span> xt;<span class="code-keyword">var</span> h=<span class="code-keyword">new</span> Xn;h.layers.enable(<span class="code-number">2</span>),h.viewport=<span class="code-keyword">new</span> xt;<span class="code-keyword">var</span> d=[u,h],p=<span class="code-keyword">new</span> na;p.layers.enable(<span class="code-number">1</span>),p.layers.enable(<span class="code-number">2</span>);<span class="code-keyword">var</span> f=<span class="code-literal">null</span>,m=<span class="code-literal">null</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">v</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=l.get(t.inputSource);e&amp;&amp;e.dispatchEvent({<span class="code-attr">type</span>:t.type,<span class="code-attr">data</span>:t.inputSource})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">g</span>(<span class="code-params"></span>)</span>{l.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.disconnect(e)})),l.clear(),t.setFramebuffer(<span class="code-literal">null</span>),t.setRenderTarget(t.getRenderTarget()),S.stop(),n.isPresenting=!<span class="code-number">1</span>,n.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"sessionend"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">y</span>(<span class="code-params">t</span>)</span>{a=t,S.setContext(r),S.start(),n.isPresenting=!<span class="code-number">0</span>,n.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"sessionstart"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">x</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=r.inputSources,n=<span class="code-number">0</span>;n&lt;c.length;n++)l.set(e[n],c[n]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;t.removed.length;i++){<span class="code-keyword">var</span> a=t.removed[i],o=l.get(a);o&amp;&amp;(o.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"disconnected"</span>,<span class="code-attr">data</span>:a}),l.delete(a))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>;s&lt;t.added.length;s++){<span class="code-keyword">var</span> u=t.added[s],h=l.get(u);h&amp;&amp;h.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"connected"</span>,<span class="code-attr">data</span>:u})}}<span class="code-keyword">this</span>.enabled=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.isPresenting=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.getController=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=c[t];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> ia,c[t]=e),e.getTargetRaySpace()},<span class="code-keyword">this</span>.getControllerGrip=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=c[t];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> ia,c[t]=e),e.getGripSpace()},<span class="code-keyword">this</span>.getHand=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=c[t];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> ia,c[t]=e),e.getHandSpace()},<span class="code-keyword">this</span>.setFramebufferScaleFactor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i=t,!<span class="code-number">0</span>===n.isPresenting&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebXRManager: Cannot change framebuffer scale while presenting."</span>)},<span class="code-keyword">this</span>.setReferenceSpaceType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{o=t,!<span class="code-number">0</span>===n.isPresenting&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebXRManager: Cannot change reference space type while presenting."</span>)},<span class="code-keyword">this</span>.getReferenceSpace=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a},<span class="code-keyword">this</span>.getSession=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r},<span class="code-keyword">this</span>.setSession=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==(r=t)){r.addEventListener(<span class="code-string">"select"</span>,v),r.addEventListener(<span class="code-string">"selectstart"</span>,v),r.addEventListener(<span class="code-string">"selectend"</span>,v),r.addEventListener(<span class="code-string">"squeeze"</span>,v),r.addEventListener(<span class="code-string">"squeezestart"</span>,v),r.addEventListener(<span class="code-string">"squeezeend"</span>,v),r.addEventListener(<span class="code-string">"end"</span>,g);<span class="code-keyword">var</span> n=e.getContextAttributes();!<span class="code-number">0</span>!==n.xrCompatible&amp;&amp;e.makeXRCompatible();<span class="code-keyword">var</span> a={<span class="code-attr">antialias</span>:n.antialias,<span class="code-attr">alpha</span>:n.alpha,<span class="code-attr">depth</span>:n.depth,<span class="code-attr">stencil</span>:n.stencil,<span class="code-attr">framebufferScaleFactor</span>:i},s=<span class="code-keyword">new</span> XRWebGLLayer(r,e,a);r.updateRenderState({<span class="code-attr">baseLayer</span>:s}),r.requestReferenceSpace(o).then(y),r.addEventListener(<span class="code-string">"inputsourceschange"</span>,x)}};<span class="code-keyword">var</span> _=<span class="code-keyword">new</span> Mt,b=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">t,e</span>)</span>{<span class="code-literal">null</span>===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}<span class="code-keyword">this</span>.getCamera=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&amp;&amp;m===p.far||(r.updateRenderState({<span class="code-attr">depthNear</span>:p.near,<span class="code-attr">depthFar</span>:p.far}),f=p.near,m=p.far);<span class="code-keyword">var</span> e=t.parent,n=p.cameras;w(p,e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;n.length;i++)w(n[i],e);t.matrixWorld.copy(p.matrixWorld);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=t.children,o=<span class="code-number">0</span>,s=a.length;o&lt;s;o++)a[o].updateMatrixWorld(!<span class="code-number">0</span>);<span class="code-keyword">return</span> <span class="code-number">2</span>===n.length?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{_.setFromMatrixPosition(e.matrixWorld),b.setFromMatrixPosition(n.matrixWorld);<span class="code-keyword">var</span> r=_.distanceTo(b),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[<span class="code-number">14</span>]/(i[<span class="code-number">10</span>]<span class="code-number">-1</span>),s=i[<span class="code-number">14</span>]/(i[<span class="code-number">10</span>]+<span class="code-number">1</span>),c=(i[<span class="code-number">9</span>]+<span class="code-number">1</span>)/i[<span class="code-number">5</span>],l=(i[<span class="code-number">9</span>]<span class="code-number">-1</span>)/i[<span class="code-number">5</span>],u=(i[<span class="code-number">8</span>]<span class="code-number">-1</span>)/i[<span class="code-number">0</span>],h=(a[<span class="code-number">8</span>]+<span class="code-number">1</span>)/a[<span class="code-number">0</span>],d=o*u,p=o*h,f=r/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();<span class="code-keyword">var</span> v=o+f,g=s+f,y=d-m,x=p+(r-m),w=c*s/g*v,M=l*s/g*v;t.projectionMatrix.makePerspective(y,x,w,M,v,g)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};<span class="code-keyword">var</span> M=<span class="code-literal">null</span>;<span class="code-keyword">var</span> S=<span class="code-keyword">new</span> nr;S.setAnimationLoop((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==(s=n.getViewerPose(a))){<span class="code-keyword">var</span> i=s.views,o=r.renderState.baseLayer;t.setFramebuffer(o.framebuffer);<span class="code-keyword">var</span> l=!<span class="code-number">1</span>;i.length!==p.cameras.length&amp;&amp;(p.cameras.length=<span class="code-number">0</span>,l=!<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;i.length;u++){<span class="code-keyword">var</span> h=i[u],f=o.getViewport(h),m=d[u];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),<span class="code-number">0</span>===u&amp;&amp;p.matrix.copy(m.matrix),!<span class="code-number">0</span>===l&amp;&amp;p.cameras.push(m)}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=r.inputSources,g=<span class="code-number">0</span>;g&lt;c.length;g++){<span class="code-keyword">var</span> y=c[g],x=v[g];y.update(x,n,a)}M&amp;&amp;M(e,n)})),<span class="code-keyword">this</span>.setAnimationLoop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{M=t},<span class="code-keyword">this</span>.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oa</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{e.opacity.value=n.opacity,n.color&amp;&amp;e.diffuse.value.copy(n.color),n.emissive&amp;&amp;e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&amp;&amp;(e.map.value=n.map),n.alphaMap&amp;&amp;(e.alphaMap.value=n.alphaMap),n.specularMap&amp;&amp;(e.specularMap.value=n.specularMap);<span class="code-keyword">var</span> r,i,a=t.get(n).envMap;<span class="code-keyword">if</span>(a){e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture&amp;&amp;a._needsFlipEnvMap?<span class="code-number">-1</span>:<span class="code-number">1</span>,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;<span class="code-keyword">var</span> o=t.get(a).__maxMipLevel;<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;(e.maxMipLevel.value=o)}n.lightMap&amp;&amp;(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&amp;&amp;(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&amp;&amp;(r=n.clearcoatRoughnessMap),<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;(r.isWebGLRenderTarget&amp;&amp;(r=r.texture),!<span class="code-number">0</span>===r.matrixAutoUpdate&amp;&amp;r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&amp;&amp;(i=n.lightMap),<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(i.isWebGLRenderTarget&amp;&amp;(i=i.texture),!<span class="code-number">0</span>===i.matrixAutoUpdate&amp;&amp;i.updateMatrix(),e.uv2Transform.value.copy(i.matrix))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,n</span>)</span>{e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&amp;&amp;(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&amp;&amp;(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&amp;&amp;(e.emissiveMap.value=n.emissiveMap),n.bumpMap&amp;&amp;(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,<span class="code-number">1</span>===n.side&amp;&amp;(e.bumpScale.value*=<span class="code-number">-1</span>)),n.normalMap&amp;&amp;(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),<span class="code-number">1</span>===n.side&amp;&amp;e.normalScale.value.negate()),n.displacementMap&amp;&amp;(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&amp;&amp;(e.envMapIntensity.value=n.envMapIntensity)}<span class="code-keyword">return</span>{<span class="code-attr">refreshFogUniforms</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&amp;&amp;(t.fogDensity.value=e.density)},<span class="code-attr">refreshMaterialUniforms</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,r,i,a</span>)</span>{r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap)}(t,r)):r.isMeshToonMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.gradientMap&amp;&amp;(t.gradientMap.value=e.gradientMap);e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class="code-number">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class="code-number">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class="code-number">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.specular.value.copy(e.specular),t.shininess.value=<span class="code-built_in">Math</span>.max(e.shininess,<span class="code-number">1e-4</span>),e.emissiveMap&amp;&amp;(t.emissiveMap.value=e.emissiveMap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class="code-number">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class="code-number">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class="code-number">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r),r.isMeshPhysicalMaterial?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&amp;&amp;t.sheen.value.copy(e.sheen);e.clearcoatMap&amp;&amp;(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&amp;&amp;(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&amp;&amp;(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,<span class="code-number">1</span>===e.side&amp;&amp;t.clearcoatNormalScale.value.negate());t.transmission.value=e.transmission,e.transmissionMap&amp;&amp;(t.transmissionMap.value=e.transmissionMap)}(t,r):n(t,r)):r.isMeshMatcapMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.matcap&amp;&amp;(t.matcap.value=e.matcap);e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class="code-number">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class="code-number">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class="code-number">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDistanceMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?(e(t,r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.bumpMap&amp;&amp;(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,<span class="code-number">1</span>===e.side&amp;&amp;(t.bumpScale.value*=<span class="code-number">-1</span>));e.normalMap&amp;&amp;(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),<span class="code-number">1</span>===e.side&amp;&amp;t.normalScale.value.negate());e.displacementMap&amp;&amp;(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=<span class="code-number">.5</span>*r,e.map&amp;&amp;(t.map.value=e.map);e.alphaMap&amp;&amp;(t.alphaMap.value=e.alphaMap);<span class="code-keyword">var</span> i;e.map?i=e.map:e.alphaMap&amp;&amp;(i=e.alphaMap);<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(!<span class="code-number">0</span>===i.matrixAutoUpdate&amp;&amp;i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,r,i,a):r.isSpriteMaterial?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&amp;&amp;(t.map.value=e.map);e.alphaMap&amp;&amp;(t.alphaMap.value=e.alphaMap);<span class="code-keyword">var</span> n;e.map?n=e.map:e.alphaMap&amp;&amp;(n=e.alphaMap);<span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;(!<span class="code-number">0</span>===n.matrixAutoUpdate&amp;&amp;n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&amp;&amp;(r.uniformsNeedUpdate=!<span class="code-number">1</span>)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sa</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n=<span class="code-keyword">void</span> <span class="code-number">0</span>!==(t=t||{}).canvas?t.canvas:((e=<span class="code-built_in">document</span>.createElementNS(<span class="code-string">"http://www.w3.org/1999/xhtml"</span>,<span class="code-string">"canvas"</span>)).style.display=<span class="code-string">"block"</span>,e),r=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.context?t.context:<span class="code-literal">null</span>,i=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.alpha&amp;&amp;t.alpha,a=<span class="code-keyword">void</span> <span class="code-number">0</span>===t.depth||t.depth,o=<span class="code-keyword">void</span> <span class="code-number">0</span>===t.stencil||t.stencil,s=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.antialias&amp;&amp;t.antialias,c=<span class="code-keyword">void</span> <span class="code-number">0</span>===t.premultipliedAlpha||t.premultipliedAlpha,l=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.preserveDrawingBuffer&amp;&amp;t.preserveDrawingBuffer,u=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.powerPreference?t.powerPreference:<span class="code-string">"default"</span>,h=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.failIfMajorPerformanceCaveat&amp;&amp;t.failIfMajorPerformanceCaveat,d=<span class="code-literal">null</span>,p=<span class="code-literal">null</span>;<span class="code-keyword">this</span>.domElement=n,<span class="code-keyword">this</span>.debug={<span class="code-attr">checkShaderErrors</span>:!<span class="code-number">0</span>},<span class="code-keyword">this</span>.autoClear=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.autoClearColor=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.autoClearDepth=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.autoClearStencil=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.sortObjects=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.clippingPlanes=[],<span class="code-keyword">this</span>.localClippingEnabled=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.gammaFactor=<span class="code-number">2</span>,<span class="code-keyword">this</span>.outputEncoding=q,<span class="code-keyword">this</span>.physicallyCorrectLights=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.toneMapping=<span class="code-number">0</span>,<span class="code-keyword">this</span>.toneMappingExposure=<span class="code-number">1</span>,<span class="code-keyword">this</span>.maxMorphTargets=<span class="code-number">8</span>,<span class="code-keyword">this</span>.maxMorphNormals=<span class="code-number">4</span>;<span class="code-keyword">var</span> f=<span class="code-keyword">this</span>,m=!<span class="code-number">1</span>,v=<span class="code-literal">null</span>,g=<span class="code-number">0</span>,x=<span class="code-number">0</span>,_=<span class="code-literal">null</span>,M=<span class="code-literal">null</span>,S=<span class="code-number">-1</span>,E=<span class="code-literal">null</span>,A=<span class="code-literal">null</span>,L=<span class="code-keyword">new</span> xt,R=<span class="code-keyword">new</span> xt,C=<span class="code-literal">null</span>,P=n.width,I=n.height,N=<span class="code-number">1</span>,D=<span class="code-literal">null</span>,O=<span class="code-literal">null</span>,B=<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,P,I),z=<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,P,I),U=!<span class="code-number">1</span>,F=<span class="code-keyword">new</span> er,G=!<span class="code-number">1</span>,H=!<span class="code-number">1</span>,k=<span class="code-keyword">new</span> Qt,V=<span class="code-keyword">new</span> Mt,W={<span class="code-attr">background</span>:<span class="code-literal">null</span>,<span class="code-attr">fog</span>:<span class="code-literal">null</span>,<span class="code-attr">environment</span>:<span class="code-literal">null</span>,<span class="code-attr">overrideMaterial</span>:<span class="code-literal">null</span>,<span class="code-attr">isScene</span>:!<span class="code-number">0</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">j</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===_?N:<span class="code-number">1</span>}<span class="code-keyword">var</span> X,Y,Z,J,Q,K,$,tt,et,nt,rt,it,at,ot,ct,lt,ut,ht,dt,ft,mt,vt=r;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gt</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;t.length;r++){<span class="code-keyword">var</span> i=t[r],a=n.getContext(i,e);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==a)<span class="code-keyword">return</span> a}<span class="code-keyword">return</span> <span class="code-literal">null</span>}<span class="code-keyword">try</span>{<span class="code-keyword">var</span> yt={<span class="code-attr">alpha</span>:i,<span class="code-attr">depth</span>:a,<span class="code-attr">stencil</span>:o,<span class="code-attr">antialias</span>:s,<span class="code-attr">premultipliedAlpha</span>:c,<span class="code-attr">preserveDrawingBuffer</span>:l,<span class="code-attr">powerPreference</span>:u,<span class="code-attr">failIfMajorPerformanceCaveat</span>:h};<span class="code-keyword">if</span>(n.addEventListener(<span class="code-string">"webglcontextlost"</span>,Tt,!<span class="code-number">1</span>),n.addEventListener(<span class="code-string">"webglcontextrestored"</span>,Et,!<span class="code-number">1</span>),<span class="code-literal">null</span>===vt){<span class="code-keyword">var</span> _t=[<span class="code-string">"webgl2"</span>,<span class="code-string">"webgl"</span>,<span class="code-string">"experimental-webgl"</span>];<span class="code-keyword">if</span>(!<span class="code-number">0</span>===f.isWebGL1Renderer&amp;&amp;_t.shift(),<span class="code-literal">null</span>===(vt=gt(_t,yt)))<span class="code-keyword">throw</span> gt(_t)?<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error creating WebGL context with your selected attributes."</span>):<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error creating WebGL context."</span>)}<span class="code-keyword">void</span> <span class="code-number">0</span>===vt.getShaderPrecisionFormat&amp;&amp;(vt.getShaderPrecisionFormat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">rangeMin</span>:<span class="code-number">1</span>,<span class="code-attr">rangeMax</span>:<span class="code-number">1</span>,<span class="code-attr">precision</span>:<span class="code-number">1</span>}})}<span class="code-keyword">catch</span>(t){<span class="code-keyword">throw</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer: "</span>+t.message),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bt</span>(<span class="code-params"></span>)</span>{X=<span class="code-keyword">new</span> fr(vt),!<span class="code-number">1</span>===(Y=<span class="code-keyword">new</span> hr(vt,X,t)).isWebGL2&amp;&amp;(X.get(<span class="code-string">"WEBGL_depth_texture"</span>),X.get(<span class="code-string">"OES_texture_float"</span>),X.get(<span class="code-string">"OES_texture_half_float"</span>),X.get(<span class="code-string">"OES_texture_half_float_linear"</span>),X.get(<span class="code-string">"OES_standard_derivatives"</span>),X.get(<span class="code-string">"OES_element_index_uint"</span>),X.get(<span class="code-string">"OES_vertex_array_object"</span>),X.get(<span class="code-string">"ANGLE_instanced_arrays"</span>)),X.get(<span class="code-string">"OES_texture_float_linear"</span>),ft=<span class="code-keyword">new</span> ea(vt,X,Y),(Z=<span class="code-keyword">new</span> $i(vt,X,Y)).scissor(R.copy(z).multiplyScalar(N).floor()),Z.viewport(L.copy(B).multiplyScalar(N).floor()),J=<span class="code-keyword">new</span> gr(vt),Q=<span class="code-keyword">new</span> Fi,K=<span class="code-keyword">new</span> ta(vt,X,Z,Q,Y,ft,J),$=<span class="code-keyword">new</span> pr(f),tt=<span class="code-keyword">new</span> rr(vt,Y),mt=<span class="code-keyword">new</span> lr(vt,X,tt,Y),et=<span class="code-keyword">new</span> mr(vt,tt,J,mt),nt=<span class="code-keyword">new</span> br(vt,et,tt,J),ut=<span class="code-keyword">new</span> _r(vt),ct=<span class="code-keyword">new</span> dr(Q),rt=<span class="code-keyword">new</span> Ui(f,$,X,Y,mt,ct),it=<span class="code-keyword">new</span> oa(Q),at=<span class="code-keyword">new</span> Vi(Q),ot=<span class="code-keyword">new</span> Zi(X,Y),lt=<span class="code-keyword">new</span> cr(f,$,Z,nt,c),ht=<span class="code-keyword">new</span> ur(vt,X,J,Y),dt=<span class="code-keyword">new</span> vr(vt,X,J,Y),J.programs=rt.programs,f.capabilities=Y,f.extensions=X,f.properties=Q,f.renderLists=at,f.state=Z,f.info=J}bt();<span class="code-keyword">var</span> wt=<span class="code-keyword">new</span> aa(f,vt);<span class="code-keyword">this</span>.xr=wt;<span class="code-keyword">var</span> St=<span class="code-keyword">new</span> Ki(f,nt,Y.maxTextureSize);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tt</span>(<span class="code-params">t</span>)</span>{t.preventDefault(),<span class="code-built_in">console</span>.log(<span class="code-string">"THREE.WebGLRenderer: Context Lost."</span>),m=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Et</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.log(<span class="code-string">"THREE.WebGLRenderer: Context Restored."</span>),m=!<span class="code-number">1</span>,bt()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">At</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.target;e.removeEventListener(<span class="code-string">"dispose"</span>,At),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Lt(t),Q.remove(t)}(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lt</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Q.get(t).program;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;rt.releaseProgram(e)}<span class="code-keyword">this</span>.shadowMap=St,<span class="code-keyword">this</span>.getContext=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> vt},<span class="code-keyword">this</span>.getContextAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> vt.getContextAttributes()},<span class="code-keyword">this</span>.forceContextLoss=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=X.get(<span class="code-string">"WEBGL_lose_context"</span>);t&amp;&amp;t.loseContext()},<span class="code-keyword">this</span>.forceContextRestore=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=X.get(<span class="code-string">"WEBGL_lose_context"</span>);t&amp;&amp;t.restoreContext()},<span class="code-keyword">this</span>.getPixelRatio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> N},<span class="code-keyword">this</span>.setPixelRatio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;(N=t,<span class="code-keyword">this</span>.setSize(P,I,!<span class="code-number">1</span>))},<span class="code-keyword">this</span>.getSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"WebGLRenderer: .getsize() now requires a Vector2 as an argument"</span>),t=<span class="code-keyword">new</span> pt),t.set(P,I)},<span class="code-keyword">this</span>.setSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{wt.isPresenting?<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: Can't change size while VR device is presenting."</span>):(P=t,I=e,n.width=<span class="code-built_in">Math</span>.floor(t*N),n.height=<span class="code-built_in">Math</span>.floor(e*N),!<span class="code-number">1</span>!==r&amp;&amp;(n.style.width=t+<span class="code-string">"px"</span>,n.style.height=e+<span class="code-string">"px"</span>),<span class="code-keyword">this</span>.setViewport(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e))},<span class="code-keyword">this</span>.getDrawingBufferSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"</span>),t=<span class="code-keyword">new</span> pt),t.set(P*N,I*N).floor()},<span class="code-keyword">this</span>.setDrawingBufferSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r</span>)</span>{P=t,I=e,N=r,n.width=<span class="code-built_in">Math</span>.floor(t*r),n.height=<span class="code-built_in">Math</span>.floor(e*r),<span class="code-keyword">this</span>.setViewport(<span class="code-number">0</span>,<span class="code-number">0</span>,t,e)},<span class="code-keyword">this</span>.getCurrentViewport=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"</span>),t=<span class="code-keyword">new</span> xt),t.copy(L)},<span class="code-keyword">this</span>.getViewport=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.copy(B)},<span class="code-keyword">this</span>.setViewport=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{t.isVector4?B.set(t.x,t.y,t.z,t.w):B.set(t,e,n,r),Z.viewport(L.copy(B).multiplyScalar(N).floor())},<span class="code-keyword">this</span>.getScissor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.copy(z)},<span class="code-keyword">this</span>.setScissor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),Z.scissor(R.copy(z).multiplyScalar(N).floor())},<span class="code-keyword">this</span>.getScissorTest=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> U},<span class="code-keyword">this</span>.setScissorTest=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Z.setScissorTest(U=t)},<span class="code-keyword">this</span>.setOpaqueSort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{D=t},<span class="code-keyword">this</span>.setTransparentSort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{O=t},<span class="code-keyword">this</span>.getClearColor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> lt.getClearColor()},<span class="code-keyword">this</span>.setClearColor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{lt.setClearColor.apply(lt,<span class="code-built_in">arguments</span>)},<span class="code-keyword">this</span>.getClearAlpha=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> lt.getClearAlpha()},<span class="code-keyword">this</span>.setClearAlpha=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{lt.setClearAlpha.apply(lt,<span class="code-built_in">arguments</span>)},<span class="code-keyword">this</span>.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-number">0</span>;(<span class="code-keyword">void</span> <span class="code-number">0</span>===t||t)&amp;&amp;(r|=<span class="code-number">16384</span>),(<span class="code-keyword">void</span> <span class="code-number">0</span>===e||e)&amp;&amp;(r|=<span class="code-number">256</span>),(<span class="code-keyword">void</span> <span class="code-number">0</span>===n||n)&amp;&amp;(r|=<span class="code-number">1024</span>),vt.clear(r)},<span class="code-keyword">this</span>.clearColor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clear(!<span class="code-number">0</span>,!<span class="code-number">1</span>,!<span class="code-number">1</span>)},<span class="code-keyword">this</span>.clearDepth=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clear(!<span class="code-number">1</span>,!<span class="code-number">0</span>,!<span class="code-number">1</span>)},<span class="code-keyword">this</span>.clearStencil=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clear(!<span class="code-number">1</span>,!<span class="code-number">1</span>,!<span class="code-number">0</span>)},<span class="code-keyword">this</span>.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.removeEventListener(<span class="code-string">"webglcontextlost"</span>,Tt,!<span class="code-number">1</span>),n.removeEventListener(<span class="code-string">"webglcontextrestored"</span>,Et,!<span class="code-number">1</span>),at.dispose(),ot.dispose(),Q.dispose(),$.dispose(),nt.dispose(),mt.dispose(),wt.dispose(),Ct.stop()},<span class="code-keyword">this</span>.renderBufferImmediate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{mt.initAttributes();<span class="code-keyword">var</span> n=Q.get(t);t.hasPositions&amp;&amp;!n.position&amp;&amp;(n.position=vt.createBuffer()),t.hasNormals&amp;&amp;!n.normal&amp;&amp;(n.normal=vt.createBuffer()),t.hasUvs&amp;&amp;!n.uv&amp;&amp;(n.uv=vt.createBuffer()),t.hasColors&amp;&amp;!n.color&amp;&amp;(n.color=vt.createBuffer());<span class="code-keyword">var</span> r=e.getAttributes();t.hasPositions&amp;&amp;(vt.bindBuffer(<span class="code-number">34962</span>,n.position),vt.bufferData(<span class="code-number">34962</span>,t.positionArray,<span class="code-number">35048</span>),mt.enableAttribute(r.position),vt.vertexAttribPointer(r.position,<span class="code-number">3</span>,<span class="code-number">5126</span>,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),t.hasNormals&amp;&amp;(vt.bindBuffer(<span class="code-number">34962</span>,n.normal),vt.bufferData(<span class="code-number">34962</span>,t.normalArray,<span class="code-number">35048</span>),mt.enableAttribute(r.normal),vt.vertexAttribPointer(r.normal,<span class="code-number">3</span>,<span class="code-number">5126</span>,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),t.hasUvs&amp;&amp;(vt.bindBuffer(<span class="code-number">34962</span>,n.uv),vt.bufferData(<span class="code-number">34962</span>,t.uvArray,<span class="code-number">35048</span>),mt.enableAttribute(r.uv),vt.vertexAttribPointer(r.uv,<span class="code-number">2</span>,<span class="code-number">5126</span>,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),t.hasColors&amp;&amp;(vt.bindBuffer(<span class="code-number">34962</span>,n.color),vt.bufferData(<span class="code-number">34962</span>,t.colorArray,<span class="code-number">35048</span>),mt.enableAttribute(r.color),vt.vertexAttribPointer(r.color,<span class="code-number">3</span>,<span class="code-number">5126</span>,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),mt.disableUnusedAttributes(),vt.drawArrays(<span class="code-number">4</span>,<span class="code-number">0</span>,t.count),t.count=<span class="code-number">0</span>},<span class="code-keyword">this</span>.renderBufferDirect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-literal">null</span>===e&amp;&amp;(e=W);<span class="code-keyword">var</span> o=i.isMesh&amp;&amp;i.matrixWorld.determinant()&lt;<span class="code-number">0</span>,s=Ot(t,e,r,i);Z.setMaterial(r,o);<span class="code-keyword">var</span> c=n.index,l=n.attributes.position;<span class="code-keyword">if</span>(<span class="code-literal">null</span>===c){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===l||<span class="code-number">0</span>===l.count)<span class="code-keyword">return</span>}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">0</span>===c.count)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> u,h=<span class="code-number">1</span>;!<span class="code-number">0</span>===r.wireframe&amp;&amp;(c=et.getWireframeAttribute(n),h=<span class="code-number">2</span>),(r.morphTargets||r.morphNormals)&amp;&amp;ut.update(i,n,r,s),mt.setup(i,r,s,n,c);<span class="code-keyword">var</span> d=ht;<span class="code-literal">null</span>!==c&amp;&amp;(u=tt.get(c),(d=dt).setIndex(u));<span class="code-keyword">var</span> p=<span class="code-literal">null</span>!==c?c.count:l.count,f=n.drawRange.start*h,m=n.drawRange.count*h,v=<span class="code-literal">null</span>!==a?a.start*h:<span class="code-number">0</span>,g=<span class="code-literal">null</span>!==a?a.count*h:<span class="code-number">1</span>/<span class="code-number">0</span>,y=<span class="code-built_in">Math</span>.max(f,v),x=<span class="code-built_in">Math</span>.min(p,f+m,v+g)<span class="code-number">-1</span>,_=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,x-y+<span class="code-number">1</span>);<span class="code-keyword">if</span>(<span class="code-number">0</span>!==_){<span class="code-keyword">if</span>(i.isMesh)!<span class="code-number">0</span>===r.wireframe?(Z.setLineWidth(r.wireframeLinewidth*j()),d.setMode(<span class="code-number">1</span>)):d.setMode(<span class="code-number">4</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(i.isLine){<span class="code-keyword">var</span> b=r.linewidth;<span class="code-keyword">void</span> <span class="code-number">0</span>===b&amp;&amp;(b=<span class="code-number">1</span>),Z.setLineWidth(b*j()),i.isLineSegments?d.setMode(<span class="code-number">1</span>):i.isLineLoop?d.setMode(<span class="code-number">2</span>):d.setMode(<span class="code-number">3</span>)}<span class="code-keyword">else</span> i.isPoints?d.setMode(<span class="code-number">0</span>):i.isSprite&amp;&amp;d.setMode(<span class="code-number">4</span>);<span class="code-keyword">if</span>(i.isInstancedMesh)d.renderInstances(y,_,i.count);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n.isInstancedBufferGeometry){<span class="code-keyword">var</span> w=<span class="code-built_in">Math</span>.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,w)}<span class="code-keyword">else</span> d.render(y,_)}},<span class="code-keyword">this</span>.compile=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{(p=ot.get(t,e)).init(),t.traverseVisible((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.isLight&amp;&amp;t.layers.test(e.layers)&amp;&amp;(p.pushLight(t),t.castShadow&amp;&amp;p.pushShadow(t))})),p.setupLights(e);<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;t.traverse((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r=e.material;<span class="code-keyword">if</span>(r)<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(r))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;r.length;i++){<span class="code-keyword">var</span> a=r[i];!<span class="code-number">1</span>===n.has(a)&amp;&amp;(Dt(a,t,e),n.set(a))}<span class="code-keyword">else</span>!<span class="code-number">1</span>===n.has(r)&amp;&amp;(Dt(r,t,e),n.set(r))}))};<span class="code-keyword">var</span> Rt=<span class="code-literal">null</span>;<span class="code-keyword">var</span> Ct=<span class="code-keyword">new</span> nr;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pt</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==t.visible){<span class="code-keyword">if</span>(t.layers.test(e.layers))<span class="code-keyword">if</span>(t.isGroup)n=t.renderOrder;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isLOD)!<span class="code-number">0</span>===t.autoUpdate&amp;&amp;t.update(e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isLight)p.pushLight(t),t.castShadow&amp;&amp;p.pushShadow(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isSprite){<span class="code-keyword">if</span>(!t.frustumCulled||F.intersectsSprite(t)){r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k);<span class="code-keyword">var</span> i=nt.update(t),a=t.material;a.visible&amp;&amp;d.push(t,i,a,n,V.z,<span class="code-literal">null</span>)}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isImmediateRenderObject)r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k),d.push(t,<span class="code-literal">null</span>,t.material,n,V.z,<span class="code-literal">null</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>((t.isMesh||t.isLine||t.isPoints)&amp;&amp;(t.isSkinnedMesh&amp;&amp;t.skeleton.frame!==J.render.frame&amp;&amp;(t.skeleton.update(),t.skeleton.frame=J.render.frame),!t.frustumCulled||F.intersectsObject(t))){r&amp;&amp;V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(k);<span class="code-keyword">var</span> o=nt.update(t),s=t.material;<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(s))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=o.groups,l=<span class="code-number">0</span>,u=c.length;l&lt;u;l++){<span class="code-keyword">var</span> h=c[l],f=s[h.materialIndex];f&amp;&amp;f.visible&amp;&amp;d.push(t,o,f,n,V.z,h)}<span class="code-keyword">else</span> s.visible&amp;&amp;d.push(t,o,s,n,V.z,<span class="code-literal">null</span>)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=t.children,v=<span class="code-number">0</span>,g=m.length;v&lt;g;v++)Pt(m[v],e,n,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">It</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=!<span class="code-number">0</span>===e.isScene?e.overrideMaterial:<span class="code-literal">null</span>,i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++){<span class="code-keyword">var</span> o=t[i],s=o.object,c=o.geometry,l=<span class="code-literal">null</span>===r?o.material:r,u=o.group;<span class="code-keyword">if</span>(n.isArrayCamera){A=n;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=n.cameras,d=<span class="code-number">0</span>,f=h.length;d&lt;f;d++){<span class="code-keyword">var</span> m=h[d];s.layers.test(m.layers)&amp;&amp;(Z.viewport(L.copy(m.viewport)),p.setupLights(m),Nt(s,e,m,c,l,u))}}<span class="code-keyword">else</span> A=<span class="code-literal">null</span>,Nt(s,e,n,c,l,u)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nt</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">if</span>(t.onBeforeRender(f,e,n,r,i,a),p=ot.get(e,A||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){<span class="code-keyword">var</span> o=Ot(n,e,i,t);Z.setMaterial(i),mt.reset(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.render((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{f.renderBufferImmediate(t,e)}))}(t,o)}<span class="code-keyword">else</span> f.renderBufferDirect(n,e,r,i,t,a);t.onAfterRender(f,e,n,r,i,a),p=ot.get(e,A||n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Dt</span>(<span class="code-params">t,e,n</span>)</span>{!<span class="code-number">0</span>!==e.isScene&amp;&amp;(e=W);<span class="code-keyword">var</span> r=Q.get(t),i=p.state.lights,a=p.state.shadowsArray,o=i.state.version,s=rt.getParameters(t,i.state,a,e,n),c=rt.getProgramCacheKey(s),l=r.program,u=!<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===l)t.addEventListener(<span class="code-string">"dispose"</span>,At);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(l.cacheKey!==c)Lt(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r.lightsStateVersion!==o)u=!<span class="code-number">1</span>;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==s.shaderID){<span class="code-keyword">var</span> h=t.isMeshStandardMaterial?e.environment:<span class="code-literal">null</span>;<span class="code-keyword">return</span> <span class="code-keyword">void</span>(r.envMap=$.<span class="code-keyword">get</span>(t.envMap||h))}u=!1}u&amp;&amp;(s.uniforms=rt.getUniforms(t),t.onBeforeCompile(s,f),l=rt.acquireProgram(s,c),r.program=l,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var d=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&amp;&amp;!0!==t.clipping||(r.numClippingPlanes=ct.numPlanes,r.numIntersection=ct.numIntersection,d.clippingPlanes=ct.uniform),r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=$.<span class="code-keyword">get</span>(t.envMap||r.environment),r.needsLights=function(t){<span class="code-keyword">return</span> t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&amp;&amp;!<span class="code-number">0</span>===t.lights}(t),r.lightsStateVersion=o,r.needsLights&amp;&amp;(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);<span class="code-keyword">var</span> m=r.program.getUniforms(),v=yi.seqWithValue(m.seq,d);r.uniformsList=v}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ot</span>(<span class="code-params">t,e,n,r</span>)</span>{!<span class="code-number">0</span>!==e.isScene&amp;&amp;(e=W),K.resetTextureUnits();<span class="code-keyword">var</span> i=e.fog,a=n.isMeshStandardMaterial?e.environment:<span class="code-literal">null</span>,o=<span class="code-literal">null</span>===_?f.outputEncoding:_.texture.encoding,s=$.<span class="code-keyword">get</span>(n.envMap||a),c=Q.<span class="code-keyword">get</span>(n),l=p.state.lights;if(!0===G&amp;&amp;(!0===H||t!==E)){<span class="code-keyword">var</span> u=t===E&amp;&amp;n.id===S;ct.setState(n,t,u)}n.version===c.__version?n.fog&amp;&amp;c.fog!==i||c.environment!==a||c.needsLights&amp;&amp;c.lightsStateVersion!==l.state.version?Dt(n,e,r):<span class="code-keyword">void</span> <span class="code-number">0</span>===c.numClippingPlanes||c.numClippingPlanes===ct.numPlanes&amp;&amp;c.numIntersection===ct.numIntersection?(c.outputEncoding!==o||c.envMap!==s)&amp;&amp;Dt(n,e,r):Dt(n,e,r):(Dt(n,e,r),c.__version=n.version);<span class="code-keyword">var</span> h,d,m=!<span class="code-number">1</span>,v=!<span class="code-number">1</span>,g=!<span class="code-number">1</span>,y=c.program,x=y.getUniforms(),w=c.uniforms;<span class="code-keyword">if</span>(Z.useProgram(y.program)&amp;&amp;(m=!<span class="code-number">0</span>,v=!<span class="code-number">0</span>,g=!<span class="code-number">0</span>),n.id!==S&amp;&amp;(S=n.id,v=!<span class="code-number">0</span>),m||E!==t){<span class="code-keyword">if</span>(x.setValue(vt,<span class="code-string">"projectionMatrix"</span>,t.projectionMatrix),Y.logarithmicDepthBuffer&amp;&amp;x.setValue(vt,<span class="code-string">"logDepthBufFC"</span>,<span class="code-number">2</span>/(<span class="code-built_in">Math</span>.log(t.far+<span class="code-number">1</span>)/<span class="code-built_in">Math</span>.LN2)),E!==t&amp;&amp;(E=t,v=!<span class="code-number">0</span>,g=!<span class="code-number">0</span>),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){<span class="code-keyword">var</span> M=x.map.cameraPosition;<span class="code-keyword">void</span> <span class="code-number">0</span>!==M&amp;&amp;M.setValue(vt,V.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&amp;&amp;x.setValue(vt,<span class="code-string">"isOrthographic"</span>,!<span class="code-number">0</span>===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&amp;&amp;x.setValue(vt,<span class="code-string">"viewMatrix"</span>,t.matrixWorldInverse)}<span class="code-keyword">if</span>(n.skinning){x.setOptional(vt,r,<span class="code-string">"bindMatrix"</span>),x.setOptional(vt,r,<span class="code-string">"bindMatrixInverse"</span>);<span class="code-keyword">var</span> A=r.skeleton;<span class="code-keyword">if</span>(A){<span class="code-keyword">var</span> L=A.bones;<span class="code-keyword">if</span>(Y.floatVertexTextures){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===A.boneTexture){<span class="code-keyword">var</span> R=<span class="code-built_in">Math</span>.sqrt(<span class="code-number">4</span>*L.length);R=st.ceilPowerOfTwo(R),R=<span class="code-built_in">Math</span>.max(R,<span class="code-number">4</span>);<span class="code-keyword">var</span> C=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(R*R*<span class="code-number">4</span>);C.set(A.boneMatrices);<span class="code-keyword">var</span> P=<span class="code-keyword">new</span> Kn(C,R,R,T,b);A.boneMatrices=C,A.boneTexture=P,A.boneTextureSize=R}x.setValue(vt,<span class="code-string">"boneTexture"</span>,A.boneTexture,K),x.setValue(vt,<span class="code-string">"boneTextureSize"</span>,A.boneTextureSize)}<span class="code-keyword">else</span> x.setOptional(vt,A,<span class="code-string">"boneMatrices"</span>)}}<span class="code-keyword">return</span>(v||c.receiveShadow!==r.receiveShadow)&amp;&amp;(c.receiveShadow=r.receiveShadow,x.setValue(vt,<span class="code-string">"receiveShadow"</span>,r.receiveShadow)),v&amp;&amp;(x.setValue(vt,<span class="code-string">"toneMappingExposure"</span>,f.toneMappingExposure),c.needsLights&amp;&amp;(d=g,(h=w).ambientLightColor.needsUpdate=d,h.lightProbe.needsUpdate=d,h.directionalLights.needsUpdate=d,h.directionalLightShadows.needsUpdate=d,h.pointLights.needsUpdate=d,h.pointLightShadows.needsUpdate=d,h.spotLights.needsUpdate=d,h.spotLightShadows.needsUpdate=d,h.rectAreaLights.needsUpdate=d,h.hemisphereLights.needsUpdate=d),i&amp;&amp;n.fog&amp;&amp;it.refreshFogUniforms(w,i),it.refreshMaterialUniforms(w,n,N,I),yi.upload(vt,c.uniformsList,w,K)),n.isShaderMaterial&amp;&amp;!<span class="code-number">0</span>===n.uniformsNeedUpdate&amp;&amp;(yi.upload(vt,c.uniformsList,w,K),n.uniformsNeedUpdate=!<span class="code-number">1</span>),n.isSpriteMaterial&amp;&amp;x.setValue(vt,<span class="code-string">"center"</span>,r.center),x.setValue(vt,<span class="code-string">"modelViewMatrix"</span>,r.modelViewMatrix),x.setValue(vt,<span class="code-string">"normalMatrix"</span>,r.normalMatrix),x.setValue(vt,<span class="code-string">"modelMatrix"</span>,r.matrixWorld),y}Ct.setAnimationLoop((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{wt.isPresenting||Rt&amp;&amp;Rt(t)})),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>&amp;&amp;Ct.setContext(<span class="code-built_in">window</span>),<span class="code-keyword">this</span>.setAnimationLoop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Rt=t,wt.setAnimationLoop(t),<span class="code-literal">null</span>===t?Ct.stop():Ct.start()},<span class="code-keyword">this</span>.render=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."</span>),n=<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">3</span>]&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."</span>),r=<span class="code-built_in">arguments</span>[<span class="code-number">3</span>]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e||!<span class="code-number">0</span>===e.isCamera){<span class="code-keyword">if</span>(!<span class="code-number">0</span>!==m){mt.resetDefaultState(),S=<span class="code-number">-1</span>,E=<span class="code-literal">null</span>,!<span class="code-number">0</span>===t.autoUpdate&amp;&amp;t.updateMatrixWorld(),<span class="code-literal">null</span>===e.parent&amp;&amp;e.updateMatrixWorld(),!<span class="code-number">0</span>===wt.enabled&amp;&amp;!<span class="code-number">0</span>===wt.isPresenting&amp;&amp;(e=wt.getCamera(e)),!<span class="code-number">0</span>===t.isScene&amp;&amp;t.onBeforeRender(f,t,e,n||_),(p=ot.get(t,e)).init(),k.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromProjectionMatrix(k),H=<span class="code-keyword">this</span>.localClippingEnabled,G=ct.init(<span class="code-keyword">this</span>.clippingPlanes,H,e),(d=at.get(t,e)).init(),Pt(t,e,<span class="code-number">0</span>,f.sortObjects),d.finish(),!<span class="code-number">0</span>===f.sortObjects&amp;&amp;d.sort(D,O),!<span class="code-number">0</span>===G&amp;&amp;ct.beginShadows();<span class="code-keyword">var</span> i=p.state.shadowsArray;St.render(i,t,e),p.setupLights(e),!<span class="code-number">0</span>===G&amp;&amp;ct.endShadows(),!<span class="code-number">0</span>===<span class="code-keyword">this</span>.info.autoReset&amp;&amp;<span class="code-keyword">this</span>.info.reset(),<span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;<span class="code-keyword">this</span>.setRenderTarget(n),lt.render(d,t,e,r);<span class="code-keyword">var</span> a=d.opaque,o=d.transparent;a.length&gt;<span class="code-number">0</span>&amp;&amp;It(a,t,e),o.length&gt;<span class="code-number">0</span>&amp;&amp;It(o,t,e),!<span class="code-number">0</span>===t.isScene&amp;&amp;t.onAfterRender(f,t,e),<span class="code-literal">null</span>!==_&amp;&amp;(K.updateRenderTargetMipmap(_),K.updateMultisampleRenderTarget(_)),Z.buffers.depth.setTest(!<span class="code-number">0</span>),Z.buffers.depth.setMask(!<span class="code-number">0</span>),Z.buffers.color.setMask(!<span class="code-number">0</span>),Z.setPolygonOffset(!<span class="code-number">1</span>),d=<span class="code-literal">null</span>,p=<span class="code-literal">null</span>}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."</span>)},<span class="code-keyword">this</span>.setFramebuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{v!==t&amp;&amp;<span class="code-literal">null</span>===_&amp;&amp;vt.bindFramebuffer(<span class="code-number">36160</span>,t),v=t},<span class="code-keyword">this</span>.getActiveCubeFace=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> g},<span class="code-keyword">this</span>.getActiveMipmapLevel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> x},<span class="code-keyword">this</span>.getRenderList=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> d},<span class="code-keyword">this</span>.setRenderList=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{d=t},<span class="code-keyword">this</span>.getRenderState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> p},<span class="code-keyword">this</span>.setRenderState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{p=t},<span class="code-keyword">this</span>.getRenderTarget=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> _},<span class="code-keyword">this</span>.setRenderTarget=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),_=t,g=e,x=n,t&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===Q.get(t).__webglFramebuffer&amp;&amp;K.setupRenderTarget(t);<span class="code-keyword">var</span> r=v,i=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> a=Q.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=a[e],i=!<span class="code-number">0</span>):r=t.isWebGLMultisampleRenderTarget?Q.get(t).__webglMultisampledFramebuffer:a,L.copy(t.viewport),R.copy(t.scissor),C=t.scissorTest}<span class="code-keyword">else</span> L.copy(B).multiplyScalar(N).floor(),R.copy(z).multiplyScalar(N).floor(),C=U;<span class="code-keyword">if</span>(M!==r&amp;&amp;(vt.bindFramebuffer(<span class="code-number">36160</span>,r),M=r),Z.viewport(L),Z.scissor(R),Z.setScissorTest(C),i){<span class="code-keyword">var</span> o=Q.get(t.texture);vt.framebufferTexture2D(<span class="code-number">36160</span>,<span class="code-number">36064</span>,<span class="code-number">34069</span>+e,o.__webglTexture,n)}},<span class="code-keyword">this</span>.readRenderTargetPixels=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">if</span>(t&amp;&amp;t.isWebGLRenderTarget){<span class="code-keyword">var</span> s=Q.get(t).__webglFramebuffer;<span class="code-keyword">if</span>(t.isWebGLCubeRenderTarget&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;(s=s[o]),s){<span class="code-keyword">var</span> c=!<span class="code-number">1</span>;s!==M&amp;&amp;(vt.bindFramebuffer(<span class="code-number">36160</span>,s),c=!<span class="code-number">0</span>);<span class="code-keyword">try</span>{<span class="code-keyword">var</span> l=t.texture,u=l.format,h=l.type;<span class="code-keyword">if</span>(u!==T&amp;&amp;ft.convert(u)!==vt.getParameter(<span class="code-number">35739</span>))<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."</span>);<span class="code-keyword">if</span>(!(h===y||ft.convert(h)===vt.getParameter(<span class="code-number">35738</span>)||h===b&amp;&amp;(Y.isWebGL2||X.get(<span class="code-string">"OES_texture_float"</span>)||X.get(<span class="code-string">"WEBGL_color_buffer_float"</span>))||h===w&amp;&amp;(Y.isWebGL2?X.get(<span class="code-string">"EXT_color_buffer_float"</span>):X.get(<span class="code-string">"EXT_color_buffer_half_float"</span>))))<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."</span>);<span class="code-number">36053</span>===vt.checkFramebufferStatus(<span class="code-number">36160</span>)?e&gt;=<span class="code-number">0</span>&amp;&amp;e&lt;=t.width-r&amp;&amp;n&gt;=<span class="code-number">0</span>&amp;&amp;n&lt;=t.height-i&amp;&amp;vt.readPixels(e,n,r,i,ft.convert(u),ft.convert(h),a):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."</span>)}<span class="code-keyword">finally</span>{c&amp;&amp;vt.bindFramebuffer(<span class="code-number">36160</span>,M)}}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget."</span>)},<span class="code-keyword">this</span>.copyFramebufferToTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>);<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,-n),i=<span class="code-built_in">Math</span>.floor(e.image.width*r),a=<span class="code-built_in">Math</span>.floor(e.image.height*r),o=ft.convert(e.format);K.setTexture2D(e,<span class="code-number">0</span>),vt.copyTexImage2D(<span class="code-number">3553</span>,n,o,t.x,t.y,i,a,<span class="code-number">0</span>),Z.unbindTexture()},<span class="code-keyword">this</span>.copyTextureToTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">0</span>);<span class="code-keyword">var</span> i=e.image.width,a=e.image.height,o=ft.convert(n.format),s=ft.convert(n.type);K.setTexture2D(n,<span class="code-number">0</span>),vt.pixelStorei(<span class="code-number">37440</span>,n.flipY),vt.pixelStorei(<span class="code-number">37441</span>,n.premultiplyAlpha),vt.pixelStorei(<span class="code-number">3317</span>,n.unpackAlignment),e.isDataTexture?vt.texSubImage2D(<span class="code-number">3553</span>,r,t.x,t.y,i,a,o,s,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(<span class="code-number">3553</span>,r,t.x,t.y,e.mipmaps[<span class="code-number">0</span>].width,e.mipmaps[<span class="code-number">0</span>].height,o,e.mipmaps[<span class="code-number">0</span>].data):vt.texSubImage2D(<span class="code-number">3553</span>,r,t.x,t.y,o,s,e.image),<span class="code-number">0</span>===r&amp;&amp;n.generateMipmaps&amp;&amp;vt.generateMipmap(<span class="code-number">3553</span>),Z.unbindTexture()},<span class="code-keyword">this</span>.initTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{K.setTexture2D(t,<span class="code-number">0</span>),Z.unbindTexture()},<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class="code-keyword">new</span> CustomEvent(<span class="code-string">"observe"</span>,{<span class="code-attr">detail</span>:<span class="code-keyword">this</span>}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ca</span>(<span class="code-params">t</span>)</span>{sa.call(<span class="code-keyword">this</span>,t)}na.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Xn.prototype),{<span class="code-attr">constructor</span>:na,<span class="code-attr">isArrayCamera</span>:!<span class="code-number">0</span>}),ra.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:ra,<span class="code-attr">isGroup</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.assign(ia.prototype,{<span class="code-attr">constructor</span>:ia,<span class="code-attr">getHandSpace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>===<span class="code-keyword">this</span>._hand&amp;&amp;(<span class="code-keyword">this</span>._hand=<span class="code-keyword">new</span> ra,<span class="code-keyword">this</span>._hand.matrixAutoUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._hand.visible=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._hand.joints=[],<span class="code-keyword">this</span>._hand.inputState={<span class="code-attr">pinching</span>:!<span class="code-number">1</span>},<span class="code-built_in">window</span>.XRHand))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;=<span class="code-built_in">window</span>.XRHand.LITTLE_PHALANX_TIP;t++){<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> ra;e.matrixAutoUpdate=!<span class="code-number">1</span>,e.visible=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._hand.joints.push(e),<span class="code-keyword">this</span>._hand.add(e)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._hand},<span class="code-attr">getTargetRaySpace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===<span class="code-keyword">this</span>._targetRay&amp;&amp;(<span class="code-keyword">this</span>._targetRay=<span class="code-keyword">new</span> ra,<span class="code-keyword">this</span>._targetRay.matrixAutoUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._targetRay.visible=!<span class="code-number">1</span>),<span class="code-keyword">this</span>._targetRay},<span class="code-attr">getGripSpace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===<span class="code-keyword">this</span>._grip&amp;&amp;(<span class="code-keyword">this</span>._grip=<span class="code-keyword">new</span> ra,<span class="code-keyword">this</span>._grip.matrixAutoUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._grip.visible=!<span class="code-number">1</span>),<span class="code-keyword">this</span>._grip},<span class="code-attr">dispatchEvent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>._targetRay&amp;&amp;<span class="code-keyword">this</span>._targetRay.dispatchEvent(t),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._grip&amp;&amp;<span class="code-keyword">this</span>._grip.dispatchEvent(t),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._hand&amp;&amp;<span class="code-keyword">this</span>._hand.dispatchEvent(t),<span class="code-keyword">this</span>},<span class="code-attr">disconnect</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"disconnected"</span>,<span class="code-attr">data</span>:t}),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._targetRay&amp;&amp;(<span class="code-keyword">this</span>._targetRay.visible=!<span class="code-number">1</span>),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._grip&amp;&amp;(<span class="code-keyword">this</span>._grip.visible=!<span class="code-number">1</span>),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._hand&amp;&amp;(<span class="code-keyword">this</span>._hand.visible=!<span class="code-number">1</span>),<span class="code-keyword">this</span>},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-literal">null</span>,i=<span class="code-literal">null</span>,a=<span class="code-literal">null</span>,o=<span class="code-keyword">this</span>._targetRay,s=<span class="code-keyword">this</span>._grip,c=<span class="code-keyword">this</span>._hand;<span class="code-keyword">if</span>(t&amp;&amp;<span class="code-string">"visible-blurred"</span>!==e.session.visibilityState)<span class="code-keyword">if</span>(c&amp;&amp;t.hand){a=!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;=<span class="code-built_in">window</span>.XRHand.LITTLE_PHALANX_TIP;l++)<span class="code-keyword">if</span>(t.hand[l]){<span class="code-keyword">var</span> u=e.getJointPose(t.hand[l],n),h=c.joints[l];<span class="code-literal">null</span>!==u&amp;&amp;(h.matrix.fromArray(u.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=u.radius),h.visible=<span class="code-literal">null</span>!==u;<span class="code-keyword">var</span> d=c.joints[<span class="code-built_in">window</span>.XRHand.INDEX_PHALANX_TIP],p=c.joints[<span class="code-built_in">window</span>.XRHand.THUMB_PHALANX_TIP],f=d.position.distanceTo(p.position);c.inputState.pinching&amp;&amp;f&gt;<span class="code-number">.025</span>?(c.inputState.pinching=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"pinchend"</span>,<span class="code-attr">handedness</span>:t.handedness,<span class="code-attr">target</span>:<span class="code-keyword">this</span>})):!c.inputState.pinching&amp;&amp;f&lt;=<span class="code-number">.015</span>&amp;&amp;(c.inputState.pinching=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"pinchstart"</span>,<span class="code-attr">handedness</span>:t.handedness,<span class="code-attr">target</span>:<span class="code-keyword">this</span>}))}}<span class="code-keyword">else</span> <span class="code-literal">null</span>!==o&amp;&amp;<span class="code-literal">null</span>!==(r=e.getPose(t.targetRaySpace,n))&amp;&amp;(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),<span class="code-literal">null</span>!==s&amp;&amp;t.gripSpace&amp;&amp;<span class="code-literal">null</span>!==(i=e.getPose(t.gripSpace,n))&amp;&amp;(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));<span class="code-keyword">return</span> <span class="code-literal">null</span>!==o&amp;&amp;(o.visible=<span class="code-literal">null</span>!==r),<span class="code-literal">null</span>!==s&amp;&amp;(s.visible=<span class="code-literal">null</span>!==i),<span class="code-literal">null</span>!==c&amp;&amp;(c.visible=<span class="code-literal">null</span>!==a),<span class="code-keyword">this</span>}}),<span class="code-built_in">Object</span>.assign(aa.prototype,rt.prototype),ca.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(sa.prototype),{<span class="code-attr">constructor</span>:ca,<span class="code-attr">isWebGL1Renderer</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> la=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isFogExp2"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(t),<span class="code-keyword">this</span>.density=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">25e-5</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> t(<span class="code-keyword">this</span>.color,<span class="code-keyword">this</span>.density)},e.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"FogExp2"</span>,<span class="code-attr">color</span>:<span class="code-keyword">this</span>.color.getHex(),<span class="code-attr">density</span>:<span class="code-keyword">this</span>.density}},t}(),ua=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isFog"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(t),<span class="code-keyword">this</span>.near=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">1</span>,<span class="code-keyword">this</span>.far=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">1e3</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> t(<span class="code-keyword">this</span>.color,<span class="code-keyword">this</span>.near,<span class="code-keyword">this</span>.far)},e.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"Fog"</span>,<span class="code-attr">color</span>:<span class="code-keyword">this</span>.color.getHex(),<span class="code-attr">near</span>:<span class="code-keyword">this</span>.near,<span class="code-attr">far</span>:<span class="code-keyword">this</span>.far}},t}(),ha=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">return</span> e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>,<span class="code-built_in">Object</span>.defineProperty(ht(e),<span class="code-string">"isScene"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),e.type=<span class="code-string">"Scene"</span>,e.background=<span class="code-literal">null</span>,e.environment=<span class="code-literal">null</span>,e.fog=<span class="code-literal">null</span>,e.overrideMaterial=<span class="code-literal">null</span>,e.autoUpdate=!<span class="code-number">0</span>,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class="code-keyword">new</span> CustomEvent(<span class="code-string">"observe"</span>,{<span class="code-attr">detail</span>:ht(e)})),e}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">return</span> t.prototype.copy.call(<span class="code-keyword">this</span>,e,n),<span class="code-literal">null</span>!==e.background&amp;&amp;(<span class="code-keyword">this</span>.background=e.background.clone()),<span class="code-literal">null</span>!==e.environment&amp;&amp;(<span class="code-keyword">this</span>.environment=e.environment.clone()),<span class="code-literal">null</span>!==e.fog&amp;&amp;(<span class="code-keyword">this</span>.fog=e.fog.clone()),<span class="code-literal">null</span>!==e.overrideMaterial&amp;&amp;(<span class="code-keyword">this</span>.overrideMaterial=e.overrideMaterial.clone()),<span class="code-keyword">this</span>.autoUpdate=e.autoUpdate,<span class="code-keyword">this</span>.matrixAutoUpdate=e.matrixAutoUpdate,<span class="code-keyword">this</span>},n.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=t.prototype.toJSON.call(<span class="code-keyword">this</span>,e);<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.background&amp;&amp;(n.object.background=<span class="code-keyword">this</span>.background.toJSON(e)),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.environment&amp;&amp;(n.object.environment=<span class="code-keyword">this</span>.environment.toJSON(e)),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.fog&amp;&amp;(n.object.fog=<span class="code-keyword">this</span>.fog.toJSON()),n},e}(we);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">da</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.array=t,<span class="code-keyword">this</span>.stride=e,<span class="code-keyword">this</span>.count=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t.length/e:<span class="code-number">0</span>,<span class="code-keyword">this</span>.usage=tt,<span class="code-keyword">this</span>.updateRange={<span class="code-attr">offset</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:<span class="code-number">-1</span>},<span class="code-keyword">this</span>.version=<span class="code-number">0</span>,<span class="code-keyword">this</span>.uuid=st.generateUUID()}<span class="code-built_in">Object</span>.defineProperty(da.prototype,<span class="code-string">"needsUpdate"</span>,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{!<span class="code-number">0</span>===t&amp;&amp;<span class="code-keyword">this</span>.version++}}),<span class="code-built_in">Object</span>.assign(da.prototype,{<span class="code-attr">isInterleavedBuffer</span>:!<span class="code-number">0</span>,<span class="code-attr">onUploadCallback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">setUsage</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.usage=t,<span class="code-keyword">this</span>},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.array=<span class="code-keyword">new</span> t.array.constructor(t.array),<span class="code-keyword">this</span>.count=t.count,<span class="code-keyword">this</span>.stride=t.stride,<span class="code-keyword">this</span>.usage=t.usage,<span class="code-keyword">this</span>},<span class="code-attr">copyAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{t*=<span class="code-keyword">this</span>.stride,n*=e.stride;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.stride;r&lt;i;r++)<span class="code-keyword">this</span>.array[t+r]=e.array[n+r];<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.array.set(t,e),<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t.arrayBuffers&amp;&amp;(t.arrayBuffers={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.array.buffer._uuid&amp;&amp;(<span class="code-keyword">this</span>.array.buffer._uuid=st.generateUUID()),<span class="code-keyword">void</span> <span class="code-number">0</span>===t.arrayBuffers[<span class="code-keyword">this</span>.array.buffer._uuid]&amp;&amp;(t.arrayBuffers[<span class="code-keyword">this</span>.array.buffer._uuid]=<span class="code-keyword">this</span>.array.slice(<span class="code-number">0</span>).buffer);<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> da(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.array.constructor(t.arrayBuffers[<span class="code-keyword">this</span>.array.buffer._uuid]),<span class="code-keyword">this</span>.stride);<span class="code-keyword">return</span> e.setUsage(<span class="code-keyword">this</span>.usage),e},<span class="code-attr">onUpload</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.onUploadCallback=t,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t.arrayBuffers&amp;&amp;(t.arrayBuffers={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.array.buffer._uuid&amp;&amp;(<span class="code-keyword">this</span>.array.buffer._uuid=st.generateUUID()),<span class="code-keyword">void</span> <span class="code-number">0</span>===t.arrayBuffers[<span class="code-keyword">this</span>.array.buffer._uuid]&amp;&amp;(t.arrayBuffers[<span class="code-keyword">this</span>.array.buffer._uuid]=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(<span class="code-keyword">this</span>.array.buffer))),{<span class="code-attr">uuid</span>:<span class="code-keyword">this</span>.uuid,<span class="code-attr">buffer</span>:<span class="code-keyword">this</span>.array.buffer._uuid,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.array.constructor.name,<span class="code-attr">stride</span>:<span class="code-keyword">this</span>.stride}}});<span class="code-keyword">var</span> pa,fa=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ma</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.data=t,<span class="code-keyword">this</span>.itemSize=e,<span class="code-keyword">this</span>.offset=n,<span class="code-keyword">this</span>.normalized=!<span class="code-number">0</span>===r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">va</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"SpriteMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.rotation=<span class="code-number">0</span>,<span class="code-keyword">this</span>.sizeAttenuation=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.transparent=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-built_in">Object</span>.defineProperties(ma.prototype,{<span class="code-attr">count</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.count}},<span class="code-attr">array</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array}},<span class="code-attr">needsUpdate</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.data.needsUpdate=t}}}),<span class="code-built_in">Object</span>.assign(ma.prototype,{<span class="code-attr">isInterleavedBufferAttribute</span>:!<span class="code-number">0</span>,<span class="code-attr">applyMatrix4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.data.count;e&lt;n;e++)fa.x=<span class="code-keyword">this</span>.getX(e),fa.y=<span class="code-keyword">this</span>.getY(e),fa.z=<span class="code-keyword">this</span>.getZ(e),fa.applyMatrix4(t),<span class="code-keyword">this</span>.setXYZ(e,fa.x,fa.y,fa.z);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">setX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset]=e,<span class="code-keyword">this</span>},<span class="code-attr">setY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">1</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">setZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">2</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">setW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">3</span>]=e,<span class="code-keyword">this</span>},<span class="code-attr">getX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset]},<span class="code-attr">getY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">1</span>]},<span class="code-attr">getZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">2</span>]},<span class="code-attr">getW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.array[t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset+<span class="code-number">3</span>]},<span class="code-attr">setXY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t=t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>},<span class="code-attr">setXYZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> t=t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">2</span>]=r,<span class="code-keyword">this</span>},<span class="code-attr">setXYZW</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span> t=t*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">0</span>]=e,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">2</span>]=r,<span class="code-keyword">this</span>.data.array[t+<span class="code-number">3</span>]=i,<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t){<span class="code-built_in">console</span>.log(<span class="code-string">"THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data."</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.count;n++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=n*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset,i=<span class="code-number">0</span>;i&lt;<span class="code-keyword">this</span>.itemSize;i++)e.push(<span class="code-keyword">this</span>.data.array[r+i]);<span class="code-keyword">return</span> <span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.array.constructor(e),<span class="code-keyword">this</span>.itemSize,<span class="code-keyword">this</span>.normalized)}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t.interleavedBuffers&amp;&amp;(t.interleavedBuffers={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===t.interleavedBuffers[<span class="code-keyword">this</span>.data.uuid]&amp;&amp;(t.interleavedBuffers[<span class="code-keyword">this</span>.data.uuid]=<span class="code-keyword">this</span>.data.clone(t)),<span class="code-keyword">new</span> ma(t.interleavedBuffers[<span class="code-keyword">this</span>.data.uuid],<span class="code-keyword">this</span>.itemSize,<span class="code-keyword">this</span>.offset,<span class="code-keyword">this</span>.normalized)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t){<span class="code-built_in">console</span>.log(<span class="code-string">"THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data."</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.count;n++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=n*<span class="code-keyword">this</span>.data.stride+<span class="code-keyword">this</span>.offset,i=<span class="code-number">0</span>;i&lt;<span class="code-keyword">this</span>.itemSize;i++)e.push(<span class="code-keyword">this</span>.data.array[r+i]);<span class="code-keyword">return</span>{<span class="code-attr">itemSize</span>:<span class="code-keyword">this</span>.itemSize,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.array.constructor.name,<span class="code-attr">array</span>:e,<span class="code-attr">normalized</span>:<span class="code-keyword">this</span>.normalized}}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t.interleavedBuffers&amp;&amp;(t.interleavedBuffers={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===t.interleavedBuffers[<span class="code-keyword">this</span>.data.uuid]&amp;&amp;(t.interleavedBuffers[<span class="code-keyword">this</span>.data.uuid]=<span class="code-keyword">this</span>.data.toJSON(t)),{<span class="code-attr">isInterleavedBufferAttribute</span>:!<span class="code-number">0</span>,<span class="code-attr">itemSize</span>:<span class="code-keyword">this</span>.itemSize,<span class="code-attr">data</span>:<span class="code-keyword">this</span>.data.uuid,<span class="code-attr">offset</span>:<span class="code-keyword">this</span>.offset,<span class="code-attr">normalized</span>:<span class="code-keyword">this</span>.normalized}}}),va.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),va.prototype.constructor=va,va.prototype.isSpriteMaterial=!<span class="code-number">0</span>,va.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.rotation=t.rotation,<span class="code-keyword">this</span>.sizeAttenuation=t.sizeAttenuation,<span class="code-keyword">this</span>};<span class="code-keyword">var</span> ga=<span class="code-keyword">new</span> Mt,ya=<span class="code-keyword">new</span> Mt,xa=<span class="code-keyword">new</span> Mt,_a=<span class="code-keyword">new</span> pt,ba=<span class="code-keyword">new</span> pt,wa=<span class="code-keyword">new</span> Qt,Ma=<span class="code-keyword">new</span> Mt,Sa=<span class="code-keyword">new</span> Mt,Ta=<span class="code-keyword">new</span> Mt,Ea=<span class="code-keyword">new</span> pt,Aa=<span class="code-keyword">new</span> pt,La=<span class="code-keyword">new</span> pt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ra</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Sprite"</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>===pa){pa=<span class="code-keyword">new</span> _n;<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> da(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>([<span class="code-number">-.5</span>,<span class="code-number">-.5</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">-.5</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-.5</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),<span class="code-number">5</span>);pa.setIndex([<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">2</span>,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">3</span>]),pa.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> ma(e,<span class="code-number">3</span>,<span class="code-number">0</span>,!<span class="code-number">1</span>)),pa.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> ma(e,<span class="code-number">2</span>,<span class="code-number">3</span>,!<span class="code-number">1</span>))}<span class="code-keyword">this</span>.geometry=pa,<span class="code-keyword">this</span>.material=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> va,<span class="code-keyword">this</span>.center=<span class="code-keyword">new</span> pt(<span class="code-number">.5</span>,<span class="code-number">.5</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ca</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{_a.subVectors(t,n).addScalar(<span class="code-number">.5</span>).multiply(r),<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?(ba.x=a*_a.x-i*_a.y,ba.y=i*_a.x+a*_a.y):ba.copy(_a),t.copy(e),t.x+=ba.x,t.y+=ba.y,t.applyMatrix4(wa)}Ra.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:Ra,<span class="code-attr">isSprite</span>:!<span class="code-number">0</span>,<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-literal">null</span>===t.camera&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">'THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'</span>),ya.setFromMatrixScale(<span class="code-keyword">this</span>.matrixWorld),wa.copy(t.camera.matrixWorld),<span class="code-keyword">this</span>.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,<span class="code-keyword">this</span>.matrixWorld),xa.setFromMatrixPosition(<span class="code-keyword">this</span>.modelViewMatrix),t.camera.isPerspectiveCamera&amp;&amp;!<span class="code-number">1</span>===<span class="code-keyword">this</span>.material.sizeAttenuation&amp;&amp;ya.multiplyScalar(-xa.z);<span class="code-keyword">var</span> n,r,i=<span class="code-keyword">this</span>.material.rotation;<span class="code-number">0</span>!==i&amp;&amp;(r=<span class="code-built_in">Math</span>.cos(i),n=<span class="code-built_in">Math</span>.sin(i));<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.center;Ca(Ma.set(<span class="code-number">-.5</span>,<span class="code-number">-.5</span>,<span class="code-number">0</span>),xa,a,ya,n,r),Ca(Sa.set(<span class="code-number">.5</span>,<span class="code-number">-.5</span>,<span class="code-number">0</span>),xa,a,ya,n,r),Ca(Ta.set(<span class="code-number">.5</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>),xa,a,ya,n,r),Ea.set(<span class="code-number">0</span>,<span class="code-number">0</span>),Aa.set(<span class="code-number">1</span>,<span class="code-number">0</span>),La.set(<span class="code-number">1</span>,<span class="code-number">1</span>);<span class="code-keyword">var</span> o=t.ray.intersectTriangle(Ma,Sa,Ta,!<span class="code-number">1</span>,ga);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==o||(Ca(Sa.set(<span class="code-number">-.5</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>),xa,a,ya,n,r),Aa.set(<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-literal">null</span>!==(o=t.ray.intersectTriangle(Ma,Ta,Sa,!<span class="code-number">1</span>,ga)))){<span class="code-keyword">var</span> s=t.ray.origin.distanceTo(ga);s&lt;t.near||s&gt;t.far||e.push({<span class="code-attr">distance</span>:s,<span class="code-attr">point</span>:ga.clone(),<span class="code-attr">uv</span>:ze.getUV(ga,Ma,Sa,Ta,Ea,Aa,La,<span class="code-keyword">new</span> pt),<span class="code-attr">face</span>:<span class="code-literal">null</span>,<span class="code-attr">object</span>:<span class="code-keyword">this</span>})}},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.center&amp;&amp;<span class="code-keyword">this</span>.center.copy(t.center),<span class="code-keyword">this</span>.material=t.material,<span class="code-keyword">this</span>}});<span class="code-keyword">var</span> Pa,Ia,Na,Da,Oa,Ba=<span class="code-keyword">new</span> Mt,za=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ua</span>(<span class="code-params"></span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>._currentLevel=<span class="code-number">0</span>,<span class="code-keyword">this</span>.type=<span class="code-string">"LOD"</span>,<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>,{<span class="code-attr">levels</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:[]}}),<span class="code-keyword">this</span>.autoUpdate=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fa</span>(<span class="code-params">t,e</span>)</span>{t&amp;&amp;t.isGeometry&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."</span>),Un.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"SkinnedMesh"</span>,<span class="code-keyword">this</span>.bindMode=<span class="code-string">"attached"</span>,<span class="code-keyword">this</span>.bindMatrix=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.bindMatrixInverse=<span class="code-keyword">new</span> Qt}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ga</span>(<span class="code-params"></span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Bone"</span>}Ua.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:Ua,<span class="code-attr">isLOD</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{we.prototype.copy.call(<span class="code-keyword">this</span>,t,!<span class="code-number">1</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.levels,n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++){<span class="code-keyword">var</span> i=e[n];<span class="code-keyword">this</span>.addLevel(i.object.clone(),i.distance)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.autoUpdate=t.autoUpdate,<span class="code-keyword">this</span>},<span class="code-attr">addLevel</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),e=<span class="code-built_in">Math</span>.abs(e);<span class="code-keyword">var</span> n,r=<span class="code-keyword">this</span>.levels;<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;r.length&amp;&amp;!(e&lt;r[n].distance);n++);<span class="code-keyword">return</span> r.splice(n,<span class="code-number">0</span>,{<span class="code-attr">distance</span>:e,<span class="code-attr">object</span>:t}),<span class="code-keyword">this</span>.add(t),<span class="code-keyword">this</span>},<span class="code-attr">getCurrentLevel</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._currentLevel},<span class="code-attr">getObjectForDistance</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.levels;<span class="code-keyword">if</span>(e.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> n,r;<span class="code-keyword">for</span>(n=<span class="code-number">1</span>,r=e.length;n&lt;r&amp;&amp;!(t&lt;e[n].distance);n++);<span class="code-keyword">return</span> e[n<span class="code-number">-1</span>].object}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.levels.length&gt;<span class="code-number">0</span>){Ba.setFromMatrixPosition(<span class="code-keyword">this</span>.matrixWorld);<span class="code-keyword">var</span> n=t.ray.origin.distanceTo(Ba);<span class="code-keyword">this</span>.getObjectForDistance(n).raycast(t,e)}},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.levels;<span class="code-keyword">if</span>(e.length&gt;<span class="code-number">1</span>){Ba.setFromMatrixPosition(t.matrixWorld),za.setFromMatrixPosition(<span class="code-keyword">this</span>.matrixWorld);<span class="code-keyword">var</span> n,r,i=Ba.distanceTo(za)/t.zoom;<span class="code-keyword">for</span>(e[<span class="code-number">0</span>].object.visible=!<span class="code-number">0</span>,n=<span class="code-number">1</span>,r=e.length;n&lt;r&amp;&amp;i&gt;=e[n].distance;n++)e[n<span class="code-number">-1</span>].object.visible=!<span class="code-number">1</span>,e[n].object.visible=!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">this</span>._currentLevel=n<span class="code-number">-1</span>;n&lt;r;n++)e[n].object.visible=!<span class="code-number">1</span>}},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=we.prototype.toJSON.call(<span class="code-keyword">this</span>,t);!<span class="code-number">1</span>===<span class="code-keyword">this</span>.autoUpdate&amp;&amp;(e.object.autoUpdate=!<span class="code-number">1</span>),e.object.levels=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.levels,r=<span class="code-number">0</span>,i=n.length;r&lt;i;r++){<span class="code-keyword">var</span> a=n[r];e.object.levels.push({<span class="code-attr">object</span>:a.object.uuid,<span class="code-attr">distance</span>:a.distance})}<span class="code-keyword">return</span> e}}),Fa.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Un.prototype),{<span class="code-attr">constructor</span>:Fa,<span class="code-attr">isSkinnedMesh</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Un.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.bindMode=t.bindMode,<span class="code-keyword">this</span>.bindMatrix.copy(t.bindMatrix),<span class="code-keyword">this</span>.bindMatrixInverse.copy(t.bindMatrixInverse),<span class="code-keyword">this</span>.skeleton=t.skeleton,<span class="code-keyword">this</span>},<span class="code-attr">bind</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.skeleton=t,<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-keyword">this</span>.updateMatrixWorld(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.skeleton.calculateInverses(),e=<span class="code-keyword">this</span>.matrixWorld),<span class="code-keyword">this</span>.bindMatrix.copy(e),<span class="code-keyword">this</span>.bindMatrixInverse.copy(e).invert()},<span class="code-attr">pose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.skeleton.pose()},<span class="code-attr">normalizeSkinWeights</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> xt,e=<span class="code-keyword">this</span>.geometry.attributes.skinWeight,n=<span class="code-number">0</span>,r=e.count;n&lt;r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);<span class="code-keyword">var</span> i=<span class="code-number">1</span>/t.manhattanLength();i!==<span class="code-number">1</span>/<span class="code-number">0</span>?t.multiplyScalar(i):t.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),e.setXYZW(n,t.x,t.y,t.z,t.w)}},<span class="code-attr">updateMatrixWorld</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Un.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,t),<span class="code-string">"attached"</span>===<span class="code-keyword">this</span>.bindMode?<span class="code-keyword">this</span>.bindMatrixInverse.copy(<span class="code-keyword">this</span>.matrixWorld).invert():<span class="code-string">"detached"</span>===<span class="code-keyword">this</span>.bindMode?<span class="code-keyword">this</span>.bindMatrixInverse.copy(<span class="code-keyword">this</span>.bindMatrix).invert():<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.SkinnedMesh: Unrecognized bindMode: "</span>+<span class="code-keyword">this</span>.bindMode)},<span class="code-attr">boneTransform</span>:(Pa=<span class="code-keyword">new</span> Mt,Ia=<span class="code-keyword">new</span> xt,Na=<span class="code-keyword">new</span> xt,Da=<span class="code-keyword">new</span> Mt,Oa=<span class="code-keyword">new</span> Qt,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.skeleton,r=<span class="code-keyword">this</span>.geometry;Ia.fromBufferAttribute(r.attributes.skinIndex,t),Na.fromBufferAttribute(r.attributes.skinWeight,t),Pa.fromBufferAttribute(r.attributes.position,t).applyMatrix4(<span class="code-keyword">this</span>.bindMatrix),e.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;<span class="code-number">4</span>;i++){<span class="code-keyword">var</span> a=Na.getComponent(i);<span class="code-keyword">if</span>(<span class="code-number">0</span>!==a){<span class="code-keyword">var</span> o=Ia.getComponent(i);Oa.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(Da.copy(Pa).applyMatrix4(Oa),a)}}<span class="code-keyword">return</span> e.applyMatrix4(<span class="code-keyword">this</span>.bindMatrixInverse)})}),Ga.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:Ga,<span class="code-attr">isBone</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> Ha=<span class="code-keyword">new</span> Qt,ka=<span class="code-keyword">new</span> Qt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Va</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=[]),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.bones=t.slice(<span class="code-number">0</span>),<span class="code-keyword">this</span>.boneInverses=e,<span class="code-keyword">this</span>.boneMatrices=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boneTexture=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boneTextureSize=<span class="code-number">0</span>,<span class="code-keyword">this</span>.frame=<span class="code-number">-1</span>,<span class="code-keyword">this</span>.init()}<span class="code-built_in">Object</span>.assign(Va.prototype,{<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.bones,e=<span class="code-keyword">this</span>.boneInverses;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.boneMatrices=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">16</span>*t.length),<span class="code-number">0</span>===e.length)<span class="code-keyword">this</span>.calculateInverses();<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.length!==e.length){<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."</span>),<span class="code-keyword">this</span>.boneInverses=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.bones.length;n&lt;r;n++)<span class="code-keyword">this</span>.boneInverses.push(<span class="code-keyword">new</span> Qt)}},<span class="code-attr">calculateInverses</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.boneInverses.length=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.bones.length;t&lt;e;t++){<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Qt;<span class="code-keyword">this</span>.bones[t]&amp;&amp;n.copy(<span class="code-keyword">this</span>.bones[t].matrixWorld).invert(),<span class="code-keyword">this</span>.boneInverses.push(n)}},<span class="code-attr">pose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.bones.length;t&lt;e;t++){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.bones[t];n&amp;&amp;n.matrixWorld.copy(<span class="code-keyword">this</span>.boneInverses[t]).invert()}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.bones.length;r&lt;i;r++){<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.bones[r];a&amp;&amp;(a.parent&amp;&amp;a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.bones,e=<span class="code-keyword">this</span>.boneInverses,n=<span class="code-keyword">this</span>.boneMatrices,r=<span class="code-keyword">this</span>.boneTexture,i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++){<span class="code-keyword">var</span> o=t[i]?t[i].matrixWorld:ka;Ha.multiplyMatrices(o,e[i]),Ha.toArray(n,<span class="code-number">16</span>*i)}<span class="code-literal">null</span>!==r&amp;&amp;(r.needsUpdate=!<span class="code-number">0</span>)},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Va(<span class="code-keyword">this</span>.bones,<span class="code-keyword">this</span>.boneInverses)},<span class="code-attr">getBoneByName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.bones.length;e&lt;n;e++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.bones[e];<span class="code-keyword">if</span>(r.name===t)<span class="code-keyword">return</span> r}},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.boneTexture&amp;&amp;(<span class="code-keyword">this</span>.boneTexture.dispose(),<span class="code-keyword">this</span>.boneTexture=<span class="code-literal">null</span>)},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.uuid=t.uuid;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=t.bones.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t.bones[n],a=e[i];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Skeleton: No bone found with UUID:"</span>,i),a=<span class="code-keyword">new</span> Ga),<span class="code-keyword">this</span>.bones.push(a),<span class="code-keyword">this</span>.boneInverses.push((<span class="code-keyword">new</span> Qt).fromArray(t.boneInverses[n]))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.init(),<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Skeleton"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Skeleton.toJSON"</span>},<span class="code-attr">bones</span>:[],<span class="code-attr">boneInverses</span>:[]};t.uuid=<span class="code-keyword">this</span>.uuid;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.bones,n=<span class="code-keyword">this</span>.boneInverses,r=<span class="code-number">0</span>,i=e.length;r&lt;i;r++){<span class="code-keyword">var</span> a=e[r];t.bones.push(a.uuid);<span class="code-keyword">var</span> o=n[r];t.boneInverses.push(o.toArray())}<span class="code-keyword">return</span> t}});<span class="code-keyword">var</span> Wa=<span class="code-keyword">new</span> Qt,ja=<span class="code-keyword">new</span> Qt,qa=[],Xa=<span class="code-keyword">new</span> Un;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ya</span>(<span class="code-params">t,e,n</span>)</span>{Un.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.instanceMatrix=<span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">16</span>*n),<span class="code-number">16</span>),<span class="code-keyword">this</span>.instanceColor=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.count=n,<span class="code-keyword">this</span>.frustumCulled=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Za</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"LineBasicMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.linewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.linecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.linejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}Ya.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Un.prototype),{<span class="code-attr">constructor</span>:Ya,<span class="code-attr">isInstancedMesh</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Un.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.instanceMatrix.copy(t.instanceMatrix),<span class="code-keyword">this</span>.count=t.count,<span class="code-keyword">this</span>},<span class="code-attr">getColorAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.fromArray(<span class="code-keyword">this</span>.instanceColor.array,<span class="code-number">3</span>*t)},<span class="code-attr">getMatrixAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.fromArray(<span class="code-keyword">this</span>.instanceMatrix.array,<span class="code-number">16</span>*t)},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.matrixWorld,r=<span class="code-keyword">this</span>.count;<span class="code-keyword">if</span>(Xa.geometry=<span class="code-keyword">this</span>.geometry,Xa.material=<span class="code-keyword">this</span>.material,<span class="code-keyword">void</span> <span class="code-number">0</span>!==Xa.material)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;r;i++){<span class="code-keyword">this</span>.getMatrixAt(i,Wa),ja.multiplyMatrices(n,Wa),Xa.matrixWorld=ja,Xa.raycast(t,qa);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=qa.length;a&lt;o;a++){<span class="code-keyword">var</span> s=qa[a];s.instanceId=i,s.object=<span class="code-keyword">this</span>,e.push(s)}qa.length=<span class="code-number">0</span>}},<span class="code-attr">setColorAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.instanceColor&amp;&amp;(<span class="code-keyword">this</span>.instanceColor=<span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*<span class="code-keyword">this</span>.count),<span class="code-number">3</span>)),e.toArray(<span class="code-keyword">this</span>.instanceColor.array,<span class="code-number">3</span>*t)},<span class="code-attr">setMatrixAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e.toArray(<span class="code-keyword">this</span>.instanceMatrix.array,<span class="code-number">16</span>*t)},<span class="code-attr">updateMorphTargets</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}),Za.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Za.prototype.constructor=Za,Za.prototype.isLineBasicMaterial=!<span class="code-number">0</span>,Za.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.linewidth=t.linewidth,<span class="code-keyword">this</span>.linecap=t.linecap,<span class="code-keyword">this</span>.linejoin=t.linejoin,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>};<span class="code-keyword">var</span> Ja=<span class="code-keyword">new</span> Mt,Qa=<span class="code-keyword">new</span> Mt,Ka=<span class="code-keyword">new</span> Qt,$a=<span class="code-keyword">new</span> Jt,to=<span class="code-keyword">new</span> kt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">eo</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-number">1</span>===n&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."</span>),we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Line"</span>,<span class="code-keyword">this</span>.geometry=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> _n,<span class="code-keyword">this</span>.material=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Za,<span class="code-keyword">this</span>.updateMorphTargets()}eo.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:eo,<span class="code-attr">isLine</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.material=t.material,<span class="code-keyword">this</span>.geometry=t.geometry,<span class="code-keyword">this</span>},<span class="code-attr">computeLineDistances</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry;<span class="code-keyword">if</span>(t.isBufferGeometry)<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t.index){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.attributes.position,n=[<span class="code-number">0</span>],r=<span class="code-number">1</span>,i=e.count;r&lt;i;r++)Ja.fromBufferAttribute(e,r<span class="code-number">-1</span>),Qa.fromBufferAttribute(e,r),n[r]=n[r<span class="code-number">-1</span>],n[r]+=Ja.distanceTo(Qa);t.setAttribute(<span class="code-string">"lineDistance"</span>,<span class="code-keyword">new</span> sn(n,<span class="code-number">1</span>))}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isGeometry){<span class="code-keyword">var</span> a=t.vertices,o=t.lineDistances;o[<span class="code-number">0</span>]=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">1</span>,c=a.length;s&lt;c;s++)o[s]=o[s<span class="code-number">-1</span>],o[s]+=a[s<span class="code-number">-1</span>].distanceTo(a[s])}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.geometry,r=<span class="code-keyword">this</span>.matrixWorld,i=t.params.Line.threshold;<span class="code-keyword">if</span>(<span class="code-literal">null</span>===n.boundingSphere&amp;&amp;n.computeBoundingSphere(),to.copy(n.boundingSphere),to.applyMatrix4(r),to.radius+=i,!<span class="code-number">1</span>!==t.ray.intersectsSphere(to)){Ka.copy(r).invert(),$a.copy(t.ray).applyMatrix4(Ka);<span class="code-keyword">var</span> a=i/((<span class="code-keyword">this</span>.scale.x+<span class="code-keyword">this</span>.scale.y+<span class="code-keyword">this</span>.scale.z)/<span class="code-number">3</span>),o=a*a,s=<span class="code-keyword">new</span> Mt,c=<span class="code-keyword">new</span> Mt,l=<span class="code-keyword">new</span> Mt,u=<span class="code-keyword">new</span> Mt,h=<span class="code-keyword">this</span>.isLineSegments?<span class="code-number">2</span>:<span class="code-number">1</span>;<span class="code-keyword">if</span>(n.isBufferGeometry){<span class="code-keyword">var</span> d=n.index,p=n.attributes.position;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==d)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=d.array,m=<span class="code-number">0</span>,v=f.length<span class="code-number">-1</span>;m&lt;v;m+=h){<span class="code-keyword">var</span> g=f[m],y=f[m+<span class="code-number">1</span>];<span class="code-keyword">if</span>(s.fromBufferAttribute(p,g),c.fromBufferAttribute(p,y),!($a.distanceSqToSegment(s,c,u,l)&gt;o)){u.applyMatrix4(<span class="code-keyword">this</span>.matrixWorld);<span class="code-keyword">var</span> x=t.ray.origin.distanceTo(u);x&lt;t.near||x&gt;t.far||e.push({<span class="code-attr">distance</span>:x,<span class="code-attr">point</span>:l.clone().applyMatrix4(<span class="code-keyword">this</span>.matrixWorld),<span class="code-attr">index</span>:m,<span class="code-attr">face</span>:<span class="code-literal">null</span>,<span class="code-attr">faceIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">object</span>:<span class="code-keyword">this</span>})}}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=<span class="code-number">0</span>,b=p.count<span class="code-number">-1</span>;_&lt;b;_+=h){<span class="code-keyword">if</span>(s.fromBufferAttribute(p,_),c.fromBufferAttribute(p,_+<span class="code-number">1</span>),!($a.distanceSqToSegment(s,c,u,l)&gt;o)){u.applyMatrix4(<span class="code-keyword">this</span>.matrixWorld);<span class="code-keyword">var</span> w=t.ray.origin.distanceTo(u);w&lt;t.near||w&gt;t.far||e.push({<span class="code-attr">distance</span>:w,<span class="code-attr">point</span>:l.clone().applyMatrix4(<span class="code-keyword">this</span>.matrixWorld),<span class="code-attr">index</span>:_,<span class="code-attr">face</span>:<span class="code-literal">null</span>,<span class="code-attr">faceIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">object</span>:<span class="code-keyword">this</span>})}}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n.isGeometry)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> M=n.vertices,S=M.length,T=<span class="code-number">0</span>;T&lt;S<span class="code-number">-1</span>;T+=h){<span class="code-keyword">if</span>(!($a.distanceSqToSegment(M[T],M[T+<span class="code-number">1</span>],u,l)&gt;o)){u.applyMatrix4(<span class="code-keyword">this</span>.matrixWorld);<span class="code-keyword">var</span> E=t.ray.origin.distanceTo(u);E&lt;t.near||E&gt;t.far||e.push({<span class="code-attr">distance</span>:E,<span class="code-attr">point</span>:l.clone().applyMatrix4(<span class="code-keyword">this</span>.matrixWorld),<span class="code-attr">index</span>:T,<span class="code-attr">face</span>:<span class="code-literal">null</span>,<span class="code-attr">faceIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">object</span>:<span class="code-keyword">this</span>})}}}},<span class="code-attr">updateMorphTargets</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry;<span class="code-keyword">if</span>(t.isBufferGeometry){<span class="code-keyword">var</span> e=t.morphAttributes,n=<span class="code-built_in">Object</span>.keys(e);<span class="code-keyword">if</span>(n.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> r=e[n[<span class="code-number">0</span>]];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r){<span class="code-keyword">this</span>.morphTargetInfluences=[],<span class="code-keyword">this</span>.morphTargetDictionary={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=r.length;i&lt;a;i++){<span class="code-keyword">var</span> o=r[i].name||<span class="code-built_in">String</span>(i);<span class="code-keyword">this</span>.morphTargetInfluences.push(<span class="code-number">0</span>),<span class="code-keyword">this</span>.morphTargetDictionary[o]=i}}}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=t.morphTargets;<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;s.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead."</span>)}}});<span class="code-keyword">var</span> no=<span class="code-keyword">new</span> Mt,ro=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">io</span>(<span class="code-params">t,e</span>)</span>{eo.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"LineSegments"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ao</span>(<span class="code-params">t,e</span>)</span>{eo.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"LineLoop"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oo</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"PointsMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.size=<span class="code-number">1</span>,<span class="code-keyword">this</span>.sizeAttenuation=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}io.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(eo.prototype),{<span class="code-attr">constructor</span>:io,<span class="code-attr">isLineSegments</span>:!<span class="code-number">0</span>,<span class="code-attr">computeLineDistances</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry;<span class="code-keyword">if</span>(t.isBufferGeometry)<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t.index){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.attributes.position,n=[],r=<span class="code-number">0</span>,i=e.count;r&lt;i;r+=<span class="code-number">2</span>)no.fromBufferAttribute(e,r),ro.fromBufferAttribute(e,r+<span class="code-number">1</span>),n[r]=<span class="code-number">0</span>===r?<span class="code-number">0</span>:n[r<span class="code-number">-1</span>],n[r+<span class="code-number">1</span>]=n[r]+no.distanceTo(ro);t.setAttribute(<span class="code-string">"lineDistance"</span>,<span class="code-keyword">new</span> sn(n,<span class="code-number">1</span>))}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.isGeometry)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=t.vertices,o=t.lineDistances,s=<span class="code-number">0</span>,c=a.length;s&lt;c;s+=<span class="code-number">2</span>)no.copy(a[s]),ro.copy(a[s+<span class="code-number">1</span>]),o[s]=<span class="code-number">0</span>===s?<span class="code-number">0</span>:o[s<span class="code-number">-1</span>],o[s+<span class="code-number">1</span>]=o[s]+no.distanceTo(ro);<span class="code-keyword">return</span> <span class="code-keyword">this</span>}}),ao.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(eo.prototype),{<span class="code-attr">constructor</span>:ao,<span class="code-attr">isLineLoop</span>:!<span class="code-number">0</span>}),oo.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),oo.prototype.constructor=oo,oo.prototype.isPointsMaterial=!<span class="code-number">0</span>,oo.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.size=t.size,<span class="code-keyword">this</span>.sizeAttenuation=t.sizeAttenuation,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>};<span class="code-keyword">var</span> so=<span class="code-keyword">new</span> Qt,co=<span class="code-keyword">new</span> Jt,lo=<span class="code-keyword">new</span> kt,uo=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ho</span>(<span class="code-params">t,e</span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Points"</span>,<span class="code-keyword">this</span>.geometry=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> _n,<span class="code-keyword">this</span>.material=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> oo,<span class="code-keyword">this</span>.updateMorphTargets()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">po</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s=co.distanceSqToPoint(t);<span class="code-keyword">if</span>(s&lt;n){<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> Mt;co.closestPointToPoint(t,c),c.applyMatrix4(r);<span class="code-keyword">var</span> l=i.ray.origin.distanceTo(c);<span class="code-keyword">if</span>(l&lt;i.near||l&gt;i.far)<span class="code-keyword">return</span>;a.push({<span class="code-attr">distance</span>:l,<span class="code-attr">distanceToRay</span>:<span class="code-built_in">Math</span>.sqrt(s),<span class="code-attr">point</span>:c,<span class="code-attr">index</span>:e,<span class="code-attr">face</span>:<span class="code-literal">null</span>,<span class="code-attr">object</span>:o})}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fo</span>(<span class="code-params">t,e,n,r,i,a,o,s,c</span>)</span>{gt.call(<span class="code-keyword">this</span>,t,e,n,r,i,a,o,s,c),<span class="code-keyword">this</span>.format=<span class="code-keyword">void</span> <span class="code-number">0</span>!==o?o:S,<span class="code-keyword">this</span>.minFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==a?a:m,<span class="code-keyword">this</span>.magFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?i:m,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>;<span class="code-keyword">var</span> l=<span class="code-keyword">this</span>;<span class="code-string">"requestVideoFrameCallback"</span><span class="code-keyword">in</span> t&amp;&amp;t.requestVideoFrameCallback((<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{l.needsUpdate=!<span class="code-number">0</span>,t.requestVideoFrameCallback(e)}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mo</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l,u,h</span>)</span>{gt.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>,a,o,s,c,l,r,i,u,h),<span class="code-keyword">this</span>.image={<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n},<span class="code-keyword">this</span>.mipmaps=t,<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vo</span>(<span class="code-params">t,e,n,r,i,a,o,s,c</span>)</span>{gt.call(<span class="code-keyword">this</span>,t,e,n,r,i,a,o,s,c),<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">go</span>(<span class="code-params">t,e,n,r,i,a,o,s,c,l</span>)</span>{<span class="code-keyword">if</span>((l=<span class="code-keyword">void</span> <span class="code-number">0</span>!==l?l:E)!==E&amp;&amp;l!==A)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat"</span>);<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;l===E&amp;&amp;(n=x),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;l===A&amp;&amp;(n=M),gt.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>,r,i,a,o,s,l,n,c),<span class="code-keyword">this</span>.image={<span class="code-attr">width</span>:t,<span class="code-attr">height</span>:e},<span class="code-keyword">this</span>.magFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==o?o:d,<span class="code-keyword">this</span>.minFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==s?s:d,<span class="code-keyword">this</span>.flipY=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.generateMipmaps=!<span class="code-number">1</span>}ho.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:ho,<span class="code-attr">isPoints</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.material=t.material,<span class="code-keyword">this</span>.geometry=t.geometry,<span class="code-keyword">this</span>},<span class="code-attr">raycast</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.geometry,r=<span class="code-keyword">this</span>.matrixWorld,i=t.params.Points.threshold;<span class="code-keyword">if</span>(<span class="code-literal">null</span>===n.boundingSphere&amp;&amp;n.computeBoundingSphere(),lo.copy(n.boundingSphere),lo.applyMatrix4(r),lo.radius+=i,!<span class="code-number">1</span>!==t.ray.intersectsSphere(lo)){so.copy(r).invert(),co.copy(t.ray).applyMatrix4(so);<span class="code-keyword">var</span> a=i/((<span class="code-keyword">this</span>.scale.x+<span class="code-keyword">this</span>.scale.y+<span class="code-keyword">this</span>.scale.z)/<span class="code-number">3</span>),o=a*a;<span class="code-keyword">if</span>(n.isBufferGeometry){<span class="code-keyword">var</span> s=n.index,c=n.attributes.position;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==s)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=s.array,u=<span class="code-number">0</span>,h=l.length;u&lt;h;u++){<span class="code-keyword">var</span> d=l[u];uo.fromBufferAttribute(c,d),po(uo,d,o,r,t,e,<span class="code-keyword">this</span>)}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>,f=c.count;p&lt;f;p++)uo.fromBufferAttribute(c,p),po(uo,p,o,r,t,e,<span class="code-keyword">this</span>)}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=n.vertices,v=<span class="code-number">0</span>,g=m.length;v&lt;g;v++)po(m[v],v,o,r,t,e,<span class="code-keyword">this</span>)}},<span class="code-attr">updateMorphTargets</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry;<span class="code-keyword">if</span>(t.isBufferGeometry){<span class="code-keyword">var</span> e=t.morphAttributes,n=<span class="code-built_in">Object</span>.keys(e);<span class="code-keyword">if</span>(n.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> r=e[n[<span class="code-number">0</span>]];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r){<span class="code-keyword">this</span>.morphTargetInfluences=[],<span class="code-keyword">this</span>.morphTargetDictionary={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=r.length;i&lt;a;i++){<span class="code-keyword">var</span> o=r[i].name||<span class="code-built_in">String</span>(i);<span class="code-keyword">this</span>.morphTargetInfluences.push(<span class="code-number">0</span>),<span class="code-keyword">this</span>.morphTargetDictionary[o]=i}}}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=t.morphTargets;<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;s.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead."</span>)}}}),fo.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(gt.prototype),{<span class="code-attr">constructor</span>:fo,<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor(<span class="code-keyword">this</span>.image).copy(<span class="code-keyword">this</span>)},<span class="code-attr">isVideoTexture</span>:!<span class="code-number">0</span>,<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.image;!<span class="code-number">1</span>===<span class="code-string">"requestVideoFrameCallback"</span><span class="code-keyword">in</span> t&amp;&amp;t.readyState&gt;=t.HAVE_CURRENT_DATA&amp;&amp;(<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>)}}),mo.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),mo.prototype.constructor=mo,mo.prototype.isCompressedTexture=!<span class="code-number">0</span>,vo.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),vo.prototype.constructor=vo,vo.prototype.isCanvasTexture=!<span class="code-number">0</span>,go.prototype=<span class="code-built_in">Object</span>.create(gt.prototype),go.prototype.constructor=go,go.prototype.isDepthTexture=!<span class="code-number">0</span>;<span class="code-keyword">var</span> yo=<span class="code-number">0</span>,xo=<span class="code-keyword">new</span> Qt,_o=<span class="code-keyword">new</span> we,bo=<span class="code-keyword">new</span> Mt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wo</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"id"</span>,{<span class="code-attr">value</span>:yo+=<span class="code-number">2</span>}),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.name=<span class="code-string">""</span>,<span class="code-keyword">this</span>.type=<span class="code-string">"Geometry"</span>,<span class="code-keyword">this</span>.vertices=[],<span class="code-keyword">this</span>.colors=[],<span class="code-keyword">this</span>.faces=[],<span class="code-keyword">this</span>.faceVertexUvs=[[]],<span class="code-keyword">this</span>.morphTargets=[],<span class="code-keyword">this</span>.morphNormals=[],<span class="code-keyword">this</span>.skinWeights=[],<span class="code-keyword">this</span>.skinIndices=[],<span class="code-keyword">this</span>.lineDistances=[],<span class="code-keyword">this</span>.boundingBox=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundingSphere=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.elementsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.verticesNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.uvsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.colorsNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.lineDistancesNeedUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.groupsNeedUpdate=!<span class="code-number">1</span>}wo.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:wo,<span class="code-attr">isGeometry</span>:!<span class="code-number">0</span>,<span class="code-attr">applyMatrix4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=(<span class="code-keyword">new</span> ft).getNormalMatrix(t),n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.vertices.length;n&lt;r;n++){<span class="code-keyword">this</span>.vertices[n].applyMatrix4(t)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=<span class="code-keyword">this</span>.faces.length;i&lt;a;i++){<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.faces[i];o.normal.applyMatrix3(e).normalize();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>,c=o.vertexNormals.length;s&lt;c;s++)o.vertexNormals[s].applyMatrix3(e).normalize()}<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.boundingBox&amp;&amp;<span class="code-keyword">this</span>.computeBoundingBox(),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.boundingSphere&amp;&amp;<span class="code-keyword">this</span>.computeBoundingSphere(),<span class="code-keyword">this</span>.verticesNeedUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalsNeedUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>},<span class="code-attr">rotateX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> xo.makeRotationX(t),<span class="code-keyword">this</span>.applyMatrix4(xo),<span class="code-keyword">this</span>},<span class="code-attr">rotateY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> xo.makeRotationY(t),<span class="code-keyword">this</span>.applyMatrix4(xo),<span class="code-keyword">this</span>},<span class="code-attr">rotateZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> xo.makeRotationZ(t),<span class="code-keyword">this</span>.applyMatrix4(xo),<span class="code-keyword">this</span>},<span class="code-attr">translate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> xo.makeTranslation(t,e,n),<span class="code-keyword">this</span>.applyMatrix4(xo),<span class="code-keyword">this</span>},<span class="code-attr">scale</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> xo.makeScale(t,e,n),<span class="code-keyword">this</span>.applyMatrix4(xo),<span class="code-keyword">this</span>},<span class="code-attr">lookAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> _o.lookAt(t),_o.updateMatrix(),<span class="code-keyword">this</span>.applyMatrix4(_o.matrix),<span class="code-keyword">this</span>},<span class="code-attr">fromBufferGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,n=<span class="code-literal">null</span>!==t.index?t.index:<span class="code-keyword">void</span> <span class="code-number">0</span>,r=t.attributes;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r.position)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."</span>),<span class="code-keyword">this</span>;<span class="code-keyword">var</span> i=r.position,a=r.normal,o=r.color,s=r.uv,c=r.uv2;<span class="code-keyword">void</span> <span class="code-number">0</span>!==c&amp;&amp;(<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">1</span>]=[]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;i.count;l++)e.vertices.push((<span class="code-keyword">new</span> Mt).fromBufferAttribute(i,l)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;e.colors.push((<span class="code-keyword">new</span> We).fromBufferAttribute(o,l));<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t,n,r,i</span>)</span>{<span class="code-keyword">var</span> l=<span class="code-keyword">void</span> <span class="code-number">0</span>===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],u=<span class="code-keyword">void</span> <span class="code-number">0</span>===a?[]:[(<span class="code-keyword">new</span> Mt).fromBufferAttribute(a,t),(<span class="code-keyword">new</span> Mt).fromBufferAttribute(a,n),(<span class="code-keyword">new</span> Mt).fromBufferAttribute(a,r)],h=<span class="code-keyword">new</span> je(t,n,r,u,l,i);e.faces.push(h),<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;e.faceVertexUvs[<span class="code-number">0</span>].push([(<span class="code-keyword">new</span> pt).fromBufferAttribute(s,t),(<span class="code-keyword">new</span> pt).fromBufferAttribute(s,n),(<span class="code-keyword">new</span> pt).fromBufferAttribute(s,r)]),<span class="code-keyword">void</span> <span class="code-number">0</span>!==c&amp;&amp;e.faceVertexUvs[<span class="code-number">1</span>].push([(<span class="code-keyword">new</span> pt).fromBufferAttribute(c,t),(<span class="code-keyword">new</span> pt).fromBufferAttribute(c,n),(<span class="code-keyword">new</span> pt).fromBufferAttribute(c,r)])}<span class="code-keyword">var</span> h=t.groups;<span class="code-keyword">if</span>(h.length&gt;<span class="code-number">0</span>)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>;d&lt;h.length;d++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=h[d],f=p.start,m=f,v=f+p.count;m&lt;v;m+=<span class="code-number">3</span>)<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?u(n.getX(m),n.getX(m+<span class="code-number">1</span>),n.getX(m+<span class="code-number">2</span>),p.materialIndex):u(m,m+<span class="code-number">1</span>,m+<span class="code-number">2</span>,p.materialIndex);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>;g&lt;n.count;g+=<span class="code-number">3</span>)u(n.getX(g),n.getX(g+<span class="code-number">1</span>),n.getX(g+<span class="code-number">2</span>));<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;i.count;y+=<span class="code-number">3</span>)u(y,y+<span class="code-number">1</span>,y+<span class="code-number">2</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.computeFaceNormals(),<span class="code-literal">null</span>!==t.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=t.boundingBox.clone()),<span class="code-literal">null</span>!==t.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=t.boundingSphere.clone()),<span class="code-keyword">this</span>},<span class="code-attr">center</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.computeBoundingBox(),<span class="code-keyword">this</span>.boundingBox.getCenter(bo).negate(),<span class="code-keyword">this</span>.translate(bo.x,bo.y,bo.z),<span class="code-keyword">this</span>},<span class="code-attr">normalize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.computeBoundingSphere();<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.boundingSphere.center,e=<span class="code-keyword">this</span>.boundingSphere.radius,n=<span class="code-number">0</span>===e?<span class="code-number">1</span>:<span class="code-number">1</span>/e,r=<span class="code-keyword">new</span> Qt;<span class="code-keyword">return</span> r.set(n,<span class="code-number">0</span>,<span class="code-number">0</span>,-n*t.x,<span class="code-number">0</span>,n,<span class="code-number">0</span>,-n*t.y,<span class="code-number">0</span>,<span class="code-number">0</span>,n,-n*t.z,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.applyMatrix4(r),<span class="code-keyword">this</span>},<span class="code-attr">computeFaceNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Mt,e=<span class="code-keyword">new</span> Mt,n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.faces.length;n&lt;r;n++){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.faces[n],a=<span class="code-keyword">this</span>.vertices[i.a],o=<span class="code-keyword">this</span>.vertices[i.b],s=<span class="code-keyword">this</span>.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},<span class="code-attr">computeVertexNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(<span class="code-keyword">this</span>.vertices.length),n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.vertices.length;n&lt;r;n++)e[n]=<span class="code-keyword">new</span> Mt;<span class="code-keyword">if</span>(t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Mt,a=<span class="code-keyword">new</span> Mt,o=<span class="code-number">0</span>,s=<span class="code-keyword">this</span>.faces.length;o&lt;s;o++){<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>.faces[o],l=<span class="code-keyword">this</span>.vertices[c.a],u=<span class="code-keyword">this</span>.vertices[c.b],h=<span class="code-keyword">this</span>.vertices[c.c];i.subVectors(h,u),a.subVectors(l,u),i.cross(a),e[c.a].add(i),e[c.b].add(i),e[c.c].add(i)}<span class="code-keyword">else</span>{<span class="code-keyword">this</span>.computeFaceNormals();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=<span class="code-keyword">this</span>.faces.length;d&lt;p;d++){<span class="code-keyword">var</span> f=<span class="code-keyword">this</span>.faces[d];e[f.a].add(f.normal),e[f.b].add(f.normal),e[f.c].add(f.normal)}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">0</span>,v=<span class="code-keyword">this</span>.vertices.length;m&lt;v;m++)e[m].normalize();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>,y=<span class="code-keyword">this</span>.faces.length;g&lt;y;g++){<span class="code-keyword">var</span> x=<span class="code-keyword">this</span>.faces[g],_=x.vertexNormals;<span class="code-number">3</span>===_.length?(_[<span class="code-number">0</span>].copy(e[x.a]),_[<span class="code-number">1</span>].copy(e[x.b]),_[<span class="code-number">2</span>].copy(e[x.c])):(_[<span class="code-number">0</span>]=e[x.a].clone(),_[<span class="code-number">1</span>]=e[x.b].clone(),_[<span class="code-number">2</span>]=e[x.c].clone())}<span class="code-keyword">this</span>.faces.length&gt;<span class="code-number">0</span>&amp;&amp;(<span class="code-keyword">this</span>.normalsNeedUpdate=!<span class="code-number">0</span>)},<span class="code-attr">computeFlatVertexNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.computeFaceNormals();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.faces.length;t&lt;e;t++){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.faces[t],r=n.vertexNormals;<span class="code-number">3</span>===r.length?(r[<span class="code-number">0</span>].copy(n.normal),r[<span class="code-number">1</span>].copy(n.normal),r[<span class="code-number">2</span>].copy(n.normal)):(r[<span class="code-number">0</span>]=n.normal.clone(),r[<span class="code-number">1</span>]=n.normal.clone(),r[<span class="code-number">2</span>]=n.normal.clone())}<span class="code-keyword">this</span>.faces.length&gt;<span class="code-number">0</span>&amp;&amp;(<span class="code-keyword">this</span>.normalsNeedUpdate=!<span class="code-number">0</span>)},<span class="code-attr">computeMorphNormals</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.faces.length;t&lt;e;t++){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=n.vertexNormals.length;r&lt;i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> wo;a.faces=<span class="code-keyword">this</span>.faces;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>,s=<span class="code-keyword">this</span>.morphTargets.length;o&lt;s;o++){<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.morphNormals[o]){<span class="code-keyword">this</span>.morphNormals[o]={},<span class="code-keyword">this</span>.morphNormals[o].faceNormals=[],<span class="code-keyword">this</span>.morphNormals[o].vertexNormals=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>.morphNormals[o].faceNormals,l=<span class="code-keyword">this</span>.morphNormals[o].vertexNormals,u=<span class="code-number">0</span>,h=<span class="code-keyword">this</span>.faces.length;u&lt;h;u++){<span class="code-keyword">var</span> d=<span class="code-keyword">new</span> Mt,p={<span class="code-attr">a</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">b</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">c</span>:<span class="code-keyword">new</span> Mt};c.push(d),l.push(p)}}<span class="code-keyword">var</span> f=<span class="code-keyword">this</span>.morphNormals[o];a.vertices=<span class="code-keyword">this</span>.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">0</span>,v=<span class="code-keyword">this</span>.faces.length;m&lt;v;m++){<span class="code-keyword">var</span> g=<span class="code-keyword">this</span>.faces[m],y=f.faceNormals[m],x=f.vertexNormals[m];y.copy(g.normal),x.a.copy(g.vertexNormals[<span class="code-number">0</span>]),x.b.copy(g.vertexNormals[<span class="code-number">1</span>]),x.c.copy(g.vertexNormals[<span class="code-number">2</span>])}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=<span class="code-number">0</span>,b=<span class="code-keyword">this</span>.faces.length;_&lt;b;_++){<span class="code-keyword">var</span> w=<span class="code-keyword">this</span>.faces[_];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}},<span class="code-attr">computeBoundingBox</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.boundingBox&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=<span class="code-keyword">new</span> Et),<span class="code-keyword">this</span>.boundingBox.setFromPoints(<span class="code-keyword">this</span>.vertices)},<span class="code-attr">computeBoundingSphere</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.boundingSphere&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=<span class="code-keyword">new</span> kt),<span class="code-keyword">this</span>.boundingSphere.setFromPoints(<span class="code-keyword">this</span>.vertices)},<span class="code-attr">merge</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),t&amp;&amp;t.isGeometry){<span class="code-keyword">var</span> r,i=<span class="code-keyword">this</span>.vertices.length,a=<span class="code-keyword">this</span>.vertices,o=t.vertices,s=<span class="code-keyword">this</span>.faces,c=t.faces,l=<span class="code-keyword">this</span>.colors,u=t.colors;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(r=(<span class="code-keyword">new</span> ft).getNormalMatrix(e));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>,d=o.length;h&lt;d;h++){<span class="code-keyword">var</span> p=o[h].clone();<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;p.applyMatrix4(e),a.push(p)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,m=u.length;f&lt;m;f++)l.push(u[f].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=<span class="code-number">0</span>,g=c.length;v&lt;g;v++){<span class="code-keyword">var</span> y=c[v],x=<span class="code-keyword">void</span> <span class="code-number">0</span>,_=<span class="code-keyword">void</span> <span class="code-number">0</span>,b=y.vertexNormals,w=y.vertexColors,M=<span class="code-keyword">new</span> je(y.a+i,y.b+i,y.c+i);M.normal.copy(y.normal),<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;M.normal.applyMatrix3(r).normalize();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=<span class="code-number">0</span>,T=b.length;S&lt;T;S++)x=b[S].clone(),<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;x.applyMatrix3(r).normalize(),M.vertexNormals.push(x);M.color.copy(y.color);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">0</span>,A=w.length;E&lt;A;E++)_=w[E],M.vertexColors.push(_.clone());M.materialIndex=y.materialIndex+n,s.push(M)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=<span class="code-number">0</span>,R=t.faceVertexUvs.length;L&lt;R;L++){<span class="code-keyword">var</span> C=t.faceVertexUvs[L];<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.faceVertexUvs[L]&amp;&amp;(<span class="code-keyword">this</span>.faceVertexUvs[L]=[]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> P=<span class="code-number">0</span>,I=C.length;P&lt;I;P++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> N=C[P],D=[],O=<span class="code-number">0</span>,B=N.length;O&lt;B;O++)D.push(N[O].clone());<span class="code-keyword">this</span>.faceVertexUvs[L].push(D)}}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry."</span>,t)},<span class="code-attr">mergeMesh</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t&amp;&amp;t.isMesh?(t.matrixAutoUpdate&amp;&amp;t.updateMatrix(),<span class="code-keyword">this</span>.merge(t.geometry,t.matrix)):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh."</span>,t)},<span class="code-attr">mergeVertices</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">4</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e={},n=[],r=[],i=<span class="code-built_in">Math</span>.pow(<span class="code-number">10</span>,t),a=<span class="code-number">0</span>,o=<span class="code-keyword">this</span>.vertices.length;a&lt;o;a++){<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.vertices[a],c=<span class="code-built_in">Math</span>.round(s.x*i)+<span class="code-string">"_"</span>+<span class="code-built_in">Math</span>.round(s.y*i)+<span class="code-string">"_"</span>+<span class="code-built_in">Math</span>.round(s.z*i);<span class="code-keyword">void</span> <span class="code-number">0</span>===e[c]?(e[c]=a,n.push(<span class="code-keyword">this</span>.vertices[a]),r[a]=n.length<span class="code-number">-1</span>):r[a]=r[e[c]]}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=[],u=<span class="code-number">0</span>,h=<span class="code-keyword">this</span>.faces.length;u&lt;h;u++){<span class="code-keyword">var</span> d=<span class="code-keyword">this</span>.faces[u];d.a=r[d.a],d.b=r[d.b],d.c=r[d.c];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=[d.a,d.b,d.c],f=<span class="code-number">0</span>;f&lt;<span class="code-number">3</span>;f++)<span class="code-keyword">if</span>(p[f]===p[(f+<span class="code-number">1</span>)%<span class="code-number">3</span>]){l.push(u);<span class="code-keyword">break</span>}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=l.length<span class="code-number">-1</span>;m&gt;=<span class="code-number">0</span>;m--){<span class="code-keyword">var</span> v=l[m];<span class="code-keyword">this</span>.faces.splice(v,<span class="code-number">1</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>,y=<span class="code-keyword">this</span>.faceVertexUvs.length;g&lt;y;g++)<span class="code-keyword">this</span>.faceVertexUvs[g].splice(v,<span class="code-number">1</span>)}<span class="code-keyword">var</span> x=<span class="code-keyword">this</span>.vertices.length-n.length;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.vertices=n,x},<span class="code-attr">setFromPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.vertices=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t[e];<span class="code-keyword">this</span>.vertices.push(<span class="code-keyword">new</span> Mt(r.x,r.y,r.z||<span class="code-number">0</span>))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">sortFacesByMaterialIndex</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.faces,e=t.length,n=<span class="code-number">0</span>;n&lt;e;n++)t[n]._id=n;t.sort((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.materialIndex-e.materialIndex}));<span class="code-keyword">var</span> r,i,a=<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">0</span>],o=<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">1</span>];a&amp;&amp;a.length===e&amp;&amp;(r=[]),o&amp;&amp;o.length===e&amp;&amp;(i=[]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>;s&lt;e;s++){<span class="code-keyword">var</span> c=t[s]._id;r&amp;&amp;r.push(a[c]),i&amp;&amp;i.push(o[c])}r&amp;&amp;(<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">0</span>]=r),i&amp;&amp;(<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">1</span>]=i)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Geometry"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Geometry.toJSON"</span>}};<span class="code-keyword">if</span>(t.uuid=<span class="code-keyword">this</span>.uuid,t.type=<span class="code-keyword">this</span>.type,<span class="code-string">""</span>!==<span class="code-keyword">this</span>.name&amp;&amp;(t.name=<span class="code-keyword">this</span>.name),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.parameters){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.parameters;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e)<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[n]&amp;&amp;(t[n]=e[n]);<span class="code-keyword">return</span> t}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],i=<span class="code-number">0</span>;i&lt;<span class="code-keyword">this</span>.vertices.length;i++){<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.vertices[i];r.push(a.x,a.y,a.z)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=[],s=[],c={},l=[],u={},h=[],d={},p=<span class="code-number">0</span>;p&lt;<span class="code-keyword">this</span>.faces.length;p++){<span class="code-keyword">var</span> f=<span class="code-keyword">this</span>.faces[p],m=<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">0</span>][p],v=f.normal.length()&gt;<span class="code-number">0</span>,g=f.vertexNormals.length&gt;<span class="code-number">0</span>,y=<span class="code-number">1</span>!==f.color.r||<span class="code-number">1</span>!==f.color.g||<span class="code-number">1</span>!==f.color.b,x=f.vertexColors.length&gt;<span class="code-number">0</span>,_=<span class="code-number">0</span>;<span class="code-keyword">if</span>(_=S(_,<span class="code-number">0</span>,<span class="code-number">0</span>),_=S(_,<span class="code-number">1</span>,!<span class="code-number">0</span>),_=S(_,<span class="code-number">2</span>,!<span class="code-number">1</span>),_=S(_,<span class="code-number">3</span>,m),_=S(_,<span class="code-number">4</span>,v),_=S(_,<span class="code-number">5</span>,g),_=S(_,<span class="code-number">6</span>,y),_=S(_,<span class="code-number">7</span>,x),o.push(_),o.push(f.a,f.b,f.c),o.push(f.materialIndex),m){<span class="code-keyword">var</span> b=<span class="code-keyword">this</span>.faceVertexUvs[<span class="code-number">0</span>][p];o.push(A(b[<span class="code-number">0</span>]),A(b[<span class="code-number">1</span>]),A(b[<span class="code-number">2</span>]))}<span class="code-keyword">if</span>(v&amp;&amp;o.push(T(f.normal)),g){<span class="code-keyword">var</span> w=f.vertexNormals;o.push(T(w[<span class="code-number">0</span>]),T(w[<span class="code-number">1</span>]),T(w[<span class="code-number">2</span>]))}<span class="code-keyword">if</span>(y&amp;&amp;o.push(E(f.color)),x){<span class="code-keyword">var</span> M=f.vertexColors;o.push(E(M[<span class="code-number">0</span>]),E(M[<span class="code-number">1</span>]),E(M[<span class="code-number">2</span>]))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">S</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> n?t|<span class="code-number">1</span>&lt;&lt;e:t&amp;~(<span class="code-number">1</span>&lt;&lt;e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">T</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.x.toString()+t.y.toString()+t.z.toString();<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==c[e]||(c[e]=s.length/<span class="code-number">3</span>,s.push(t.x,t.y,t.z)),c[e]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">E</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.r.toString()+t.g.toString()+t.b.toString();<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">A</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.x.toString()+t.y.toString();<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==d[e]||(d[e]=h.length/<span class="code-number">2</span>,h.push(t.x,t.y)),d[e]}<span class="code-keyword">return</span> t.data={},t.data.vertices=r,t.data.normals=s,l.length&gt;<span class="code-number">0</span>&amp;&amp;(t.data.colors=l),h.length&gt;<span class="code-number">0</span>&amp;&amp;(t.data.uvs=[h]),t.data.faces=o,t},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> wo).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.vertices=[],<span class="code-keyword">this</span>.colors=[],<span class="code-keyword">this</span>.faces=[],<span class="code-keyword">this</span>.faceVertexUvs=[[]],<span class="code-keyword">this</span>.morphTargets=[],<span class="code-keyword">this</span>.morphNormals=[],<span class="code-keyword">this</span>.skinWeights=[],<span class="code-keyword">this</span>.skinIndices=[],<span class="code-keyword">this</span>.lineDistances=[],<span class="code-keyword">this</span>.boundingBox=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundingSphere=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.name=t.name;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.vertices,n=<span class="code-number">0</span>,r=e.length;n&lt;r;n++)<span class="code-keyword">this</span>.vertices.push(e[n].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.colors,a=<span class="code-number">0</span>,o=i.length;a&lt;o;a++)<span class="code-keyword">this</span>.colors.push(i[a].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=t.faces,c=<span class="code-number">0</span>,l=s.length;c&lt;l;c++)<span class="code-keyword">this</span>.faces.push(s[c].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>,h=t.faceVertexUvs.length;u&lt;h;u++){<span class="code-keyword">var</span> d=t.faceVertexUvs[u];<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.faceVertexUvs[u]&amp;&amp;(<span class="code-keyword">this</span>.faceVertexUvs[u]=[]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>,f=d.length;p&lt;f;p++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=d[p],v=[],g=<span class="code-number">0</span>,y=m.length;g&lt;y;g++){<span class="code-keyword">var</span> x=m[g];v.push(x.clone())}<span class="code-keyword">this</span>.faceVertexUvs[u].push(v)}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=t.morphTargets,b=<span class="code-number">0</span>,w=_.length;b&lt;w;b++){<span class="code-keyword">var</span> M={};<span class="code-keyword">if</span>(M.name=_[b].name,<span class="code-keyword">void</span> <span class="code-number">0</span>!==_[b].vertices){M.vertices=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=<span class="code-number">0</span>,T=_[b].vertices.length;S&lt;T;S++)M.vertices.push(_[b].vertices[S].clone())}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==_[b].normals){M.normals=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">0</span>,A=_[b].normals.length;E&lt;A;E++)M.normals.push(_[b].normals[E].clone())}<span class="code-keyword">this</span>.morphTargets.push(M)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=t.morphNormals,R=<span class="code-number">0</span>,C=L.length;R&lt;C;R++){<span class="code-keyword">var</span> P={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==L[R].vertexNormals){P.vertexNormals=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> I=<span class="code-number">0</span>,N=L[R].vertexNormals.length;I&lt;N;I++){<span class="code-keyword">var</span> D=L[R].vertexNormals[I],O={};O.a=D.a.clone(),O.b=D.b.clone(),O.c=D.c.clone(),P.vertexNormals.push(O)}}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==L[R].faceNormals){P.faceNormals=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> B=<span class="code-number">0</span>,z=L[R].faceNormals.length;B&lt;z;B++)P.faceNormals.push(L[R].faceNormals[B].clone())}<span class="code-keyword">this</span>.morphNormals.push(P)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> U=t.skinWeights,F=<span class="code-number">0</span>,G=U.length;F&lt;G;F++)<span class="code-keyword">this</span>.skinWeights.push(U[F].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> H=t.skinIndices,k=<span class="code-number">0</span>,V=H.length;k&lt;V;k++)<span class="code-keyword">this</span>.skinIndices.push(H[k].clone());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> W=t.lineDistances,j=<span class="code-number">0</span>,q=W.length;j&lt;q;j++)<span class="code-keyword">this</span>.lineDistances.push(W[j]);<span class="code-keyword">var</span> X=t.boundingBox;<span class="code-literal">null</span>!==X&amp;&amp;(<span class="code-keyword">this</span>.boundingBox=X.clone());<span class="code-keyword">var</span> Y=t.boundingSphere;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==Y&amp;&amp;(<span class="code-keyword">this</span>.boundingSphere=Y.clone()),<span class="code-keyword">this</span>.elementsNeedUpdate=t.elementsNeedUpdate,<span class="code-keyword">this</span>.verticesNeedUpdate=t.verticesNeedUpdate,<span class="code-keyword">this</span>.uvsNeedUpdate=t.uvsNeedUpdate,<span class="code-keyword">this</span>.normalsNeedUpdate=t.normalsNeedUpdate,<span class="code-keyword">this</span>.colorsNeedUpdate=t.colorsNeedUpdate,<span class="code-keyword">this</span>.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,<span class="code-keyword">this</span>.groupsNeedUpdate=t.groupsNeedUpdate,<span class="code-keyword">this</span>},<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>})}});<span class="code-keyword">var</span> Mo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">return</span>(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"BoxGeometry"</span>,s.parameters={<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">depth</span>:r,<span class="code-attr">widthSegments</span>:i,<span class="code-attr">heightSegments</span>:a,<span class="code-attr">depthSegments</span>:o},s.fromBufferGeometry(<span class="code-keyword">new</span> Hn(e,n,r,i,a,o)),s.mergeVertices(),s}<span class="code-keyword">return</span> ut(e,t),e}(wo),So=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"CircleBufferGeometry"</span>,a.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">segments</span>:n,<span class="code-attr">thetaStart</span>:r,<span class="code-attr">thetaLength</span>:i},n=<span class="code-built_in">Math</span>.max(<span class="code-number">3</span>,n);<span class="code-keyword">var</span> o=[],s=[],c=[],l=[],u=<span class="code-keyword">new</span> Mt,h=<span class="code-keyword">new</span> pt;s.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),c.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),l.push(<span class="code-number">.5</span>,<span class="code-number">.5</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=<span class="code-number">3</span>;d&lt;=n;d++,p+=<span class="code-number">3</span>){<span class="code-keyword">var</span> f=r+d/n*i;u.x=e*<span class="code-built_in">Math</span>.cos(f),u.y=e*<span class="code-built_in">Math</span>.sin(f),s.push(u.x,u.y,u.z),c.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),h.x=(s[p]/e+<span class="code-number">1</span>)/<span class="code-number">2</span>,h.y=(s[p+<span class="code-number">1</span>]/e+<span class="code-number">1</span>)/<span class="code-number">2</span>,l.push(h.x,h.y)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">1</span>;m&lt;=n;m++)o.push(m,m+<span class="code-number">1</span>,<span class="code-number">0</span>);<span class="code-keyword">return</span> a.setIndex(o),a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(s,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(c,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">2</span>)),a}<span class="code-keyword">return</span> ut(e,t),e}(_n),To=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">return</span>(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"CircleGeometry"</span>,a.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">segments</span>:n,<span class="code-attr">thetaStart</span>:r,<span class="code-attr">thetaLength</span>:i},a.fromBufferGeometry(<span class="code-keyword">new</span> So(e,n,r,i)),a.mergeVertices(),a}<span class="code-keyword">return</span> ut(e,t),e}(wo),Eo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s,c</span>)</span>{<span class="code-keyword">var</span> l;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===c&amp;&amp;(c=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(l=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"CylinderBufferGeometry"</span>,l.parameters={<span class="code-attr">radiusTop</span>:e,<span class="code-attr">radiusBottom</span>:n,<span class="code-attr">height</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">heightSegments</span>:a,<span class="code-attr">openEnded</span>:o,<span class="code-attr">thetaStart</span>:s,<span class="code-attr">thetaLength</span>:c};<span class="code-keyword">var</span> u=ht(l);i=<span class="code-built_in">Math</span>.floor(i),a=<span class="code-built_in">Math</span>.floor(a);<span class="code-keyword">var</span> h=[],d=[],p=[],f=[],m=<span class="code-number">0</span>,v=[],g=r/<span class="code-number">2</span>,y=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">x</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=m,a=<span class="code-keyword">new</span> pt,o=<span class="code-keyword">new</span> Mt,l=<span class="code-number">0</span>,v=!<span class="code-number">0</span>===t?e:n,x=!<span class="code-number">0</span>===t?<span class="code-number">1</span>:<span class="code-number">-1</span>,_=<span class="code-number">1</span>;_&lt;=i;_++)d.push(<span class="code-number">0</span>,g*x,<span class="code-number">0</span>),p.push(<span class="code-number">0</span>,x,<span class="code-number">0</span>),f.push(<span class="code-number">.5</span>,<span class="code-number">.5</span>),m++;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=m,w=<span class="code-number">0</span>;w&lt;=i;w++){<span class="code-keyword">var</span> M=w/i*c+s,S=<span class="code-built_in">Math</span>.cos(M),T=<span class="code-built_in">Math</span>.sin(M);o.x=v*T,o.y=g*x,o.z=v*S,d.push(o.x,o.y,o.z),p.push(<span class="code-number">0</span>,x,<span class="code-number">0</span>),a.x=<span class="code-number">.5</span>*S+<span class="code-number">.5</span>,a.y=<span class="code-number">.5</span>*T*x+<span class="code-number">.5</span>,f.push(a.x,a.y),m++}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">0</span>;E&lt;i;E++){<span class="code-keyword">var</span> A=r+E,L=b+E;!<span class="code-number">0</span>===t?h.push(L,L+<span class="code-number">1</span>,A):h.push(L+<span class="code-number">1</span>,L,A),l+=<span class="code-number">3</span>}u.addGroup(y,l,!<span class="code-number">0</span>===t?<span class="code-number">1</span>:<span class="code-number">2</span>),y+=l}<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Mt,o=<span class="code-keyword">new</span> Mt,l=<span class="code-number">0</span>,x=(n-e)/r,_=<span class="code-number">0</span>;_&lt;=a;_++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=[],w=_/a,M=w*(n-e)+e,S=<span class="code-number">0</span>;S&lt;=i;S++){<span class="code-keyword">var</span> T=S/i,E=T*c+s,A=<span class="code-built_in">Math</span>.sin(E),L=<span class="code-built_in">Math</span>.cos(E);o.x=M*A,o.y=-w*r+g,o.z=M*L,d.push(o.x,o.y,o.z),t.set(A,x,L).normalize(),p.push(t.x,t.y,t.z),f.push(T,<span class="code-number">1</span>-w),b.push(m++)}v.push(b)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> R=<span class="code-number">0</span>;R&lt;i;R++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> C=<span class="code-number">0</span>;C&lt;a;C++){<span class="code-keyword">var</span> P=v[C][R],I=v[C+<span class="code-number">1</span>][R],N=v[C+<span class="code-number">1</span>][R+<span class="code-number">1</span>],D=v[C][R+<span class="code-number">1</span>];h.push(P,I,D),h.push(I,N,D),l+=<span class="code-number">6</span>}u.addGroup(y,l,<span class="code-number">0</span>),y+=l}(),!<span class="code-number">1</span>===o&amp;&amp;(e&gt;<span class="code-number">0</span>&amp;&amp;x(!<span class="code-number">0</span>),n&gt;<span class="code-number">0</span>&amp;&amp;x(!<span class="code-number">1</span>)),l.setIndex(h),l.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(d,<span class="code-number">3</span>)),l.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(p,<span class="code-number">3</span>)),l.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(f,<span class="code-number">2</span>)),l}<span class="code-keyword">return</span> ut(e,t),e}(_n),Ao=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s,c</span>)</span>{<span class="code-keyword">var</span> l;<span class="code-keyword">return</span>(l=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"CylinderGeometry"</span>,l.parameters={<span class="code-attr">radiusTop</span>:e,<span class="code-attr">radiusBottom</span>:n,<span class="code-attr">height</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">heightSegments</span>:a,<span class="code-attr">openEnded</span>:o,<span class="code-attr">thetaStart</span>:s,<span class="code-attr">thetaLength</span>:c},l.fromBufferGeometry(<span class="code-keyword">new</span> Eo(e,n,r,i,a,o,s,c)),l.mergeVertices(),l}<span class="code-keyword">return</span> ut(e,t),e}(wo),Lo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c;<span class="code-keyword">return</span>(c=t.call(<span class="code-keyword">this</span>,<span class="code-number">0</span>,e,n,r,i,a,o,s)||<span class="code-keyword">this</span>).type=<span class="code-string">"ConeGeometry"</span>,c.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">radialSegments</span>:r,<span class="code-attr">heightSegments</span>:i,<span class="code-attr">openEnded</span>:a,<span class="code-attr">thetaStart</span>:o,<span class="code-attr">thetaLength</span>:s},c}<span class="code-keyword">return</span> ut(e,t),e}(Ao),Ro=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(c=t.call(<span class="code-keyword">this</span>,<span class="code-number">0</span>,e,n,r,i,a,o,s)||<span class="code-keyword">this</span>).type=<span class="code-string">"ConeBufferGeometry"</span>,c.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">radialSegments</span>:r,<span class="code-attr">heightSegments</span>:i,<span class="code-attr">openEnded</span>:a,<span class="code-attr">thetaStart</span>:o,<span class="code-attr">thetaLength</span>:s},c}<span class="code-keyword">return</span> ut(e,t),e}(Eo),Co=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">0</span>),(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"PolyhedronBufferGeometry"</span>,a.parameters={<span class="code-attr">vertices</span>:e,<span class="code-attr">indices</span>:n,<span class="code-attr">radius</span>:r,<span class="code-attr">detail</span>:i};<span class="code-keyword">var</span> o=[],s=[];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=r+<span class="code-number">1</span>,a=[],o=<span class="code-number">0</span>;o&lt;=i;o++){a[o]=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=t.clone().lerp(n,o/i),c=e.clone().lerp(n,o/i),u=i-o,h=<span class="code-number">0</span>;h&lt;=u;h++)a[o][h]=<span class="code-number">0</span>===h&amp;&amp;o===i?s:s.clone().lerp(c,h/u)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>;d&lt;i;d++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>;p&lt;<span class="code-number">2</span>*(i-d)<span class="code-number">-1</span>;p++){<span class="code-keyword">var</span> f=<span class="code-built_in">Math</span>.floor(p/<span class="code-number">2</span>);p%<span class="code-number">2</span>==<span class="code-number">0</span>?(l(a[d][f+<span class="code-number">1</span>]),l(a[d+<span class="code-number">1</span>][f]),l(a[d][f])):(l(a[d][f+<span class="code-number">1</span>]),l(a[d+<span class="code-number">1</span>][f+<span class="code-number">1</span>]),l(a[d+<span class="code-number">1</span>][f]))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">t</span>)</span>{o.push(t.x,t.y,t.z)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-number">3</span>*t;n.x=e[r+<span class="code-number">0</span>],n.y=e[r+<span class="code-number">1</span>],n.z=e[r+<span class="code-number">2</span>]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">h</span>(<span class="code-params">t,e,n,r</span>)</span>{r&lt;<span class="code-number">0</span>&amp;&amp;<span class="code-number">1</span>===t.x&amp;&amp;(s[e]=t.x<span class="code-number">-1</span>),<span class="code-number">0</span>===n.x&amp;&amp;<span class="code-number">0</span>===n.z&amp;&amp;(s[e]=r/<span class="code-number">2</span>/<span class="code-built_in">Math</span>.PI+<span class="code-number">.5</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">d</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.atan2(t.z,-t.x)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.atan2(-t.y,<span class="code-built_in">Math</span>.sqrt(t.x*t.x+t.z*t.z))}<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> Mt,r=<span class="code-keyword">new</span> Mt,i=<span class="code-keyword">new</span> Mt,a=<span class="code-number">0</span>;a&lt;n.length;a+=<span class="code-number">3</span>)u(n[a+<span class="code-number">0</span>],e),u(n[a+<span class="code-number">1</span>],r),u(n[a+<span class="code-number">2</span>],i),c(e,r,i,t)}(i),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> Mt,n=<span class="code-number">0</span>;n&lt;o.length;n+=<span class="code-number">3</span>)e.x=o[n+<span class="code-number">0</span>],e.y=o[n+<span class="code-number">1</span>],e.z=o[n+<span class="code-number">2</span>],e.normalize().multiplyScalar(t),o[n+<span class="code-number">0</span>]=e.x,o[n+<span class="code-number">1</span>]=e.y,o[n+<span class="code-number">2</span>]=e.z}(r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Mt,e=<span class="code-number">0</span>;e&lt;o.length;e+=<span class="code-number">3</span>){t.x=o[e+<span class="code-number">0</span>],t.y=o[e+<span class="code-number">1</span>],t.z=o[e+<span class="code-number">2</span>];<span class="code-keyword">var</span> n=d(t)/<span class="code-number">2</span>/<span class="code-built_in">Math</span>.PI+<span class="code-number">.5</span>,r=p(t)/<span class="code-built_in">Math</span>.PI+<span class="code-number">.5</span>;s.push(n,<span class="code-number">1</span>-r)}(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Mt,e=<span class="code-keyword">new</span> Mt,n=<span class="code-keyword">new</span> Mt,r=<span class="code-keyword">new</span> Mt,i=<span class="code-keyword">new</span> pt,a=<span class="code-keyword">new</span> pt,c=<span class="code-keyword">new</span> pt,l=<span class="code-number">0</span>,u=<span class="code-number">0</span>;l&lt;o.length;l+=<span class="code-number">9</span>,u+=<span class="code-number">6</span>){t.set(o[l+<span class="code-number">0</span>],o[l+<span class="code-number">1</span>],o[l+<span class="code-number">2</span>]),e.set(o[l+<span class="code-number">3</span>],o[l+<span class="code-number">4</span>],o[l+<span class="code-number">5</span>]),n.set(o[l+<span class="code-number">6</span>],o[l+<span class="code-number">7</span>],o[l+<span class="code-number">8</span>]),i.set(s[u+<span class="code-number">0</span>],s[u+<span class="code-number">1</span>]),a.set(s[u+<span class="code-number">2</span>],s[u+<span class="code-number">3</span>]),c.set(s[u+<span class="code-number">4</span>],s[u+<span class="code-number">5</span>]),r.copy(t).add(e).add(n).divideScalar(<span class="code-number">3</span>);<span class="code-keyword">var</span> p=d(r);h(i,u+<span class="code-number">0</span>,t,p),h(a,u+<span class="code-number">2</span>,e,p),h(c,u+<span class="code-number">4</span>,n,p)}})(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;s.length;t+=<span class="code-number">6</span>){<span class="code-keyword">var</span> e=s[t+<span class="code-number">0</span>],n=s[t+<span class="code-number">2</span>],r=s[t+<span class="code-number">4</span>],i=<span class="code-built_in">Math</span>.max(e,n,r),a=<span class="code-built_in">Math</span>.min(e,n,r);i&gt;<span class="code-number">.9</span>&amp;&amp;a&lt;<span class="code-number">.1</span>&amp;&amp;(e&lt;<span class="code-number">.2</span>&amp;&amp;(s[t+<span class="code-number">0</span>]+=<span class="code-number">1</span>),n&lt;<span class="code-number">.2</span>&amp;&amp;(s[t+<span class="code-number">2</span>]+=<span class="code-number">1</span>),r&lt;<span class="code-number">.2</span>&amp;&amp;(s[t+<span class="code-number">4</span>]+=<span class="code-number">1</span>))}}()}(),a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(o.slice(),<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(s,<span class="code-number">2</span>)),<span class="code-number">0</span>===i?a.computeVertexNormals():a.normalizeNormals(),a}<span class="code-keyword">return</span> ut(e,t),e}(_n),Po=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>);<span class="code-keyword">var</span> i=(<span class="code-number">1</span>+<span class="code-built_in">Math</span>.sqrt(<span class="code-number">5</span>))/<span class="code-number">2</span>,a=<span class="code-number">1</span>/i,o=[<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,-a,-i,<span class="code-number">0</span>,-a,i,<span class="code-number">0</span>,a,-i,<span class="code-number">0</span>,a,i,-a,-i,<span class="code-number">0</span>,-a,i,<span class="code-number">0</span>,a,-i,<span class="code-number">0</span>,a,i,<span class="code-number">0</span>,-i,<span class="code-number">0</span>,-a,i,<span class="code-number">0</span>,-a,-i,<span class="code-number">0</span>,a,i,<span class="code-number">0</span>,a];<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>,o,[<span class="code-number">3</span>,<span class="code-number">11</span>,<span class="code-number">7</span>,<span class="code-number">3</span>,<span class="code-number">7</span>,<span class="code-number">15</span>,<span class="code-number">3</span>,<span class="code-number">15</span>,<span class="code-number">13</span>,<span class="code-number">7</span>,<span class="code-number">19</span>,<span class="code-number">17</span>,<span class="code-number">7</span>,<span class="code-number">17</span>,<span class="code-number">6</span>,<span class="code-number">7</span>,<span class="code-number">6</span>,<span class="code-number">15</span>,<span class="code-number">17</span>,<span class="code-number">4</span>,<span class="code-number">8</span>,<span class="code-number">17</span>,<span class="code-number">8</span>,<span class="code-number">10</span>,<span class="code-number">17</span>,<span class="code-number">10</span>,<span class="code-number">6</span>,<span class="code-number">8</span>,<span class="code-number">0</span>,<span class="code-number">16</span>,<span class="code-number">8</span>,<span class="code-number">16</span>,<span class="code-number">2</span>,<span class="code-number">8</span>,<span class="code-number">2</span>,<span class="code-number">10</span>,<span class="code-number">0</span>,<span class="code-number">12</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">18</span>,<span class="code-number">0</span>,<span class="code-number">18</span>,<span class="code-number">16</span>,<span class="code-number">6</span>,<span class="code-number">10</span>,<span class="code-number">2</span>,<span class="code-number">6</span>,<span class="code-number">2</span>,<span class="code-number">13</span>,<span class="code-number">6</span>,<span class="code-number">13</span>,<span class="code-number">15</span>,<span class="code-number">2</span>,<span class="code-number">16</span>,<span class="code-number">18</span>,<span class="code-number">2</span>,<span class="code-number">18</span>,<span class="code-number">3</span>,<span class="code-number">2</span>,<span class="code-number">3</span>,<span class="code-number">13</span>,<span class="code-number">18</span>,<span class="code-number">1</span>,<span class="code-number">9</span>,<span class="code-number">18</span>,<span class="code-number">9</span>,<span class="code-number">11</span>,<span class="code-number">18</span>,<span class="code-number">11</span>,<span class="code-number">3</span>,<span class="code-number">4</span>,<span class="code-number">14</span>,<span class="code-number">12</span>,<span class="code-number">4</span>,<span class="code-number">12</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">0</span>,<span class="code-number">8</span>,<span class="code-number">11</span>,<span class="code-number">9</span>,<span class="code-number">5</span>,<span class="code-number">11</span>,<span class="code-number">5</span>,<span class="code-number">19</span>,<span class="code-number">11</span>,<span class="code-number">19</span>,<span class="code-number">7</span>,<span class="code-number">19</span>,<span class="code-number">5</span>,<span class="code-number">14</span>,<span class="code-number">19</span>,<span class="code-number">14</span>,<span class="code-number">4</span>,<span class="code-number">19</span>,<span class="code-number">4</span>,<span class="code-number">17</span>,<span class="code-number">1</span>,<span class="code-number">12</span>,<span class="code-number">14</span>,<span class="code-number">1</span>,<span class="code-number">14</span>,<span class="code-number">5</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">9</span>],e,n)||<span class="code-keyword">this</span>).type=<span class="code-string">"DodecahedronBufferGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r}<span class="code-keyword">return</span> ut(e,t),e}(Co),Io=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"DodecahedronGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> Po(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e}(wo),No=<span class="code-keyword">new</span> Mt,Do=<span class="code-keyword">new</span> Mt,Oo=<span class="code-keyword">new</span> Mt,Bo=<span class="code-keyword">new</span> ze,zo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"EdgesGeometry"</span>,r.parameters={<span class="code-attr">thresholdAngle</span>:n},n=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">1</span>,e.isGeometry&amp;&amp;(e=(<span class="code-keyword">new</span> _n).fromGeometry(e));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-built_in">Math</span>.pow(<span class="code-number">10</span>,<span class="code-number">4</span>),a=<span class="code-built_in">Math</span>.cos(st.DEG2RAD*n),o=e.getIndex(),s=e.getAttribute(<span class="code-string">"position"</span>),c=o?o.count:s.count,l=[<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>],u=[<span class="code-string">"a"</span>,<span class="code-string">"b"</span>,<span class="code-string">"c"</span>],h=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(<span class="code-number">3</span>),d={},p=[],f=<span class="code-number">0</span>;f&lt;c;f+=<span class="code-number">3</span>){o?(l[<span class="code-number">0</span>]=o.getX(f),l[<span class="code-number">1</span>]=o.getX(f+<span class="code-number">1</span>),l[<span class="code-number">2</span>]=o.getX(f+<span class="code-number">2</span>)):(l[<span class="code-number">0</span>]=f,l[<span class="code-number">1</span>]=f+<span class="code-number">1</span>,l[<span class="code-number">2</span>]=f+<span class="code-number">2</span>);<span class="code-keyword">var</span> m=Bo.a,v=Bo.b,g=Bo.c;<span class="code-keyword">if</span>(m.fromBufferAttribute(s,l[<span class="code-number">0</span>]),v.fromBufferAttribute(s,l[<span class="code-number">1</span>]),g.fromBufferAttribute(s,l[<span class="code-number">2</span>]),Bo.getNormal(Oo),h[<span class="code-number">0</span>]=<span class="code-built_in">Math</span>.round(m.x*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(m.y*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(m.z*i),h[<span class="code-number">1</span>]=<span class="code-built_in">Math</span>.round(v.x*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(v.y*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(v.z*i),h[<span class="code-number">2</span>]=<span class="code-built_in">Math</span>.round(g.x*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(g.y*i)+<span class="code-string">","</span>+<span class="code-built_in">Math</span>.round(g.z*i),h[<span class="code-number">0</span>]!==h[<span class="code-number">1</span>]&amp;&amp;h[<span class="code-number">1</span>]!==h[<span class="code-number">2</span>]&amp;&amp;h[<span class="code-number">2</span>]!==h[<span class="code-number">0</span>])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;<span class="code-number">3</span>;y++){<span class="code-keyword">var</span> x=(y+<span class="code-number">1</span>)%<span class="code-number">3</span>,_=h[y],b=h[x],w=Bo[u[y]],M=Bo[u[x]],S=_+<span class="code-string">"_"</span>+b,T=b+<span class="code-string">"_"</span>+_;T <span class="code-keyword">in</span> d&amp;&amp;d[T]?(Oo.dot(d[T].normal)&lt;=a&amp;&amp;(p.push(w.x,w.y,w.z),p.push(M.x,M.y,M.z)),d[T]=<span class="code-literal">null</span>):S <span class="code-keyword">in</span> d||(d[S]={<span class="code-attr">index0</span>:l[y],<span class="code-attr">index1</span>:l[x],<span class="code-attr">normal</span>:Oo.clone()})}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E <span class="code-keyword">in</span> d)<span class="code-keyword">if</span>(d[E]){<span class="code-keyword">var</span> A=d[E],L=A.index0,R=A.index1;No.fromBufferAttribute(s,L),Do.fromBufferAttribute(s,R),p.push(No.x,No.y,No.z),p.push(Do.x,Do.y,Do.z)}<span class="code-keyword">return</span> r.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(p,<span class="code-number">3</span>)),r}<span class="code-keyword">return</span> ut(e,t),e}(_n),Uo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{n=n||<span class="code-number">2</span>;<span class="code-keyword">var</span> r,i,a,o,s,c,l,u=e&amp;&amp;e.length,h=u?e[<span class="code-number">0</span>]*n:t.length,d=Fo(t,<span class="code-number">0</span>,h,n,!<span class="code-number">0</span>),p=[];<span class="code-keyword">if</span>(!d||d.next===d.prev)<span class="code-keyword">return</span> p;<span class="code-keyword">if</span>(u&amp;&amp;(d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i,a,o,s=[];<span class="code-keyword">for</span>(i=<span class="code-number">0</span>,a=e.length;i&lt;a;i++)(o=Fo(t,e[i]*r,i&lt;a<span class="code-number">-1</span>?e[i+<span class="code-number">1</span>]*r:t.length,r,!<span class="code-number">1</span>))===o.next&amp;&amp;(o.steiner=!<span class="code-number">0</span>),s.push(Jo(o));<span class="code-keyword">for</span>(s.sort(qo),i=<span class="code-number">0</span>;i&lt;s.length;i++)Xo(s[i],n),n=Go(n,n.next);<span class="code-keyword">return</span> n}(t,e,d,n)),t.length&gt;<span class="code-number">80</span>*n){r=a=t[<span class="code-number">0</span>],i=o=t[<span class="code-number">1</span>];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=n;f&lt;h;f+=n)(s=t[f])&lt;r&amp;&amp;(r=s),(c=t[f+<span class="code-number">1</span>])&lt;i&amp;&amp;(i=c),s&gt;a&amp;&amp;(a=s),c&gt;o&amp;&amp;(o=c);l=<span class="code-number">0</span>!==(l=<span class="code-built_in">Math</span>.max(a-r,o-i))?<span class="code-number">1</span>/l:<span class="code-number">0</span>}<span class="code-keyword">return</span> Ho(d,p,n,r,i,l),p};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fo</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a,o;<span class="code-keyword">if</span>(i===<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=e,o=n-r;a&lt;n;a+=r)i+=(t[o]-t[a])*(t[a+<span class="code-number">1</span>]+t[o+<span class="code-number">1</span>]),o=a;<span class="code-keyword">return</span> i}(t,e,n,r)&gt;<span class="code-number">0</span>)<span class="code-keyword">for</span>(a=e;a&lt;n;a+=r)o=os(a,t[a],t[a+<span class="code-number">1</span>],o);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(a=n-r;a&gt;=e;a-=r)o=os(a,t[a],t[a+<span class="code-number">1</span>],o);<span class="code-keyword">return</span> o&amp;&amp;ts(o,o.next)&amp;&amp;(ss(o),o=o.next),o}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Go</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> t;e||(e=t);<span class="code-keyword">var</span> n,r=t;<span class="code-keyword">do</span>{<span class="code-keyword">if</span>(n=!<span class="code-number">1</span>,r.steiner||!ts(r,r.next)&amp;&amp;<span class="code-number">0</span>!==$o(r.prev,r,r.next))r=r.next;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(ss(r),(r=e=r.prev)===r.next)<span class="code-keyword">break</span>;n=!<span class="code-number">0</span>}}<span class="code-keyword">while</span>(n||r!==e);<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ho</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">if</span>(t){!o&amp;&amp;a&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=t;<span class="code-keyword">do</span>{<span class="code-literal">null</span>===i.z&amp;&amp;(i.z=Zo(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}<span class="code-keyword">while</span>(i!==t);i.prevZ.nextZ=<span class="code-literal">null</span>,i.prevZ=<span class="code-literal">null</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n,r,i,a,o,s,c,l=<span class="code-number">1</span>;<span class="code-keyword">do</span>{<span class="code-keyword">for</span>(n=t,t=<span class="code-literal">null</span>,a=<span class="code-literal">null</span>,o=<span class="code-number">0</span>;n;){<span class="code-keyword">for</span>(o++,r=n,s=<span class="code-number">0</span>,e=<span class="code-number">0</span>;e&lt;l&amp;&amp;(s++,r=r.nextZ);e++);<span class="code-keyword">for</span>(c=l;s&gt;<span class="code-number">0</span>||c&gt;<span class="code-number">0</span>&amp;&amp;r;)<span class="code-number">0</span>!==s&amp;&amp;(<span class="code-number">0</span>===c||!r||n.z&lt;=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=<span class="code-literal">null</span>,l*=<span class="code-number">2</span>}<span class="code-keyword">while</span>(o&gt;<span class="code-number">1</span>)}(i)}(t,r,i,a);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s,c,l=t;t.prev!==t.next;)<span class="code-keyword">if</span>(s=t.prev,c=t.next,a?Vo(t,r,i,a):ko(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),ss(t),t=c.next,l=c.next;<span class="code-keyword">else</span> <span class="code-keyword">if</span>((t=c)===l){o?<span class="code-number">1</span>===o?Ho(t=Wo(Go(t),e,n),e,n,r,i,a,<span class="code-number">2</span>):<span class="code-number">2</span>===o&amp;&amp;jo(t,e,n,r,i,a):Ho(Go(t),e,n,r,i,a,<span class="code-number">1</span>);<span class="code-keyword">break</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ko</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.prev,n=t,r=t.next;<span class="code-keyword">if</span>($o(e,n,r)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.next.next;i!==t.prev;){<span class="code-keyword">if</span>(Qo(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&amp;&amp;$o(i.prev,i,i.next)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;i=i.next}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vo</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=t.prev,a=t,o=t.next;<span class="code-keyword">if</span>($o(i,a,o)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=i.x&lt;a.x?i.x&lt;o.x?i.x:o.x:a.x&lt;o.x?a.x:o.x,c=i.y&lt;a.y?i.y&lt;o.y?i.y:o.y:a.y&lt;o.y?a.y:o.y,l=i.x&gt;a.x?i.x&gt;o.x?i.x:o.x:a.x&gt;o.x?a.x:o.x,u=i.y&gt;a.y?i.y&gt;o.y?i.y:o.y:a.y&gt;o.y?a.y:o.y,h=Zo(s,c,e,n,r),d=Zo(l,u,e,n,r),p=t.prevZ,f=t.nextZ;p&amp;&amp;p.z&gt;=h&amp;&amp;f&amp;&amp;f.z&lt;=d;){<span class="code-keyword">if</span>(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;$o(p.prev,p,p.next)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(p=p.prevZ,f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;$o(f.prev,f,f.next)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;f=f.nextZ}<span class="code-keyword">for</span>(;p&amp;&amp;p.z&gt;=h;){<span class="code-keyword">if</span>(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;$o(p.prev,p,p.next)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;p=p.prevZ}<span class="code-keyword">for</span>(;f&amp;&amp;f.z&lt;=d;){<span class="code-keyword">if</span>(f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Qo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;$o(f.prev,f,f.next)&gt;=<span class="code-number">0</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;f=f.nextZ}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wo</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=t;<span class="code-keyword">do</span>{<span class="code-keyword">var</span> i=r.prev,a=r.next.next;!ts(i,a)&amp;&amp;es(i,r,r.next,a)&amp;&amp;is(i,a)&amp;&amp;is(a,i)&amp;&amp;(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),ss(r),ss(r.next),r=t=a),r=r.next}<span class="code-keyword">while</span>(r!==t);<span class="code-keyword">return</span> Go(r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jo</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=t;<span class="code-keyword">do</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=o.next.next;s!==o.prev;){<span class="code-keyword">if</span>(o.i!==s.i&amp;&amp;Ko(o,s)){<span class="code-keyword">var</span> c=<span class="code-keyword">as</span>(o,s);<span class="code-keyword">return</span> o=Go(o,o.next),c=Go(c,c.next),Ho(o,e,n,r,i,a),<span class="code-keyword">void</span> Ho(c,e,n,r,i,a)}s=s.next}o=o.next}<span class="code-keyword">while</span>(o!==t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qo</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.x-e.x}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xo</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r=e,i=t.x,a=t.y,o=<span class="code-number">-1</span>/<span class="code-number">0</span>;<span class="code-keyword">do</span>{<span class="code-keyword">if</span>(a&lt;=r.y&amp;&amp;a&gt;=r.next.y&amp;&amp;r.next.y!==r.y){<span class="code-keyword">var</span> s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);<span class="code-keyword">if</span>(s&lt;=i&amp;&amp;s&gt;o){<span class="code-keyword">if</span>(o=s,s===i){<span class="code-keyword">if</span>(a===r.y)<span class="code-keyword">return</span> r;<span class="code-keyword">if</span>(a===r.next.y)<span class="code-keyword">return</span> r.next}n=r.x&lt;r.next.x?r:r.next}}r=r.next}<span class="code-keyword">while</span>(r!==e);<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(i===o)<span class="code-keyword">return</span> n;<span class="code-keyword">var</span> c,l=n,u=n.x,h=n.y,d=<span class="code-number">1</span>/<span class="code-number">0</span>;r=n;<span class="code-keyword">do</span>{i&gt;=r.x&amp;&amp;r.x&gt;=u&amp;&amp;i!==r.x&amp;&amp;Qo(a&lt;h?i:o,a,u,h,a&lt;h?o:i,a,r.x,r.y)&amp;&amp;(c=<span class="code-built_in">Math</span>.abs(a-r.y)/(i-r.x),is(r,t)&amp;&amp;(c&lt;d||c===d&amp;&amp;(r.x&gt;n.x||r.x===n.x&amp;&amp;Yo(n,r)))&amp;&amp;(n=r,d=c)),r=r.next}<span class="code-keyword">while</span>(r!==l);<span class="code-keyword">return</span> n}(t,e)){<span class="code-keyword">var</span> n=<span class="code-keyword">as</span>(e,t);Go(e,e.next),Go(n,n.next)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yo</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> $o(t.prev,t,e.prev)&lt;<span class="code-number">0</span>&amp;&amp;$o(e.next,t,t.next)&lt;<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zo</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-number">1431655765</span>&amp;((t=<span class="code-number">858993459</span>&amp;((t=<span class="code-number">252645135</span>&amp;((t=<span class="code-number">16711935</span>&amp;((t=<span class="code-number">32767</span>*(t-n)*i)|t&lt;&lt;<span class="code-number">8</span>))|t&lt;&lt;<span class="code-number">4</span>))|t&lt;&lt;<span class="code-number">2</span>))|t&lt;&lt;<span class="code-number">1</span>))|(e=<span class="code-number">1431655765</span>&amp;((e=<span class="code-number">858993459</span>&amp;((e=<span class="code-number">252645135</span>&amp;((e=<span class="code-number">16711935</span>&amp;((e=<span class="code-number">32767</span>*(e-r)*i)|e&lt;&lt;<span class="code-number">8</span>))|e&lt;&lt;<span class="code-number">4</span>))|e&lt;&lt;<span class="code-number">2</span>))|e&lt;&lt;<span class="code-number">1</span>))&lt;&lt;<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jo</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t,n=t;<span class="code-keyword">do</span>{(e.x&lt;n.x||e.x===n.x&amp;&amp;e.y&lt;n.y)&amp;&amp;(n=e),e=e.next}<span class="code-keyword">while</span>(e!==t);<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qo</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">return</span>(i-o)*(e-s)-(t-o)*(a-s)&gt;=<span class="code-number">0</span>&amp;&amp;(t-o)*(r-s)-(n-o)*(e-s)&gt;=<span class="code-number">0</span>&amp;&amp;(n-o)*(a-s)-(i-o)*(r-s)&gt;=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ko</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.next.i!==e.i&amp;&amp;t.prev.i!==e.i&amp;&amp;!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t;<span class="code-keyword">do</span>{<span class="code-keyword">if</span>(n.i!==t.i&amp;&amp;n.next.i!==t.i&amp;&amp;n.i!==e.i&amp;&amp;n.next.i!==e.i&amp;&amp;es(n,n.next,t,e))<span class="code-keyword">return</span>!<span class="code-number">0</span>;n=n.next}<span class="code-keyword">while</span>(n!==t);<span class="code-keyword">return</span>!<span class="code-number">1</span>}(t,e)&amp;&amp;(is(t,e)&amp;&amp;is(e,t)&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t,r=!<span class="code-number">1</span>,i=(t.x+e.x)/<span class="code-number">2</span>,a=(t.y+e.y)/<span class="code-number">2</span>;<span class="code-keyword">do</span>{n.y&gt;a!=n.next.y&gt;a&amp;&amp;n.next.y!==n.y&amp;&amp;i&lt;(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&amp;&amp;(r=!r),n=n.next}<span class="code-keyword">while</span>(n!==t);<span class="code-keyword">return</span> r}(t,e)&amp;&amp;($o(t.prev,t,e.prev)||$o(t,e.prev,e))||ts(t,e)&amp;&amp;$o(t.prev,t,t.next)&gt;<span class="code-number">0</span>&amp;&amp;$o(e.prev,e,e.next)&gt;<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$o</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span>(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ts</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.x===e.x&amp;&amp;t.y===e.y}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">es</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=rs($o(t,e,n)),a=rs($o(t,e,r)),o=rs($o(n,r,t)),s=rs($o(n,r,e));<span class="code-keyword">return</span> i!==a&amp;&amp;o!==s||(!(<span class="code-number">0</span>!==i||!ns(t,n,e))||(!(<span class="code-number">0</span>!==a||!ns(t,r,e))||(!(<span class="code-number">0</span>!==o||!ns(n,t,r))||!(<span class="code-number">0</span>!==s||!ns(n,e,r)))))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ns</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> e.x&lt;=<span class="code-built_in">Math</span>.max(t.x,n.x)&amp;&amp;e.x&gt;=<span class="code-built_in">Math</span>.min(t.x,n.x)&amp;&amp;e.y&lt;=<span class="code-built_in">Math</span>.max(t.y,n.y)&amp;&amp;e.y&gt;=<span class="code-built_in">Math</span>.min(t.y,n.y)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rs</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&gt;<span class="code-number">0</span>?<span class="code-number">1</span>:t&lt;<span class="code-number">0</span>?<span class="code-number">-1</span>:<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">is</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> $o(t.prev,t,t.next)&lt;<span class="code-number">0</span>?$o(t,e,t.next)&gt;=<span class="code-number">0</span>&amp;&amp;$o(t,t.prev,e)&gt;=<span class="code-number">0</span>:$o(t,e,t.prev)&lt;<span class="code-number">0</span>||$o(t,t.next,e)&lt;<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">as</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> cs(t.i,t.x,t.y),r=<span class="code-keyword">new</span> cs(e.i,e.x,e.y),i=t.next,a=e.prev;<span class="code-keyword">return</span> t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">os</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> cs(t,e,n);<span class="code-keyword">return</span> r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ss</span>(<span class="code-params">t</span>)</span>{t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&amp;&amp;(t.prevZ.nextZ=t.nextZ),t.nextZ&amp;&amp;(t.nextZ.prevZ=t.prevZ)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cs</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.i=t,<span class="code-keyword">this</span>.x=e,<span class="code-keyword">this</span>.y=n,<span class="code-keyword">this</span>.prev=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.next=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.z=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.prevZ=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.nextZ=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.steiner=!<span class="code-number">1</span>}<span class="code-keyword">var</span> ls={<span class="code-attr">area</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.length,n=<span class="code-number">0</span>,r=e<span class="code-number">-1</span>,i=<span class="code-number">0</span>;i&lt;e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;<span class="code-keyword">return</span><span class="code-number">.5</span>*n},<span class="code-attr">isClockWise</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ls.area(t)&lt;<span class="code-number">0</span>},<span class="code-attr">triangulateShape</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=[],r=[],i=[];us(t),hs(n,t);<span class="code-keyword">var</span> a=t.length;e.forEach(us);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;e.length;o++)r.push(a),a+=e[o].length,hs(n,e[o]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=Uo(n,r),c=<span class="code-number">0</span>;c&lt;s.length;c+=<span class="code-number">3</span>)i.push(s.slice(c,c+<span class="code-number">3</span>));<span class="code-keyword">return</span> i}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">us</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.length;e&gt;<span class="code-number">2</span>&amp;&amp;t[e<span class="code-number">-1</span>].equals(t[<span class="code-number">0</span>])&amp;&amp;t.pop()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hs</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;e.length;n++)t.push(e[n].x),t.push(e[n].y)}<span class="code-keyword">var</span> ds=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"ExtrudeBufferGeometry"</span>,r.parameters={<span class="code-attr">shapes</span>:e,<span class="code-attr">options</span>:n},e=<span class="code-built_in">Array</span>.isArray(e)?e:[e];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=ht(r),a=[],o=[],s=<span class="code-number">0</span>,c=e.length;s&lt;c;s++){l(e[s])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[],r=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.curveSegments?n.curveSegments:<span class="code-number">12</span>,s=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.steps?n.steps:<span class="code-number">1</span>,c=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.depth?n.depth:<span class="code-number">100</span>,l=<span class="code-keyword">void</span> <span class="code-number">0</span>===n.bevelEnabled||n.bevelEnabled,u=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.bevelThickness?n.bevelThickness:<span class="code-number">6</span>,h=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.bevelSize?n.bevelSize:u<span class="code-number">-2</span>,d=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.bevelOffset?n.bevelOffset:<span class="code-number">0</span>,p=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.bevelSegments?n.bevelSegments:<span class="code-number">3</span>,f=n.extrudePath,m=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.UVGenerator?n.UVGenerator:ps;<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.amount&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ExtrudeBufferGeometry: amount has been renamed to depth."</span>),c=n.amount);<span class="code-keyword">var</span> v,g,y,x,_,b=!<span class="code-number">1</span>;f&amp;&amp;(v=f.getSpacedPoints(s),b=!<span class="code-number">0</span>,l=!<span class="code-number">1</span>,g=f.computeFrenetFrames(s,!<span class="code-number">1</span>),y=<span class="code-keyword">new</span> Mt,x=<span class="code-keyword">new</span> Mt,_=<span class="code-keyword">new</span> Mt),l||(p=<span class="code-number">0</span>,u=<span class="code-number">0</span>,h=<span class="code-number">0</span>,d=<span class="code-number">0</span>);<span class="code-keyword">var</span> w=t.extractPoints(r),M=w.shape,S=w.holes;<span class="code-keyword">if</span>(!ls.isClockWise(M)){M=M.reverse();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> T=<span class="code-number">0</span>,E=S.length;T&lt;E;T++){<span class="code-keyword">var</span> A=S[T];ls.isClockWise(A)&amp;&amp;(S[T]=A.reverse())}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=ls.triangulateShape(M,S),R=M,C=<span class="code-number">0</span>,P=S.length;C&lt;P;C++){<span class="code-keyword">var</span> I=S[C];M=M.concat(I)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">N</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> e||<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ExtrudeGeometry: vec does not exist"</span>),e.clone().multiplyScalar(n).add(t)}<span class="code-keyword">var</span> D=M.length,O=L.length;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">B</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r,i,a,o=t.x-e.x,s=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=o*o+s*s,h=o*l-s*c;<span class="code-keyword">if</span>(<span class="code-built_in">Math</span>.abs(h)&gt;<span class="code-built_in">Number</span>.EPSILON){<span class="code-keyword">var</span> d=<span class="code-built_in">Math</span>.sqrt(u),p=<span class="code-built_in">Math</span>.sqrt(c*c+l*l),f=e.x-s/d,m=e.y+o/d,v=((n.x-l/p-f)*l-(n.y+c/p-m)*c)/(o*l-s*c),g=(r=f+o*v-t.x)*r+(i=m+s*v-t.y)*i;<span class="code-keyword">if</span>(g&lt;=<span class="code-number">2</span>)<span class="code-keyword">return</span> <span class="code-keyword">new</span> pt(r,i);a=<span class="code-built_in">Math</span>.sqrt(g/<span class="code-number">2</span>)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> y=!<span class="code-number">1</span>;o&gt;<span class="code-built_in">Number</span>.EPSILON?c&gt;<span class="code-built_in">Number</span>.EPSILON&amp;&amp;(y=!<span class="code-number">0</span>):o&lt;-<span class="code-built_in">Number</span>.EPSILON?c&lt;-<span class="code-built_in">Number</span>.EPSILON&amp;&amp;(y=!<span class="code-number">0</span>):<span class="code-built_in">Math</span>.sign(s)===<span class="code-built_in">Math</span>.sign(l)&amp;&amp;(y=!<span class="code-number">0</span>),y?(r=-s,i=o,a=<span class="code-built_in">Math</span>.sqrt(u)):(r=o,i=s,a=<span class="code-built_in">Math</span>.sqrt(u/<span class="code-number">2</span>))}<span class="code-keyword">return</span> <span class="code-keyword">new</span> pt(r/a,i/a)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> z=[],U=<span class="code-number">0</span>,F=R.length,G=F<span class="code-number">-1</span>,H=U+<span class="code-number">1</span>;U&lt;F;U++,G++,H++)G===F&amp;&amp;(G=<span class="code-number">0</span>),H===F&amp;&amp;(H=<span class="code-number">0</span>),z[U]=B(R[U],R[G],R[H]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> k,V=[],W=z.concat(),j=<span class="code-number">0</span>,q=S.length;j&lt;q;j++){<span class="code-keyword">var</span> X=S[j];k=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> Y=<span class="code-number">0</span>,Z=X.length,J=Z<span class="code-number">-1</span>,Q=Y+<span class="code-number">1</span>;Y&lt;Z;Y++,J++,Q++)J===Z&amp;&amp;(J=<span class="code-number">0</span>),Q===Z&amp;&amp;(Q=<span class="code-number">0</span>),k[Y]=B(X[Y],X[J],X[Q]);V.push(k),W=W.concat(k)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> K=<span class="code-number">0</span>;K&lt;p;K++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> $=K/p,tt=u*<span class="code-built_in">Math</span>.cos($*<span class="code-built_in">Math</span>.PI/<span class="code-number">2</span>),et=h*<span class="code-built_in">Math</span>.sin($*<span class="code-built_in">Math</span>.PI/<span class="code-number">2</span>)+d,nt=<span class="code-number">0</span>,rt=R.length;nt&lt;rt;nt++){<span class="code-keyword">var</span> it=N(R[nt],z[nt],et);Nt(it.x,it.y,-tt)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> at=<span class="code-number">0</span>,ot=S.length;at&lt;ot;at++){<span class="code-keyword">var</span> st=S[at];k=V[at];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> ct=<span class="code-number">0</span>,lt=st.length;ct&lt;lt;ct++){<span class="code-keyword">var</span> ut=N(st[ct],k[ct],et);Nt(ut.x,ut.y,-tt)}}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> ht=h+d,dt=<span class="code-number">0</span>;dt&lt;D;dt++){<span class="code-keyword">var</span> ft=l?N(M[dt],W[dt],ht):M[dt];b?(x.copy(g.normals[<span class="code-number">0</span>]).multiplyScalar(ft.x),y.copy(g.binormals[<span class="code-number">0</span>]).multiplyScalar(ft.y),_.copy(v[<span class="code-number">0</span>]).add(x).add(y),Nt(_.x,_.y,_.z)):Nt(ft.x,ft.y,<span class="code-number">0</span>)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> mt=<span class="code-number">1</span>;mt&lt;=s;mt++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> vt=<span class="code-number">0</span>;vt&lt;D;vt++){<span class="code-keyword">var</span> gt=l?N(M[vt],W[vt],ht):M[vt];b?(x.copy(g.normals[mt]).multiplyScalar(gt.x),y.copy(g.binormals[mt]).multiplyScalar(gt.y),_.copy(v[mt]).add(x).add(y),Nt(_.x,_.y,_.z)):Nt(gt.x,gt.y,c/s*mt)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> yt=p<span class="code-number">-1</span>;yt&gt;=<span class="code-number">0</span>;yt--){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> xt=yt/p,_t=u*<span class="code-built_in">Math</span>.cos(xt*<span class="code-built_in">Math</span>.PI/<span class="code-number">2</span>),bt=h*<span class="code-built_in">Math</span>.sin(xt*<span class="code-built_in">Math</span>.PI/<span class="code-number">2</span>)+d,wt=<span class="code-number">0</span>,St=R.length;wt&lt;St;wt++){<span class="code-keyword">var</span> Tt=N(R[wt],z[wt],bt);Nt(Tt.x,Tt.y,c+_t)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> Et=<span class="code-number">0</span>,At=S.length;Et&lt;At;Et++){<span class="code-keyword">var</span> Lt=S[Et];k=V[Et];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> Rt=<span class="code-number">0</span>,Ct=Lt.length;Rt&lt;Ct;Rt++){<span class="code-keyword">var</span> Pt=N(Lt[Rt],k[Rt],bt);b?Nt(Pt.x,Pt.y+v[s<span class="code-number">-1</span>].y,v[s<span class="code-number">-1</span>].x+_t):Nt(Pt.x,Pt.y,c+_t)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">It</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=t.length;--n&gt;=<span class="code-number">0</span>;){<span class="code-keyword">var</span> r=n,i=n<span class="code-number">-1</span>;i&lt;<span class="code-number">0</span>&amp;&amp;(i=t.length<span class="code-number">-1</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=s+<span class="code-number">2</span>*p;a&lt;o;a++){<span class="code-keyword">var</span> c=D*a,l=D*(a+<span class="code-number">1</span>);Ot(e+r+c,e+i+c,e+i+l,e+r+l)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nt</span>(<span class="code-params">t,n,r</span>)</span>{e.push(t),e.push(n),e.push(r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Dt</span>(<span class="code-params">t,e,n</span>)</span>{Bt(t),Bt(e),Bt(n);<span class="code-keyword">var</span> r=a.length/<span class="code-number">3</span>,o=m.generateTopUV(i,a,r<span class="code-number">-3</span>,r<span class="code-number">-2</span>,r<span class="code-number">-1</span>);zt(o[<span class="code-number">0</span>]),zt(o[<span class="code-number">1</span>]),zt(o[<span class="code-number">2</span>])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ot</span>(<span class="code-params">t,e,n,r</span>)</span>{Bt(t),Bt(e),Bt(r),Bt(e),Bt(n),Bt(r);<span class="code-keyword">var</span> o=a.length/<span class="code-number">3</span>,s=m.generateSideWallUV(i,a,o<span class="code-number">-6</span>,o<span class="code-number">-3</span>,o<span class="code-number">-2</span>,o<span class="code-number">-1</span>);zt(s[<span class="code-number">0</span>]),zt(s[<span class="code-number">1</span>]),zt(s[<span class="code-number">3</span>]),zt(s[<span class="code-number">1</span>]),zt(s[<span class="code-number">2</span>]),zt(s[<span class="code-number">3</span>])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bt</span>(<span class="code-params">t</span>)</span>{a.push(e[<span class="code-number">3</span>*t+<span class="code-number">0</span>]),a.push(e[<span class="code-number">3</span>*t+<span class="code-number">1</span>]),a.push(e[<span class="code-number">3</span>*t+<span class="code-number">2</span>])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zt</span>(<span class="code-params">t</span>)</span>{o.push(t.x),o.push(t.y)}!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=a.length/<span class="code-number">3</span>;<span class="code-keyword">if</span>(l){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=D*e,r=<span class="code-number">0</span>;r&lt;O;r++){<span class="code-keyword">var</span> o=L[r];Dt(o[<span class="code-number">2</span>]+n,o[<span class="code-number">1</span>]+n,o[<span class="code-number">0</span>]+n)}n=D*(e=s+<span class="code-number">2</span>*p);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;O;c++){<span class="code-keyword">var</span> u=L[c];Dt(u[<span class="code-number">0</span>]+n,u[<span class="code-number">1</span>]+n,u[<span class="code-number">2</span>]+n)}}<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>;h&lt;O;h++){<span class="code-keyword">var</span> d=L[h];Dt(d[<span class="code-number">2</span>],d[<span class="code-number">1</span>],d[<span class="code-number">0</span>])}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>;f&lt;O;f++){<span class="code-keyword">var</span> m=L[f];Dt(m[<span class="code-number">0</span>]+D*s,m[<span class="code-number">1</span>]+D*s,m[<span class="code-number">2</span>]+D*s)}}i.addGroup(t,a.length/<span class="code-number">3</span>-t,<span class="code-number">0</span>)}(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=a.length/<span class="code-number">3</span>,e=<span class="code-number">0</span>;It(R,e),e+=R.length;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=S.length;n&lt;r;n++){<span class="code-keyword">var</span> o=S[n];It(o,e),e+=o.length}i.addGroup(t,a.length/<span class="code-number">3</span>-t,<span class="code-number">1</span>)}()}<span class="code-keyword">return</span> r.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>)),r.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">2</span>)),r.computeVertexNormals(),r}<span class="code-keyword">return</span> ut(e,t),e.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=_n.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(n.shapes=[],<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];n.shapes.push(a.uuid)}<span class="code-keyword">else</span> n.shapes.push(t.uuid);<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.extrudePath&amp;&amp;(n.options.extrudePath=e.extrudePath.toJSON());<span class="code-keyword">return</span> n}(<span class="code-keyword">this</span>.parameters.shapes,<span class="code-keyword">this</span>.parameters.options,t)},e}(_n),ps={<span class="code-attr">generateTopUV</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=e[<span class="code-number">3</span>*n],o=e[<span class="code-number">3</span>*n+<span class="code-number">1</span>],s=e[<span class="code-number">3</span>*r],c=e[<span class="code-number">3</span>*r+<span class="code-number">1</span>],l=e[<span class="code-number">3</span>*i],u=e[<span class="code-number">3</span>*i+<span class="code-number">1</span>];<span class="code-keyword">return</span>[<span class="code-keyword">new</span> pt(a,o),<span class="code-keyword">new</span> pt(s,c),<span class="code-keyword">new</span> pt(l,u)]},<span class="code-attr">generateSideWallUV</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=e[<span class="code-number">3</span>*n],s=e[<span class="code-number">3</span>*n+<span class="code-number">1</span>],c=e[<span class="code-number">3</span>*n+<span class="code-number">2</span>],l=e[<span class="code-number">3</span>*r],u=e[<span class="code-number">3</span>*r+<span class="code-number">1</span>],h=e[<span class="code-number">3</span>*r+<span class="code-number">2</span>],d=e[<span class="code-number">3</span>*i],p=e[<span class="code-number">3</span>*i+<span class="code-number">1</span>],f=e[<span class="code-number">3</span>*i+<span class="code-number">2</span>],m=e[<span class="code-number">3</span>*a],v=e[<span class="code-number">3</span>*a+<span class="code-number">1</span>],g=e[<span class="code-number">3</span>*a+<span class="code-number">2</span>];<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(s-u)&lt;<span class="code-number">.01</span>?[<span class="code-keyword">new</span> pt(o,<span class="code-number">1</span>-c),<span class="code-keyword">new</span> pt(l,<span class="code-number">1</span>-h),<span class="code-keyword">new</span> pt(d,<span class="code-number">1</span>-f),<span class="code-keyword">new</span> pt(m,<span class="code-number">1</span>-g)]:[<span class="code-keyword">new</span> pt(s,<span class="code-number">1</span>-c),<span class="code-keyword">new</span> pt(u,<span class="code-number">1</span>-h),<span class="code-keyword">new</span> pt(p,<span class="code-number">1</span>-f),<span class="code-keyword">new</span> pt(v,<span class="code-number">1</span>-g)]}};<span class="code-keyword">var</span> fs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"ExtrudeGeometry"</span>,r.parameters={<span class="code-attr">shapes</span>:e,<span class="code-attr">options</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> ds(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(n.shapes=[],<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];n.shapes.push(a.uuid)}<span class="code-keyword">else</span> n.shapes.push(t.uuid);<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.extrudePath&amp;&amp;(n.options.extrudePath=e.extrudePath.toJSON());<span class="code-keyword">return</span> n}(<span class="code-keyword">this</span>.parameters.shapes,<span class="code-keyword">this</span>.parameters.options,e)},e}(wo);<span class="code-keyword">var</span> ms=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>);<span class="code-keyword">var</span> i=(<span class="code-number">1</span>+<span class="code-built_in">Math</span>.sqrt(<span class="code-number">5</span>))/<span class="code-number">2</span>,a=[<span class="code-number">-1</span>,i,<span class="code-number">0</span>,<span class="code-number">1</span>,i,<span class="code-number">0</span>,<span class="code-number">-1</span>,-i,<span class="code-number">0</span>,<span class="code-number">1</span>,-i,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>,i,<span class="code-number">0</span>,<span class="code-number">1</span>,i,<span class="code-number">0</span>,<span class="code-number">-1</span>,-i,<span class="code-number">0</span>,<span class="code-number">1</span>,-i,i,<span class="code-number">0</span>,<span class="code-number">-1</span>,i,<span class="code-number">0</span>,<span class="code-number">1</span>,-i,<span class="code-number">0</span>,<span class="code-number">-1</span>,-i,<span class="code-number">0</span>,<span class="code-number">1</span>];<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>,a,[<span class="code-number">0</span>,<span class="code-number">11</span>,<span class="code-number">5</span>,<span class="code-number">0</span>,<span class="code-number">5</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">7</span>,<span class="code-number">0</span>,<span class="code-number">7</span>,<span class="code-number">10</span>,<span class="code-number">0</span>,<span class="code-number">10</span>,<span class="code-number">11</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">9</span>,<span class="code-number">5</span>,<span class="code-number">11</span>,<span class="code-number">4</span>,<span class="code-number">11</span>,<span class="code-number">10</span>,<span class="code-number">2</span>,<span class="code-number">10</span>,<span class="code-number">7</span>,<span class="code-number">6</span>,<span class="code-number">7</span>,<span class="code-number">1</span>,<span class="code-number">8</span>,<span class="code-number">3</span>,<span class="code-number">9</span>,<span class="code-number">4</span>,<span class="code-number">3</span>,<span class="code-number">4</span>,<span class="code-number">2</span>,<span class="code-number">3</span>,<span class="code-number">2</span>,<span class="code-number">6</span>,<span class="code-number">3</span>,<span class="code-number">6</span>,<span class="code-number">8</span>,<span class="code-number">3</span>,<span class="code-number">8</span>,<span class="code-number">9</span>,<span class="code-number">4</span>,<span class="code-number">9</span>,<span class="code-number">5</span>,<span class="code-number">2</span>,<span class="code-number">4</span>,<span class="code-number">11</span>,<span class="code-number">6</span>,<span class="code-number">2</span>,<span class="code-number">10</span>,<span class="code-number">8</span>,<span class="code-number">6</span>,<span class="code-number">7</span>,<span class="code-number">9</span>,<span class="code-number">8</span>,<span class="code-number">1</span>],e,n)||<span class="code-keyword">this</span>).type=<span class="code-string">"IcosahedronBufferGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r}<span class="code-keyword">return</span> ut(e,t),e}(Co),vs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"IcosahedronGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> ms(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e}(wo),gs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">12</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"LatheBufferGeometry"</span>,a.parameters={<span class="code-attr">points</span>:e,<span class="code-attr">segments</span>:n,<span class="code-attr">phiStart</span>:r,<span class="code-attr">phiLength</span>:i},n=<span class="code-built_in">Math</span>.floor(n),i=st.clamp(i,<span class="code-number">0</span>,<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=[],s=[],c=[],l=<span class="code-number">1</span>/n,u=<span class="code-keyword">new</span> Mt,h=<span class="code-keyword">new</span> pt,d=<span class="code-number">0</span>;d&lt;=n;d++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=r+d*l*i,f=<span class="code-built_in">Math</span>.sin(p),m=<span class="code-built_in">Math</span>.cos(p),v=<span class="code-number">0</span>;v&lt;=e.length<span class="code-number">-1</span>;v++)u.x=e[v].x*f,u.y=e[v].y,u.z=e[v].x*m,s.push(u.x,u.y,u.z),h.x=d/n,h.y=v/(e.length<span class="code-number">-1</span>),c.push(h.x,h.y);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>;g&lt;n;g++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;e.length<span class="code-number">-1</span>;y++){<span class="code-keyword">var</span> x=y+g*e.length,_=x,b=x+e.length,w=x+e.length+<span class="code-number">1</span>,M=x+<span class="code-number">1</span>;o.push(_,b,M),o.push(b,w,M)}<span class="code-keyword">if</span>(a.setIndex(o),a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(s,<span class="code-number">3</span>)),a.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(c,<span class="code-number">2</span>)),a.computeVertexNormals(),i===<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=a.attributes.normal.array,T=<span class="code-keyword">new</span> Mt,E=<span class="code-keyword">new</span> Mt,A=<span class="code-keyword">new</span> Mt,L=n*e.length*<span class="code-number">3</span>,R=<span class="code-number">0</span>,C=<span class="code-number">0</span>;R&lt;e.length;R++,C+=<span class="code-number">3</span>)T.x=S[C+<span class="code-number">0</span>],T.y=S[C+<span class="code-number">1</span>],T.z=S[C+<span class="code-number">2</span>],E.x=S[L+C+<span class="code-number">0</span>],E.y=S[L+C+<span class="code-number">1</span>],E.z=S[L+C+<span class="code-number">2</span>],A.addVectors(T,E).normalize(),S[C+<span class="code-number">0</span>]=S[L+C+<span class="code-number">0</span>]=A.x,S[C+<span class="code-number">1</span>]=S[L+C+<span class="code-number">1</span>]=A.y,S[C+<span class="code-number">2</span>]=S[L+C+<span class="code-number">2</span>]=A.z;<span class="code-keyword">return</span> a}<span class="code-keyword">return</span> ut(e,t),e}(_n),ys=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">return</span>(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"LatheGeometry"</span>,a.parameters={<span class="code-attr">points</span>:e,<span class="code-attr">segments</span>:n,<span class="code-attr">phiStart</span>:r,<span class="code-attr">phiLength</span>:i},a.fromBufferGeometry(<span class="code-keyword">new</span> gs(e,n,r,i)),a.mergeVertices(),a}<span class="code-keyword">return</span> ut(e,t),e}(wo),xs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>);<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>,[<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>],[<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">4</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">3</span>,<span class="code-number">5</span>,<span class="code-number">0</span>,<span class="code-number">5</span>,<span class="code-number">2</span>,<span class="code-number">1</span>,<span class="code-number">2</span>,<span class="code-number">5</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">3</span>,<span class="code-number">1</span>,<span class="code-number">3</span>,<span class="code-number">4</span>,<span class="code-number">1</span>,<span class="code-number">4</span>,<span class="code-number">2</span>],e,n)||<span class="code-keyword">this</span>).type=<span class="code-string">"OctahedronBufferGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r}<span class="code-keyword">return</span> ut(e,t),e}(Co),_s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"OctahedronGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> xs(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e}(wo);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bs</span>(<span class="code-params">t,e,n</span>)</span>{_n.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"ParametricBufferGeometry"</span>,<span class="code-keyword">this</span>.parameters={<span class="code-attr">func</span>:t,<span class="code-attr">slices</span>:e,<span class="code-attr">stacks</span>:n};<span class="code-keyword">var</span> r=[],i=[],a=[],o=[],s=<span class="code-number">1e-5</span>,c=<span class="code-keyword">new</span> Mt,l=<span class="code-keyword">new</span> Mt,u=<span class="code-keyword">new</span> Mt,h=<span class="code-keyword">new</span> Mt,d=<span class="code-keyword">new</span> Mt;t.length&lt;<span class="code-number">3</span>&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter."</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=e+<span class="code-number">1</span>,f=<span class="code-number">0</span>;f&lt;=n;f++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=f/n,v=<span class="code-number">0</span>;v&lt;=e;v++){<span class="code-keyword">var</span> g=v/e;t(g,m,l),i.push(l.x,l.y,l.z),g-s&gt;=<span class="code-number">0</span>?(t(g-s,m,u),h.subVectors(l,u)):(t(g+s,m,u),h.subVectors(u,l)),m-s&gt;=<span class="code-number">0</span>?(t(g,m-s,u),d.subVectors(l,u)):(t(g,m+s,u),d.subVectors(u,l)),c.crossVectors(h,d).normalize(),a.push(c.x,c.y,c.z),o.push(g,m)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>;y&lt;n;y++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=<span class="code-number">0</span>;x&lt;e;x++){<span class="code-keyword">var</span> _=y*p+x,b=y*p+x+<span class="code-number">1</span>,w=(y+<span class="code-number">1</span>)*p+x+<span class="code-number">1</span>,M=(y+<span class="code-number">1</span>)*p+x;r.push(_,b,M),r.push(b,w,M)}<span class="code-keyword">this</span>.setIndex(r),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(i,<span class="code-number">3</span>)),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>)),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">2</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ws</span>(<span class="code-params">t,e,n</span>)</span>{wo.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"ParametricGeometry"</span>,<span class="code-keyword">this</span>.parameters={<span class="code-attr">func</span>:t,<span class="code-attr">slices</span>:e,<span class="code-attr">stacks</span>:n},<span class="code-keyword">this</span>.fromBufferGeometry(<span class="code-keyword">new</span> bs(t,e,n)),<span class="code-keyword">this</span>.mergeVertices()}bs.prototype=<span class="code-built_in">Object</span>.create(_n.prototype),bs.prototype.constructor=bs,ws.prototype=<span class="code-built_in">Object</span>.create(wo.prototype),ws.prototype.constructor=ws;<span class="code-keyword">var</span> Ms=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">return</span>(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"PlaneGeometry"</span>,a.parameters={<span class="code-attr">width</span>:e,<span class="code-attr">height</span>:n,<span class="code-attr">widthSegments</span>:r,<span class="code-attr">heightSegments</span>:i},a.fromBufferGeometry(<span class="code-keyword">new</span> ir(e,n,r,i)),a.mergeVertices(),a}<span class="code-keyword">return</span> ut(e,t),e}(wo),Ss=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">return</span>(a=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"PolyhedronGeometry"</span>,a.parameters={<span class="code-attr">vertices</span>:e,<span class="code-attr">indices</span>:n,<span class="code-attr">radius</span>:r,<span class="code-attr">detail</span>:i},a.fromBufferGeometry(<span class="code-keyword">new</span> Co(e,n,r,i)),a.mergeVertices(),a}<span class="code-keyword">return</span> ut(e,t),e}(wo),Ts=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">.5</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"RingBufferGeometry"</span>,s.parameters={<span class="code-attr">innerRadius</span>:e,<span class="code-attr">outerRadius</span>:n,<span class="code-attr">thetaSegments</span>:r,<span class="code-attr">phiSegments</span>:i,<span class="code-attr">thetaStart</span>:a,<span class="code-attr">thetaLength</span>:o},r=<span class="code-built_in">Math</span>.max(<span class="code-number">3</span>,r);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=[],u=[],h=[],d=e,p=(n-e)/(i=<span class="code-built_in">Math</span>.max(<span class="code-number">1</span>,i)),f=<span class="code-keyword">new</span> Mt,m=<span class="code-keyword">new</span> pt,v=<span class="code-number">0</span>;v&lt;=i;v++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>;g&lt;=r;g++){<span class="code-keyword">var</span> y=a+g/r*o;f.x=d*<span class="code-built_in">Math</span>.cos(y),f.y=d*<span class="code-built_in">Math</span>.sin(y),l.push(f.x,f.y,f.z),u.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),m.x=(f.x/n+<span class="code-number">1</span>)/<span class="code-number">2</span>,m.y=(f.y/n+<span class="code-number">1</span>)/<span class="code-number">2</span>,h.push(m.x,m.y)}d+=p}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=<span class="code-number">0</span>;x&lt;i;x++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=x*(r+<span class="code-number">1</span>),b=<span class="code-number">0</span>;b&lt;r;b++){<span class="code-keyword">var</span> w=b+_,M=w,S=w+r+<span class="code-number">1</span>,T=w+r+<span class="code-number">2</span>,E=w+<span class="code-number">1</span>;c.push(M,S,E),c.push(S,T,E)}<span class="code-keyword">return</span> s.setIndex(c),s.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(u,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(h,<span class="code-number">2</span>)),s}<span class="code-keyword">return</span> ut(e,t),e}(_n),Es=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">return</span>(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"RingGeometry"</span>,s.parameters={<span class="code-attr">innerRadius</span>:e,<span class="code-attr">outerRadius</span>:n,<span class="code-attr">thetaSegments</span>:r,<span class="code-attr">phiSegments</span>:i,<span class="code-attr">thetaStart</span>:a,<span class="code-attr">thetaLength</span>:o},s.fromBufferGeometry(<span class="code-keyword">new</span> Ts(e,n,r,i,a,o)),s.mergeVertices(),s}<span class="code-keyword">return</span> ut(e,t),e}(wo),As=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">12</span>),(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"ShapeBufferGeometry"</span>,r.parameters={<span class="code-attr">shapes</span>:e,<span class="code-attr">curveSegments</span>:n};<span class="code-keyword">var</span> i=[],a=[],o=[],s=[],c=<span class="code-number">0</span>,l=<span class="code-number">0</span>;<span class="code-keyword">if</span>(!<span class="code-number">1</span>===<span class="code-built_in">Array</span>.isArray(e))h(e);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;e.length;u++)h(e[u]),r.addGroup(c,l,u),c+=l,l=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">h</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=a.length/<span class="code-number">3</span>,r=t.extractPoints(n),c=r.shape,u=r.holes;!<span class="code-number">1</span>===ls.isClockWise(c)&amp;&amp;(c=c.reverse());<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>,d=u.length;h&lt;d;h++){<span class="code-keyword">var</span> p=u[h];!<span class="code-number">0</span>===ls.isClockWise(p)&amp;&amp;(u[h]=p.reverse())}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=ls.triangulateShape(c,u),m=<span class="code-number">0</span>,v=u.length;m&lt;v;m++){<span class="code-keyword">var</span> g=u[m];c=c.concat(g)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>,x=c.length;y&lt;x;y++){<span class="code-keyword">var</span> _=c[y];a.push(_.x,_.y,<span class="code-number">0</span>),o.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),s.push(_.x,_.y)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=<span class="code-number">0</span>,w=f.length;b&lt;w;b++){<span class="code-keyword">var</span> M=f[b],S=M[<span class="code-number">0</span>]+e,T=M[<span class="code-number">1</span>]+e,E=M[<span class="code-number">2</span>]+e;i.push(S,T,E),l+=<span class="code-number">3</span>}}<span class="code-keyword">return</span> r.setIndex(i),r.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>)),r.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">3</span>)),r.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(s,<span class="code-number">2</span>)),r}<span class="code-keyword">return</span> ut(e,t),e.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=_n.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(e.shapes=[],<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t[n];e.shapes.push(i.uuid)}<span class="code-keyword">else</span> e.shapes.push(t.uuid);<span class="code-keyword">return</span> e}(<span class="code-keyword">this</span>.parameters.shapes,t)},e}(_n);<span class="code-keyword">var</span> Ls=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"ShapeGeometry"</span>,<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> n&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ShapeGeometry: Options parameter has been removed."</span>),n=n.curveSegments),r.parameters={<span class="code-attr">shapes</span>:e,<span class="code-attr">curveSegments</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> As(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=wo.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(e.shapes=[],<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t[n];e.shapes.push(i.uuid)}<span class="code-keyword">else</span> e.shapes.push(t.uuid);<span class="code-keyword">return</span> e}(<span class="code-keyword">this</span>.parameters.shapes,t)},e}(wo);<span class="code-keyword">var</span> Rs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">6</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=<span class="code-built_in">Math</span>.PI),(c=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"SphereBufferGeometry"</span>,c.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">widthSegments</span>:n,<span class="code-attr">heightSegments</span>:r,<span class="code-attr">phiStart</span>:i,<span class="code-attr">phiLength</span>:a,<span class="code-attr">thetaStart</span>:o,<span class="code-attr">thetaLength</span>:s},n=<span class="code-built_in">Math</span>.max(<span class="code-number">3</span>,<span class="code-built_in">Math</span>.floor(n)),r=<span class="code-built_in">Math</span>.max(<span class="code-number">2</span>,<span class="code-built_in">Math</span>.floor(r));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-built_in">Math</span>.min(o+s,<span class="code-built_in">Math</span>.PI),u=<span class="code-number">0</span>,h=[],d=<span class="code-keyword">new</span> Mt,p=<span class="code-keyword">new</span> Mt,f=[],m=[],v=[],g=[],y=<span class="code-number">0</span>;y&lt;=r;y++){<span class="code-keyword">var</span> x=[],_=y/r,b=<span class="code-number">0</span>;<span class="code-number">0</span>==y&amp;&amp;<span class="code-number">0</span>==o?b=<span class="code-number">.5</span>/n:y==r&amp;&amp;l==<span class="code-built_in">Math</span>.PI&amp;&amp;(b=<span class="code-number">-.5</span>/n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w=<span class="code-number">0</span>;w&lt;=n;w++){<span class="code-keyword">var</span> M=w/n;d.x=-e*<span class="code-built_in">Math</span>.cos(i+M*a)*<span class="code-built_in">Math</span>.sin(o+_*s),d.y=e*<span class="code-built_in">Math</span>.cos(o+_*s),d.z=e*<span class="code-built_in">Math</span>.sin(i+M*a)*<span class="code-built_in">Math</span>.sin(o+_*s),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(M+b,<span class="code-number">1</span>-_),x.push(u++)}h.push(x)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=<span class="code-number">0</span>;S&lt;r;S++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> T=<span class="code-number">0</span>;T&lt;n;T++){<span class="code-keyword">var</span> E=h[S][T+<span class="code-number">1</span>],A=h[S][T],L=h[S+<span class="code-number">1</span>][T],R=h[S+<span class="code-number">1</span>][T+<span class="code-number">1</span>];(<span class="code-number">0</span>!==S||o&gt;<span class="code-number">0</span>)&amp;&amp;f.push(E,A,R),(S!==r<span class="code-number">-1</span>||l&lt;<span class="code-built_in">Math</span>.PI)&amp;&amp;f.push(A,L,R)}<span class="code-keyword">return</span> c.setIndex(f),c.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(m,<span class="code-number">3</span>)),c.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(v,<span class="code-number">3</span>)),c.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(g,<span class="code-number">2</span>)),c}<span class="code-keyword">return</span> ut(e,t),e}(_n),Cs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c;<span class="code-keyword">return</span>(c=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"SphereGeometry"</span>,c.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">widthSegments</span>:n,<span class="code-attr">heightSegments</span>:r,<span class="code-attr">phiStart</span>:i,<span class="code-attr">phiLength</span>:a,<span class="code-attr">thetaStart</span>:o,<span class="code-attr">thetaLength</span>:s},c.fromBufferGeometry(<span class="code-keyword">new</span> Rs(e,n,r,i,a,o,s)),c.mergeVertices(),c}<span class="code-keyword">return</span> ut(e,t),e}(wo),Ps=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>);<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>,[<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>],[<span class="code-number">2</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">3</span>,<span class="code-number">2</span>,<span class="code-number">1</span>,<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">3</span>,<span class="code-number">1</span>],e,n)||<span class="code-keyword">this</span>).type=<span class="code-string">"TetrahedronBufferGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r}<span class="code-keyword">return</span> ut(e,t),e}(Co),Is=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TetrahedronGeometry"</span>,r.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">detail</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> Ps(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e}(wo),Ns=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n={});<span class="code-keyword">var</span> i=n.font;<span class="code-keyword">if</span>(!i||!i.isFont)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.TextGeometry: font parameter is not an instance of THREE.Font."</span>),<span class="code-keyword">new</span> _n||ht(r);<span class="code-keyword">var</span> a=i.generateShapes(e,n.size);<span class="code-keyword">return</span> n.depth=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.height?n.height:<span class="code-number">50</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>===n.bevelThickness&amp;&amp;(n.bevelThickness=<span class="code-number">10</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n.bevelSize&amp;&amp;(n.bevelSize=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n.bevelEnabled&amp;&amp;(n.bevelEnabled=!<span class="code-number">1</span>),(r=t.call(<span class="code-keyword">this</span>,a,n)||<span class="code-keyword">this</span>).type=<span class="code-string">"TextBufferGeometry"</span>,r}<span class="code-keyword">return</span> ut(e,t),e}(ds),Ds=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span>(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TextGeometry"</span>,r.parameters={<span class="code-attr">text</span>:e,<span class="code-attr">parameters</span>:n},r.fromBufferGeometry(<span class="code-keyword">new</span> Ns(e,n)),r.mergeVertices(),r}<span class="code-keyword">return</span> ut(e,t),e}(wo),Os=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">.4</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">6</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),(o=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TorusBufferGeometry"</span>,o.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">tube</span>:n,<span class="code-attr">radialSegments</span>:r,<span class="code-attr">tubularSegments</span>:i,<span class="code-attr">arc</span>:a},r=<span class="code-built_in">Math</span>.floor(r),i=<span class="code-built_in">Math</span>.floor(i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=[],c=[],l=[],u=[],h=<span class="code-keyword">new</span> Mt,d=<span class="code-keyword">new</span> Mt,p=<span class="code-keyword">new</span> Mt,f=<span class="code-number">0</span>;f&lt;=r;f++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">0</span>;m&lt;=i;m++){<span class="code-keyword">var</span> v=m/i*a,g=f/r*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>;d.x=(e+n*<span class="code-built_in">Math</span>.cos(g))*<span class="code-built_in">Math</span>.cos(v),d.y=(e+n*<span class="code-built_in">Math</span>.cos(g))*<span class="code-built_in">Math</span>.sin(v),d.z=n*<span class="code-built_in">Math</span>.sin(g),c.push(d.x,d.y,d.z),h.x=e*<span class="code-built_in">Math</span>.cos(v),h.y=e*<span class="code-built_in">Math</span>.sin(v),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(m/i),u.push(f/r)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">1</span>;y&lt;=r;y++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=<span class="code-number">1</span>;x&lt;=i;x++){<span class="code-keyword">var</span> _=(i+<span class="code-number">1</span>)*y+x<span class="code-number">-1</span>,b=(i+<span class="code-number">1</span>)*(y<span class="code-number">-1</span>)+x<span class="code-number">-1</span>,w=(i+<span class="code-number">1</span>)*(y<span class="code-number">-1</span>)+x,M=(i+<span class="code-number">1</span>)*y+x;s.push(_,b,M),s.push(b,w,M)}<span class="code-keyword">return</span> o.setIndex(s),o.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(c,<span class="code-number">3</span>)),o.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">3</span>)),o.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(u,<span class="code-number">2</span>)),o}<span class="code-keyword">return</span> ut(e,t),e}(_n),Bs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o;<span class="code-keyword">return</span>(o=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TorusGeometry"</span>,o.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">tube</span>:n,<span class="code-attr">radialSegments</span>:r,<span class="code-attr">tubularSegments</span>:i,<span class="code-attr">arc</span>:a},o.fromBufferGeometry(<span class="code-keyword">new</span> Os(e,n,r,i,a)),o.mergeVertices(),o}<span class="code-keyword">return</span> ut(e,t),e}(wo),zs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">.4</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">64</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">2</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">3</span>),(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TorusKnotBufferGeometry"</span>,s.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">tube</span>:n,<span class="code-attr">tubularSegments</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">p</span>:a,<span class="code-attr">q</span>:o},r=<span class="code-built_in">Math</span>.floor(r),i=<span class="code-built_in">Math</span>.floor(i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=[],u=[],h=[],d=<span class="code-keyword">new</span> Mt,p=<span class="code-keyword">new</span> Mt,f=<span class="code-keyword">new</span> Mt,m=<span class="code-keyword">new</span> Mt,v=<span class="code-keyword">new</span> Mt,g=<span class="code-keyword">new</span> Mt,y=<span class="code-keyword">new</span> Mt,x=<span class="code-number">0</span>;x&lt;=r;++x){<span class="code-keyword">var</span> _=x/r*a*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>;P(_,a,o,e,f),P(_+<span class="code-number">.01</span>,a,o,e,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=<span class="code-number">0</span>;b&lt;=i;++b){<span class="code-keyword">var</span> w=b/i*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>,M=-n*<span class="code-built_in">Math</span>.cos(w),S=n*<span class="code-built_in">Math</span>.sin(w);d.x=f.x+(M*y.x+S*v.x),d.y=f.y+(M*y.y+S*v.y),d.z=f.z+(M*y.z+S*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),h.push(x/r),h.push(b/i)}}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> T=<span class="code-number">1</span>;T&lt;=r;T++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> E=<span class="code-number">1</span>;E&lt;=i;E++){<span class="code-keyword">var</span> A=(i+<span class="code-number">1</span>)*(T<span class="code-number">-1</span>)+(E<span class="code-number">-1</span>),L=(i+<span class="code-number">1</span>)*T+(E<span class="code-number">-1</span>),R=(i+<span class="code-number">1</span>)*T+E,C=(i+<span class="code-number">1</span>)*(T<span class="code-number">-1</span>)+E;c.push(A,L,C),c.push(L,R,C)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">P</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-built_in">Math</span>.cos(t),o=<span class="code-built_in">Math</span>.sin(t),s=n/e*t,c=<span class="code-built_in">Math</span>.cos(s);i.x=r*(<span class="code-number">2</span>+c)*<span class="code-number">.5</span>*a,i.y=r*(<span class="code-number">2</span>+c)*o*<span class="code-number">.5</span>,i.z=r*<span class="code-built_in">Math</span>.sin(s)*<span class="code-number">.5</span>}<span class="code-keyword">return</span> s.setIndex(c),s.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(u,<span class="code-number">3</span>)),s.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(h,<span class="code-number">2</span>)),s}<span class="code-keyword">return</span> ut(e,t),e}(_n),Us=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c;<span class="code-keyword">return</span>(c=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TorusKnotGeometry"</span>,c.parameters={<span class="code-attr">radius</span>:e,<span class="code-attr">tube</span>:n,<span class="code-attr">tubularSegments</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">p</span>:a,<span class="code-attr">q</span>:o},<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."</span>),c.fromBufferGeometry(<span class="code-keyword">new</span> zs(e,n,r,i,a,o)),c.mergeVertices(),c}<span class="code-keyword">return</span> ut(e,t),e}(wo),Fs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">64</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=!<span class="code-number">1</span>),(o=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TubeBufferGeometry"</span>,o.parameters={<span class="code-attr">path</span>:e,<span class="code-attr">tubularSegments</span>:n,<span class="code-attr">radius</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">closed</span>:a};<span class="code-keyword">var</span> s=e.computeFrenetFrames(n,a);o.tangents=s.tangents,o.normals=s.normals,o.binormals=s.binormals;<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> Mt,l=<span class="code-keyword">new</span> Mt,u=<span class="code-keyword">new</span> pt,h=<span class="code-keyword">new</span> Mt,d=[],p=[],f=[],m=[];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">v</span>(<span class="code-params">t</span>)</span>{h=e.getPointAt(t/n,h);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=s.normals[t],o=s.binormals[t],u=<span class="code-number">0</span>;u&lt;=i;u++){<span class="code-keyword">var</span> f=u/i*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>,m=<span class="code-built_in">Math</span>.sin(f),v=-<span class="code-built_in">Math</span>.cos(f);l.x=v*a.x+m*o.x,l.y=v*a.y+m*o.y,l.z=v*a.z+m*o.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=h.x+r*l.x,c.y=h.y+r*l.y,c.z=h.z+r*l.z,d.push(c.x,c.y,c.z)}}<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;n;t++)v(t);v(!<span class="code-number">1</span>===a?n:<span class="code-number">0</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;=n;t++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;=i;e++)u.x=t/n,u.y=e/i,f.push(u.x,u.y)}(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">1</span>;t&lt;=n;t++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>;e&lt;=i;e++){<span class="code-keyword">var</span> r=(i+<span class="code-number">1</span>)*(t<span class="code-number">-1</span>)+(e<span class="code-number">-1</span>),a=(i+<span class="code-number">1</span>)*t+(e<span class="code-number">-1</span>),o=(i+<span class="code-number">1</span>)*t+e,s=(i+<span class="code-number">1</span>)*(t<span class="code-number">-1</span>)+e;m.push(r,a,s),m.push(a,o,s)}}()}(),o.setIndex(m),o.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(d,<span class="code-number">3</span>)),o.setAttribute(<span class="code-string">"normal"</span>,<span class="code-keyword">new</span> sn(p,<span class="code-number">3</span>)),o.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> sn(f,<span class="code-number">2</span>)),o}<span class="code-keyword">return</span> ut(e,t),e.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=_n.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.path=<span class="code-keyword">this</span>.parameters.path.toJSON(),t},e}(_n),Gs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"TubeGeometry"</span>,s.parameters={<span class="code-attr">path</span>:e,<span class="code-attr">tubularSegments</span>:n,<span class="code-attr">radius</span>:r,<span class="code-attr">radialSegments</span>:i,<span class="code-attr">closed</span>:a},<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.TubeGeometry: taper has been removed."</span>);<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> Fs(e,n,r,i,a);<span class="code-keyword">return</span> s.tangents=c.tangents,s.normals=c.normals,s.binormals=c.binormals,s.fromBufferGeometry(c),s.mergeVertices(),s}<span class="code-keyword">return</span> ut(e,t),e}(wo),Hs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n;(n=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"WireframeGeometry"</span>;<span class="code-keyword">var</span> r=[],i=[<span class="code-number">0</span>,<span class="code-number">0</span>],a={},o=[<span class="code-string">"a"</span>,<span class="code-string">"b"</span>,<span class="code-string">"c"</span>];<span class="code-keyword">if</span>(e&amp;&amp;e.isGeometry){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=e.faces,c=<span class="code-number">0</span>,l=s.length;c&lt;l;c++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=s[c],h=<span class="code-number">0</span>;h&lt;<span class="code-number">3</span>;h++){<span class="code-keyword">var</span> d=u[o[h]],p=u[o[(h+<span class="code-number">1</span>)%<span class="code-number">3</span>]];i[<span class="code-number">0</span>]=<span class="code-built_in">Math</span>.min(d,p),i[<span class="code-number">1</span>]=<span class="code-built_in">Math</span>.max(d,p);<span class="code-keyword">var</span> f=i[<span class="code-number">0</span>]+<span class="code-string">","</span>+i[<span class="code-number">1</span>];<span class="code-keyword">void</span> <span class="code-number">0</span>===a[f]&amp;&amp;(a[f]={<span class="code-attr">index1</span>:i[<span class="code-number">0</span>],<span class="code-attr">index2</span>:i[<span class="code-number">1</span>]})}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m <span class="code-keyword">in</span> a){<span class="code-keyword">var</span> v=a[m],g=e.vertices[v.index1];r.push(g.x,g.y,g.z),g=e.vertices[v.index2],r.push(g.x,g.y,g.z)}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e&amp;&amp;e.isBufferGeometry){<span class="code-keyword">var</span> y=<span class="code-keyword">new</span> Mt;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==e.index){<span class="code-keyword">var</span> x=e.attributes.position,_=e.index,b=e.groups;<span class="code-number">0</span>===b.length&amp;&amp;(b=[{<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:_.count,<span class="code-attr">materialIndex</span>:<span class="code-number">0</span>}]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w=<span class="code-number">0</span>,M=b.length;w&lt;M;++w)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> S=b[w],T=S.start,E=T,A=T+S.count;E&lt;A;E+=<span class="code-number">3</span>)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> L=<span class="code-number">0</span>;L&lt;<span class="code-number">3</span>;L++){<span class="code-keyword">var</span> R=_.getX(E+L),C=_.getX(E+(L+<span class="code-number">1</span>)%<span class="code-number">3</span>);i[<span class="code-number">0</span>]=<span class="code-built_in">Math</span>.min(R,C),i[<span class="code-number">1</span>]=<span class="code-built_in">Math</span>.max(R,C);<span class="code-keyword">var</span> P=i[<span class="code-number">0</span>]+<span class="code-string">","</span>+i[<span class="code-number">1</span>];<span class="code-keyword">void</span> <span class="code-number">0</span>===a[P]&amp;&amp;(a[P]={<span class="code-attr">index1</span>:i[<span class="code-number">0</span>],<span class="code-attr">index2</span>:i[<span class="code-number">1</span>]})}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> I <span class="code-keyword">in</span> a){<span class="code-keyword">var</span> N=a[I];y.fromBufferAttribute(x,N.index1),r.push(y.x,y.y,y.z),y.fromBufferAttribute(x,N.index2),r.push(y.x,y.y,y.z)}}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> D=e.attributes.position,O=<span class="code-number">0</span>,B=D.count/<span class="code-number">3</span>;O&lt;B;O++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> z=<span class="code-number">0</span>;z&lt;<span class="code-number">3</span>;z++){<span class="code-keyword">var</span> U=<span class="code-number">3</span>*O+z;y.fromBufferAttribute(D,U),r.push(y.x,y.y,y.z);<span class="code-keyword">var</span> F=<span class="code-number">3</span>*O+(z+<span class="code-number">1</span>)%<span class="code-number">3</span>;y.fromBufferAttribute(D,F),r.push(y.x,y.y,y.z)}}<span class="code-keyword">return</span> n.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(r,<span class="code-number">3</span>)),n}<span class="code-keyword">return</span> ut(e,t),e}(_n),ks=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">BoxGeometry</span>:Mo,<span class="code-attr">BoxBufferGeometry</span>:Hn,<span class="code-attr">CircleGeometry</span>:To,<span class="code-attr">CircleBufferGeometry</span>:So,<span class="code-attr">ConeGeometry</span>:Lo,<span class="code-attr">ConeBufferGeometry</span>:Ro,<span class="code-attr">CylinderGeometry</span>:Ao,<span class="code-attr">CylinderBufferGeometry</span>:Eo,<span class="code-attr">DodecahedronGeometry</span>:Io,<span class="code-attr">DodecahedronBufferGeometry</span>:Po,<span class="code-attr">EdgesGeometry</span>:zo,<span class="code-attr">ExtrudeGeometry</span>:fs,<span class="code-attr">ExtrudeBufferGeometry</span>:ds,<span class="code-attr">IcosahedronGeometry</span>:vs,<span class="code-attr">IcosahedronBufferGeometry</span>:ms,<span class="code-attr">LatheGeometry</span>:ys,<span class="code-attr">LatheBufferGeometry</span>:gs,<span class="code-attr">OctahedronGeometry</span>:_s,<span class="code-attr">OctahedronBufferGeometry</span>:xs,<span class="code-attr">ParametricGeometry</span>:ws,<span class="code-attr">ParametricBufferGeometry</span>:bs,<span class="code-attr">PlaneGeometry</span>:Ms,<span class="code-attr">PlaneBufferGeometry</span>:ir,<span class="code-attr">PolyhedronGeometry</span>:Ss,<span class="code-attr">PolyhedronBufferGeometry</span>:Co,<span class="code-attr">RingGeometry</span>:Es,<span class="code-attr">RingBufferGeometry</span>:Ts,<span class="code-attr">ShapeGeometry</span>:Ls,<span class="code-attr">ShapeBufferGeometry</span>:As,<span class="code-attr">SphereGeometry</span>:Cs,<span class="code-attr">SphereBufferGeometry</span>:Rs,<span class="code-attr">TetrahedronGeometry</span>:Is,<span class="code-attr">TetrahedronBufferGeometry</span>:Ps,<span class="code-attr">TextGeometry</span>:Ds,<span class="code-attr">TextBufferGeometry</span>:Ns,<span class="code-attr">TorusGeometry</span>:Bs,<span class="code-attr">TorusBufferGeometry</span>:Os,<span class="code-attr">TorusKnotGeometry</span>:Us,<span class="code-attr">TorusKnotBufferGeometry</span>:zs,<span class="code-attr">TubeGeometry</span>:Gs,<span class="code-attr">TubeBufferGeometry</span>:Fs,<span class="code-attr">WireframeGeometry</span>:Hs});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vs</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"ShadowMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),<span class="code-keyword">this</span>.transparent=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ws</span>(<span class="code-params">t</span>)</span>{jn.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.type=<span class="code-string">"RawShaderMaterial"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">js</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.defines={<span class="code-attr">STANDARD</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.type=<span class="code-string">"MeshStandardMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.roughness=<span class="code-number">1</span>,<span class="code-keyword">this</span>.metalness=<span class="code-number">0</span>,<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.aoMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.aoMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissive=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),<span class="code-keyword">this</span>.emissiveIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissiveMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalMapType=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.roughnessMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.metalnessMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.envMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.envMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.refractionRatio=<span class="code-number">.98</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.wireframeLinejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.vertexTangents=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qs</span>(<span class="code-params">t</span>)</span>{js.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.defines={<span class="code-attr">STANDARD</span>:<span class="code-string">""</span>,<span class="code-attr">PHYSICAL</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.type=<span class="code-string">"MeshPhysicalMaterial"</span>,<span class="code-keyword">this</span>.clearcoat=<span class="code-number">0</span>,<span class="code-keyword">this</span>.clearcoatMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.clearcoatRoughness=<span class="code-number">0</span>,<span class="code-keyword">this</span>.clearcoatRoughnessMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.clearcoatNormalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.clearcoatNormalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.reflectivity=<span class="code-number">.5</span>,<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"ior"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-number">1</span>+<span class="code-number">.4</span>*<span class="code-keyword">this</span>.reflectivity)/(<span class="code-number">1</span><span class="code-number">-.4</span>*<span class="code-keyword">this</span>.reflectivity)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.reflectivity=st.clamp(<span class="code-number">2.5</span>*(t<span class="code-number">-1</span>)/(t+<span class="code-number">1</span>),<span class="code-number">0</span>,<span class="code-number">1</span>)}}),<span class="code-keyword">this</span>.sheen=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.transmission=<span class="code-number">0</span>,<span class="code-keyword">this</span>.transmissionMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xs</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshPhongMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.specular=<span class="code-keyword">new</span> We(<span class="code-number">1118481</span>),<span class="code-keyword">this</span>.shininess=<span class="code-number">30</span>,<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.aoMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.aoMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissive=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),<span class="code-keyword">this</span>.emissiveIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissiveMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalMapType=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.specularMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.envMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.combine=<span class="code-number">0</span>,<span class="code-keyword">this</span>.reflectivity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.refractionRatio=<span class="code-number">.98</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.wireframeLinejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ys</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.defines={<span class="code-attr">TOON</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.type=<span class="code-string">"MeshToonMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.gradientMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.aoMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.aoMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissive=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),<span class="code-keyword">this</span>.emissiveIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissiveMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalMapType=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.wireframeLinejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zs</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshNormalMaterial"</span>,<span class="code-keyword">this</span>.bumpMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalMapType=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.fog=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Js</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"MeshLambertMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.lightMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.aoMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.aoMapIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissive=<span class="code-keyword">new</span> We(<span class="code-number">0</span>),<span class="code-keyword">this</span>.emissiveIntensity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.emissiveMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.specularMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.envMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.combine=<span class="code-number">0</span>,<span class="code-keyword">this</span>.reflectivity=<span class="code-number">1</span>,<span class="code-keyword">this</span>.refractionRatio=<span class="code-number">.98</span>,<span class="code-keyword">this</span>.wireframe=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinewidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.wireframeLinecap=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.wireframeLinejoin=<span class="code-string">"round"</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qs</span>(<span class="code-params">t</span>)</span>{Xe.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.defines={<span class="code-attr">MATCAP</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.type=<span class="code-string">"MeshMatcapMaterial"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),<span class="code-keyword">this</span>.matcap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.bumpScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.normalMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalMapType=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalScale=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>.displacementMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.displacementScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.displacementBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.alphaMap=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.skinning=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphTargets=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.morphNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ks</span>(<span class="code-params">t</span>)</span>{Za.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"LineDashedMaterial"</span>,<span class="code-keyword">this</span>.scale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.dashSize=<span class="code-number">3</span>,<span class="code-keyword">this</span>.gapSize=<span class="code-number">1</span>,<span class="code-keyword">this</span>.setValues(t)}Vs.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isShadowMaterial=!<span class="code-number">0</span>,Vs.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>},Ws.prototype=<span class="code-built_in">Object</span>.create(jn.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isRawShaderMaterial=!<span class="code-number">0</span>,js.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),js.prototype.constructor=js,js.prototype.isMeshStandardMaterial=!<span class="code-number">0</span>,js.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.defines={<span class="code-attr">STANDARD</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.roughness=t.roughness,<span class="code-keyword">this</span>.metalness=t.metalness,<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.lightMap=t.lightMap,<span class="code-keyword">this</span>.lightMapIntensity=t.lightMapIntensity,<span class="code-keyword">this</span>.aoMap=t.aoMap,<span class="code-keyword">this</span>.aoMapIntensity=t.aoMapIntensity,<span class="code-keyword">this</span>.emissive.copy(t.emissive),<span class="code-keyword">this</span>.emissiveMap=t.emissiveMap,<span class="code-keyword">this</span>.emissiveIntensity=t.emissiveIntensity,<span class="code-keyword">this</span>.bumpMap=t.bumpMap,<span class="code-keyword">this</span>.bumpScale=t.bumpScale,<span class="code-keyword">this</span>.normalMap=t.normalMap,<span class="code-keyword">this</span>.normalMapType=t.normalMapType,<span class="code-keyword">this</span>.normalScale.copy(t.normalScale),<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.roughnessMap=t.roughnessMap,<span class="code-keyword">this</span>.metalnessMap=t.metalnessMap,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.envMap=t.envMap,<span class="code-keyword">this</span>.envMapIntensity=t.envMapIntensity,<span class="code-keyword">this</span>.refractionRatio=t.refractionRatio,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.wireframeLinecap=t.wireframeLinecap,<span class="code-keyword">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>.vertexTangents=t.vertexTangents,<span class="code-keyword">this</span>},qs.prototype=<span class="code-built_in">Object</span>.create(js.prototype),qs.prototype.constructor=qs,qs.prototype.isMeshPhysicalMaterial=!<span class="code-number">0</span>,qs.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> js.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.defines={<span class="code-attr">STANDARD</span>:<span class="code-string">""</span>,<span class="code-attr">PHYSICAL</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.clearcoat=t.clearcoat,<span class="code-keyword">this</span>.clearcoatMap=t.clearcoatMap,<span class="code-keyword">this</span>.clearcoatRoughness=t.clearcoatRoughness,<span class="code-keyword">this</span>.clearcoatRoughnessMap=t.clearcoatRoughnessMap,<span class="code-keyword">this</span>.clearcoatNormalMap=t.clearcoatNormalMap,<span class="code-keyword">this</span>.clearcoatNormalScale.copy(t.clearcoatNormalScale),<span class="code-keyword">this</span>.reflectivity=t.reflectivity,t.sheen?<span class="code-keyword">this</span>.sheen=(<span class="code-keyword">this</span>.sheen||<span class="code-keyword">new</span> We).copy(t.sheen):<span class="code-keyword">this</span>.sheen=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.transmission=t.transmission,<span class="code-keyword">this</span>.transmissionMap=t.transmissionMap,<span class="code-keyword">this</span>},Xs.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isMeshPhongMaterial=!<span class="code-number">0</span>,Xs.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.specular.copy(t.specular),<span class="code-keyword">this</span>.shininess=t.shininess,<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.lightMap=t.lightMap,<span class="code-keyword">this</span>.lightMapIntensity=t.lightMapIntensity,<span class="code-keyword">this</span>.aoMap=t.aoMap,<span class="code-keyword">this</span>.aoMapIntensity=t.aoMapIntensity,<span class="code-keyword">this</span>.emissive.copy(t.emissive),<span class="code-keyword">this</span>.emissiveMap=t.emissiveMap,<span class="code-keyword">this</span>.emissiveIntensity=t.emissiveIntensity,<span class="code-keyword">this</span>.bumpMap=t.bumpMap,<span class="code-keyword">this</span>.bumpScale=t.bumpScale,<span class="code-keyword">this</span>.normalMap=t.normalMap,<span class="code-keyword">this</span>.normalMapType=t.normalMapType,<span class="code-keyword">this</span>.normalScale.copy(t.normalScale),<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.specularMap=t.specularMap,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.envMap=t.envMap,<span class="code-keyword">this</span>.combine=t.combine,<span class="code-keyword">this</span>.reflectivity=t.reflectivity,<span class="code-keyword">this</span>.refractionRatio=t.refractionRatio,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.wireframeLinecap=t.wireframeLinecap,<span class="code-keyword">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>},Ys.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isMeshToonMaterial=!<span class="code-number">0</span>,Ys.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.gradientMap=t.gradientMap,<span class="code-keyword">this</span>.lightMap=t.lightMap,<span class="code-keyword">this</span>.lightMapIntensity=t.lightMapIntensity,<span class="code-keyword">this</span>.aoMap=t.aoMap,<span class="code-keyword">this</span>.aoMapIntensity=t.aoMapIntensity,<span class="code-keyword">this</span>.emissive.copy(t.emissive),<span class="code-keyword">this</span>.emissiveMap=t.emissiveMap,<span class="code-keyword">this</span>.emissiveIntensity=t.emissiveIntensity,<span class="code-keyword">this</span>.bumpMap=t.bumpMap,<span class="code-keyword">this</span>.bumpScale=t.bumpScale,<span class="code-keyword">this</span>.normalMap=t.normalMap,<span class="code-keyword">this</span>.normalMapType=t.normalMapType,<span class="code-keyword">this</span>.normalScale.copy(t.normalScale),<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.wireframeLinecap=t.wireframeLinecap,<span class="code-keyword">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>},Zs.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isMeshNormalMaterial=!<span class="code-number">0</span>,Zs.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.bumpMap=t.bumpMap,<span class="code-keyword">this</span>.bumpScale=t.bumpScale,<span class="code-keyword">this</span>.normalMap=t.normalMap,<span class="code-keyword">this</span>.normalMapType=t.normalMapType,<span class="code-keyword">this</span>.normalScale.copy(t.normalScale),<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>},Js.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Js.prototype.constructor=Js,Js.prototype.isMeshLambertMaterial=!<span class="code-number">0</span>,Js.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.lightMap=t.lightMap,<span class="code-keyword">this</span>.lightMapIntensity=t.lightMapIntensity,<span class="code-keyword">this</span>.aoMap=t.aoMap,<span class="code-keyword">this</span>.aoMapIntensity=t.aoMapIntensity,<span class="code-keyword">this</span>.emissive.copy(t.emissive),<span class="code-keyword">this</span>.emissiveMap=t.emissiveMap,<span class="code-keyword">this</span>.emissiveIntensity=t.emissiveIntensity,<span class="code-keyword">this</span>.specularMap=t.specularMap,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.envMap=t.envMap,<span class="code-keyword">this</span>.combine=t.combine,<span class="code-keyword">this</span>.reflectivity=t.reflectivity,<span class="code-keyword">this</span>.refractionRatio=t.refractionRatio,<span class="code-keyword">this</span>.wireframe=t.wireframe,<span class="code-keyword">this</span>.wireframeLinewidth=t.wireframeLinewidth,<span class="code-keyword">this</span>.wireframeLinecap=t.wireframeLinecap,<span class="code-keyword">this</span>.wireframeLinejoin=t.wireframeLinejoin,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>},Qs.prototype=<span class="code-built_in">Object</span>.create(Xe.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isMeshMatcapMaterial=!<span class="code-number">0</span>,Qs.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.defines={<span class="code-attr">MATCAP</span>:<span class="code-string">""</span>},<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.matcap=t.matcap,<span class="code-keyword">this</span>.map=t.map,<span class="code-keyword">this</span>.bumpMap=t.bumpMap,<span class="code-keyword">this</span>.bumpScale=t.bumpScale,<span class="code-keyword">this</span>.normalMap=t.normalMap,<span class="code-keyword">this</span>.normalMapType=t.normalMapType,<span class="code-keyword">this</span>.normalScale.copy(t.normalScale),<span class="code-keyword">this</span>.displacementMap=t.displacementMap,<span class="code-keyword">this</span>.displacementScale=t.displacementScale,<span class="code-keyword">this</span>.displacementBias=t.displacementBias,<span class="code-keyword">this</span>.alphaMap=t.alphaMap,<span class="code-keyword">this</span>.skinning=t.skinning,<span class="code-keyword">this</span>.morphTargets=t.morphTargets,<span class="code-keyword">this</span>.morphNormals=t.morphNormals,<span class="code-keyword">this</span>},Ks.prototype=<span class="code-built_in">Object</span>.create(Za.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isLineDashedMaterial=!<span class="code-number">0</span>,Ks.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Za.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.scale=t.scale,<span class="code-keyword">this</span>.dashSize=t.dashSize,<span class="code-keyword">this</span>.gapSize=t.gapSize,<span class="code-keyword">this</span>};<span class="code-keyword">var</span> $s=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">ShadowMaterial</span>:Vs,<span class="code-attr">SpriteMaterial</span>:va,<span class="code-attr">RawShaderMaterial</span>:Ws,<span class="code-attr">ShaderMaterial</span>:jn,<span class="code-attr">PointsMaterial</span>:oo,<span class="code-attr">MeshPhysicalMaterial</span>:qs,<span class="code-attr">MeshStandardMaterial</span>:js,<span class="code-attr">MeshPhongMaterial</span>:Xs,<span class="code-attr">MeshToonMaterial</span>:Ys,<span class="code-attr">MeshNormalMaterial</span>:Zs,<span class="code-attr">MeshLambertMaterial</span>:Js,<span class="code-attr">MeshDepthMaterial</span>:Ji,<span class="code-attr">MeshDistanceMaterial</span>:Qi,<span class="code-attr">MeshBasicMaterial</span>:Ye,<span class="code-attr">MeshMatcapMaterial</span>:Qs,<span class="code-attr">LineDashedMaterial</span>:Ks,<span class="code-attr">LineBasicMaterial</span>:Za,<span class="code-attr">Material</span>:Xe}),tc={<span class="code-attr">arraySlice</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> tc.isTypedArray(t)?<span class="code-keyword">new</span> t.constructor(t.subarray(e,<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:t.length)):t.slice(e,n)},<span class="code-attr">convertArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span>!t||!n&amp;&amp;t.constructor===e?t:<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.BYTES_PER_ELEMENT?<span class="code-keyword">new</span> e(t):<span class="code-built_in">Array</span>.prototype.slice.call(t)},<span class="code-attr">isTypedArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">ArrayBuffer</span>.isView(t)&amp;&amp;!(t <span class="code-keyword">instanceof</span> <span class="code-built_in">DataView</span>)},<span class="code-attr">getKeyframeOrder</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t.length,n=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),r=<span class="code-number">0</span>;r!==e;++r)n[r]=r;<span class="code-keyword">return</span> n.sort((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">return</span> t[e]-t[n]})),n},<span class="code-attr">sortedArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=t.length,i=<span class="code-keyword">new</span> t.constructor(r),a=<span class="code-number">0</span>,o=<span class="code-number">0</span>;o!==r;++a)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=n[a]*e,c=<span class="code-number">0</span>;c!==e;++c)i[o++]=t[s+c];<span class="code-keyword">return</span> i},<span class="code-attr">flattenJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">1</span>,a=t[<span class="code-number">0</span>];<span class="code-keyword">void</span> <span class="code-number">0</span>!==a&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===a[r];)a=t[i++];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a){<span class="code-keyword">var</span> o=a[r];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==o)<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(o))<span class="code-keyword">do</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),n.push.apply(n,o)),a=t[i++]}<span class="code-keyword">while</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.toArray)<span class="code-keyword">do</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}<span class="code-keyword">while</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a);<span class="code-keyword">else</span> <span class="code-keyword">do</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==(o=a[r])&amp;&amp;(e.push(a.time),n.push(o)),a=t[i++]}<span class="code-keyword">while</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a)}},<span class="code-attr">subclip</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">30</span>);<span class="code-keyword">var</span> a=t.clone();a.name=e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=[],s=<span class="code-number">0</span>;s&lt;a.tracks.length;++s){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=a.tracks[s],l=c.getValueSize(),u=[],h=[],d=<span class="code-number">0</span>;d&lt;c.times.length;++d){<span class="code-keyword">var</span> p=c.times[d]*i;<span class="code-keyword">if</span>(!(p&lt;n||p&gt;=r)){u.push(c.times[d]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>;f&lt;l;++f)h.push(c.values[d*l+f])}}<span class="code-number">0</span>!==u.length&amp;&amp;(c.times=tc.convertArray(u,c.times.constructor),c.values=tc.convertArray(h,c.values.constructor),o.push(c))}a.tracks=o;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">1</span>/<span class="code-number">0</span>,v=<span class="code-number">0</span>;v&lt;a.tracks.length;++v)m&gt;a.tracks[v].times[<span class="code-number">0</span>]&amp;&amp;(m=a.tracks[v].times[<span class="code-number">0</span>]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>;g&lt;a.tracks.length;++g)a.tracks[g].shift(<span class="code-number">-1</span>*m);<span class="code-keyword">return</span> a.resetDuration(),a},<span class="code-attr">makeClipAdditive</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=t),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">30</span>),r&lt;=<span class="code-number">0</span>&amp;&amp;(r=<span class="code-number">30</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n.tracks.length,a=e/r,o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r=n.tracks[e],i=r.ValueTypeName;<span class="code-keyword">if</span>(<span class="code-string">"bool"</span>===i||<span class="code-string">"string"</span>===i)<span class="code-keyword">return</span><span class="code-string">"continue"</span>;<span class="code-keyword">var</span> o=t.tracks.find((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.name===r.name&amp;&amp;t.ValueTypeName===i}));<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===o)<span class="code-keyword">return</span><span class="code-string">"continue"</span>;<span class="code-keyword">var</span> s=<span class="code-number">0</span>,c=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(s=c/<span class="code-number">3</span>);<span class="code-keyword">var</span> l=<span class="code-number">0</span>,u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(l=u/<span class="code-number">3</span>);<span class="code-keyword">var</span> h=r.times.length<span class="code-number">-1</span>,d=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(a&lt;=r.times[<span class="code-number">0</span>]){<span class="code-keyword">var</span> p=s,f=c-s;d=tc.arraySlice(r.values,p,f)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(a&gt;=r.times[h]){<span class="code-keyword">var</span> m=h*c+s,v=m+c-s;d=tc.arraySlice(r.values,m,v)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> g=r.createInterpolant(),y=s,x=c-s;g.evaluate(a),d=tc.arraySlice(g.resultBuffer,y,x)}<span class="code-string">"quaternion"</span>===i&amp;&amp;(<span class="code-keyword">new</span> wt).fromArray(d).normalize().conjugate().toArray(d);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=o.times.length,b=<span class="code-number">0</span>;b&lt;_;++b){<span class="code-keyword">var</span> w=b*u+l;<span class="code-keyword">if</span>(<span class="code-string">"quaternion"</span>===i)wt.multiplyQuaternionsFlat(o.values,w,d,<span class="code-number">0</span>,o.values,w);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> M=u<span class="code-number">-2</span>*l,S=<span class="code-number">0</span>;S&lt;M;++S)o.values[w+S]-=d[S]}},s=<span class="code-number">0</span>;s&lt;i;++s)o(s);<span class="code-keyword">return</span> t.blendMode=j,t}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ec</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">this</span>.parameterPositions=t,<span class="code-keyword">this</span>._cachedIndex=<span class="code-number">0</span>,<span class="code-keyword">this</span>.resultBuffer=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-keyword">new</span> e.constructor(n),<span class="code-keyword">this</span>.sampleValues=e,<span class="code-keyword">this</span>.valueSize=n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nc</span>(<span class="code-params">t,e,n,r</span>)</span>{ec.call(<span class="code-keyword">this</span>,t,e,n,r),<span class="code-keyword">this</span>._weightPrev=<span class="code-number">-0</span>,<span class="code-keyword">this</span>._offsetPrev=<span class="code-number">-0</span>,<span class="code-keyword">this</span>._weightNext=<span class="code-number">-0</span>,<span class="code-keyword">this</span>._offsetNext=<span class="code-number">-0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rc</span>(<span class="code-params">t,e,n,r</span>)</span>{ec.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ic</span>(<span class="code-params">t,e,n,r</span>)</span>{ec.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ac</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"THREE.KeyframeTrack: track name is undefined"</span>);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e||<span class="code-number">0</span>===e.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"THREE.KeyframeTrack: no keyframes in track named "</span>+t);<span class="code-keyword">this</span>.name=t,<span class="code-keyword">this</span>.times=tc.convertArray(e,<span class="code-keyword">this</span>.TimeBufferType),<span class="code-keyword">this</span>.values=tc.convertArray(n,<span class="code-keyword">this</span>.ValueBufferType),<span class="code-keyword">this</span>.setInterpolation(r||<span class="code-keyword">this</span>.DefaultInterpolation)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oc</span>(<span class="code-params">t,e,n</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sc</span>(<span class="code-params">t,e,n,r</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cc</span>(<span class="code-params">t,e,n,r</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lc</span>(<span class="code-params">t,e,n,r</span>)</span>{ec.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">uc</span>(<span class="code-params">t,e,n,r</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hc</span>(<span class="code-params">t,e,n,r</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dc</span>(<span class="code-params">t,e,n,r</span>)</span>{ac.call(<span class="code-keyword">this</span>,t,e,n,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pc</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">this</span>.name=t,<span class="code-keyword">this</span>.tracks=n,<span class="code-keyword">this</span>.duration=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">-1</span>,<span class="code-keyword">this</span>.blendMode=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:W,<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.duration&lt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>.resetDuration()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fc</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t.type)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"THREE.KeyframeTrack: track type undefined, can not parse"</span>);<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.toLowerCase()){<span class="code-keyword">case</span><span class="code-string">"scalar"</span>:<span class="code-keyword">case</span><span class="code-string">"double"</span>:<span class="code-keyword">case</span><span class="code-string">"float"</span>:<span class="code-keyword">case</span><span class="code-string">"number"</span>:<span class="code-keyword">case</span><span class="code-string">"integer"</span>:<span class="code-keyword">return</span> cc;<span class="code-keyword">case</span><span class="code-string">"vector"</span>:<span class="code-keyword">case</span><span class="code-string">"vector2"</span>:<span class="code-keyword">case</span><span class="code-string">"vector3"</span>:<span class="code-keyword">case</span><span class="code-string">"vector4"</span>:<span class="code-keyword">return</span> dc;<span class="code-keyword">case</span><span class="code-string">"color"</span>:<span class="code-keyword">return</span> sc;<span class="code-keyword">case</span><span class="code-string">"quaternion"</span>:<span class="code-keyword">return</span> uc;<span class="code-keyword">case</span><span class="code-string">"bool"</span>:<span class="code-keyword">case</span><span class="code-string">"boolean"</span>:<span class="code-keyword">return</span> oc;<span class="code-keyword">case</span><span class="code-string">"string"</span>:<span class="code-keyword">return</span> hc}<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"THREE.KeyframeTrack: Unsupported typeName: "</span>+t)}(t.type);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t.times){<span class="code-keyword">var</span> n=[],r=[];tc.flattenJSON(t.keys,n,r,<span class="code-string">"value"</span>),t.times=n,t.values=r}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e.parse?e.parse(t):<span class="code-keyword">new</span> e(t.name,t.times,t.values,t.interpolation)}<span class="code-built_in">Object</span>.assign(ec.prototype,{<span class="code-attr">evaluate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.parameterPositions,n=<span class="code-keyword">this</span>._cachedIndex,r=e[n],i=e[n<span class="code-number">-1</span>];t:{<span class="code-attr">e</span>:{<span class="code-keyword">var</span> a;n:{<span class="code-attr">r</span>:<span class="code-keyword">if</span>(!(t&lt;r)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=n+<span class="code-number">2</span>;;){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r){<span class="code-keyword">if</span>(t&lt;i)<span class="code-keyword">break</span> r;<span class="code-keyword">return</span> n=e.length,<span class="code-keyword">this</span>._cachedIndex=n,<span class="code-keyword">this</span>.afterEnd_(n<span class="code-number">-1</span>,t,i)}<span class="code-keyword">if</span>(n===o)<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(i=r,t&lt;(r=e[++n]))<span class="code-keyword">break</span> e}a=e.length;<span class="code-keyword">break</span> n}<span class="code-keyword">if</span>(t&gt;=i)<span class="code-keyword">break</span> t;<span class="code-keyword">var</span> s=e[<span class="code-number">1</span>];t&lt;s&amp;&amp;(n=<span class="code-number">2</span>,i=s);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=n<span class="code-number">-2</span>;;){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===i)<span class="code-keyword">return</span> <span class="code-keyword">this</span>._cachedIndex=<span class="code-number">0</span>,<span class="code-keyword">this</span>.beforeStart_(<span class="code-number">0</span>,t,r);<span class="code-keyword">if</span>(n===c)<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(r=i,t&gt;=(i=e[--n<span class="code-number">-1</span>]))<span class="code-keyword">break</span> e}a=n,n=<span class="code-number">0</span>}<span class="code-keyword">for</span>(;n&lt;a;){<span class="code-keyword">var</span> l=n+a&gt;&gt;&gt;<span class="code-number">1</span>;t&lt;e[l]?a=l:n=l+<span class="code-number">1</span>}<span class="code-keyword">if</span>(r=e[n],<span class="code-keyword">void</span> <span class="code-number">0</span>===(i=e[n<span class="code-number">-1</span>]))<span class="code-keyword">return</span> <span class="code-keyword">this</span>._cachedIndex=<span class="code-number">0</span>,<span class="code-keyword">this</span>.beforeStart_(<span class="code-number">0</span>,t,r);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r)<span class="code-keyword">return</span> n=e.length,<span class="code-keyword">this</span>._cachedIndex=n,<span class="code-keyword">this</span>.afterEnd_(n<span class="code-number">-1</span>,i,t)}<span class="code-keyword">this</span>._cachedIndex=n,<span class="code-keyword">this</span>.intervalChanged_(n,i,r)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.interpolate_(n,i,t,r)},<span class="code-attr">settings</span>:<span class="code-literal">null</span>,<span class="code-attr">DefaultSettings_</span>:{},<span class="code-attr">getSettings_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.settings||<span class="code-keyword">this</span>.DefaultSettings_},<span class="code-attr">copySampleValue_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.resultBuffer,n=<span class="code-keyword">this</span>.sampleValues,r=<span class="code-keyword">this</span>.valueSize,i=t*r,a=<span class="code-number">0</span>;a!==r;++a)e[a]=n[i+a];<span class="code-keyword">return</span> e},<span class="code-attr">interpolate_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"call to abstract method"</span>)},<span class="code-attr">intervalChanged_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}),<span class="code-built_in">Object</span>.assign(ec.prototype,{<span class="code-attr">beforeStart_</span>:ec.prototype.copySampleValue_,<span class="code-attr">afterEnd_</span>:ec.prototype.copySampleValue_}),nc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ec.prototype),{<span class="code-attr">constructor</span>:nc,<span class="code-attr">DefaultSettings_</span>:{<span class="code-attr">endingStart</span>:H,<span class="code-attr">endingEnd</span>:H},<span class="code-attr">intervalChanged_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.parameterPositions,i=t<span class="code-number">-2</span>,a=t+<span class="code-number">1</span>,o=r[i],s=r[a];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===o)<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.getSettings_().endingStart){<span class="code-keyword">case</span> k:i=t,o=<span class="code-number">2</span>*e-n;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> V:o=e+r[i=r.length<span class="code-number">-2</span>]-r[i+<span class="code-number">1</span>];<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:i=t,o=n}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===s)<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.getSettings_().endingEnd){<span class="code-keyword">case</span> k:a=t,s=<span class="code-number">2</span>*n-e;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> V:a=<span class="code-number">1</span>,s=n+r[<span class="code-number">1</span>]-r[<span class="code-number">0</span>];<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:a=t<span class="code-number">-1</span>,s=e}<span class="code-keyword">var</span> c=<span class="code-number">.5</span>*(n-e),l=<span class="code-keyword">this</span>.valueSize;<span class="code-keyword">this</span>._weightPrev=c/(e-o),<span class="code-keyword">this</span>._weightNext=c/(s-n),<span class="code-keyword">this</span>._offsetPrev=i*l,<span class="code-keyword">this</span>._offsetNext=a*l},<span class="code-attr">interpolate_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.resultBuffer,a=<span class="code-keyword">this</span>.sampleValues,o=<span class="code-keyword">this</span>.valueSize,s=t*o,c=s-o,l=<span class="code-keyword">this</span>._offsetPrev,u=<span class="code-keyword">this</span>._offsetNext,h=<span class="code-keyword">this</span>._weightPrev,d=<span class="code-keyword">this</span>._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,v=-h*m+<span class="code-number">2</span>*h*f-h*p,g=(<span class="code-number">1</span>+h)*m+(<span class="code-number">-1.5</span><span class="code-number">-2</span>*h)*f+(<span class="code-number">-.5</span>+h)*p+<span class="code-number">1</span>,y=(<span class="code-number">-1</span>-d)*m+(<span class="code-number">1.5</span>+d)*f+<span class="code-number">.5</span>*p,x=d*m-d*f,_=<span class="code-number">0</span>;_!==o;++_)i[_]=v*a[l+_]+g*a[c+_]+y*a[s+_]+x*a[u+_];<span class="code-keyword">return</span> i}}),rc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ec.prototype),{<span class="code-attr">constructor</span>:rc,<span class="code-attr">interpolate_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.resultBuffer,a=<span class="code-keyword">this</span>.sampleValues,o=<span class="code-keyword">this</span>.valueSize,s=t*o,c=s-o,l=(n-e)/(r-e),u=<span class="code-number">1</span>-l,h=<span class="code-number">0</span>;h!==o;++h)i[h]=a[c+h]*u+a[s+h]*l;<span class="code-keyword">return</span> i}}),ic.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ec.prototype),{<span class="code-attr">constructor</span>:ic,<span class="code-attr">interpolate_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.copySampleValue_(t<span class="code-number">-1</span>)}}),<span class="code-built_in">Object</span>.assign(ac,{<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n=t.constructor;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.toJSON)e=n.toJSON(t);<span class="code-keyword">else</span>{e={<span class="code-attr">name</span>:t.name,<span class="code-attr">times</span>:tc.convertArray(t.times,<span class="code-built_in">Array</span>),<span class="code-attr">values</span>:tc.convertArray(t.values,<span class="code-built_in">Array</span>)};<span class="code-keyword">var</span> r=t.getInterpolation();r!==t.DefaultInterpolation&amp;&amp;(e.interpolation=r)}<span class="code-keyword">return</span> e.type=t.ValueTypeName,e}}),<span class="code-built_in">Object</span>.assign(ac.prototype,{<span class="code-attr">constructor</span>:ac,<span class="code-attr">TimeBufferType</span>:<span class="code-built_in">Float32Array</span>,<span class="code-attr">ValueBufferType</span>:<span class="code-built_in">Float32Array</span>,<span class="code-attr">DefaultInterpolation</span>:F,<span class="code-attr">InterpolantFactoryMethodDiscrete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> ic(<span class="code-keyword">this</span>.times,<span class="code-keyword">this</span>.values,<span class="code-keyword">this</span>.getValueSize(),t)},<span class="code-attr">InterpolantFactoryMethodLinear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> rc(<span class="code-keyword">this</span>.times,<span class="code-keyword">this</span>.values,<span class="code-keyword">this</span>.getValueSize(),t)},<span class="code-attr">InterpolantFactoryMethodSmooth</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> nc(<span class="code-keyword">this</span>.times,<span class="code-keyword">this</span>.values,<span class="code-keyword">this</span>.getValueSize(),t)},<span class="code-attr">setInterpolation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span> U:e=<span class="code-keyword">this</span>.InterpolantFactoryMethodDiscrete;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> F:e=<span class="code-keyword">this</span>.InterpolantFactoryMethodLinear;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> G:e=<span class="code-keyword">this</span>.InterpolantFactoryMethodSmooth}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e){<span class="code-keyword">var</span> n=<span class="code-string">"unsupported interpolation for "</span>+<span class="code-keyword">this</span>.ValueTypeName+<span class="code-string">" keyframe track named "</span>+<span class="code-keyword">this</span>.name;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.createInterpolant){<span class="code-keyword">if</span>(t===<span class="code-keyword">this</span>.DefaultInterpolation)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(n);<span class="code-keyword">this</span>.setInterpolation(<span class="code-keyword">this</span>.DefaultInterpolation)}<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.KeyframeTrack:"</span>,n),<span class="code-keyword">this</span>}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.createInterpolant=e,<span class="code-keyword">this</span>},<span class="code-attr">getInterpolation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.createInterpolant){<span class="code-keyword">case</span> <span class="code-keyword">this</span>.InterpolantFactoryMethodDiscrete:<span class="code-keyword">return</span> U;<span class="code-keyword">case</span> <span class="code-keyword">this</span>.InterpolantFactoryMethodLinear:<span class="code-keyword">return</span> F;<span class="code-keyword">case</span> <span class="code-keyword">this</span>.InterpolantFactoryMethodSmooth:<span class="code-keyword">return</span> G}},<span class="code-attr">getValueSize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.values.length/<span class="code-keyword">this</span>.times.length},<span class="code-attr">shift</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.times,n=<span class="code-number">0</span>,r=e.length;n!==r;++n)e[n]+=t;<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">scale</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.times,n=<span class="code-number">0</span>,r=e.length;n!==r;++n)e[n]*=t;<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">trim</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.times,r=n.length,i=<span class="code-number">0</span>,a=r<span class="code-number">-1</span>;i!==r&amp;&amp;n[i]&lt;t;)++i;<span class="code-keyword">for</span>(;<span class="code-number">-1</span>!==a&amp;&amp;n[a]&gt;e;)--a;<span class="code-keyword">if</span>(++a,<span class="code-number">0</span>!==i||a!==r){i&gt;=a&amp;&amp;(i=(a=<span class="code-built_in">Math</span>.max(a,<span class="code-number">1</span>))<span class="code-number">-1</span>);<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.getValueSize();<span class="code-keyword">this</span>.times=tc.arraySlice(n,i,a),<span class="code-keyword">this</span>.values=tc.arraySlice(<span class="code-keyword">this</span>.values,i*o,a*o)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">validate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=!<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.getValueSize();e-<span class="code-built_in">Math</span>.floor(e)!=<span class="code-number">0</span>&amp;&amp;(<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.KeyframeTrack: Invalid value size in track."</span>,<span class="code-keyword">this</span>),t=!<span class="code-number">1</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.times,r=<span class="code-keyword">this</span>.values,i=n.length;<span class="code-number">0</span>===i&amp;&amp;(<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.KeyframeTrack: Track is empty."</span>,<span class="code-keyword">this</span>),t=!<span class="code-number">1</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-literal">null</span>,o=<span class="code-number">0</span>;o!==i;o++){<span class="code-keyword">var</span> s=n[o];<span class="code-keyword">if</span>(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> s&amp;&amp;<span class="code-built_in">isNaN</span>(s)){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.KeyframeTrack: Time is not a valid number."</span>,<span class="code-keyword">this</span>,o,s),t=!<span class="code-number">1</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==a&amp;&amp;a&gt;s){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.KeyframeTrack: Out of order keys."</span>,<span class="code-keyword">this</span>,o,s,a),t=!<span class="code-number">1</span>;<span class="code-keyword">break</span>}a=s}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;tc.isTypedArray(r))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>,l=r.length;c!==l;++c){<span class="code-keyword">var</span> u=r[c];<span class="code-keyword">if</span>(<span class="code-built_in">isNaN</span>(u)){<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.KeyframeTrack: Value is not a valid number."</span>,<span class="code-keyword">this</span>,c,u),t=!<span class="code-number">1</span>;<span class="code-keyword">break</span>}}<span class="code-keyword">return</span> t},<span class="code-attr">optimize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=tc.arraySlice(<span class="code-keyword">this</span>.times),e=tc.arraySlice(<span class="code-keyword">this</span>.values),n=<span class="code-keyword">this</span>.getValueSize(),r=<span class="code-keyword">this</span>.getInterpolation()===G,i=t.length<span class="code-number">-1</span>,a=<span class="code-number">1</span>,o=<span class="code-number">1</span>;o&lt;i;++o){<span class="code-keyword">var</span> s=!<span class="code-number">1</span>,c=t[o];<span class="code-keyword">if</span>(c!==t[o+<span class="code-number">1</span>]&amp;&amp;(<span class="code-number">1</span>!==o||c!==c[<span class="code-number">0</span>]))<span class="code-keyword">if</span>(r)s=!<span class="code-number">0</span>;<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=o*n,u=l-n,h=l+n,d=<span class="code-number">0</span>;d!==n;++d){<span class="code-keyword">var</span> p=e[l+d];<span class="code-keyword">if</span>(p!==e[u+d]||p!==e[h+d]){s=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}}<span class="code-keyword">if</span>(s){<span class="code-keyword">if</span>(o!==a){t[a]=t[o];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=o*n,m=a*n,v=<span class="code-number">0</span>;v!==n;++v)e[m+v]=e[f+v]}++a}}<span class="code-keyword">if</span>(i&gt;<span class="code-number">0</span>){t[a]=t[i];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=i*n,y=a*n,x=<span class="code-number">0</span>;x!==n;++x)e[y+x]=e[g+x];++a}<span class="code-keyword">return</span> a!==t.length?(<span class="code-keyword">this</span>.times=tc.arraySlice(t,<span class="code-number">0</span>,a),<span class="code-keyword">this</span>.values=tc.arraySlice(e,<span class="code-number">0</span>,a*n)):(<span class="code-keyword">this</span>.times=t,<span class="code-keyword">this</span>.values=e),<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=tc.arraySlice(<span class="code-keyword">this</span>.times,<span class="code-number">0</span>),e=tc.arraySlice(<span class="code-keyword">this</span>.values,<span class="code-number">0</span>),n=<span class="code-keyword">new</span>(<span class="code-number">0</span>,<span class="code-keyword">this</span>.constructor)(<span class="code-keyword">this</span>.name,t,e);<span class="code-keyword">return</span> n.createInterpolant=<span class="code-keyword">this</span>.createInterpolant,n}}),oc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:oc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"bool"</span>,<span class="code-attr">ValueBufferType</span>:<span class="code-built_in">Array</span>,<span class="code-attr">DefaultInterpolation</span>:U,<span class="code-attr">InterpolantFactoryMethodLinear</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">InterpolantFactoryMethodSmooth</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>}),sc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:sc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"color"</span>}),cc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:cc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"number"</span>}),lc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ec.prototype),{<span class="code-attr">constructor</span>:lc,<span class="code-attr">interpolate_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.resultBuffer,a=<span class="code-keyword">this</span>.sampleValues,o=<span class="code-keyword">this</span>.valueSize,s=(n-e)/(r-e),c=t*o,l=c+o;c!==l;c+=<span class="code-number">4</span>)wt.slerpFlat(i,<span class="code-number">0</span>,a,c-o,a,c,s);<span class="code-keyword">return</span> i}}),uc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:uc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"quaternion"</span>,<span class="code-attr">DefaultInterpolation</span>:F,<span class="code-attr">InterpolantFactoryMethodLinear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> lc(<span class="code-keyword">this</span>.times,<span class="code-keyword">this</span>.values,<span class="code-keyword">this</span>.getValueSize(),t)},<span class="code-attr">InterpolantFactoryMethodSmooth</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>}),hc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:hc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"string"</span>,<span class="code-attr">ValueBufferType</span>:<span class="code-built_in">Array</span>,<span class="code-attr">DefaultInterpolation</span>:U,<span class="code-attr">InterpolantFactoryMethodLinear</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">InterpolantFactoryMethodSmooth</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>}),dc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ac.prototype),{<span class="code-attr">constructor</span>:dc,<span class="code-attr">ValueTypeName</span>:<span class="code-string">"vector"</span>}),<span class="code-built_in">Object</span>.assign(pc,{<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=t.tracks,r=<span class="code-number">1</span>/(t.fps||<span class="code-number">1</span>),i=<span class="code-number">0</span>,a=n.length;i!==a;++i)e.push(fc(n[i]).scale(r));<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> pc(t.name,t.duration,e,t.blendMode);<span class="code-keyword">return</span> o.uuid=t.uuid,o},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=t.tracks,r={<span class="code-attr">name</span>:t.name,<span class="code-attr">duration</span>:t.duration,<span class="code-attr">tracks</span>:e,<span class="code-attr">uuid</span>:t.uuid,<span class="code-attr">blendMode</span>:t.blendMode},i=<span class="code-number">0</span>,a=n.length;i!==a;++i)e.push(ac.toJSON(n[i]));<span class="code-keyword">return</span> r},<span class="code-attr">CreateFromMorphTargetSequence</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.length,a=[],o=<span class="code-number">0</span>;o&lt;i;o++){<span class="code-keyword">var</span> s=[],c=[];s.push((o+i<span class="code-number">-1</span>)%i,o,(o+<span class="code-number">1</span>)%i),c.push(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>);<span class="code-keyword">var</span> l=tc.getKeyframeOrder(s);s=tc.sortedArray(s,<span class="code-number">1</span>,l),c=tc.sortedArray(c,<span class="code-number">1</span>,l),r||<span class="code-number">0</span>!==s[<span class="code-number">0</span>]||(s.push(i),c.push(c[<span class="code-number">0</span>])),a.push(<span class="code-keyword">new</span> cc(<span class="code-string">".morphTargetInfluences["</span>+e[o].name+<span class="code-string">"]"</span>,s,c).scale(<span class="code-number">1</span>/n))}<span class="code-keyword">return</span> <span class="code-keyword">new</span> pc(t,<span class="code-number">-1</span>,a)},<span class="code-attr">findByName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t;<span class="code-keyword">if</span>(!<span class="code-built_in">Array</span>.isArray(t)){<span class="code-keyword">var</span> r=t;n=r.geometry&amp;&amp;r.geometry.animations||r.animations}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;n.length;i++)<span class="code-keyword">if</span>(n[i].name===e)<span class="code-keyword">return</span> n[i];<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">CreateClipsFromMorphTargetSequences</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r={},i=<span class="code-regexp">/^([\w-]*?)([\d]+)$/</span>,a=<span class="code-number">0</span>,o=t.length;a&lt;o;a++){<span class="code-keyword">var</span> s=t[a],c=s.name.match(i);<span class="code-keyword">if</span>(c&amp;&amp;c.length&gt;<span class="code-number">1</span>){<span class="code-keyword">var</span> l=c[<span class="code-number">1</span>],u=r[l];u||(r[l]=u=[]),u.push(s)}}<span class="code-keyword">var</span> h=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d <span class="code-keyword">in</span> r)h.push(pc.CreateFromMorphTargetSequence(d,r[d],e,n));<span class="code-keyword">return</span> h},<span class="code-attr">parseAnimation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.AnimationClip: No animation in JSONLoader data."</span>),<span class="code-literal">null</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==n.length){<span class="code-keyword">var</span> a=[],o=[];tc.flattenJSON(n,a,o,r),<span class="code-number">0</span>!==a.length&amp;&amp;i.push(<span class="code-keyword">new</span> t(e,a,o))}},r=[],i=t.name||<span class="code-string">"default"</span>,a=t.fps||<span class="code-number">30</span>,o=t.blendMode,s=t.length||<span class="code-number">-1</span>,c=t.hierarchy||[],l=<span class="code-number">0</span>;l&lt;c.length;l++){<span class="code-keyword">var</span> u=c[l].keys;<span class="code-keyword">if</span>(u&amp;&amp;<span class="code-number">0</span>!==u.length)<span class="code-keyword">if</span>(u[<span class="code-number">0</span>].morphTargets){<span class="code-keyword">var</span> h={},d=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">for</span>(d=<span class="code-number">0</span>;d&lt;u.length;d++)<span class="code-keyword">if</span>(u[d].morphTargets)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>;p&lt;u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=<span class="code-number">-1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f <span class="code-keyword">in</span> h){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=[],v=[],g=<span class="code-number">0</span>;g!==u[d].morphTargets.length;++g){<span class="code-keyword">var</span> y=u[d];m.push(y.time),v.push(y.morphTarget===f?<span class="code-number">1</span>:<span class="code-number">0</span>)}r.push(<span class="code-keyword">new</span> cc(<span class="code-string">".morphTargetInfluence["</span>+f+<span class="code-string">"]"</span>,m,v))}s=h.length*(a||<span class="code-number">1</span>)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> x=<span class="code-string">".bones["</span>+e[l].name+<span class="code-string">"]"</span>;n(dc,x+<span class="code-string">".position"</span>,u,<span class="code-string">"pos"</span>,r),n(uc,x+<span class="code-string">".quaternion"</span>,u,<span class="code-string">"rot"</span>,r),n(dc,x+<span class="code-string">".scale"</span>,u,<span class="code-string">"scl"</span>,r)}}<span class="code-keyword">return</span> <span class="code-number">0</span>===r.length?<span class="code-literal">null</span>:<span class="code-keyword">new</span> pc(i,s,r,o)}}),<span class="code-built_in">Object</span>.assign(pc.prototype,{<span class="code-attr">resetDuration</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.tracks.length;e!==n;++e){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.tracks[e];t=<span class="code-built_in">Math</span>.max(t,r.times[r.times.length<span class="code-number">-1</span>])}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.duration=t,<span class="code-keyword">this</span>},<span class="code-attr">trim</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;<span class="code-keyword">this</span>.tracks.length;t++)<span class="code-keyword">this</span>.tracks[t].trim(<span class="code-number">0</span>,<span class="code-keyword">this</span>.duration);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">validate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=!<span class="code-number">0</span>,e=<span class="code-number">0</span>;e&lt;<span class="code-keyword">this</span>.tracks.length;e++)t=t&amp;&amp;<span class="code-keyword">this</span>.tracks[e].validate();<span class="code-keyword">return</span> t},<span class="code-attr">optimize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;<span class="code-keyword">this</span>.tracks.length;t++)<span class="code-keyword">this</span>.tracks[t].optimize();<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>;e&lt;<span class="code-keyword">this</span>.tracks.length;e++)t.push(<span class="code-keyword">this</span>.tracks[e].clone());<span class="code-keyword">return</span> <span class="code-keyword">new</span> pc(<span class="code-keyword">this</span>.name,<span class="code-keyword">this</span>.duration,t,<span class="code-keyword">this</span>.blendMode)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> pc.toJSON(<span class="code-keyword">this</span>)}});<span class="code-keyword">var</span> mc={<span class="code-attr">enabled</span>:!<span class="code-number">1</span>,<span class="code-attr">files</span>:{},<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.enabled&amp;&amp;(<span class="code-keyword">this</span>.files[t]=e)},<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.enabled)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.files[t]},<span class="code-attr">remove</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.files[t]},<span class="code-attr">clear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.files={}}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vc</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,i=!<span class="code-number">1</span>,a=<span class="code-number">0</span>,o=<span class="code-number">0</span>,s=<span class="code-keyword">void</span> <span class="code-number">0</span>,c=[];<span class="code-keyword">this</span>.onStart=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.onLoad=t,<span class="code-keyword">this</span>.onProgress=e,<span class="code-keyword">this</span>.onError=n,<span class="code-keyword">this</span>.itemStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{o++,!<span class="code-number">1</span>===i&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.onStart&amp;&amp;r.onStart(t,a,o),i=!<span class="code-number">0</span>},<span class="code-keyword">this</span>.itemEnd=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{a++,<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.onProgress&amp;&amp;r.onProgress(t,a,o),a===o&amp;&amp;(i=!<span class="code-number">1</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.onLoad&amp;&amp;r.onLoad())},<span class="code-keyword">this</span>.itemError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.onError&amp;&amp;r.onError(t)},<span class="code-keyword">this</span>.resolveURL=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> s?s(t):t},<span class="code-keyword">this</span>.setURLModifier=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> s=t,<span class="code-keyword">this</span>},<span class="code-keyword">this</span>.addHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> c.push(t,e),<span class="code-keyword">this</span>},<span class="code-keyword">this</span>.removeHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=c.indexOf(t);<span class="code-keyword">return</span><span class="code-number">-1</span>!==e&amp;&amp;c.splice(e,<span class="code-number">2</span>),<span class="code-keyword">this</span>},<span class="code-keyword">this</span>.getHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=c.length;e&lt;n;e+=<span class="code-number">2</span>){<span class="code-keyword">var</span> r=c[e],i=c[e+<span class="code-number">1</span>];<span class="code-keyword">if</span>(r.global&amp;&amp;(r.lastIndex=<span class="code-number">0</span>),r.test(t))<span class="code-keyword">return</span> i}<span class="code-keyword">return</span> <span class="code-literal">null</span>}}<span class="code-keyword">var</span> gc=<span class="code-keyword">new</span> vc;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yc</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.manager=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:gc,<span class="code-keyword">this</span>.crossOrigin=<span class="code-string">"anonymous"</span>,<span class="code-keyword">this</span>.withCredentials=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.path=<span class="code-string">""</span>,<span class="code-keyword">this</span>.resourcePath=<span class="code-string">""</span>,<span class="code-keyword">this</span>.requestHeader={}}<span class="code-built_in">Object</span>.assign(yc.prototype,{<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">loadAsync</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,i</span>)</span>{n.load(t,r,e,i)}))},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">setCrossOrigin</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.crossOrigin=t,<span class="code-keyword">this</span>},<span class="code-attr">setWithCredentials</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.withCredentials=t,<span class="code-keyword">this</span>},<span class="code-attr">setPath</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.path=t,<span class="code-keyword">this</span>},<span class="code-attr">setResourcePath</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.resourcePath=t,<span class="code-keyword">this</span>},<span class="code-attr">setRequestHeader</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.requestHeader=t,<span class="code-keyword">this</span>}});<span class="code-keyword">var</span> xc={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_c</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bc</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wc</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mc</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Sc</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tc</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ec</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ac</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.type=<span class="code-string">"Curve"</span>,<span class="code-keyword">this</span>.arcLengthDivisions=<span class="code-number">200</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lc</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"EllipseCurve"</span>,<span class="code-keyword">this</span>.aX=t||<span class="code-number">0</span>,<span class="code-keyword">this</span>.aY=e||<span class="code-number">0</span>,<span class="code-keyword">this</span>.xRadius=n||<span class="code-number">1</span>,<span class="code-keyword">this</span>.yRadius=r||<span class="code-number">1</span>,<span class="code-keyword">this</span>.aStartAngle=i||<span class="code-number">0</span>,<span class="code-keyword">this</span>.aEndAngle=a||<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI,<span class="code-keyword">this</span>.aClockwise=o||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.aRotation=s||<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rc</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{Lc.call(<span class="code-keyword">this</span>,t,e,n,n,r,i,a),<span class="code-keyword">this</span>.type=<span class="code-string">"ArcCurve"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Cc</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">i,a,o,s</span>)</span>{t=i,e=o,n=<span class="code-number">-3</span>*i+<span class="code-number">3</span>*a<span class="code-number">-2</span>*o-s,r=<span class="code-number">2</span>*i<span class="code-number">-2</span>*a+o+s}<span class="code-keyword">return</span>{<span class="code-attr">initCatmullRom</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,a</span>)</span>{i(e,n,a*(n-t),a*(r-e))},<span class="code-attr">initNonuniformCatmullRom</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,a,o,s</span>)</span>{<span class="code-keyword">var</span> c=(e-t)/a-(n-t)/(a+o)+(n-e)/o,l=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,c*=o,l*=o)},<span class="code-attr">calc</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> a=i*i;<span class="code-keyword">return</span> t+e*i+n*a+r*(a*i)}}}_c.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:_c,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">""</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.path&amp;&amp;(t=<span class="code-keyword">this</span>.path+t),t=<span class="code-keyword">this</span>.manager.resolveURL(t);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=mc.get(t);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a)<span class="code-keyword">return</span> i.manager.itemStart(t),setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class="code-number">0</span>),a;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===xc[t]){<span class="code-keyword">var</span> o,s=t.match(<span class="code-regexp">/^data:(.*?)(;base64)?,(.*)$/</span>);<span class="code-keyword">if</span>(s){<span class="code-keyword">var</span> c=s[<span class="code-number">1</span>],l=!!s[<span class="code-number">2</span>],u=s[<span class="code-number">3</span>];u=<span class="code-built_in">decodeURIComponent</span>(u),l&amp;&amp;(u=atob(u));<span class="code-keyword">try</span>{<span class="code-keyword">var</span> h,d=(<span class="code-keyword">this</span>.responseType||<span class="code-string">""</span>).toLowerCase();<span class="code-keyword">switch</span>(d){<span class="code-keyword">case</span><span class="code-string">"arraybuffer"</span>:<span class="code-keyword">case</span><span class="code-string">"blob"</span>:<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(u.length),f=<span class="code-number">0</span>;f&lt;u.length;f++)p[f]=u.charCodeAt(f);h=<span class="code-string">"blob"</span>===d?<span class="code-keyword">new</span> Blob([p.buffer],{<span class="code-attr">type</span>:c}):p.buffer;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"document"</span>:<span class="code-keyword">var</span> m=<span class="code-keyword">new</span> DOMParser;h=m.parseFromString(u,c);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"json"</span>:h=<span class="code-built_in">JSON</span>.parse(u);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:h=u}setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e&amp;&amp;e(h),i.manager.itemEnd(t)}),<span class="code-number">0</span>)}<span class="code-keyword">catch</span>(e){setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),<span class="code-number">0</span>)}}<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v <span class="code-keyword">in</span> xc[t]=[],xc[t].push({<span class="code-attr">onLoad</span>:e,<span class="code-attr">onProgress</span>:n,<span class="code-attr">onError</span>:r}),(o=<span class="code-keyword">new</span> XMLHttpRequest).open(<span class="code-string">"GET"</span>,t,!<span class="code-number">0</span>),o.addEventListener(<span class="code-string">"load"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.response,r=xc[t];<span class="code-keyword">if</span>(<span class="code-keyword">delete</span> xc[t],<span class="code-number">200</span>===<span class="code-keyword">this</span>.status||<span class="code-number">0</span>===<span class="code-keyword">this</span>.status){<span class="code-number">0</span>===<span class="code-keyword">this</span>.status&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.FileLoader: HTTP Status 0 received."</span>),mc.add(t,n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=r.length;a&lt;o;a++){<span class="code-keyword">var</span> s=r[a];s.onLoad&amp;&amp;s.onLoad(n)}i.manager.itemEnd(t)}<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>,l=r.length;c&lt;l;c++){<span class="code-keyword">var</span> u=r[c];u.onError&amp;&amp;u.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!<span class="code-number">1</span>),o.addEventListener(<span class="code-string">"progress"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=xc[t],r=<span class="code-number">0</span>,i=n.length;r&lt;i;r++){<span class="code-keyword">var</span> a=n[r];a.onProgress&amp;&amp;a.onProgress(e)}}),!<span class="code-number">1</span>),o.addEventListener(<span class="code-string">"error"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=xc[t];<span class="code-keyword">delete</span> xc[t];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,a=n.length;r&lt;a;r++){<span class="code-keyword">var</span> o=n[r];o.onError&amp;&amp;o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!<span class="code-number">1</span>),o.addEventListener(<span class="code-string">"abort"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=xc[t];<span class="code-keyword">delete</span> xc[t];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,a=n.length;r&lt;a;r++){<span class="code-keyword">var</span> o=n[r];o.onError&amp;&amp;o.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.responseType&amp;&amp;(o.responseType=<span class="code-keyword">this</span>.responseType),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.withCredentials&amp;&amp;(o.withCredentials=<span class="code-keyword">this</span>.withCredentials),o.overrideMimeType&amp;&amp;o.overrideMimeType(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.mimeType?<span class="code-keyword">this</span>.mimeType:<span class="code-string">"text/plain"</span>),<span class="code-keyword">this</span>.requestHeader)o.setRequestHeader(v,<span class="code-keyword">this</span>.requestHeader[v]);o.send(<span class="code-literal">null</span>)}<span class="code-keyword">return</span> i.manager.itemStart(t),o}xc[t].push({<span class="code-attr">onLoad</span>:e,<span class="code-attr">onProgress</span>:n,<span class="code-attr">onError</span>:r})},<span class="code-attr">setResponseType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.responseType=t,<span class="code-keyword">this</span>},<span class="code-attr">setMimeType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.mimeType=t,<span class="code-keyword">this</span>}}),bc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:bc,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">try</span>{e(i.parse(<span class="code-built_in">JSON</span>.parse(n)))}<span class="code-keyword">catch</span>(e){r?r(e):<span class="code-built_in">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=pc.parse(t[n]);e.push(r)}<span class="code-keyword">return</span> e}}),wc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:wc,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=[],o=<span class="code-keyword">new</span> mo;o.image=a;<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> _c(<span class="code-keyword">this</span>.manager);s.setPath(<span class="code-keyword">this</span>.path),s.setResponseType(<span class="code-string">"arraybuffer"</span>),s.setRequestHeader(<span class="code-keyword">this</span>.requestHeader),s.setWithCredentials(i.withCredentials);<span class="code-keyword">var</span> c=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">l</span>)</span>{s.load(t[l],(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=i.parse(t,!<span class="code-number">0</span>);a[l]={<span class="code-attr">width</span>:n.width,<span class="code-attr">height</span>:n.height,<span class="code-attr">format</span>:n.format,<span class="code-attr">mipmaps</span>:n.mipmaps},<span class="code-number">6</span>===(c+=<span class="code-number">1</span>)&amp;&amp;(<span class="code-number">1</span>===n.mipmapCount&amp;&amp;(o.minFilter=m),o.format=n.format,o.needsUpdate=!<span class="code-number">0</span>,e&amp;&amp;e(o))}),n,r)}<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>,h=t.length;u&lt;h;++u)l(u);<span class="code-keyword">else</span> s.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=i.parse(t,!<span class="code-number">0</span>);<span class="code-keyword">if</span>(n.isCubemap)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=n.mipmaps.length/n.mipmapCount,s=<span class="code-number">0</span>;s&lt;r;s++){a[s]={<span class="code-attr">mipmaps</span>:[]};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}<span class="code-keyword">else</span> o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;<span class="code-number">1</span>===n.mipmapCount&amp;&amp;(o.minFilter=m),o.format=n.format,o.needsUpdate=!<span class="code-number">0</span>,e&amp;&amp;e(o)}),n,r);<span class="code-keyword">return</span> o}}),Mc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:Mc,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.path&amp;&amp;(t=<span class="code-keyword">this</span>.path+t),t=<span class="code-keyword">this</span>.manager.resolveURL(t);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=mc.get(t);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a)<span class="code-keyword">return</span> i.manager.itemStart(t),setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class="code-number">0</span>),a;<span class="code-keyword">var</span> o=<span class="code-built_in">document</span>.createElementNS(<span class="code-string">"http://www.w3.org/1999/xhtml"</span>,<span class="code-string">"img"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params"></span>)</span>{o.removeEventListener(<span class="code-string">"load"</span>,s,!<span class="code-number">1</span>),o.removeEventListener(<span class="code-string">"error"</span>,c,!<span class="code-number">1</span>),mc.add(t,<span class="code-keyword">this</span>),e&amp;&amp;e(<span class="code-keyword">this</span>),i.manager.itemEnd(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params">e</span>)</span>{o.removeEventListener(<span class="code-string">"load"</span>,s,!<span class="code-number">1</span>),o.removeEventListener(<span class="code-string">"error"</span>,c,!<span class="code-number">1</span>),r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)}<span class="code-keyword">return</span> o.addEventListener(<span class="code-string">"load"</span>,s,!<span class="code-number">1</span>),o.addEventListener(<span class="code-string">"error"</span>,c,!<span class="code-number">1</span>),<span class="code-string">"data:"</span>!==t.substr(<span class="code-number">0</span>,<span class="code-number">5</span>)&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.crossOrigin&amp;&amp;(o.crossOrigin=<span class="code-keyword">this</span>.crossOrigin),i.manager.itemStart(t),o.src=t,o}}),Sc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:Sc,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Jn,a=<span class="code-keyword">new</span> Mc(<span class="code-keyword">this</span>.manager);a.setCrossOrigin(<span class="code-keyword">this</span>.crossOrigin),a.setPath(<span class="code-keyword">this</span>.path);<span class="code-keyword">var</span> o=<span class="code-number">0</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">n</span>)</span>{a.load(t[n],(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i.images[n]=t,<span class="code-number">6</span>===++o&amp;&amp;(i.needsUpdate=!<span class="code-number">0</span>,e&amp;&amp;e(i))}),<span class="code-keyword">void</span> <span class="code-number">0</span>,r)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;t.length;++c)s(c);<span class="code-keyword">return</span> i}}),Tc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:Tc,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> Kn,o=<span class="code-keyword">new</span> _c(<span class="code-keyword">this</span>.manager);<span class="code-keyword">return</span> o.setResponseType(<span class="code-string">"arraybuffer"</span>),o.setRequestHeader(<span class="code-keyword">this</span>.requestHeader),o.setPath(<span class="code-keyword">this</span>.path),o.setWithCredentials(i.withCredentials),o.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=i.parse(t);n&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.image?a.image=n.image:<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.data&amp;&amp;(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.wrapS?n.wrapS:u,a.wrapT=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.wrapT?n.wrapT:u,a.magFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.magFilter?n.magFilter:m,a.minFilter=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.minFilter?n.minFilter:m,a.anisotropy=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.anisotropy?n.anisotropy:<span class="code-number">1</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.format&amp;&amp;(a.format=n.format),<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.type&amp;&amp;(a.type=n.type),<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.mipmaps&amp;&amp;(a.mipmaps=n.mipmaps,a.minFilter=g),<span class="code-number">1</span>===n.mipmapCount&amp;&amp;(a.minFilter=m),a.needsUpdate=!<span class="code-number">0</span>,e&amp;&amp;e(a,n))}),n,r),a}}),Ec.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:Ec,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> gt,a=<span class="code-keyword">new</span> Mc(<span class="code-keyword">this</span>.manager);<span class="code-keyword">return</span> a.setCrossOrigin(<span class="code-keyword">this</span>.crossOrigin),a.setPath(<span class="code-keyword">this</span>.path),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{i.image=n;<span class="code-keyword">var</span> r=t.search(<span class="code-regexp">/\.jpe?g($|\?)/i</span>)&gt;<span class="code-number">0</span>||<span class="code-number">0</span>===t.search(<span class="code-regexp">/^data\:image\/jpeg/</span>);i.format=r?S:T,i.needsUpdate=!<span class="code-number">0</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;e(i)}),n,r),i}}),<span class="code-built_in">Object</span>.assign(Ac.prototype,{<span class="code-attr">getPoint</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Curve: .getPoint() not implemented."</span>),<span class="code-literal">null</span>},<span class="code-attr">getPointAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.getUtoTmapping(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getPoint(n,e)},<span class="code-attr">getPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">5</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;=t;n++)e.push(<span class="code-keyword">this</span>.getPoint(n/t));<span class="code-keyword">return</span> e},<span class="code-attr">getSpacedPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">5</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;=t;n++)e.push(<span class="code-keyword">this</span>.getPointAt(n/t));<span class="code-keyword">return</span> e},<span class="code-attr">getLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getLengths();<span class="code-keyword">return</span> t[t.length<span class="code-number">-1</span>]},<span class="code-attr">getLengths</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">this</span>.arcLengthDivisions),<span class="code-keyword">this</span>.cacheArcLengths&amp;&amp;<span class="code-keyword">this</span>.cacheArcLengths.length===t+<span class="code-number">1</span>&amp;&amp;!<span class="code-keyword">this</span>.needsUpdate)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cacheArcLengths;<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">1</span>;<span class="code-keyword">var</span> e,n=[],r=<span class="code-keyword">this</span>.getPoint(<span class="code-number">0</span>),i=<span class="code-number">0</span>;n.push(<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">1</span>;a&lt;=t;a++)i+=(e=<span class="code-keyword">this</span>.getPoint(a/t)).distanceTo(r),n.push(i),r=e;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cacheArcLengths=n,n},<span class="code-attr">updateArcLengths</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.getLengths()},<span class="code-attr">getUtoTmapping</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r=<span class="code-keyword">this</span>.getLengths(),i=<span class="code-number">0</span>,a=r.length;n=e||t*r[a<span class="code-number">-1</span>];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o,s=<span class="code-number">0</span>,c=a<span class="code-number">-1</span>;s&lt;=c;)<span class="code-keyword">if</span>((o=r[i=<span class="code-built_in">Math</span>.floor(s+(c-s)/<span class="code-number">2</span>)]-n)&lt;<span class="code-number">0</span>)s=i+<span class="code-number">1</span>;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(o&gt;<span class="code-number">0</span>)){c=i;<span class="code-keyword">break</span>}c=i<span class="code-number">-1</span>}<span class="code-keyword">if</span>(r[i=c]===n)<span class="code-keyword">return</span> i/(a<span class="code-number">-1</span>);<span class="code-keyword">var</span> l=r[i];<span class="code-keyword">return</span>(i+(n-l)/(r[i+<span class="code-number">1</span>]-l))/(a<span class="code-number">-1</span>)},<span class="code-attr">getTangent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-number">1e-4</span>,r=t-n,i=t+n;r&lt;<span class="code-number">0</span>&amp;&amp;(r=<span class="code-number">0</span>),i&gt;<span class="code-number">1</span>&amp;&amp;(i=<span class="code-number">1</span>);<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.getPoint(r),o=<span class="code-keyword">this</span>.getPoint(i),s=e||(a.isVector2?<span class="code-keyword">new</span> pt:<span class="code-keyword">new</span> Mt);<span class="code-keyword">return</span> s.copy(o).sub(a).normalize(),s},<span class="code-attr">getTangentAt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.getUtoTmapping(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getTangent(n,e)},<span class="code-attr">computeFrenetFrames</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Mt,r=[],i=[],a=[],o=<span class="code-keyword">new</span> Mt,s=<span class="code-keyword">new</span> Qt,c=<span class="code-number">0</span>;c&lt;=t;c++){<span class="code-keyword">var</span> l=c/t;r[c]=<span class="code-keyword">this</span>.getTangentAt(l,<span class="code-keyword">new</span> Mt),r[c].normalize()}i[<span class="code-number">0</span>]=<span class="code-keyword">new</span> Mt,a[<span class="code-number">0</span>]=<span class="code-keyword">new</span> Mt;<span class="code-keyword">var</span> u=<span class="code-built_in">Number</span>.MAX_VALUE,h=<span class="code-built_in">Math</span>.abs(r[<span class="code-number">0</span>].x),d=<span class="code-built_in">Math</span>.abs(r[<span class="code-number">0</span>].y),p=<span class="code-built_in">Math</span>.abs(r[<span class="code-number">0</span>].z);h&lt;=u&amp;&amp;(u=h,n.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),d&lt;=u&amp;&amp;(u=d,n.set(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>)),p&lt;=u&amp;&amp;n.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),o.crossVectors(r[<span class="code-number">0</span>],n).normalize(),i[<span class="code-number">0</span>].crossVectors(r[<span class="code-number">0</span>],o),a[<span class="code-number">0</span>].crossVectors(r[<span class="code-number">0</span>],i[<span class="code-number">0</span>]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">1</span>;f&lt;=t;f++){<span class="code-keyword">if</span>(i[f]=i[f<span class="code-number">-1</span>].clone(),a[f]=a[f<span class="code-number">-1</span>].clone(),o.crossVectors(r[f<span class="code-number">-1</span>],r[f]),o.length()&gt;<span class="code-built_in">Number</span>.EPSILON){o.normalize();<span class="code-keyword">var</span> m=<span class="code-built_in">Math</span>.acos(st.clamp(r[f<span class="code-number">-1</span>].dot(r[f]),<span class="code-number">-1</span>,<span class="code-number">1</span>));i[f].applyMatrix4(s.makeRotationAxis(o,m))}a[f].crossVectors(r[f],i[f])}<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e){<span class="code-keyword">var</span> v=<span class="code-built_in">Math</span>.acos(st.clamp(i[<span class="code-number">0</span>].dot(i[t]),<span class="code-number">-1</span>,<span class="code-number">1</span>));v/=t,r[<span class="code-number">0</span>].dot(o.crossVectors(i[<span class="code-number">0</span>],i[t]))&gt;<span class="code-number">0</span>&amp;&amp;(v=-v);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">1</span>;g&lt;=t;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),a[g].crossVectors(r[g],i[g])}<span class="code-keyword">return</span>{<span class="code-attr">tangents</span>:r,<span class="code-attr">normals</span>:i,<span class="code-attr">binormals</span>:a}},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.arcLengthDivisions=t.arcLengthDivisions,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">metadata</span>:{<span class="code-attr">version</span>:<span class="code-number">4.5</span>,<span class="code-attr">type</span>:<span class="code-string">"Curve"</span>,<span class="code-attr">generator</span>:<span class="code-string">"Curve.toJSON"</span>}};<span class="code-keyword">return</span> t.arcLengthDivisions=<span class="code-keyword">this</span>.arcLengthDivisions,t.type=<span class="code-keyword">this</span>.type,t},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.arcLengthDivisions=t.arcLengthDivisions,<span class="code-keyword">this</span>}}),Lc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isEllipseCurve=!<span class="code-number">0</span>,Lc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e||<span class="code-keyword">new</span> pt,r=<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI,i=<span class="code-keyword">this</span>.aEndAngle-<span class="code-keyword">this</span>.aStartAngle,a=<span class="code-built_in">Math</span>.abs(i)&lt;<span class="code-built_in">Number</span>.EPSILON;i&lt;<span class="code-number">0</span>;)i+=r;<span class="code-keyword">for</span>(;i&gt;r;)i-=r;i&lt;<span class="code-built_in">Number</span>.EPSILON&amp;&amp;(i=a?<span class="code-number">0</span>:r),!<span class="code-number">0</span>!==<span class="code-keyword">this</span>.aClockwise||a||(i===r?i=-r:i-=r);<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.aStartAngle+t*i,s=<span class="code-keyword">this</span>.aX+<span class="code-keyword">this</span>.xRadius*<span class="code-built_in">Math</span>.cos(o),c=<span class="code-keyword">this</span>.aY+<span class="code-keyword">this</span>.yRadius*<span class="code-built_in">Math</span>.sin(o);<span class="code-keyword">if</span>(<span class="code-number">0</span>!==<span class="code-keyword">this</span>.aRotation){<span class="code-keyword">var</span> l=<span class="code-built_in">Math</span>.cos(<span class="code-keyword">this</span>.aRotation),u=<span class="code-built_in">Math</span>.sin(<span class="code-keyword">this</span>.aRotation),h=s-<span class="code-keyword">this</span>.aX,d=c-<span class="code-keyword">this</span>.aY;s=h*l-d*u+<span class="code-keyword">this</span>.aX,c=h*u+d*l+<span class="code-keyword">this</span>.aY}<span class="code-keyword">return</span> n.set(s,c)},Lc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.aX=t.aX,<span class="code-keyword">this</span>.aY=t.aY,<span class="code-keyword">this</span>.xRadius=t.xRadius,<span class="code-keyword">this</span>.yRadius=t.yRadius,<span class="code-keyword">this</span>.aStartAngle=t.aStartAngle,<span class="code-keyword">this</span>.aEndAngle=t.aEndAngle,<span class="code-keyword">this</span>.aClockwise=t.aClockwise,<span class="code-keyword">this</span>.aRotation=t.aRotation,<span class="code-keyword">this</span>},Lc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.aX=<span class="code-keyword">this</span>.aX,t.aY=<span class="code-keyword">this</span>.aY,t.xRadius=<span class="code-keyword">this</span>.xRadius,t.yRadius=<span class="code-keyword">this</span>.yRadius,t.aStartAngle=<span class="code-keyword">this</span>.aStartAngle,t.aEndAngle=<span class="code-keyword">this</span>.aEndAngle,t.aClockwise=<span class="code-keyword">this</span>.aClockwise,t.aRotation=<span class="code-keyword">this</span>.aRotation,t},Lc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.aX=t.aX,<span class="code-keyword">this</span>.aY=t.aY,<span class="code-keyword">this</span>.xRadius=t.xRadius,<span class="code-keyword">this</span>.yRadius=t.yRadius,<span class="code-keyword">this</span>.aStartAngle=t.aStartAngle,<span class="code-keyword">this</span>.aEndAngle=t.aEndAngle,<span class="code-keyword">this</span>.aClockwise=t.aClockwise,<span class="code-keyword">this</span>.aRotation=t.aRotation,<span class="code-keyword">this</span>},Rc.prototype=<span class="code-built_in">Object</span>.create(Lc.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isArcCurve=!<span class="code-number">0</span>;<span class="code-keyword">var</span> Pc=<span class="code-keyword">new</span> Mt,Ic=<span class="code-keyword">new</span> Cc,Nc=<span class="code-keyword">new</span> Cc,Dc=<span class="code-keyword">new</span> Cc;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oc</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-string">"centripetal"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">.5</span>),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"CatmullRomCurve3"</span>,<span class="code-keyword">this</span>.points=t,<span class="code-keyword">this</span>.closed=e,<span class="code-keyword">this</span>.curveType=n,<span class="code-keyword">this</span>.tension=r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bc</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-number">.5</span>*(r-e),o=<span class="code-number">.5</span>*(i-n),s=t*t;<span class="code-keyword">return</span>(<span class="code-number">2</span>*n<span class="code-number">-2</span>*r+a+o)*(t*s)+(<span class="code-number">-3</span>*n+<span class="code-number">3</span>*r<span class="code-number">-2</span>*a-o)*s+a*t+n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zc</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-number">1</span>-t;<span class="code-keyword">return</span> n*n*e}(t,e)+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">2</span>*(<span class="code-number">1</span>-t)*t*e}(t,n)+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t*t*e}(t,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Uc</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-number">1</span>-t;<span class="code-keyword">return</span> n*n*n*e}(t,e)+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-number">1</span>-t;<span class="code-keyword">return</span> <span class="code-number">3</span>*n*n*t*e}(t,n)+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">3</span>*(<span class="code-number">1</span>-t)*t*t*e}(t,r)+<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t*t*t*e}(t,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fc</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-keyword">new</span> pt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"CubicBezierCurve"</span>,<span class="code-keyword">this</span>.v0=t,<span class="code-keyword">this</span>.v1=e,<span class="code-keyword">this</span>.v2=n,<span class="code-keyword">this</span>.v3=r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gc</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-keyword">new</span> Mt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"CubicBezierCurve3"</span>,<span class="code-keyword">this</span>.v0=t,<span class="code-keyword">this</span>.v1=e,<span class="code-keyword">this</span>.v2=n,<span class="code-keyword">this</span>.v3=r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hc</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"LineCurve"</span>,<span class="code-keyword">this</span>.v1=t,<span class="code-keyword">this</span>.v2=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kc</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"LineCurve3"</span>,<span class="code-keyword">this</span>.v1=t,<span class="code-keyword">this</span>.v2=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vc</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> pt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"QuadraticBezierCurve"</span>,<span class="code-keyword">this</span>.v0=t,<span class="code-keyword">this</span>.v1=e,<span class="code-keyword">this</span>.v2=n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wc</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> Mt),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"QuadraticBezierCurve3"</span>,<span class="code-keyword">this</span>.v0=t,<span class="code-keyword">this</span>.v1=e,<span class="code-keyword">this</span>.v2=n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jc</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"SplineCurve"</span>,<span class="code-keyword">this</span>.points=t}Oc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isCatmullRomCurve3=!<span class="code-number">0</span>,Oc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n,r,i=e,a=<span class="code-keyword">this</span>.points,o=a.length,s=(o-(<span class="code-keyword">this</span>.closed?<span class="code-number">0</span>:<span class="code-number">1</span>))*t,c=<span class="code-built_in">Math</span>.floor(s),l=s-c;<span class="code-keyword">this</span>.closed?c+=c&gt;<span class="code-number">0</span>?<span class="code-number">0</span>:(<span class="code-built_in">Math</span>.floor(<span class="code-built_in">Math</span>.abs(c)/o)+<span class="code-number">1</span>)*o:<span class="code-number">0</span>===l&amp;&amp;c===o<span class="code-number">-1</span>&amp;&amp;(c=o<span class="code-number">-2</span>,l=<span class="code-number">1</span>),<span class="code-keyword">this</span>.closed||c&gt;<span class="code-number">0</span>?n=a[(c<span class="code-number">-1</span>)%o]:(Pc.subVectors(a[<span class="code-number">0</span>],a[<span class="code-number">1</span>]).add(a[<span class="code-number">0</span>]),n=Pc);<span class="code-keyword">var</span> u=a[c%o],h=a[(c+<span class="code-number">1</span>)%o];<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.closed||c+<span class="code-number">2</span>&lt;o?r=a[(c+<span class="code-number">2</span>)%o]:(Pc.subVectors(a[o<span class="code-number">-1</span>],a[o<span class="code-number">-2</span>]).add(a[o<span class="code-number">-1</span>]),r=Pc),<span class="code-string">"centripetal"</span>===<span class="code-keyword">this</span>.curveType||<span class="code-string">"chordal"</span>===<span class="code-keyword">this</span>.curveType){<span class="code-keyword">var</span> d=<span class="code-string">"chordal"</span>===<span class="code-keyword">this</span>.curveType?<span class="code-number">.5</span>:<span class="code-number">.25</span>,p=<span class="code-built_in">Math</span>.pow(n.distanceToSquared(u),d),f=<span class="code-built_in">Math</span>.pow(u.distanceToSquared(h),d),m=<span class="code-built_in">Math</span>.pow(h.distanceToSquared(r),d);f&lt;<span class="code-number">1e-4</span>&amp;&amp;(f=<span class="code-number">1</span>),p&lt;<span class="code-number">1e-4</span>&amp;&amp;(p=f),m&lt;<span class="code-number">1e-4</span>&amp;&amp;(m=f),Ic.initNonuniformCatmullRom(n.x,u.x,h.x,r.x,p,f,m),Nc.initNonuniformCatmullRom(n.y,u.y,h.y,r.y,p,f,m),Dc.initNonuniformCatmullRom(n.z,u.z,h.z,r.z,p,f,m)}<span class="code-keyword">else</span><span class="code-string">"catmullrom"</span>===<span class="code-keyword">this</span>.curveType&amp;&amp;(Ic.initCatmullRom(n.x,u.x,h.x,r.x,<span class="code-keyword">this</span>.tension),Nc.initCatmullRom(n.y,u.y,h.y,r.y,<span class="code-keyword">this</span>.tension),Dc.initCatmullRom(n.z,u.z,h.z,r.z,<span class="code-keyword">this</span>.tension));<span class="code-keyword">return</span> i.set(Ic.calc(l),Nc.calc(l),Dc.calc(l)),i},Oc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.points[e];<span class="code-keyword">this</span>.points.push(r.clone())}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.closed=t.closed,<span class="code-keyword">this</span>.curveType=t.curveType,<span class="code-keyword">this</span>.tension=t.tension,<span class="code-keyword">this</span>},Oc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);t.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.points[e];t.points.push(r.toArray())}<span class="code-keyword">return</span> t.closed=<span class="code-keyword">this</span>.closed,t.curveType=<span class="code-keyword">this</span>.curveType,t.tension=<span class="code-keyword">this</span>.tension,t},Oc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.points[e];<span class="code-keyword">this</span>.points.push((<span class="code-keyword">new</span> Mt).fromArray(r))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.closed=t.closed,<span class="code-keyword">this</span>.curveType=t.curveType,<span class="code-keyword">this</span>.tension=t.tension,<span class="code-keyword">this</span>},Fc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isCubicBezierCurve=!<span class="code-number">0</span>,Fc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt);<span class="code-keyword">var</span> n=e,r=<span class="code-keyword">this</span>.v0,i=<span class="code-keyword">this</span>.v1,a=<span class="code-keyword">this</span>.v2,o=<span class="code-keyword">this</span>.v3;<span class="code-keyword">return</span> n.set(Uc(t,r.x,i.x,a.x,o.x),Uc(t,r.y,i.y,a.y,o.y)),n},Fc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.copy(t.v0),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>.v3.copy(t.v3),<span class="code-keyword">this</span>},Fc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v0=<span class="code-keyword">this</span>.v0.toArray(),t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t.v3=<span class="code-keyword">this</span>.v3.toArray(),t},Fc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.fromArray(t.v0),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>.v3.fromArray(t.v3),<span class="code-keyword">this</span>},Gc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isCubicBezierCurve3=!<span class="code-number">0</span>,Gc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n=e,r=<span class="code-keyword">this</span>.v0,i=<span class="code-keyword">this</span>.v1,a=<span class="code-keyword">this</span>.v2,o=<span class="code-keyword">this</span>.v3;<span class="code-keyword">return</span> n.set(Uc(t,r.x,i.x,a.x,o.x),Uc(t,r.y,i.y,a.y,o.y),Uc(t,r.z,i.z,a.z,o.z)),n},Gc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.copy(t.v0),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>.v3.copy(t.v3),<span class="code-keyword">this</span>},Gc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v0=<span class="code-keyword">this</span>.v0.toArray(),t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t.v3=<span class="code-keyword">this</span>.v3.toArray(),t},Gc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.fromArray(t.v0),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>.v3.fromArray(t.v3),<span class="code-keyword">this</span>},Hc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isLineCurve=!<span class="code-number">0</span>,Hc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt);<span class="code-keyword">var</span> n=e;<span class="code-keyword">return</span> <span class="code-number">1</span>===t?n.copy(<span class="code-keyword">this</span>.v2):(n.copy(<span class="code-keyword">this</span>.v2).sub(<span class="code-keyword">this</span>.v1),n.multiplyScalar(t).add(<span class="code-keyword">this</span>.v1)),n},Hc.prototype.getPointAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getPoint(t,e)},Hc.prototype.getTangent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=e||<span class="code-keyword">new</span> pt;<span class="code-keyword">return</span> n.copy(<span class="code-keyword">this</span>.v2).sub(<span class="code-keyword">this</span>.v1).normalize(),n},Hc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>},Hc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t},Hc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>},kc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),kc.prototype.constructor=kc,kc.prototype.isLineCurve3=!<span class="code-number">0</span>,kc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n=e;<span class="code-keyword">return</span> <span class="code-number">1</span>===t?n.copy(<span class="code-keyword">this</span>.v2):(n.copy(<span class="code-keyword">this</span>.v2).sub(<span class="code-keyword">this</span>.v1),n.multiplyScalar(t).add(<span class="code-keyword">this</span>.v1)),n},kc.prototype.getPointAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getPoint(t,e)},kc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>},kc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t},kc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>},Vc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Vc.prototype.constructor=Vc,Vc.prototype.isQuadraticBezierCurve=!<span class="code-number">0</span>,Vc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt);<span class="code-keyword">var</span> n=e,r=<span class="code-keyword">this</span>.v0,i=<span class="code-keyword">this</span>.v1,a=<span class="code-keyword">this</span>.v2;<span class="code-keyword">return</span> n.set(zc(t,r.x,i.x,a.x),zc(t,r.y,i.y,a.y)),n},Vc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.copy(t.v0),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>},Vc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v0=<span class="code-keyword">this</span>.v0.toArray(),t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t},Vc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.fromArray(t.v0),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>},Wc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),Wc.prototype.constructor=Wc,Wc.prototype.isQuadraticBezierCurve3=!<span class="code-number">0</span>,Wc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt);<span class="code-keyword">var</span> n=e,r=<span class="code-keyword">this</span>.v0,i=<span class="code-keyword">this</span>.v1,a=<span class="code-keyword">this</span>.v2;<span class="code-keyword">return</span> n.set(zc(t,r.x,i.x,a.x),zc(t,r.y,i.y,a.y),zc(t,r.z,i.z,a.z)),n},Wc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.copy(t.v0),<span class="code-keyword">this</span>.v1.copy(t.v1),<span class="code-keyword">this</span>.v2.copy(t.v2),<span class="code-keyword">this</span>},Wc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.v0=<span class="code-keyword">this</span>.v0.toArray(),t.v1=<span class="code-keyword">this</span>.v1.toArray(),t.v2=<span class="code-keyword">this</span>.v2.toArray(),t},Wc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.v0.fromArray(t.v0),<span class="code-keyword">this</span>.v1.fromArray(t.v1),<span class="code-keyword">this</span>.v2.fromArray(t.v2),<span class="code-keyword">this</span>},jc.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),jc.prototype.constructor=jc,jc.prototype.isSplineCurve=!<span class="code-number">0</span>,jc.prototype.getPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> pt);<span class="code-keyword">var</span> n=e,r=<span class="code-keyword">this</span>.points,i=(r.length<span class="code-number">-1</span>)*t,a=<span class="code-built_in">Math</span>.floor(i),o=i-a,s=r[<span class="code-number">0</span>===a?a:a<span class="code-number">-1</span>],c=r[a],l=r[a&gt;r.length<span class="code-number">-2</span>?r.length<span class="code-number">-1</span>:a+<span class="code-number">1</span>],u=r[a&gt;r.length<span class="code-number">-3</span>?r.length<span class="code-number">-1</span>:a+<span class="code-number">2</span>];<span class="code-keyword">return</span> n.set(Bc(o,s.x,c.x,l.x,u.x),Bc(o,s.y,c.y,l.y,u.y)),n},jc.prototype.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.points[e];<span class="code-keyword">this</span>.points.push(r.clone())}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},jc.prototype.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);t.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.points[e];t.points.push(r.toArray())}<span class="code-keyword">return</span> t},jc.prototype.fromJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.points=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.points.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.points[e];<span class="code-keyword">this</span>.points.push((<span class="code-keyword">new</span> pt).fromArray(r))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>};<span class="code-keyword">var</span> qc=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">ArcCurve</span>:Rc,<span class="code-attr">CatmullRomCurve3</span>:Oc,<span class="code-attr">CubicBezierCurve</span>:Fc,<span class="code-attr">CubicBezierCurve3</span>:Gc,<span class="code-attr">EllipseCurve</span>:Lc,<span class="code-attr">LineCurve</span>:Hc,<span class="code-attr">LineCurve3</span>:kc,<span class="code-attr">QuadraticBezierCurve</span>:Vc,<span class="code-attr">QuadraticBezierCurve3</span>:Wc,<span class="code-attr">SplineCurve</span>:jc});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xc</span>(<span class="code-params"></span>)</span>{Ac.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"CurvePath"</span>,<span class="code-keyword">this</span>.curves=[],<span class="code-keyword">this</span>.autoClose=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yc</span>(<span class="code-params">t</span>)</span>{Xc.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Path"</span>,<span class="code-keyword">this</span>.currentPoint=<span class="code-keyword">new</span> pt,t&amp;&amp;<span class="code-keyword">this</span>.setFromPoints(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zc</span>(<span class="code-params">t</span>)</span>{Yc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>.type=<span class="code-string">"Shape"</span>,<span class="code-keyword">this</span>.holes=[]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jc</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>),we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"Light"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We(t),<span class="code-keyword">this</span>.intensity=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qc</span>(<span class="code-params">t,e,n</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,n),<span class="code-keyword">this</span>.type=<span class="code-string">"HemisphereLight"</span>,<span class="code-keyword">this</span>.position.copy(we.DefaultUp),<span class="code-keyword">this</span>.updateMatrix(),<span class="code-keyword">this</span>.groundColor=<span class="code-keyword">new</span> We(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Kc</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.camera=t,<span class="code-keyword">this</span>.bias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.normalBias=<span class="code-number">0</span>,<span class="code-keyword">this</span>.radius=<span class="code-number">1</span>,<span class="code-keyword">this</span>.mapSize=<span class="code-keyword">new</span> pt(<span class="code-number">512</span>,<span class="code-number">512</span>),<span class="code-keyword">this</span>.map=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.mapPass=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.matrix=<span class="code-keyword">new</span> Qt,<span class="code-keyword">this</span>.autoUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._frustum=<span class="code-keyword">new</span> er,<span class="code-keyword">this</span>._frameExtents=<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">this</span>._viewportCount=<span class="code-number">1</span>,<span class="code-keyword">this</span>._viewports=[<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>)]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$c</span>(<span class="code-params"></span>)</span>{Kc.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> Xn(<span class="code-number">50</span>,<span class="code-number">1</span>,<span class="code-number">.5</span>,<span class="code-number">500</span>)),<span class="code-keyword">this</span>.focus=<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tl</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"SpotLight"</span>,<span class="code-keyword">this</span>.position.copy(we.DefaultUp),<span class="code-keyword">this</span>.updateMatrix(),<span class="code-keyword">this</span>.target=<span class="code-keyword">new</span> we,<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"power"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.intensity*<span class="code-built_in">Math</span>.PI},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.intensity=t/<span class="code-built_in">Math</span>.PI}}),<span class="code-keyword">this</span>.distance=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">0</span>,<span class="code-keyword">this</span>.angle=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-built_in">Math</span>.PI/<span class="code-number">3</span>,<span class="code-keyword">this</span>.penumbra=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?i:<span class="code-number">0</span>,<span class="code-keyword">this</span>.decay=<span class="code-keyword">void</span> <span class="code-number">0</span>!==a?a:<span class="code-number">1</span>,<span class="code-keyword">this</span>.shadow=<span class="code-keyword">new</span> $c}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">el</span>(<span class="code-params"></span>)</span>{Kc.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> Xn(<span class="code-number">90</span>,<span class="code-number">1</span>,<span class="code-number">.5</span>,<span class="code-number">500</span>)),<span class="code-keyword">this</span>._frameExtents=<span class="code-keyword">new</span> pt(<span class="code-number">4</span>,<span class="code-number">2</span>),<span class="code-keyword">this</span>._viewportCount=<span class="code-number">6</span>,<span class="code-keyword">this</span>._viewports=[<span class="code-keyword">new</span> xt(<span class="code-number">2</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> xt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> xt(<span class="code-number">3</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> xt(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> xt(<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> xt(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>)],<span class="code-keyword">this</span>._cubeDirections=[<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>)],<span class="code-keyword">this</span>._cubeUps=[<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>)]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nl</span>(<span class="code-params">t,e,n,r</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"PointLight"</span>,<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"power"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">4</span>*<span class="code-keyword">this</span>.intensity*<span class="code-built_in">Math</span>.PI},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.intensity=t/(<span class="code-number">4</span>*<span class="code-built_in">Math</span>.PI)}}),<span class="code-keyword">this</span>.distance=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">0</span>,<span class="code-keyword">this</span>.decay=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-number">1</span>,<span class="code-keyword">this</span>.shadow=<span class="code-keyword">new</span> el}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rl</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{qn.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"OrthographicCamera"</span>,<span class="code-keyword">this</span>.zoom=<span class="code-number">1</span>,<span class="code-keyword">this</span>.view=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.left=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-number">-1</span>,<span class="code-keyword">this</span>.right=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">1</span>,<span class="code-keyword">this</span>.top=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">1</span>,<span class="code-keyword">this</span>.bottom=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-number">-1</span>,<span class="code-keyword">this</span>.near=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?i:<span class="code-number">.1</span>,<span class="code-keyword">this</span>.far=<span class="code-keyword">void</span> <span class="code-number">0</span>!==a?a:<span class="code-number">2e3</span>,<span class="code-keyword">this</span>.updateProjectionMatrix()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">il</span>(<span class="code-params"></span>)</span>{Kc.call(<span class="code-keyword">this</span>,<span class="code-keyword">new</span> rl(<span class="code-number">-5</span>,<span class="code-number">5</span>,<span class="code-number">5</span>,<span class="code-number">-5</span>,<span class="code-number">.5</span>,<span class="code-number">500</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">al</span>(<span class="code-params">t,e</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"DirectionalLight"</span>,<span class="code-keyword">this</span>.position.copy(we.DefaultUp),<span class="code-keyword">this</span>.updateMatrix(),<span class="code-keyword">this</span>.target=<span class="code-keyword">new</span> we,<span class="code-keyword">this</span>.shadow=<span class="code-keyword">new</span> il}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ol</span>(<span class="code-params">t,e</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"AmbientLight"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sl</span>(<span class="code-params">t,e,n,r</span>)</span>{Jc.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.type=<span class="code-string">"RectAreaLight"</span>,<span class="code-keyword">this</span>.width=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">10</span>,<span class="code-keyword">this</span>.height=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:<span class="code-number">10</span>}Xc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Ac.prototype),{<span class="code-attr">constructor</span>:Xc,<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.curves.push(t)},<span class="code-attr">closePath</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.curves[<span class="code-number">0</span>].getPoint(<span class="code-number">0</span>),e=<span class="code-keyword">this</span>.curves[<span class="code-keyword">this</span>.curves.length<span class="code-number">-1</span>].getPoint(<span class="code-number">1</span>);t.equals(e)||<span class="code-keyword">this</span>.curves.push(<span class="code-keyword">new</span> Hc(e,t))},<span class="code-attr">getPoint</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t*<span class="code-keyword">this</span>.getLength(),n=<span class="code-keyword">this</span>.getCurveLengths(),r=<span class="code-number">0</span>;r&lt;n.length;){<span class="code-keyword">if</span>(n[r]&gt;=e){<span class="code-keyword">var</span> i=n[r]-e,a=<span class="code-keyword">this</span>.curves[r],o=a.getLength(),s=<span class="code-number">0</span>===o?<span class="code-number">0</span>:<span class="code-number">1</span>-i/o;<span class="code-keyword">return</span> a.getPointAt(s)}r++}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">getLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getCurveLengths();<span class="code-keyword">return</span> t[t.length<span class="code-number">-1</span>]},<span class="code-attr">updateArcLengths</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.needsUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.cacheLengths=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.getCurveLengths()},<span class="code-attr">getCurveLengths</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.cacheLengths&amp;&amp;<span class="code-keyword">this</span>.cacheLengths.length===<span class="code-keyword">this</span>.curves.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cacheLengths;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.curves.length;n&lt;r;n++)e+=<span class="code-keyword">this</span>.curves[n].getLength(),t.push(e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cacheLengths=t,t},<span class="code-attr">getSpacedPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">40</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>;n&lt;=t;n++)e.push(<span class="code-keyword">this</span>.getPoint(n/t));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.autoClose&amp;&amp;e.push(e[<span class="code-number">0</span>]),e},<span class="code-attr">getPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">12</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,n=[],r=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.curves;r&lt;i.length;r++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=i[r],o=a&amp;&amp;a.isEllipseCurve?<span class="code-number">2</span>*t:a&amp;&amp;(a.isLineCurve||a.isLineCurve3)?<span class="code-number">1</span>:a&amp;&amp;a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=<span class="code-number">0</span>;c&lt;s.length;c++){<span class="code-keyword">var</span> l=s[c];e&amp;&amp;e.equals(l)||(n.push(l),e=l)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.autoClose&amp;&amp;n.length&gt;<span class="code-number">1</span>&amp;&amp;!n[n.length<span class="code-number">-1</span>].equals(n[<span class="code-number">0</span>])&amp;&amp;n.push(n[<span class="code-number">0</span>]),n},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.curves=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.curves.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.curves[e];<span class="code-keyword">this</span>.curves.push(r.clone())}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.autoClose=t.autoClose,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Ac.prototype.toJSON.call(<span class="code-keyword">this</span>);t.autoClose=<span class="code-keyword">this</span>.autoClose,t.curves=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.curves.length;e&lt;n;e++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.curves[e];t.curves.push(r.toJSON())}<span class="code-keyword">return</span> t},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Ac.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.autoClose=t.autoClose,<span class="code-keyword">this</span>.curves=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.curves.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.curves[e];<span class="code-keyword">this</span>.curves.push((<span class="code-keyword">new</span> qc[r.type]).fromJSON(r))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>}}),Yc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Xc.prototype),{<span class="code-attr">constructor</span>:Yc,<span class="code-attr">setFromPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.moveTo(t[<span class="code-number">0</span>].x,t[<span class="code-number">0</span>].y);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">1</span>,n=t.length;e&lt;n;e++)<span class="code-keyword">this</span>.lineTo(t[e].x,t[e].y);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">moveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPoint.set(t,e),<span class="code-keyword">this</span>},<span class="code-attr">lineTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> Hc(<span class="code-keyword">this</span>.currentPoint.clone(),<span class="code-keyword">new</span> pt(t,e));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.curves.push(n),<span class="code-keyword">this</span>.currentPoint.set(t,e),<span class="code-keyword">this</span>},<span class="code-attr">quadraticCurveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Vc(<span class="code-keyword">this</span>.currentPoint.clone(),<span class="code-keyword">new</span> pt(t,e),<span class="code-keyword">new</span> pt(n,r));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.curves.push(i),<span class="code-keyword">this</span>.currentPoint.set(n,r),<span class="code-keyword">this</span>},<span class="code-attr">bezierCurveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> Fc(<span class="code-keyword">this</span>.currentPoint.clone(),<span class="code-keyword">new</span> pt(t,e),<span class="code-keyword">new</span> pt(n,r),<span class="code-keyword">new</span> pt(i,a));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.curves.push(o),<span class="code-keyword">this</span>.currentPoint.set(i,a),<span class="code-keyword">this</span>},<span class="code-attr">splineThru</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> jc([<span class="code-keyword">this</span>.currentPoint.clone()].concat(t));<span class="code-keyword">return</span> <span class="code-keyword">this</span>.curves.push(e),<span class="code-keyword">this</span>.currentPoint.copy(t[t.length<span class="code-number">-1</span>]),<span class="code-keyword">this</span>},<span class="code-attr">arc</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.currentPoint.x,s=<span class="code-keyword">this</span>.currentPoint.y;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.absarc(t+o,e+s,n,r,i,a),<span class="code-keyword">this</span>},<span class="code-attr">absarc</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.absellipse(t,e,n,n,r,i,a),<span class="code-keyword">this</span>},<span class="code-attr">ellipse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>.currentPoint.x,l=<span class="code-keyword">this</span>.currentPoint.y;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.absellipse(t+c,e+l,n,r,i,a,o,s),<span class="code-keyword">this</span>},<span class="code-attr">absellipse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o,s</span>)</span>{<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> Lc(t,e,n,r,i,a,o,s);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.curves.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> l=c.getPoint(<span class="code-number">0</span>);l.equals(<span class="code-keyword">this</span>.currentPoint)||<span class="code-keyword">this</span>.lineTo(l.x,l.y)}<span class="code-keyword">this</span>.curves.push(c);<span class="code-keyword">var</span> u=c.getPoint(<span class="code-number">1</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPoint.copy(u),<span class="code-keyword">this</span>},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.currentPoint.copy(t.currentPoint),<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Xc.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.currentPoint=<span class="code-keyword">this</span>.currentPoint.toArray(),t},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Xc.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.currentPoint.fromArray(t.currentPoint),<span class="code-keyword">this</span>}}),Zc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Yc.prototype),{<span class="code-attr">constructor</span>:Zc,<span class="code-attr">getPointsHoles</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>,r=<span class="code-keyword">this</span>.holes.length;n&lt;r;n++)e[n]=<span class="code-keyword">this</span>.holes[n].getPoints(t);<span class="code-keyword">return</span> e},<span class="code-attr">extractPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">shape</span>:<span class="code-keyword">this</span>.getPoints(t),<span class="code-attr">holes</span>:<span class="code-keyword">this</span>.getPointsHoles(t)}},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Yc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.holes=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.holes.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.holes[e];<span class="code-keyword">this</span>.holes.push(r.clone())}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Yc.prototype.toJSON.call(<span class="code-keyword">this</span>);t.uuid=<span class="code-keyword">this</span>.uuid,t.holes=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.holes.length;e&lt;n;e++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.holes[e];t.holes.push(r.toJSON())}<span class="code-keyword">return</span> t},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Yc.prototype.fromJSON.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.uuid=t.uuid,<span class="code-keyword">this</span>.holes=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.holes.length;e&lt;n;e++){<span class="code-keyword">var</span> r=t.holes[e];<span class="code-keyword">this</span>.holes.push((<span class="code-keyword">new</span> Yc).fromJSON(r))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>}}),Jc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(we.prototype),{<span class="code-attr">constructor</span>:Jc,<span class="code-attr">isLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> we.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.color.copy(t.color),<span class="code-keyword">this</span>.intensity=t.intensity,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=we.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.object.color=<span class="code-keyword">this</span>.color.getHex(),e.object.intensity=<span class="code-keyword">this</span>.intensity,<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.groundColor&amp;&amp;(e.object.groundColor=<span class="code-keyword">this</span>.groundColor.getHex()),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.distance&amp;&amp;(e.object.distance=<span class="code-keyword">this</span>.distance),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.angle&amp;&amp;(e.object.angle=<span class="code-keyword">this</span>.angle),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.decay&amp;&amp;(e.object.decay=<span class="code-keyword">this</span>.decay),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.penumbra&amp;&amp;(e.object.penumbra=<span class="code-keyword">this</span>.penumbra),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.shadow&amp;&amp;(e.object.shadow=<span class="code-keyword">this</span>.shadow.toJSON()),e}}),Qc.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:Qc,<span class="code-attr">isHemisphereLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.groundColor.copy(t.groundColor),<span class="code-keyword">this</span>}}),<span class="code-built_in">Object</span>.assign(Kc.prototype,{<span class="code-attr">_projScreenMatrix</span>:<span class="code-keyword">new</span> Qt,<span class="code-attr">_lightPositionWorld</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">_lookTarget</span>:<span class="code-keyword">new</span> Mt,<span class="code-attr">getViewportCount</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._viewportCount},<span class="code-attr">getFrustum</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._frustum},<span class="code-attr">updateMatrices</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.camera,n=<span class="code-keyword">this</span>.matrix,r=<span class="code-keyword">this</span>._projScreenMatrix,i=<span class="code-keyword">this</span>._lookTarget,a=<span class="code-keyword">this</span>._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),i.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(i),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),<span class="code-keyword">this</span>._frustum.setFromProjectionMatrix(r),n.set(<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">.5</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},<span class="code-attr">getViewport</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._viewports[t]},<span class="code-attr">getFrameExtents</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._frameExtents},<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.camera=t.camera.clone(),<span class="code-keyword">this</span>.bias=t.bias,<span class="code-keyword">this</span>.radius=t.radius,<span class="code-keyword">this</span>.mapSize.copy(t.mapSize),<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={};<span class="code-keyword">return</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.bias&amp;&amp;(t.bias=<span class="code-keyword">this</span>.bias),<span class="code-number">0</span>!==<span class="code-keyword">this</span>.normalBias&amp;&amp;(t.normalBias=<span class="code-keyword">this</span>.normalBias),<span class="code-number">1</span>!==<span class="code-keyword">this</span>.radius&amp;&amp;(t.radius=<span class="code-keyword">this</span>.radius),<span class="code-number">512</span>===<span class="code-keyword">this</span>.mapSize.x&amp;&amp;<span class="code-number">512</span>===<span class="code-keyword">this</span>.mapSize.y||(t.mapSize=<span class="code-keyword">this</span>.mapSize.toArray()),t.camera=<span class="code-keyword">this</span>.camera.toJSON(!<span class="code-number">1</span>).object,<span class="code-keyword">delete</span> t.camera.matrix,t}}),$c.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Kc.prototype),{<span class="code-attr">constructor</span>:$c,<span class="code-attr">isSpotLightShadow</span>:!<span class="code-number">0</span>,<span class="code-attr">updateMatrices</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.camera,n=<span class="code-number">2</span>*st.RAD2DEG*t.angle*<span class="code-keyword">this</span>.focus,r=<span class="code-keyword">this</span>.mapSize.width/<span class="code-keyword">this</span>.mapSize.height,i=t.distance||e.far;n===e.fov&amp;&amp;r===e.aspect&amp;&amp;i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),Kc.prototype.updateMatrices.call(<span class="code-keyword">this</span>,t)}}),tl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:tl,<span class="code-attr">isSpotLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.distance=t.distance,<span class="code-keyword">this</span>.angle=t.angle,<span class="code-keyword">this</span>.penumbra=t.penumbra,<span class="code-keyword">this</span>.decay=t.decay,<span class="code-keyword">this</span>.target=t.target.clone(),<span class="code-keyword">this</span>.shadow=t.shadow.clone(),<span class="code-keyword">this</span>}}),el.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Kc.prototype),{<span class="code-attr">constructor</span>:el,<span class="code-attr">isPointLightShadow</span>:!<span class="code-number">0</span>,<span class="code-attr">updateMatrices</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.camera,r=<span class="code-keyword">this</span>.matrix,i=<span class="code-keyword">this</span>._lightPositionWorld,a=<span class="code-keyword">this</span>._lookTarget,o=<span class="code-keyword">this</span>._projScreenMatrix;i.setFromMatrixPosition(t.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(<span class="code-keyword">this</span>._cubeDirections[e]),n.up.copy(<span class="code-keyword">this</span>._cubeUps[e]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),<span class="code-keyword">this</span>._frustum.setFromProjectionMatrix(o)}}),nl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:nl,<span class="code-attr">isPointLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.distance=t.distance,<span class="code-keyword">this</span>.decay=t.decay,<span class="code-keyword">this</span>.shadow=t.shadow.clone(),<span class="code-keyword">this</span>}}),rl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(qn.prototype),{<span class="code-attr">constructor</span>:rl,<span class="code-attr">isOrthographicCamera</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> qn.prototype.copy.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.left=t.left,<span class="code-keyword">this</span>.right=t.right,<span class="code-keyword">this</span>.top=t.top,<span class="code-keyword">this</span>.bottom=t.bottom,<span class="code-keyword">this</span>.near=t.near,<span class="code-keyword">this</span>.far=t.far,<span class="code-keyword">this</span>.zoom=t.zoom,<span class="code-keyword">this</span>.view=<span class="code-literal">null</span>===t.view?<span class="code-literal">null</span>:<span class="code-built_in">Object</span>.assign({},t.view),<span class="code-keyword">this</span>},<span class="code-attr">setViewOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>.view&amp;&amp;(<span class="code-keyword">this</span>.view={<span class="code-attr">enabled</span>:!<span class="code-number">0</span>,<span class="code-attr">fullWidth</span>:<span class="code-number">1</span>,<span class="code-attr">fullHeight</span>:<span class="code-number">1</span>,<span class="code-attr">offsetX</span>:<span class="code-number">0</span>,<span class="code-attr">offsetY</span>:<span class="code-number">0</span>,<span class="code-attr">width</span>:<span class="code-number">1</span>,<span class="code-attr">height</span>:<span class="code-number">1</span>}),<span class="code-keyword">this</span>.view.enabled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.view.fullWidth=t,<span class="code-keyword">this</span>.view.fullHeight=e,<span class="code-keyword">this</span>.view.offsetX=n,<span class="code-keyword">this</span>.view.offsetY=r,<span class="code-keyword">this</span>.view.width=i,<span class="code-keyword">this</span>.view.height=a,<span class="code-keyword">this</span>.updateProjectionMatrix()},<span class="code-attr">clearViewOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;(<span class="code-keyword">this</span>.view.enabled=!<span class="code-number">1</span>),<span class="code-keyword">this</span>.updateProjectionMatrix()},<span class="code-attr">updateProjectionMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=(<span class="code-keyword">this</span>.right-<span class="code-keyword">this</span>.left)/(<span class="code-number">2</span>*<span class="code-keyword">this</span>.zoom),e=(<span class="code-keyword">this</span>.top-<span class="code-keyword">this</span>.bottom)/(<span class="code-number">2</span>*<span class="code-keyword">this</span>.zoom),n=(<span class="code-keyword">this</span>.right+<span class="code-keyword">this</span>.left)/<span class="code-number">2</span>,r=(<span class="code-keyword">this</span>.top+<span class="code-keyword">this</span>.bottom)/<span class="code-number">2</span>,i=n-t,a=n+t,o=r+e,s=r-e;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;<span class="code-keyword">this</span>.view.enabled){<span class="code-keyword">var</span> c=(<span class="code-keyword">this</span>.right-<span class="code-keyword">this</span>.left)/<span class="code-keyword">this</span>.view.fullWidth/<span class="code-keyword">this</span>.zoom,l=(<span class="code-keyword">this</span>.top-<span class="code-keyword">this</span>.bottom)/<span class="code-keyword">this</span>.view.fullHeight/<span class="code-keyword">this</span>.zoom;a=(i+=c*<span class="code-keyword">this</span>.view.offsetX)+c*<span class="code-keyword">this</span>.view.width,s=(o-=l*<span class="code-keyword">this</span>.view.offsetY)-l*<span class="code-keyword">this</span>.view.height}<span class="code-keyword">this</span>.projectionMatrix.makeOrthographic(i,a,o,s,<span class="code-keyword">this</span>.near,<span class="code-keyword">this</span>.far),<span class="code-keyword">this</span>.projectionMatrixInverse.copy(<span class="code-keyword">this</span>.projectionMatrix).invert()},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=we.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.object.zoom=<span class="code-keyword">this</span>.zoom,e.object.left=<span class="code-keyword">this</span>.left,e.object.right=<span class="code-keyword">this</span>.right,e.object.top=<span class="code-keyword">this</span>.top,e.object.bottom=<span class="code-keyword">this</span>.bottom,e.object.near=<span class="code-keyword">this</span>.near,e.object.far=<span class="code-keyword">this</span>.far,<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.view&amp;&amp;(e.object.view=<span class="code-built_in">Object</span>.assign({},<span class="code-keyword">this</span>.view)),e}}),il.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Kc.prototype),{<span class="code-attr">constructor</span>:il,<span class="code-attr">isDirectionalLightShadow</span>:!<span class="code-number">0</span>,<span class="code-attr">updateMatrices</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Kc.prototype.updateMatrices.call(<span class="code-keyword">this</span>,t)}}),al.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:al,<span class="code-attr">isDirectionalLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.target=t.target.clone(),<span class="code-keyword">this</span>.shadow=t.shadow.clone(),<span class="code-keyword">this</span>}}),ol.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:ol,<span class="code-attr">isAmbientLight</span>:!<span class="code-number">0</span>}),sl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:sl,<span class="code-attr">isRectAreaLight</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.width=t.width,<span class="code-keyword">this</span>.height=t.height,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Jc.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.object.width=<span class="code-keyword">this</span>.width,e.object.height=<span class="code-keyword">this</span>.height,e}});<span class="code-keyword">var</span> cl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isSphericalHarmonics3"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.coefficients=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;<span class="code-number">9</span>;t++)<span class="code-keyword">this</span>.coefficients.push(<span class="code-keyword">new</span> Mt)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">9</span>;e++)<span class="code-keyword">this</span>.coefficients[e].copy(t[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.zero=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;<span class="code-number">9</span>;t++)<span class="code-keyword">this</span>.coefficients[t].set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.getAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.x,r=t.y,i=t.z,a=<span class="code-keyword">this</span>.coefficients;<span class="code-keyword">return</span> e.copy(a[<span class="code-number">0</span>]).multiplyScalar(<span class="code-number">.282095</span>),e.addScaledVector(a[<span class="code-number">1</span>],<span class="code-number">.488603</span>*r),e.addScaledVector(a[<span class="code-number">2</span>],<span class="code-number">.488603</span>*i),e.addScaledVector(a[<span class="code-number">3</span>],<span class="code-number">.488603</span>*n),e.addScaledVector(a[<span class="code-number">4</span>],n*r*<span class="code-number">1.092548</span>),e.addScaledVector(a[<span class="code-number">5</span>],r*i*<span class="code-number">1.092548</span>),e.addScaledVector(a[<span class="code-number">6</span>],<span class="code-number">.315392</span>*(<span class="code-number">3</span>*i*i<span class="code-number">-1</span>)),e.addScaledVector(a[<span class="code-number">7</span>],n*i*<span class="code-number">1.092548</span>),e.addScaledVector(a[<span class="code-number">8</span>],<span class="code-number">.546274</span>*(n*n-r*r)),e},e.getIrradianceAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.x,r=t.y,i=t.z,a=<span class="code-keyword">this</span>.coefficients;<span class="code-keyword">return</span> e.copy(a[<span class="code-number">0</span>]).multiplyScalar(<span class="code-number">.886227</span>),e.addScaledVector(a[<span class="code-number">1</span>],<span class="code-number">1.023328</span>*r),e.addScaledVector(a[<span class="code-number">2</span>],<span class="code-number">1.023328</span>*i),e.addScaledVector(a[<span class="code-number">3</span>],<span class="code-number">1.023328</span>*n),e.addScaledVector(a[<span class="code-number">4</span>],<span class="code-number">.858086</span>*n*r),e.addScaledVector(a[<span class="code-number">5</span>],<span class="code-number">.858086</span>*r*i),e.addScaledVector(a[<span class="code-number">6</span>],<span class="code-number">.743125</span>*i*i<span class="code-number">-.247708</span>),e.addScaledVector(a[<span class="code-number">7</span>],<span class="code-number">.858086</span>*n*i),e.addScaledVector(a[<span class="code-number">8</span>],<span class="code-number">.429043</span>*(n*n-r*r)),e},e.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">9</span>;e++)<span class="code-keyword">this</span>.coefficients[e].add(t.coefficients[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.addScaledSH=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;<span class="code-number">9</span>;n++)<span class="code-keyword">this</span>.coefficients[n].addScaledVector(t.coefficients[n],e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.scale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">9</span>;e++)<span class="code-keyword">this</span>.coefficients[e].multiplyScalar(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.lerp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;<span class="code-number">9</span>;n++)<span class="code-keyword">this</span>.coefficients[n].lerp(t.coefficients[n],e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">9</span>;e++)<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.coefficients[e].equals(t.coefficients[e]))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set(t.coefficients)},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.fromArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.coefficients,r=<span class="code-number">0</span>;r&lt;<span class="code-number">9</span>;r++)n[r].fromArray(t,e+<span class="code-number">3</span>*r);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.toArray=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.coefficients,r=<span class="code-number">0</span>;r&lt;<span class="code-number">9</span>;r++)n[r].toArray(t,e+<span class="code-number">3</span>*r);<span class="code-keyword">return</span> t},t.getBasisAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t.x,r=t.y,i=t.z;e[<span class="code-number">0</span>]=<span class="code-number">.282095</span>,e[<span class="code-number">1</span>]=<span class="code-number">.488603</span>*r,e[<span class="code-number">2</span>]=<span class="code-number">.488603</span>*i,e[<span class="code-number">3</span>]=<span class="code-number">.488603</span>*n,e[<span class="code-number">4</span>]=<span class="code-number">1.092548</span>*n*r,e[<span class="code-number">5</span>]=<span class="code-number">1.092548</span>*r*i,e[<span class="code-number">6</span>]=<span class="code-number">.315392</span>*(<span class="code-number">3</span>*i*i<span class="code-number">-1</span>),e[<span class="code-number">7</span>]=<span class="code-number">1.092548</span>*n*i,e[<span class="code-number">8</span>]=<span class="code-number">.546274</span>*(n*n-r*r)},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ll</span>(<span class="code-params">t,e</span>)</span>{Jc.call(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,e),<span class="code-keyword">this</span>.type=<span class="code-string">"LightProbe"</span>,<span class="code-keyword">this</span>.sh=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> cl}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ul</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.textures={}}ll.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Jc.prototype),{<span class="code-attr">constructor</span>:ll,<span class="code-attr">isLightProbe</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Jc.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.sh.copy(t.sh),<span class="code-keyword">this</span>},<span class="code-attr">fromJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.intensity=t.intensity,<span class="code-keyword">this</span>.sh.fromArray(t.sh),<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=Jc.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.object.sh=<span class="code-keyword">this</span>.sh.toArray(),e}}),ul.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:ul,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">try</span>{e(i.parse(<span class="code-built_in">JSON</span>.parse(n)))}<span class="code-keyword">catch</span>(e){r?r(e):<span class="code-built_in">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.textures;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e[t]&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MaterialLoader: Undefined texture"</span>,t),e[t]}<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> $s[t.type];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.uuid&amp;&amp;(r.uuid=t.uuid),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.name&amp;&amp;(r.name=t.name),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.color&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.color&amp;&amp;r.color.setHex(t.color),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.roughness&amp;&amp;(r.roughness=t.roughness),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.metalness&amp;&amp;(r.metalness=t.metalness),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.sheen&amp;&amp;(r.sheen=(<span class="code-keyword">new</span> We).setHex(t.sheen)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.emissive&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.emissive&amp;&amp;r.emissive.setHex(t.emissive),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.specular&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==r.specular&amp;&amp;r.specular.setHex(t.specular),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shininess&amp;&amp;(r.shininess=t.shininess),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoat&amp;&amp;(r.clearcoat=t.clearcoat),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoatRoughness&amp;&amp;(r.clearcoatRoughness=t.clearcoatRoughness),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.fog&amp;&amp;(r.fog=t.fog),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.flatShading&amp;&amp;(r.flatShading=t.flatShading),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.blending&amp;&amp;(r.blending=t.blending),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.combine&amp;&amp;(r.combine=t.combine),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.side&amp;&amp;(r.side=t.side),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.opacity&amp;&amp;(r.opacity=t.opacity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.transparent&amp;&amp;(r.transparent=t.transparent),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.alphaTest&amp;&amp;(r.alphaTest=t.alphaTest),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.depthTest&amp;&amp;(r.depthTest=t.depthTest),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.depthWrite&amp;&amp;(r.depthWrite=t.depthWrite),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.colorWrite&amp;&amp;(r.colorWrite=t.colorWrite),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilWrite&amp;&amp;(r.stencilWrite=t.stencilWrite),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilWriteMask&amp;&amp;(r.stencilWriteMask=t.stencilWriteMask),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilFunc&amp;&amp;(r.stencilFunc=t.stencilFunc),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilRef&amp;&amp;(r.stencilRef=t.stencilRef),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilFuncMask&amp;&amp;(r.stencilFuncMask=t.stencilFuncMask),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilFail&amp;&amp;(r.stencilFail=t.stencilFail),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilZFail&amp;&amp;(r.stencilZFail=t.stencilZFail),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.stencilZPass&amp;&amp;(r.stencilZPass=t.stencilZPass),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.wireframe&amp;&amp;(r.wireframe=t.wireframe),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.wireframeLinewidth&amp;&amp;(r.wireframeLinewidth=t.wireframeLinewidth),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.wireframeLinecap&amp;&amp;(r.wireframeLinecap=t.wireframeLinecap),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.wireframeLinejoin&amp;&amp;(r.wireframeLinejoin=t.wireframeLinejoin),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.rotation&amp;&amp;(r.rotation=t.rotation),<span class="code-number">1</span>!==t.linewidth&amp;&amp;(r.linewidth=t.linewidth),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.dashSize&amp;&amp;(r.dashSize=t.dashSize),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.gapSize&amp;&amp;(r.gapSize=t.gapSize),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.scale&amp;&amp;(r.scale=t.scale),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.polygonOffset&amp;&amp;(r.polygonOffset=t.polygonOffset),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.polygonOffsetFactor&amp;&amp;(r.polygonOffsetFactor=t.polygonOffsetFactor),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.polygonOffsetUnits&amp;&amp;(r.polygonOffsetUnits=t.polygonOffsetUnits),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.skinning&amp;&amp;(r.skinning=t.skinning),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.morphTargets&amp;&amp;(r.morphTargets=t.morphTargets),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.morphNormals&amp;&amp;(r.morphNormals=t.morphNormals),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.dithering&amp;&amp;(r.dithering=t.dithering),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.vertexTangents&amp;&amp;(r.vertexTangents=t.vertexTangents),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.visible&amp;&amp;(r.visible=t.visible),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.toneMapped&amp;&amp;(r.toneMapped=t.toneMapped),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.userData&amp;&amp;(r.userData=t.userData),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.vertexColors&amp;&amp;(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.vertexColors?r.vertexColors=t.vertexColors&gt;<span class="code-number">0</span>:r.vertexColors=t.vertexColors),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.uniforms)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> t.uniforms){<span class="code-keyword">var</span> a=t.uniforms[i];<span class="code-keyword">switch</span>(r.uniforms[i]={},a.type){<span class="code-keyword">case</span><span class="code-string">"t"</span>:r.uniforms[i].value=n(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"c"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> We).setHex(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"v2"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> pt).fromArray(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"v3"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> Mt).fromArray(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"v4"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> xt).fromArray(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"m3"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> ft).fromArray(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"m4"</span>:r.uniforms[i].value=(<span class="code-keyword">new</span> Qt).fromArray(a.value);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r.uniforms[i].value=a.value}}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.defines&amp;&amp;(r.defines=t.defines),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.vertexShader&amp;&amp;(r.vertexShader=t.vertexShader),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.fragmentShader&amp;&amp;(r.fragmentShader=t.fragmentShader),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.extensions)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> t.extensions)r.extensions[o]=t.extensions[o];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shading&amp;&amp;(r.flatShading=<span class="code-number">1</span>===t.shading),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.size&amp;&amp;(r.size=t.size),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.sizeAttenuation&amp;&amp;(r.sizeAttenuation=t.sizeAttenuation),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.map&amp;&amp;(r.map=n(t.map)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.matcap&amp;&amp;(r.matcap=n(t.matcap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.alphaMap&amp;&amp;(r.alphaMap=n(t.alphaMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.bumpMap&amp;&amp;(r.bumpMap=n(t.bumpMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.bumpScale&amp;&amp;(r.bumpScale=t.bumpScale),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.normalMap&amp;&amp;(r.normalMap=n(t.normalMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.normalMapType&amp;&amp;(r.normalMapType=t.normalMapType),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.normalScale){<span class="code-keyword">var</span> s=t.normalScale;!<span class="code-number">1</span>===<span class="code-built_in">Array</span>.isArray(s)&amp;&amp;(s=[s,s]),r.normalScale=(<span class="code-keyword">new</span> pt).fromArray(s)}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==t.displacementMap&amp;&amp;(r.displacementMap=n(t.displacementMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.displacementScale&amp;&amp;(r.displacementScale=t.displacementScale),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.displacementBias&amp;&amp;(r.displacementBias=t.displacementBias),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.roughnessMap&amp;&amp;(r.roughnessMap=n(t.roughnessMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.metalnessMap&amp;&amp;(r.metalnessMap=n(t.metalnessMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.emissiveMap&amp;&amp;(r.emissiveMap=n(t.emissiveMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.emissiveIntensity&amp;&amp;(r.emissiveIntensity=t.emissiveIntensity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.specularMap&amp;&amp;(r.specularMap=n(t.specularMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.envMap&amp;&amp;(r.envMap=n(t.envMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.envMapIntensity&amp;&amp;(r.envMapIntensity=t.envMapIntensity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.reflectivity&amp;&amp;(r.reflectivity=t.reflectivity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.refractionRatio&amp;&amp;(r.refractionRatio=t.refractionRatio),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.lightMap&amp;&amp;(r.lightMap=n(t.lightMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.lightMapIntensity&amp;&amp;(r.lightMapIntensity=t.lightMapIntensity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.aoMap&amp;&amp;(r.aoMap=n(t.aoMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.aoMapIntensity&amp;&amp;(r.aoMapIntensity=t.aoMapIntensity),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.gradientMap&amp;&amp;(r.gradientMap=n(t.gradientMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoatMap&amp;&amp;(r.clearcoatMap=n(t.clearcoatMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoatRoughnessMap&amp;&amp;(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoatNormalMap&amp;&amp;(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.clearcoatNormalScale&amp;&amp;(r.clearcoatNormalScale=(<span class="code-keyword">new</span> pt).fromArray(t.clearcoatNormalScale)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.transmission&amp;&amp;(r.transmission=t.transmission),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.transmissionMap&amp;&amp;(r.transmissionMap=n(t.transmissionMap)),r},<span class="code-attr">setTextures</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.textures=t,<span class="code-keyword">this</span>}});<span class="code-keyword">var</span> hl={<span class="code-attr">decodeText</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> TextDecoder)<span class="code-keyword">return</span>(<span class="code-keyword">new</span> TextDecoder).decode(t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-string">""</span>,n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++)e+=<span class="code-built_in">String</span>.fromCharCode(t[n]);<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-built_in">decodeURIComponent</span>(<span class="code-built_in">escape</span>(e))}<span class="code-keyword">catch</span>(t){<span class="code-keyword">return</span> e}},<span class="code-attr">extractUrlBase</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.lastIndexOf(<span class="code-string">"/"</span>);<span class="code-keyword">return</span><span class="code-number">-1</span>===e?<span class="code-string">"./"</span>:t.substr(<span class="code-number">0</span>,e+<span class="code-number">1</span>)}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dl</span>(<span class="code-params"></span>)</span>{_n.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type=<span class="code-string">"InstancedBufferGeometry"</span>,<span class="code-keyword">this</span>.instanceCount=<span class="code-number">1</span>/<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pl</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> n&amp;&amp;(r=n,n=!<span class="code-number">1</span>,<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."</span>)),Qe.call(<span class="code-keyword">this</span>,t,e,n),<span class="code-keyword">this</span>.meshPerAttribute=r||<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fl</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}dl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(_n.prototype),{<span class="code-attr">constructor</span>:dl,<span class="code-attr">isInstancedBufferGeometry</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> _n.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.instanceCount=t.instanceCount,<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=_n.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.instanceCount=<span class="code-keyword">this</span>.instanceCount,t.isInstancedBufferGeometry=!<span class="code-number">0</span>,t}}),pl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(Qe.prototype),{<span class="code-attr">constructor</span>:pl,<span class="code-attr">isInstancedBufferAttribute</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> Qe.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.meshPerAttribute=t.meshPerAttribute,<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=Qe.prototype.toJSON.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> t.meshPerAttribute=<span class="code-keyword">this</span>.meshPerAttribute,t.isInstancedBufferAttribute=!<span class="code-number">0</span>,t}}),fl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:fl,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> _c(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">try</span>{e(i.parse(<span class="code-built_in">JSON</span>.parse(n)))}<span class="code-keyword">catch</span>(e){r?r(e):<span class="code-built_in">console</span>.error(e),i.manager.itemError(t)}}),n,r)},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={},n={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[r])<span class="code-keyword">return</span> e[r];<span class="code-keyword">var</span> i=t.interleavedBuffers[r],a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n[e])<span class="code-keyword">return</span> n[e];<span class="code-keyword">var</span> r=t.arrayBuffers[e],i=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(r).buffer;<span class="code-keyword">return</span> n[e]=i,i}(t,i.buffer),o=<span class="code-keyword">new</span> da(dn(i.type,a),i.stride);<span class="code-keyword">return</span> o.uuid=i.uuid,e[r]=o,o}<span class="code-keyword">var</span> i=t.isInstancedBufferGeometry?<span class="code-keyword">new</span> dl:<span class="code-keyword">new</span> _n,a=t.data.index;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a){<span class="code-keyword">var</span> o=dn(a.type,a.array);i.setIndex(<span class="code-keyword">new</span> Qe(o,<span class="code-number">1</span>))}<span class="code-keyword">var</span> s=t.data.attributes;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c <span class="code-keyword">in</span> s){<span class="code-keyword">var</span> l=s[c],u=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(l.isInterleavedBufferAttribute){u=<span class="code-keyword">new</span> ma(r(t.data,l.data),l.itemSize,l.offset,l.normalized)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> h=dn(l.type,l.array);u=<span class="code-keyword">new</span>(l.isInstancedBufferAttribute?pl:Qe)(h,l.itemSize,l.normalized)}<span class="code-keyword">void</span> <span class="code-number">0</span>!==l.name&amp;&amp;(u.name=l.name),i.setAttribute(c,u)}<span class="code-keyword">var</span> d=t.data.morphAttributes;<span class="code-keyword">if</span>(d)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p <span class="code-keyword">in</span> d){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=d[p],m=[],v=<span class="code-number">0</span>,g=f.length;v&lt;g;v++){<span class="code-keyword">var</span> y=f[v],x=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(y.isInterleavedBufferAttribute)x=<span class="code-keyword">new</span> ma(r(t.data,y.data),y.itemSize,y.offset,y.normalized);<span class="code-keyword">else</span> x=<span class="code-keyword">new</span> Qe(dn(y.type,y.array),y.itemSize,y.normalized);<span class="code-keyword">void</span> <span class="code-number">0</span>!==y.name&amp;&amp;(x.name=y.name),m.push(x)}i.morphAttributes[p]=m}t.data.morphTargetsRelative&amp;&amp;(i.morphTargetsRelative=!<span class="code-number">0</span>);<span class="code-keyword">var</span> _=t.data.groups||t.data.drawcalls||t.data.offsets;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==_)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> b=<span class="code-number">0</span>,w=_.length;b!==w;++b){<span class="code-keyword">var</span> M=_[b];i.addGroup(M.start,M.count,M.materialIndex)}<span class="code-keyword">var</span> S=t.data.boundingSphere;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==S){<span class="code-keyword">var</span> T=<span class="code-keyword">new</span> Mt;<span class="code-keyword">void</span> <span class="code-number">0</span>!==S.center&amp;&amp;T.fromArray(S.center),i.boundingSphere=<span class="code-keyword">new</span> kt(T,S.radius)}<span class="code-keyword">return</span> t.name&amp;&amp;(i.name=t.name),t.userData&amp;&amp;(i.userData=t.userData),i}});<span class="code-keyword">var</span> ml,vl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.call(<span class="code-keyword">this</span>,e)||<span class="code-keyword">this</span>}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-string">""</span>===<span class="code-keyword">this</span>.path?hl.extractUrlBase(t):<span class="code-keyword">this</span>.path;<span class="code-keyword">this</span>.resourcePath=<span class="code-keyword">this</span>.resourcePath||a;<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> _c(<span class="code-keyword">this</span>.manager);o.setPath(<span class="code-keyword">this</span>.path),o.setRequestHeader(<span class="code-keyword">this</span>.requestHeader),o.setWithCredentials(<span class="code-keyword">this</span>.withCredentials),o.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-literal">null</span>;<span class="code-keyword">try</span>{a=<span class="code-built_in">JSON</span>.parse(n)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;r(e),<span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE:ObjectLoader: Can't parse "</span>+t+<span class="code-string">"."</span>,e.message)}<span class="code-keyword">var</span> o=a.metadata;<span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.type&amp;&amp;<span class="code-string">"geometry"</span>!==o.type.toLowerCase()?i.parse(a,e):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ObjectLoader: Can't load "</span>+t)}),n,r)},n.parse=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.parseAnimations(t.animations),r=<span class="code-keyword">this</span>.parseShapes(t.shapes),i=<span class="code-keyword">this</span>.parseGeometries(t.geometries,r),a=<span class="code-keyword">this</span>.parseImages(t.images,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;e(c)})),o=<span class="code-keyword">this</span>.parseTextures(t.textures,a),s=<span class="code-keyword">this</span>.parseMaterials(t.materials,o),c=<span class="code-keyword">this</span>.parseObject(t.object,i,s,n),l=<span class="code-keyword">this</span>.parseSkeletons(t.skeletons,c);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.bindSkeletons(c,l),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e){<span class="code-keyword">var</span> u=!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h <span class="code-keyword">in</span> a)<span class="code-keyword">if</span>(a[h]<span class="code-keyword">instanceof</span> HTMLImageElement){u=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}!<span class="code-number">1</span>===u&amp;&amp;e(c)}<span class="code-keyword">return</span> c},n.parseShapes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=(<span class="code-keyword">new</span> Zc).fromJSON(t[n]);e[i.uuid]=i}<span class="code-keyword">return</span> e},n.parseSkeletons=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n={},r={};<span class="code-keyword">if</span>(e.traverse((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.isBone&amp;&amp;(r[t.uuid]=t)})),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++){<span class="code-keyword">var</span> o=(<span class="code-keyword">new</span> Va).fromJSON(t[i],r);n[o.uuid]=o}<span class="code-keyword">return</span> n},n.parseGeometries=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> fl,a=<span class="code-number">0</span>,o=t.length;a&lt;o;a++){<span class="code-keyword">var</span> s=<span class="code-keyword">void</span> <span class="code-number">0</span>,c=t[a];<span class="code-keyword">switch</span>(c.type){<span class="code-keyword">case</span><span class="code-string">"PlaneGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"PlaneBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.width,c.height,c.widthSegments,c.heightSegments);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"BoxGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"BoxBufferGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"CubeGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"CircleGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"CircleBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"CylinderGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"CylinderBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ConeGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"ConeBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"SphereGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"SphereBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"DodecahedronGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"DodecahedronBufferGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"IcosahedronGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"IcosahedronBufferGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"OctahedronGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"OctahedronBufferGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"TetrahedronGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"TetrahedronBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.detail);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"RingGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"RingBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"TorusGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"TorusBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"TorusKnotGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"TorusKnotBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"TubeGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"TubeBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type]((<span class="code-keyword">new</span> qc[c.path.type]).fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LatheGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"LatheBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.points,c.segments,c.phiStart,c.phiLength);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PolyhedronGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"PolyhedronBufferGeometry"</span>:s=<span class="code-keyword">new</span> ks[c.type](c.vertices,c.indices,c.radius,c.details);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ShapeGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"ShapeBufferGeometry"</span>:n=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>,u=c.shapes.length;l&lt;u;l++){<span class="code-keyword">var</span> h=e[c.shapes[l]];n.push(h)}s=<span class="code-keyword">new</span> ks[c.type](n,c.curveSegments);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ExtrudeGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"ExtrudeBufferGeometry"</span>:n=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=c.shapes.length;d&lt;p;d++){<span class="code-keyword">var</span> f=e[c.shapes[d]];n.push(f)}<span class="code-keyword">var</span> m=c.options.extrudePath;<span class="code-keyword">void</span> <span class="code-number">0</span>!==m&amp;&amp;(c.options.extrudePath=(<span class="code-keyword">new</span> qc[m.type]).fromJSON(m)),s=<span class="code-keyword">new</span> ks[c.type](n,c.options);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"BufferGeometry"</span>:<span class="code-keyword">case</span><span class="code-string">"InstancedBufferGeometry"</span>:s=i.parse(c);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Geometry"</span>:<span class="code-built_in">console</span>.error(<span class="code-string">'THREE.ObjectLoader: Loading "Geometry" is not supported anymore.'</span>);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-built_in">console</span>.warn(<span class="code-string">'THREE.ObjectLoader: Unsupported geometry type "'</span>+c.type+<span class="code-string">'"'</span>);<span class="code-keyword">continue</span>}s.uuid=c.uuid,<span class="code-keyword">void</span> <span class="code-number">0</span>!==c.name&amp;&amp;(s.name=c.name),!<span class="code-number">0</span>===s.isBufferGeometry&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==c.userData&amp;&amp;(s.userData=c.userData),r[c.uuid]=s}<span class="code-keyword">return</span> r},n.parseMaterials=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n={},r={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t){<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> ul;i.setTextures(e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=t.length;a&lt;o;a++){<span class="code-keyword">var</span> s=t[a];<span class="code-keyword">if</span>(<span class="code-string">"MultiMaterial"</span>===s.type){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=<span class="code-number">0</span>;l&lt;s.materials.length;l++){<span class="code-keyword">var</span> u=s.materials[l];<span class="code-keyword">void</span> <span class="code-number">0</span>===n[u.uuid]&amp;&amp;(n[u.uuid]=i.parse(u)),c.push(n[u.uuid])}r[s.uuid]=c}<span class="code-keyword">else</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n[s.uuid]&amp;&amp;(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}<span class="code-keyword">return</span> r},n.parseAnimations=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=t[n],i=pc.parse(r);e[i.uuid]=i}<span class="code-keyword">return</span> e},n.parseImages=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n,r=<span class="code-keyword">this</span>,i={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t){<span class="code-keyword">var</span> e=t;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> r.manager.itemStart(t),n.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.manager.itemEnd(t)}),<span class="code-keyword">void</span> <span class="code-number">0</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.manager.itemError(t),r.manager.itemEnd(t)}))}(<span class="code-regexp">/^(\/\/)|([a-z]+:(\/\/)?)/i</span>.test(e)?e:r.resourcePath+e)}<span class="code-keyword">return</span> t.data?{<span class="code-attr">data</span>:dn(t.type,t.data),<span class="code-attr">width</span>:t.width,<span class="code-attr">height</span>:t.height}:<span class="code-literal">null</span>}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;t.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> vc(e);(n=<span class="code-keyword">new</span> Mc(o)).setCrossOrigin(<span class="code-keyword">this</span>.crossOrigin);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>,c=t.length;s&lt;c;s++){<span class="code-keyword">var</span> l=t[s],u=l.url;<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(u)){i[l.uuid]=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>,d=u.length;h&lt;d;h++){<span class="code-keyword">var</span> p=a(u[h]);<span class="code-literal">null</span>!==p&amp;&amp;(p <span class="code-keyword">instanceof</span> HTMLImageElement?i[l.uuid].push(p):i[l.uuid].push(<span class="code-keyword">new</span> Kn(p.data,p.width,p.height)))}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> f=a(l.url);<span class="code-literal">null</span>!==f&amp;&amp;(i[l.uuid]=f)}}}<span class="code-keyword">return</span> i},n.parseTextures=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t?t:(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader.parseTexture: Constant should be in numeric form."</span>,t),e[t])}<span class="code-keyword">var</span> r={};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++){<span class="code-keyword">var</span> o=t[i];<span class="code-keyword">void</span> <span class="code-number">0</span>===o.image&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">'THREE.ObjectLoader: No "image" specified for'</span>,o.uuid),<span class="code-keyword">void</span> <span class="code-number">0</span>===e[o.image]&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: Undefined image"</span>,o.image);<span class="code-keyword">var</span> s=<span class="code-keyword">void</span> <span class="code-number">0</span>,c=e[o.image];<span class="code-built_in">Array</span>.isArray(c)?(s=<span class="code-keyword">new</span> Jn(c),<span class="code-number">6</span>===c.length&amp;&amp;(s.needsUpdate=!<span class="code-number">0</span>)):(s=c&amp;&amp;c.data?<span class="code-keyword">new</span> Kn(c.data,c.width,c.height):<span class="code-keyword">new</span> gt(c),c&amp;&amp;(s.needsUpdate=!<span class="code-number">0</span>)),s.uuid=o.uuid,<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.name&amp;&amp;(s.name=o.name),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.mapping&amp;&amp;(s.mapping=n(o.mapping,gl)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.offset&amp;&amp;s.offset.fromArray(o.offset),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.repeat&amp;&amp;s.repeat.fromArray(o.repeat),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.center&amp;&amp;s.center.fromArray(o.center),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.rotation&amp;&amp;(s.rotation=o.rotation),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.wrap&amp;&amp;(s.wrapS=n(o.wrap[<span class="code-number">0</span>],yl),s.wrapT=n(o.wrap[<span class="code-number">1</span>],yl)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.format&amp;&amp;(s.format=o.format),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.type&amp;&amp;(s.type=o.type),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.encoding&amp;&amp;(s.encoding=o.encoding),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.minFilter&amp;&amp;(s.minFilter=n(o.minFilter,xl)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.magFilter&amp;&amp;(s.magFilter=n(o.magFilter,xl)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.anisotropy&amp;&amp;(s.anisotropy=o.anisotropy),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.flipY&amp;&amp;(s.flipY=o.flipY),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.premultiplyAlpha&amp;&amp;(s.premultiplyAlpha=o.premultiplyAlpha),<span class="code-keyword">void</span> <span class="code-number">0</span>!==o.unpackAlignment&amp;&amp;(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}<span class="code-keyword">return</span> r},n.parseObject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i,a,o;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e[t]&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: Undefined geometry"</span>,t),e[t]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t){<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(t)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],r=<span class="code-number">0</span>,i=t.length;r&lt;i;r++){<span class="code-keyword">var</span> a=t[r];<span class="code-keyword">void</span> <span class="code-number">0</span>===n[a]&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: Undefined material"</span>,a),e.push(n[a])}<span class="code-keyword">return</span> e}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n[t]&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: Undefined material"</span>,t),n[t]}}<span class="code-keyword">switch</span>(t.type){<span class="code-keyword">case</span><span class="code-string">"Scene"</span>:i=<span class="code-keyword">new</span> ha,<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.background&amp;&amp;<span class="code-built_in">Number</span>.isInteger(t.background)&amp;&amp;(i.background=<span class="code-keyword">new</span> We(t.background)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.fog&amp;&amp;(<span class="code-string">"Fog"</span>===t.fog.type?i.fog=<span class="code-keyword">new</span> ua(t.fog.color,t.fog.near,t.fog.far):<span class="code-string">"FogExp2"</span>===t.fog.type&amp;&amp;(i.fog=<span class="code-keyword">new</span> la(t.fog.color,t.fog.density)));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PerspectiveCamera"</span>:i=<span class="code-keyword">new</span> Xn(t.fov,t.aspect,t.near,t.far),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.focus&amp;&amp;(i.focus=t.focus),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.zoom&amp;&amp;(i.zoom=t.zoom),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.filmGauge&amp;&amp;(i.filmGauge=t.filmGauge),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.filmOffset&amp;&amp;(i.filmOffset=t.filmOffset),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.view&amp;&amp;(i.view=<span class="code-built_in">Object</span>.assign({},t.view));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"OrthographicCamera"</span>:i=<span class="code-keyword">new</span> rl(t.left,t.right,t.top,t.bottom,t.near,t.far),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.zoom&amp;&amp;(i.zoom=t.zoom),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.view&amp;&amp;(i.view=<span class="code-built_in">Object</span>.assign({},t.view));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"AmbientLight"</span>:i=<span class="code-keyword">new</span> ol(t.color,t.intensity);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"DirectionalLight"</span>:i=<span class="code-keyword">new</span> al(t.color,t.intensity);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PointLight"</span>:i=<span class="code-keyword">new</span> nl(t.color,t.intensity,t.distance,t.decay);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"RectAreaLight"</span>:i=<span class="code-keyword">new</span> sl(t.color,t.intensity,t.width,t.height);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"SpotLight"</span>:i=<span class="code-keyword">new</span> tl(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"HemisphereLight"</span>:i=<span class="code-keyword">new</span> Qc(t.color,t.groundColor,t.intensity);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LightProbe"</span>:i=(<span class="code-keyword">new</span> ll).fromJSON(t);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"SkinnedMesh"</span>:i=<span class="code-keyword">new</span> Fa(a=s(t.geometry),o=c(t.material)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.bindMode&amp;&amp;(i.bindMode=t.bindMode),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.bindMatrix&amp;&amp;i.bindMatrix.fromArray(t.bindMatrix),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.skeleton&amp;&amp;(i.skeleton=t.skeleton);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Mesh"</span>:i=<span class="code-keyword">new</span> Un(a=s(t.geometry),o=c(t.material));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"InstancedMesh"</span>:a=s(t.geometry),o=c(t.material);<span class="code-keyword">var</span> l=t.count,u=t.instanceMatrix;(i=<span class="code-keyword">new</span> Ya(a,o,l)).instanceMatrix=<span class="code-keyword">new</span> Qe(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(u.array),<span class="code-number">16</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LOD"</span>:i=<span class="code-keyword">new</span> Ua;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Line"</span>:i=<span class="code-keyword">new</span> eo(s(t.geometry),c(t.material),t.mode);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LineLoop"</span>:i=<span class="code-keyword">new</span> ao(s(t.geometry),c(t.material));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LineSegments"</span>:i=<span class="code-keyword">new</span> io(s(t.geometry),c(t.material));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"PointCloud"</span>:<span class="code-keyword">case</span><span class="code-string">"Points"</span>:i=<span class="code-keyword">new</span> ho(s(t.geometry),c(t.material));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Sprite"</span>:i=<span class="code-keyword">new</span> Ra(c(t.material));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Group"</span>:i=<span class="code-keyword">new</span> ra;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"Bone"</span>:i=<span class="code-keyword">new</span> Ga;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:i=<span class="code-keyword">new</span> we}<span class="code-keyword">if</span>(i.uuid=t.uuid,<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.name&amp;&amp;(i.name=t.name),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.matrix?(i.matrix.fromArray(t.matrix),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.matrixAutoUpdate&amp;&amp;(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&amp;&amp;i.matrix.decompose(i.position,i.quaternion,i.scale)):(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.position&amp;&amp;i.position.fromArray(t.position),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.rotation&amp;&amp;i.rotation.fromArray(t.rotation),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.quaternion&amp;&amp;i.quaternion.fromArray(t.quaternion),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.scale&amp;&amp;i.scale.fromArray(t.scale)),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.castShadow&amp;&amp;(i.castShadow=t.castShadow),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.receiveShadow&amp;&amp;(i.receiveShadow=t.receiveShadow),t.shadow&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shadow.bias&amp;&amp;(i.shadow.bias=t.shadow.bias),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shadow.normalBias&amp;&amp;(i.shadow.normalBias=t.shadow.normalBias),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shadow.radius&amp;&amp;(i.shadow.radius=t.shadow.radius),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shadow.mapSize&amp;&amp;i.shadow.mapSize.fromArray(t.shadow.mapSize),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.shadow.camera&amp;&amp;(i.shadow.camera=<span class="code-keyword">this</span>.parseObject(t.shadow.camera))),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.visible&amp;&amp;(i.visible=t.visible),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.frustumCulled&amp;&amp;(i.frustumCulled=t.frustumCulled),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.renderOrder&amp;&amp;(i.renderOrder=t.renderOrder),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.userData&amp;&amp;(i.userData=t.userData),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.layers&amp;&amp;(i.layers.mask=t.layers),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.children)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=t.children,d=<span class="code-number">0</span>;d&lt;h.length;d++)i.add(<span class="code-keyword">this</span>.parseObject(h[d],e,n,r));<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.animations)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=t.animations,f=<span class="code-number">0</span>;f&lt;p.length;f++){<span class="code-keyword">var</span> m=p[f];i.animations.push(r[m])}<span class="code-keyword">if</span>(<span class="code-string">"LOD"</span>===t.type){<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.autoUpdate&amp;&amp;(i.autoUpdate=t.autoUpdate);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=t.levels,g=<span class="code-number">0</span>;g&lt;v.length;g++){<span class="code-keyword">var</span> y=v[g],x=i.getObjectByProperty(<span class="code-string">"uuid"</span>,y.object);<span class="code-keyword">void</span> <span class="code-number">0</span>!==x&amp;&amp;i.addLevel(x,y.distance)}}<span class="code-keyword">return</span> i},n.bindSkeletons=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-number">0</span>!==<span class="code-built_in">Object</span>.keys(e).length&amp;&amp;t.traverse((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">0</span>===t.isSkinnedMesh&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.skeleton){<span class="code-keyword">var</span> n=e[t.skeleton];<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: No skeleton found with UUID:"</span>,t.skeleton):t.bind(n,t.bindMatrix)}}))},n.setTexturePath=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."</span>),<span class="code-keyword">this</span>.setResourcePath(t)},e}(yc),gl={<span class="code-attr">UVMapping</span>:n,<span class="code-attr">CubeReflectionMapping</span>:r,<span class="code-attr">CubeRefractionMapping</span>:i,<span class="code-attr">EquirectangularReflectionMapping</span>:a,<span class="code-attr">EquirectangularRefractionMapping</span>:o,<span class="code-attr">CubeUVReflectionMapping</span>:s,<span class="code-attr">CubeUVRefractionMapping</span>:c},yl={<span class="code-attr">RepeatWrapping</span>:l,<span class="code-attr">ClampToEdgeWrapping</span>:u,<span class="code-attr">MirroredRepeatWrapping</span>:h},xl={<span class="code-attr">NearestFilter</span>:d,<span class="code-attr">NearestMipmapNearestFilter</span>:p,<span class="code-attr">NearestMipmapLinearFilter</span>:f,<span class="code-attr">LinearFilter</span>:m,<span class="code-attr">LinearMipmapNearestFilter</span>:v,<span class="code-attr">LinearMipmapLinearFilter</span>:g};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_l</span>(<span class="code-params">t</span>)</span>{<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> createImageBitmap&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ImageBitmapLoader: createImageBitmap() not supported."</span>),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> fetch&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ImageBitmapLoader: fetch() not supported."</span>),yc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.options={<span class="code-attr">premultiplyAlpha</span>:<span class="code-string">"none"</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bl</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.type=<span class="code-string">"ShapePath"</span>,<span class="code-keyword">this</span>.color=<span class="code-keyword">new</span> We,<span class="code-keyword">this</span>.subPaths=[],<span class="code-keyword">this</span>.currentPath=<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wl</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.type=<span class="code-string">"Font"</span>,<span class="code-keyword">this</span>.data=t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ml</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=i.glyphs[t]||i.glyphs[<span class="code-string">"?"</span>];<span class="code-keyword">if</span>(a){<span class="code-keyword">var</span> o,s,c,l,u,h,d,p,f=<span class="code-keyword">new</span> bl;<span class="code-keyword">if</span>(a.o)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=a._cachedOutline||(a._cachedOutline=a.o.split(<span class="code-string">" "</span>)),v=<span class="code-number">0</span>,g=m.length;v&lt;g;){<span class="code-keyword">switch</span>(m[v++]){<span class="code-keyword">case</span><span class="code-string">"m"</span>:o=m[v++]*e+n,s=m[v++]*e+r,f.moveTo(o,s);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"l"</span>:o=m[v++]*e+n,s=m[v++]*e+r,f.lineTo(o,s);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"q"</span>:c=m[v++]*e+n,l=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,f.quadraticCurveTo(u,h,c,l);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"b"</span>:c=m[v++]*e+n,l=m[v++]*e+r,u=m[v++]*e+n,h=m[v++]*e+r,d=m[v++]*e+n,p=m[v++]*e+r,f.bezierCurveTo(u,h,d,p,c,l)}}<span class="code-keyword">return</span>{<span class="code-attr">offsetX</span>:a.ha*e,<span class="code-attr">path</span>:f}}<span class="code-built_in">console</span>.error(<span class="code-string">'THREE.Font: character "'</span>+t+<span class="code-string">'" does not exists in font family '</span>+i.familyName+<span class="code-string">"."</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Sl</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}_l.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:_l,<span class="code-attr">isImageBitmapLoader</span>:!<span class="code-number">0</span>,<span class="code-attr">setOptions</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options=t,<span class="code-keyword">this</span>},<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">""</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.path&amp;&amp;(t=<span class="code-keyword">this</span>.path+t),t=<span class="code-keyword">this</span>.manager.resolveURL(t);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=mc.get(t);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a)<span class="code-keyword">return</span> i.manager.itemStart(t),setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e&amp;&amp;e(a),i.manager.itemEnd(t)}),<span class="code-number">0</span>),a;<span class="code-keyword">var</span> o={};o.credentials=<span class="code-string">"anonymous"</span>===<span class="code-keyword">this</span>.crossOrigin?<span class="code-string">"same-origin"</span>:<span class="code-string">"include"</span>,fetch(t,o).then((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.blob()})).then((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> createImageBitmap(t,i.options)})).then((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{mc.add(t,n),e&amp;&amp;e(n),i.manager.itemEnd(t)})).catch((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r&amp;&amp;r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)}}),<span class="code-built_in">Object</span>.assign(bl.prototype,{<span class="code-attr">moveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPath=<span class="code-keyword">new</span> Yc,<span class="code-keyword">this</span>.subPaths.push(<span class="code-keyword">this</span>.currentPath),<span class="code-keyword">this</span>.currentPath.moveTo(t,e),<span class="code-keyword">this</span>},<span class="code-attr">lineTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPath.lineTo(t,e),<span class="code-keyword">this</span>},<span class="code-attr">quadraticCurveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPath.quadraticCurveTo(t,e,n,r),<span class="code-keyword">this</span>},<span class="code-attr">bezierCurveTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPath.bezierCurveTo(t,e,n,r,i,a),<span class="code-keyword">this</span>},<span class="code-attr">splineThru</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentPath.splineThru(t),<span class="code-keyword">this</span>},<span class="code-attr">toShapes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t[n],a=<span class="code-keyword">new</span> Zc;a.curves=i.curves,e.push(a)}<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.length,r=!<span class="code-number">1</span>,i=n<span class="code-number">-1</span>,a=<span class="code-number">0</span>;a&lt;n;i=a++){<span class="code-keyword">var</span> o=e[i],s=e[a],c=s.x-o.x,l=s.y-o.y;<span class="code-keyword">if</span>(<span class="code-built_in">Math</span>.abs(l)&gt;<span class="code-built_in">Number</span>.EPSILON){<span class="code-keyword">if</span>(l&lt;<span class="code-number">0</span>&amp;&amp;(o=e[a],c=-c,s=e[i],l=-l),t.y&lt;o.y||t.y&gt;s.y)<span class="code-keyword">continue</span>;<span class="code-keyword">if</span>(t.y===o.y){<span class="code-keyword">if</span>(t.x===o.x)<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> u=l*(t.x-o.x)-c*(t.y-o.y);<span class="code-keyword">if</span>(<span class="code-number">0</span>===u)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(u&lt;<span class="code-number">0</span>)<span class="code-keyword">continue</span>;r=!r}}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(t.y!==o.y)<span class="code-keyword">continue</span>;<span class="code-keyword">if</span>(s.x&lt;=t.x&amp;&amp;t.x&lt;=o.x||o.x&lt;=t.x&amp;&amp;t.x&lt;=s.x)<span class="code-keyword">return</span>!<span class="code-number">0</span>}}<span class="code-keyword">return</span> r}<span class="code-keyword">var</span> i,a,o,s=ls.isClockWise,c=<span class="code-keyword">this</span>.subPaths;<span class="code-keyword">if</span>(<span class="code-number">0</span>===c.length)<span class="code-keyword">return</span>[];<span class="code-keyword">if</span>(!<span class="code-number">0</span>===e)<span class="code-keyword">return</span> n(c);<span class="code-keyword">var</span> l=[];<span class="code-keyword">if</span>(<span class="code-number">1</span>===c.length)<span class="code-keyword">return</span> a=c[<span class="code-number">0</span>],(o=<span class="code-keyword">new</span> Zc).curves=a.curves,l.push(o),l;<span class="code-keyword">var</span> u=!s(c[<span class="code-number">0</span>].getPoints());u=t?!u:u;<span class="code-keyword">var</span> h,d,p=[],f=[],m=[],v=<span class="code-number">0</span>;f[v]=<span class="code-keyword">void</span> <span class="code-number">0</span>,m[v]=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> g=<span class="code-number">0</span>,y=c.length;g&lt;y;g++)i=s(h=(a=c[g]).getPoints()),(i=t?!i:i)?(!u&amp;&amp;f[v]&amp;&amp;v++,f[v]={<span class="code-attr">s</span>:<span class="code-keyword">new</span> Zc,<span class="code-attr">p</span>:h},f[v].s.curves=a.curves,u&amp;&amp;v++,m[v]=[]):m[v].push({<span class="code-attr">h</span>:a,<span class="code-attr">p</span>:h[<span class="code-number">0</span>]});<span class="code-keyword">if</span>(!f[<span class="code-number">0</span>])<span class="code-keyword">return</span> n(c);<span class="code-keyword">if</span>(f.length&gt;<span class="code-number">1</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> x=!<span class="code-number">1</span>,_=[],b=<span class="code-number">0</span>,w=f.length;b&lt;w;b++)p[b]=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> M=<span class="code-number">0</span>,S=f.length;M&lt;S;M++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> T=m[M],E=<span class="code-number">0</span>;E&lt;T.length;E++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> A=T[E],L=!<span class="code-number">0</span>,R=<span class="code-number">0</span>;R&lt;f.length;R++)r(A.p,f[R].p)&amp;&amp;(M!==R&amp;&amp;_.push({<span class="code-attr">froms</span>:M,<span class="code-attr">tos</span>:R,<span class="code-attr">hole</span>:E}),L?(L=!<span class="code-number">1</span>,p[R].push(A)):x=!<span class="code-number">0</span>);L&amp;&amp;p[M].push(A)}_.length&gt;<span class="code-number">0</span>&amp;&amp;(x||(m=p))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> C=<span class="code-number">0</span>,P=f.length;C&lt;P;C++){o=f[C].s,l.push(o);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> I=<span class="code-number">0</span>,N=(d=m[C]).length;I&lt;N;I++)o.holes.push(d[I].h)}<span class="code-keyword">return</span> l}}),<span class="code-built_in">Object</span>.assign(wl.prototype,{<span class="code-attr">isFont</span>:!<span class="code-number">0</span>,<span class="code-attr">generateShapes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">100</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-built_in">Array</span>.from?<span class="code-built_in">Array</span>.from(t):<span class="code-built_in">String</span>(t).split(<span class="code-string">""</span>),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=<span class="code-number">0</span>,c=<span class="code-number">0</span>,l=<span class="code-number">0</span>;l&lt;r.length;l++){<span class="code-keyword">var</span> u=r[l];<span class="code-keyword">if</span>(<span class="code-string">"\n"</span>===u)s=<span class="code-number">0</span>,c-=a;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> h=Ml(u,i,s,c,n);s+=h.offsetX,o.push(h.path)}}<span class="code-keyword">return</span> o}(t,e,<span class="code-keyword">this</span>.data),i=<span class="code-number">0</span>,a=r.length;i&lt;a;i++)<span class="code-built_in">Array</span>.prototype.push.apply(n,r[i].toShapes());<span class="code-keyword">return</span> n}}),Sl.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:Sl,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> _c(<span class="code-keyword">this</span>.manager);a.setPath(<span class="code-keyword">this</span>.path),a.setRequestHeader(<span class="code-keyword">this</span>.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">try</span>{n=<span class="code-built_in">JSON</span>.parse(t)}<span class="code-keyword">catch</span>(e){<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."</span>),n=<span class="code-built_in">JSON</span>.parse(t.substring(<span class="code-number">65</span>,t.length<span class="code-number">-2</span>))}<span class="code-keyword">var</span> r=i.parse(n);e&amp;&amp;e(r)}),n,r)},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> wl(t)}});<span class="code-keyword">var</span> Tl={<span class="code-attr">getContext</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===ml&amp;&amp;(ml=<span class="code-keyword">new</span>(<span class="code-built_in">window</span>.AudioContext||<span class="code-built_in">window</span>.webkitAudioContext)),ml},<span class="code-attr">setContext</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{ml=t}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">El</span>(<span class="code-params">t</span>)</span>{yc.call(<span class="code-keyword">this</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Al</span>(<span class="code-params">t,e,n</span>)</span>{ll.call(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,n);<span class="code-keyword">var</span> r=(<span class="code-keyword">new</span> We).set(t),i=(<span class="code-keyword">new</span> We).set(e),a=<span class="code-keyword">new</span> Mt(r.r,r.g,r.b),o=<span class="code-keyword">new</span> Mt(i.r,i.g,i.b),s=<span class="code-built_in">Math</span>.sqrt(<span class="code-built_in">Math</span>.PI),c=s*<span class="code-built_in">Math</span>.sqrt(<span class="code-number">.75</span>);<span class="code-keyword">this</span>.sh.coefficients[<span class="code-number">0</span>].copy(a).add(o).multiplyScalar(s),<span class="code-keyword">this</span>.sh.coefficients[<span class="code-number">1</span>].copy(a).sub(o).multiplyScalar(c)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ll</span>(<span class="code-params">t,e</span>)</span>{ll.call(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,e);<span class="code-keyword">var</span> n=(<span class="code-keyword">new</span> We).set(t);<span class="code-keyword">this</span>.sh.coefficients[<span class="code-number">0</span>].set(n.r,n.g,n.b).multiplyScalar(<span class="code-number">2</span>*<span class="code-built_in">Math</span>.sqrt(<span class="code-built_in">Math</span>.PI))}El.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(yc.prototype),{<span class="code-attr">constructor</span>:El,<span class="code-attr">load</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,a=<span class="code-keyword">new</span> _c(i.manager);a.setResponseType(<span class="code-string">"arraybuffer"</span>),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">var</span> a=n.slice(<span class="code-number">0</span>);Tl.getContext().decodeAudioData(a,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e(t)}))}<span class="code-keyword">catch</span>(e){r?r(e):<span class="code-built_in">console</span>.error(e),i.manager.itemError(t)}}),n,r)}}),Al.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ll.prototype),{<span class="code-attr">constructor</span>:Al,<span class="code-attr">isHemisphereLightProbe</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ll.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ll.prototype.toJSON.call(<span class="code-keyword">this</span>,t)}}),Ll.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(ll.prototype),{<span class="code-attr">constructor</span>:Ll,<span class="code-attr">isAmbientLightProbe</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ll.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> ll.prototype.toJSON.call(<span class="code-keyword">this</span>,t)}});<span class="code-keyword">var</span> Rl=<span class="code-keyword">new</span> Qt,Cl=<span class="code-keyword">new</span> Qt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pl</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.type=<span class="code-string">"StereoCamera"</span>,<span class="code-keyword">this</span>.aspect=<span class="code-number">1</span>,<span class="code-keyword">this</span>.eyeSep=<span class="code-number">.064</span>,<span class="code-keyword">this</span>.cameraL=<span class="code-keyword">new</span> Xn,<span class="code-keyword">this</span>.cameraL.layers.enable(<span class="code-number">1</span>),<span class="code-keyword">this</span>.cameraL.matrixAutoUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.cameraR=<span class="code-keyword">new</span> Xn,<span class="code-keyword">this</span>.cameraR.layers.enable(<span class="code-number">2</span>),<span class="code-keyword">this</span>.cameraR.matrixAutoUpdate=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._cache={<span class="code-attr">focus</span>:<span class="code-literal">null</span>,<span class="code-attr">fov</span>:<span class="code-literal">null</span>,<span class="code-attr">aspect</span>:<span class="code-literal">null</span>,<span class="code-attr">near</span>:<span class="code-literal">null</span>,<span class="code-attr">far</span>:<span class="code-literal">null</span>,<span class="code-attr">zoom</span>:<span class="code-literal">null</span>,<span class="code-attr">eyeSep</span>:<span class="code-literal">null</span>}}<span class="code-built_in">Object</span>.assign(Pl.prototype,{<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._cache;<span class="code-keyword">if</span>(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*<span class="code-keyword">this</span>.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==<span class="code-keyword">this</span>.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*<span class="code-keyword">this</span>.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=<span class="code-keyword">this</span>.eyeSep;<span class="code-keyword">var</span> n,r,i=t.projectionMatrix.clone(),a=e.eyeSep/<span class="code-number">2</span>,o=a*e.near/e.focus,s=e.near*<span class="code-built_in">Math</span>.tan(st.DEG2RAD*e.fov*<span class="code-number">.5</span>)/e.zoom;Cl.elements[<span class="code-number">12</span>]=-a,Rl.elements[<span class="code-number">12</span>]=a,n=-s*e.aspect+o,r=s*e.aspect+o,i.elements[<span class="code-number">0</span>]=<span class="code-number">2</span>*e.near/(r-n),i.elements[<span class="code-number">8</span>]=(r+n)/(r-n),<span class="code-keyword">this</span>.cameraL.projectionMatrix.copy(i),n=-s*e.aspect-o,r=s*e.aspect-o,i.elements[<span class="code-number">0</span>]=<span class="code-number">2</span>*e.near/(r-n),i.elements[<span class="code-number">8</span>]=(r+n)/(r-n),<span class="code-keyword">this</span>.cameraR.projectionMatrix.copy(i)}<span class="code-keyword">this</span>.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Cl),<span class="code-keyword">this</span>.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Rl)}});<span class="code-keyword">var</span> Il=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.autoStart=<span class="code-keyword">void</span> <span class="code-number">0</span>===t||t,<span class="code-keyword">this</span>.startTime=<span class="code-number">0</span>,<span class="code-keyword">this</span>.oldTime=<span class="code-number">0</span>,<span class="code-keyword">this</span>.elapsedTime=<span class="code-number">0</span>,<span class="code-keyword">this</span>.running=!<span class="code-number">1</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.start=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.startTime=Nl(),<span class="code-keyword">this</span>.oldTime=<span class="code-keyword">this</span>.startTime,<span class="code-keyword">this</span>.elapsedTime=<span class="code-number">0</span>,<span class="code-keyword">this</span>.running=!<span class="code-number">0</span>},e.stop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.getElapsedTime(),<span class="code-keyword">this</span>.running=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.autoStart=!<span class="code-number">1</span>},e.getElapsedTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getDelta(),<span class="code-keyword">this</span>.elapsedTime},e.getDelta=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.autoStart&amp;&amp;!<span class="code-keyword">this</span>.running)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start(),<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.running){<span class="code-keyword">var</span> e=Nl();t=(e-<span class="code-keyword">this</span>.oldTime)/<span class="code-number">1e3</span>,<span class="code-keyword">this</span>.oldTime=e,<span class="code-keyword">this</span>.elapsedTime+=t}<span class="code-keyword">return</span> t},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nl</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> performance?<span class="code-built_in">Date</span>:performance).now()}<span class="code-keyword">var</span> Dl=<span class="code-keyword">new</span> Mt,Ol=<span class="code-keyword">new</span> wt,Bl=<span class="code-keyword">new</span> Mt,zl=<span class="code-keyword">new</span> Mt,Ul=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">return</span>(e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"AudioListener"</span>,e.context=Tl.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=<span class="code-literal">null</span>,e.timeDelta=<span class="code-number">0</span>,e._clock=<span class="code-keyword">new</span> Il,e}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.getInput=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain},n.removeFilter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.filter&amp;&amp;(<span class="code-keyword">this</span>.gain.disconnect(<span class="code-keyword">this</span>.filter),<span class="code-keyword">this</span>.filter.disconnect(<span class="code-keyword">this</span>.context.destination),<span class="code-keyword">this</span>.gain.connect(<span class="code-keyword">this</span>.context.destination),<span class="code-keyword">this</span>.filter=<span class="code-literal">null</span>),<span class="code-keyword">this</span>},n.getFilter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.filter},n.setFilter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.filter?(<span class="code-keyword">this</span>.gain.disconnect(<span class="code-keyword">this</span>.filter),<span class="code-keyword">this</span>.filter.disconnect(<span class="code-keyword">this</span>.context.destination)):<span class="code-keyword">this</span>.gain.disconnect(<span class="code-keyword">this</span>.context.destination),<span class="code-keyword">this</span>.filter=t,<span class="code-keyword">this</span>.gain.connect(<span class="code-keyword">this</span>.filter),<span class="code-keyword">this</span>.filter.connect(<span class="code-keyword">this</span>.context.destination),<span class="code-keyword">this</span>},n.getMasterVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain.gain.value},n.setMasterVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain.gain.setTargetAtTime(t,<span class="code-keyword">this</span>.context.currentTime,<span class="code-number">.01</span>),<span class="code-keyword">this</span>},n.updateMatrixWorld=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,e);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.context.listener,r=<span class="code-keyword">this</span>.up;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.timeDelta=<span class="code-keyword">this</span>._clock.getDelta(),<span class="code-keyword">this</span>.matrixWorld.decompose(Dl,Ol,Bl),zl.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>).applyQuaternion(Ol),n.positionX){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.context.currentTime+<span class="code-keyword">this</span>.timeDelta;n.positionX.linearRampToValueAtTime(Dl.x,i),n.positionY.linearRampToValueAtTime(Dl.y,i),n.positionZ.linearRampToValueAtTime(Dl.z,i),n.forwardX.linearRampToValueAtTime(zl.x,i),n.forwardY.linearRampToValueAtTime(zl.y,i),n.forwardZ.linearRampToValueAtTime(zl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}<span class="code-keyword">else</span> n.setPosition(Dl.x,Dl.y,Dl.z),n.setOrientation(zl.x,zl.y,zl.z,r.x,r.y,r.z)},e}(we),Fl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">return</span>(n=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"Audio"</span>,n.listener=e,n.context=e.context,n.gain=n.context.createGain(),n.gain.connect(e.getInput()),n.autoplay=!<span class="code-number">1</span>,n.buffer=<span class="code-literal">null</span>,n.detune=<span class="code-number">0</span>,n.loop=!<span class="code-number">1</span>,n.loopStart=<span class="code-number">0</span>,n.loopEnd=<span class="code-number">0</span>,n.offset=<span class="code-number">0</span>,n.duration=<span class="code-keyword">void</span> <span class="code-number">0</span>,n.playbackRate=<span class="code-number">1</span>,n.isPlaying=!<span class="code-number">1</span>,n.hasPlaybackControl=!<span class="code-number">0</span>,n.source=<span class="code-literal">null</span>,n.sourceType=<span class="code-string">"empty"</span>,n._startedAt=<span class="code-number">0</span>,n._progress=<span class="code-number">0</span>,n._connected=!<span class="code-number">1</span>,n.filters=[],n}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.getOutput=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain},n.setNodeSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasPlaybackControl=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.sourceType=<span class="code-string">"audioNode"</span>,<span class="code-keyword">this</span>.source=t,<span class="code-keyword">this</span>.connect(),<span class="code-keyword">this</span>},n.setMediaElementSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasPlaybackControl=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.sourceType=<span class="code-string">"mediaNode"</span>,<span class="code-keyword">this</span>.source=<span class="code-keyword">this</span>.context.createMediaElementSource(t),<span class="code-keyword">this</span>.connect(),<span class="code-keyword">this</span>},n.setMediaStreamSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasPlaybackControl=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.sourceType=<span class="code-string">"mediaStreamNode"</span>,<span class="code-keyword">this</span>.source=<span class="code-keyword">this</span>.context.createMediaStreamSource(t),<span class="code-keyword">this</span>.connect(),<span class="code-keyword">this</span>},n.setBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.buffer=t,<span class="code-keyword">this</span>.sourceType=<span class="code-string">"buffer"</span>,<span class="code-keyword">this</span>.autoplay&amp;&amp;<span class="code-keyword">this</span>.play(),<span class="code-keyword">this</span>},n.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),!<span class="code-number">0</span>!==<span class="code-keyword">this</span>.isPlaying){<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.hasPlaybackControl){<span class="code-keyword">this</span>._startedAt=<span class="code-keyword">this</span>.context.currentTime+t;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.context.createBufferSource();<span class="code-keyword">return</span> e.buffer=<span class="code-keyword">this</span>.buffer,e.loop=<span class="code-keyword">this</span>.loop,e.loopStart=<span class="code-keyword">this</span>.loopStart,e.loopEnd=<span class="code-keyword">this</span>.loopEnd,e.onended=<span class="code-keyword">this</span>.onEnded.bind(<span class="code-keyword">this</span>),e.start(<span class="code-keyword">this</span>._startedAt,<span class="code-keyword">this</span>._progress+<span class="code-keyword">this</span>.offset,<span class="code-keyword">this</span>.duration),<span class="code-keyword">this</span>.isPlaying=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.source=e,<span class="code-keyword">this</span>.setDetune(<span class="code-keyword">this</span>.detune),<span class="code-keyword">this</span>.setPlaybackRate(<span class="code-keyword">this</span>.playbackRate),<span class="code-keyword">this</span>.connect()}<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>)}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: Audio is already playing."</span>)},n.pause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.hasPlaybackControl)<span class="code-keyword">return</span>!<span class="code-number">0</span>===<span class="code-keyword">this</span>.isPlaying&amp;&amp;(<span class="code-keyword">this</span>._progress+=<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.context.currentTime-<span class="code-keyword">this</span>._startedAt,<span class="code-number">0</span>)*<span class="code-keyword">this</span>.playbackRate,!<span class="code-number">0</span>===<span class="code-keyword">this</span>.loop&amp;&amp;(<span class="code-keyword">this</span>._progress=<span class="code-keyword">this</span>._progress%(<span class="code-keyword">this</span>.duration||<span class="code-keyword">this</span>.buffer.duration)),<span class="code-keyword">this</span>.source.stop(),<span class="code-keyword">this</span>.source.onended=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.isPlaying=!<span class="code-number">1</span>),<span class="code-keyword">this</span>;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>)},n.stop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.hasPlaybackControl)<span class="code-keyword">return</span> <span class="code-keyword">this</span>._progress=<span class="code-number">0</span>,<span class="code-keyword">this</span>.source.stop(),<span class="code-keyword">this</span>.source.onended=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.isPlaying=!<span class="code-number">1</span>,<span class="code-keyword">this</span>;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>)},n.connect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.filters.length&gt;<span class="code-number">0</span>){<span class="code-keyword">this</span>.source.connect(<span class="code-keyword">this</span>.filters[<span class="code-number">0</span>]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">1</span>,e=<span class="code-keyword">this</span>.filters.length;t&lt;e;t++)<span class="code-keyword">this</span>.filters[t<span class="code-number">-1</span>].connect(<span class="code-keyword">this</span>.filters[t]);<span class="code-keyword">this</span>.filters[<span class="code-keyword">this</span>.filters.length<span class="code-number">-1</span>].connect(<span class="code-keyword">this</span>.getOutput())}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.source.connect(<span class="code-keyword">this</span>.getOutput());<span class="code-keyword">return</span> <span class="code-keyword">this</span>._connected=!<span class="code-number">0</span>,<span class="code-keyword">this</span>},n.disconnect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.filters.length&gt;<span class="code-number">0</span>){<span class="code-keyword">this</span>.source.disconnect(<span class="code-keyword">this</span>.filters[<span class="code-number">0</span>]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">1</span>,e=<span class="code-keyword">this</span>.filters.length;t&lt;e;t++)<span class="code-keyword">this</span>.filters[t<span class="code-number">-1</span>].disconnect(<span class="code-keyword">this</span>.filters[t]);<span class="code-keyword">this</span>.filters[<span class="code-keyword">this</span>.filters.length<span class="code-number">-1</span>].disconnect(<span class="code-keyword">this</span>.getOutput())}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.source.disconnect(<span class="code-keyword">this</span>.getOutput());<span class="code-keyword">return</span> <span class="code-keyword">this</span>._connected=!<span class="code-number">1</span>,<span class="code-keyword">this</span>},n.getFilters=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.filters},n.setFilters=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t||(t=[]),!<span class="code-number">0</span>===<span class="code-keyword">this</span>._connected?(<span class="code-keyword">this</span>.disconnect(),<span class="code-keyword">this</span>.filters=t.slice(),<span class="code-keyword">this</span>.connect()):<span class="code-keyword">this</span>.filters=t.slice(),<span class="code-keyword">this</span>},n.setDetune=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.detune=t,<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.source.detune)<span class="code-keyword">return</span>!<span class="code-number">0</span>===<span class="code-keyword">this</span>.isPlaying&amp;&amp;<span class="code-keyword">this</span>.source.detune.setTargetAtTime(<span class="code-keyword">this</span>.detune,<span class="code-keyword">this</span>.context.currentTime,<span class="code-number">.01</span>),<span class="code-keyword">this</span>},n.getDetune=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.detune},n.getFilter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.getFilters()[<span class="code-number">0</span>]},n.setFilter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFilters(t?[t]:[])},n.setPlaybackRate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.hasPlaybackControl)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.playbackRate=t,!<span class="code-number">0</span>===<span class="code-keyword">this</span>.isPlaying&amp;&amp;<span class="code-keyword">this</span>.source.playbackRate.setTargetAtTime(<span class="code-keyword">this</span>.playbackRate,<span class="code-keyword">this</span>.context.currentTime,<span class="code-number">.01</span>),<span class="code-keyword">this</span>;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>)},n.getPlaybackRate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.playbackRate},n.onEnded=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isPlaying=!<span class="code-number">1</span>},n.getLoop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>===<span class="code-keyword">this</span>.hasPlaybackControl?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>),!<span class="code-number">1</span>):<span class="code-keyword">this</span>.loop},n.setLoop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.hasPlaybackControl)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loop=t,!<span class="code-number">0</span>===<span class="code-keyword">this</span>.isPlaying&amp;&amp;(<span class="code-keyword">this</span>.source.loop=<span class="code-keyword">this</span>.loop),<span class="code-keyword">this</span>;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: this Audio has no playback control."</span>)},n.setLoopStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loopStart=t,<span class="code-keyword">this</span>},n.setLoopEnd=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loopEnd=t,<span class="code-keyword">this</span>},n.getVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain.gain.value},n.setVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gain.gain.setTargetAtTime(t,<span class="code-keyword">this</span>.context.currentTime,<span class="code-number">.01</span>),<span class="code-keyword">this</span>},e}(we),Gl=<span class="code-keyword">new</span> Mt,Hl=<span class="code-keyword">new</span> wt,kl=<span class="code-keyword">new</span> Mt,Vl=<span class="code-keyword">new</span> Mt,Wl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">return</span>(n=t.call(<span class="code-keyword">this</span>,e)||<span class="code-keyword">this</span>).panner=n.context.createPanner(),n.panner.panningModel=<span class="code-string">"HRTF"</span>,n.panner.connect(n.gain),n}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.getOutput=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner},n.getRefDistance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.refDistance},n.setRefDistance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.refDistance=t,<span class="code-keyword">this</span>},n.getRolloffFactor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.rolloffFactor},n.setRolloffFactor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.rolloffFactor=t,<span class="code-keyword">this</span>},n.getDistanceModel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.distanceModel},n.setDistanceModel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.distanceModel=t,<span class="code-keyword">this</span>},n.getMaxDistance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.maxDistance},n.setMaxDistance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.maxDistance=t,<span class="code-keyword">this</span>},n.setDirectionalCone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.panner.coneInnerAngle=t,<span class="code-keyword">this</span>.panner.coneOuterAngle=e,<span class="code-keyword">this</span>.panner.coneOuterGain=n,<span class="code-keyword">this</span>},n.updateMatrixWorld=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(t.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,e),!<span class="code-number">0</span>!==<span class="code-keyword">this</span>.hasPlaybackControl||!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.isPlaying){<span class="code-keyword">this</span>.matrixWorld.decompose(Gl,Hl,kl),Vl.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>).applyQuaternion(Hl);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.panner;<span class="code-keyword">if</span>(n.positionX){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.context.currentTime+<span class="code-keyword">this</span>.listener.timeDelta;n.positionX.linearRampToValueAtTime(Gl.x,r),n.positionY.linearRampToValueAtTime(Gl.y,r),n.positionZ.linearRampToValueAtTime(Gl.z,r),n.orientationX.linearRampToValueAtTime(Vl.x,r),n.orientationY.linearRampToValueAtTime(Vl.y,r),n.orientationZ.linearRampToValueAtTime(Vl.z,r)}<span class="code-keyword">else</span> n.setPosition(Gl.x,Gl.y,Gl.z),n.setOrientation(Vl.x,Vl.y,Vl.z)}},e}(Fl),jl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">2048</span>),<span class="code-keyword">this</span>.analyser=t.context.createAnalyser(),<span class="code-keyword">this</span>.analyser.fftSize=e,<span class="code-keyword">this</span>.data=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">this</span>.analyser.frequencyBinCount),t.getOutput().connect(<span class="code-keyword">this</span>.analyser)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.getFrequencyData=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.analyser.getByteFrequencyData(<span class="code-keyword">this</span>.data),<span class="code-keyword">this</span>.data},e.getAverageFrequency=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,e=<span class="code-keyword">this</span>.getFrequencyData(),n=<span class="code-number">0</span>;n&lt;e.length;n++)t+=e[n];<span class="code-keyword">return</span> t/e.length},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ql</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r,i,a;<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.binding=t,<span class="code-keyword">this</span>.valueSize=n,e){<span class="code-keyword">case</span><span class="code-string">"quaternion"</span>:r=<span class="code-keyword">this</span>._slerp,i=<span class="code-keyword">this</span>._slerpAdditive,a=<span class="code-keyword">this</span>._setAdditiveIdentityQuaternion,<span class="code-keyword">this</span>.buffer=<span class="code-keyword">new</span> <span class="code-built_in">Float64Array</span>(<span class="code-number">6</span>*n),<span class="code-keyword">this</span>._workIndex=<span class="code-number">5</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"string"</span>:<span class="code-keyword">case</span><span class="code-string">"bool"</span>:r=<span class="code-keyword">this</span>._select,i=<span class="code-keyword">this</span>._select,a=<span class="code-keyword">this</span>._setAdditiveIdentityOther,<span class="code-keyword">this</span>.buffer=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(<span class="code-number">5</span>*n);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r=<span class="code-keyword">this</span>._lerp,i=<span class="code-keyword">this</span>._lerpAdditive,a=<span class="code-keyword">this</span>._setAdditiveIdentityNumeric,<span class="code-keyword">this</span>.buffer=<span class="code-keyword">new</span> <span class="code-built_in">Float64Array</span>(<span class="code-number">5</span>*n)}<span class="code-keyword">this</span>._mixBufferRegion=r,<span class="code-keyword">this</span>._mixBufferRegionAdditive=i,<span class="code-keyword">this</span>._setIdentity=a,<span class="code-keyword">this</span>._origIndex=<span class="code-number">3</span>,<span class="code-keyword">this</span>._addIndex=<span class="code-number">4</span>,<span class="code-keyword">this</span>.cumulativeWeight=<span class="code-number">0</span>,<span class="code-keyword">this</span>.cumulativeWeightAdditive=<span class="code-number">0</span>,<span class="code-keyword">this</span>.useCount=<span class="code-number">0</span>,<span class="code-keyword">this</span>.referenceCount=<span class="code-number">0</span>}<span class="code-built_in">Object</span>.assign(ql.prototype,{<span class="code-attr">accumulate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.buffer,r=<span class="code-keyword">this</span>.valueSize,i=t*r+r,a=<span class="code-keyword">this</span>.cumulativeWeight;<span class="code-keyword">if</span>(<span class="code-number">0</span>===a){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o!==r;++o)n[i+o]=n[o];a=e}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=e/(a+=e);<span class="code-keyword">this</span>._mixBufferRegion(n,i,<span class="code-number">0</span>,s,r)}<span class="code-keyword">this</span>.cumulativeWeight=a},<span class="code-attr">accumulateAdditive</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.buffer,n=<span class="code-keyword">this</span>.valueSize,r=n*<span class="code-keyword">this</span>._addIndex;<span class="code-number">0</span>===<span class="code-keyword">this</span>.cumulativeWeightAdditive&amp;&amp;<span class="code-keyword">this</span>._setIdentity(),<span class="code-keyword">this</span>._mixBufferRegionAdditive(e,r,<span class="code-number">0</span>,t,n),<span class="code-keyword">this</span>.cumulativeWeightAdditive+=t},<span class="code-attr">apply</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.valueSize,n=<span class="code-keyword">this</span>.buffer,r=t*e+e,i=<span class="code-keyword">this</span>.cumulativeWeight,a=<span class="code-keyword">this</span>.cumulativeWeightAdditive,o=<span class="code-keyword">this</span>.binding;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.cumulativeWeight=<span class="code-number">0</span>,<span class="code-keyword">this</span>.cumulativeWeightAdditive=<span class="code-number">0</span>,i&lt;<span class="code-number">1</span>){<span class="code-keyword">var</span> s=e*<span class="code-keyword">this</span>._origIndex;<span class="code-keyword">this</span>._mixBufferRegion(n,r,s,<span class="code-number">1</span>-i,e)}a&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>._mixBufferRegionAdditive(n,r,<span class="code-keyword">this</span>._addIndex*e,<span class="code-number">1</span>,e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=e,l=e+e;c!==l;++c)<span class="code-keyword">if</span>(n[c]!==n[c+e]){o.setValue(n,r);<span class="code-keyword">break</span>}},<span class="code-attr">saveOriginalState</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.binding,e=<span class="code-keyword">this</span>.buffer,n=<span class="code-keyword">this</span>.valueSize,r=n*<span class="code-keyword">this</span>._origIndex;t.getValue(e,r);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n,a=r;i!==a;++i)e[i]=e[r+i%n];<span class="code-keyword">this</span>._setIdentity(),<span class="code-keyword">this</span>.cumulativeWeight=<span class="code-number">0</span>,<span class="code-keyword">this</span>.cumulativeWeightAdditive=<span class="code-number">0</span>},<span class="code-attr">restoreOriginalState</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">3</span>*<span class="code-keyword">this</span>.valueSize;<span class="code-keyword">this</span>.binding.setValue(<span class="code-keyword">this</span>.buffer,t)},<span class="code-attr">_setAdditiveIdentityNumeric</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._addIndex*<span class="code-keyword">this</span>.valueSize,e=t+<span class="code-keyword">this</span>.valueSize,n=t;n&lt;e;n++)<span class="code-keyword">this</span>.buffer[n]=<span class="code-number">0</span>},<span class="code-attr">_setAdditiveIdentityQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._setAdditiveIdentityNumeric(),<span class="code-keyword">this</span>.buffer[<span class="code-keyword">this</span>._addIndex*<span class="code-keyword">this</span>.valueSize+<span class="code-number">3</span>]=<span class="code-number">1</span>},<span class="code-attr">_setAdditiveIdentityOther</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._origIndex*<span class="code-keyword">this</span>.valueSize,e=<span class="code-keyword">this</span>._addIndex*<span class="code-keyword">this</span>.valueSize,n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.valueSize;n++)<span class="code-keyword">this</span>.buffer[e+n]=<span class="code-keyword">this</span>.buffer[t+n]},<span class="code-attr">_select</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">if</span>(r&gt;=<span class="code-number">.5</span>)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a!==i;++a)t[e+a]=t[n+a]},<span class="code-attr">_slerp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{wt.slerpFlat(t,e,t,e,t,n,r)},<span class="code-attr">_slerpAdditive</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>._workIndex*i;wt.multiplyQuaternionsFlat(t,a,t,e,t,n),wt.slerpFlat(t,e,t,e,t,a,r)},<span class="code-attr">_lerp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">1</span>-r,o=<span class="code-number">0</span>;o!==i;++o){<span class="code-keyword">var</span> s=e+o;t[s]=t[s]*a+t[n+o]*r}},<span class="code-attr">_lerpAdditive</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a!==i;++a){<span class="code-keyword">var</span> o=e+a;t[o]=t[o]+t[n+a]*r}}});<span class="code-keyword">var</span> Xl=<span class="code-string">"\\[\\]\\.:\\/"</span>,Yl=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"[\\[\\]\\.:\\/]"</span>,<span class="code-string">"g"</span>),Zl=<span class="code-string">"[^\\[\\]\\.:\\/]"</span>,Jl=<span class="code-string">"[^"</span>+Xl.replace(<span class="code-string">"\\."</span>,<span class="code-string">""</span>)+<span class="code-string">"]"</span>,Ql=<span class="code-regexp">/((?:WC+[\/:])*)/</span>.source.replace(<span class="code-string">"WC"</span>,Zl),Kl=<span class="code-regexp">/(WCOD+)?/</span>.source.replace(<span class="code-string">"WCOD"</span>,Jl),$l=<span class="code-regexp">/(?:\.(WC+)(?:\[(.+)\])?)?/</span>.source.replace(<span class="code-string">"WC"</span>,Zl),tu=<span class="code-regexp">/\.(WC+)(?:\[(.+)\])?/</span>.source.replace(<span class="code-string">"WC"</span>,Zl),eu=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^"</span>+Ql+Kl+$l+tu+<span class="code-string">"$"</span>),nu=[<span class="code-string">"material"</span>,<span class="code-string">"materials"</span>,<span class="code-string">"bones"</span>];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ru</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=n||iu.parseTrackName(e);<span class="code-keyword">this</span>._targetGroup=t,<span class="code-keyword">this</span>._bindings=t.subscribe_(e,r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">iu</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">this</span>.path=e,<span class="code-keyword">this</span>.parsedPath=n||iu.parseTrackName(e),<span class="code-keyword">this</span>.node=iu.findNode(t,<span class="code-keyword">this</span>.parsedPath.nodeName)||t,<span class="code-keyword">this</span>.rootNode=t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">au</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.uuid=st.generateUUID(),<span class="code-keyword">this</span>._objects=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>),<span class="code-keyword">this</span>.nCachedObjects_=<span class="code-number">0</span>;<span class="code-keyword">var</span> t={};<span class="code-keyword">this</span>._indicesByUUID=t;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=<span class="code-built_in">arguments</span>.length;e!==n;++e)t[<span class="code-built_in">arguments</span>[e].uuid]=e;<span class="code-keyword">this</span>._paths=[],<span class="code-keyword">this</span>._parsedPaths=[],<span class="code-keyword">this</span>._bindings=[],<span class="code-keyword">this</span>._bindingsIndicesByPath={};<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.stats={<span class="code-attr">objects</span>:{<span class="code-keyword">get</span> total(){<span class="code-keyword">return</span> r._objects.length},<span class="code-keyword">get</span> inUse(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>.total-r.nCachedObjects_}},<span class="code-keyword">get</span> bindingsPerObject(){<span class="code-keyword">return</span> r._bindings.length}}}<span class="code-built_in">Object</span>.assign(ru.prototype,{<span class="code-attr">getValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.bind();<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._targetGroup.nCachedObjects_,r=<span class="code-keyword">this</span>._bindings[n];<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;r.getValue(t,e)},<span class="code-attr">setValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._bindings,r=<span class="code-keyword">this</span>._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},<span class="code-attr">bind</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._bindings,e=<span class="code-keyword">this</span>._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},<span class="code-attr">unbind</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._bindings,e=<span class="code-keyword">this</span>._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),<span class="code-built_in">Object</span>.assign(iu,{<span class="code-attr">Composite</span>:ru,<span class="code-attr">create</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.isAnimationObjectGroup?<span class="code-keyword">new</span> iu.Composite(t,e,n):<span class="code-keyword">new</span> iu(t,e,n)},<span class="code-attr">sanitizeNodeName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.replace(<span class="code-regexp">/\s/g</span>,<span class="code-string">"_"</span>).replace(Yl,<span class="code-string">""</span>)},<span class="code-attr">parseTrackName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=eu.exec(t);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"PropertyBinding: Cannot parse trackName: "</span>+t);<span class="code-keyword">var</span> n={<span class="code-attr">nodeName</span>:e[<span class="code-number">2</span>],<span class="code-attr">objectName</span>:e[<span class="code-number">3</span>],<span class="code-attr">objectIndex</span>:e[<span class="code-number">4</span>],<span class="code-attr">propertyName</span>:e[<span class="code-number">5</span>],<span class="code-attr">propertyIndex</span>:e[<span class="code-number">6</span>]},r=n.nodeName&amp;&amp;n.nodeName.lastIndexOf(<span class="code-string">"."</span>);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;<span class="code-number">-1</span>!==r){<span class="code-keyword">var</span> i=n.nodeName.substring(r+<span class="code-number">1</span>);<span class="code-number">-1</span>!==nu.indexOf(i)&amp;&amp;(n.nodeName=n.nodeName.substring(<span class="code-number">0</span>,r),n.objectName=i)}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===n.propertyName||<span class="code-number">0</span>===n.propertyName.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"PropertyBinding: can not parse propertyName from trackName: "</span>+t);<span class="code-keyword">return</span> n},<span class="code-attr">findNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!e||<span class="code-string">""</span>===e||<span class="code-string">"."</span>===e||<span class="code-number">-1</span>===e||e===t.name||e===t.uuid)<span class="code-keyword">return</span> t;<span class="code-keyword">if</span>(t.skeleton){<span class="code-keyword">var</span> n=t.skeleton.getBoneByName(e);<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n)<span class="code-keyword">return</span> n}<span class="code-keyword">if</span>(t.children){<span class="code-keyword">var</span> r=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;n.length;r++){<span class="code-keyword">var</span> i=n[r];<span class="code-keyword">if</span>(i.name===e||i.uuid===e)<span class="code-keyword">return</span> i;<span class="code-keyword">var</span> a=t(i.children);<span class="code-keyword">if</span>(a)<span class="code-keyword">return</span> a}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(t.children);<span class="code-keyword">if</span>(r)<span class="code-keyword">return</span> r}<span class="code-keyword">return</span> <span class="code-literal">null</span>}}),<span class="code-built_in">Object</span>.assign(iu.prototype,{<span class="code-attr">_getValue_unavailable</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">_setValue_unavailable</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">BindingType</span>:{<span class="code-attr">Direct</span>:<span class="code-number">0</span>,<span class="code-attr">EntireArray</span>:<span class="code-number">1</span>,<span class="code-attr">ArrayElement</span>:<span class="code-number">2</span>,<span class="code-attr">HasFromToArray</span>:<span class="code-number">3</span>},<span class="code-attr">Versioning</span>:{<span class="code-attr">None</span>:<span class="code-number">0</span>,<span class="code-attr">NeedsUpdate</span>:<span class="code-number">1</span>,<span class="code-attr">MatrixWorldNeedsUpdate</span>:<span class="code-number">2</span>},<span class="code-attr">GetterByBindingType</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t[e]=<span class="code-keyword">this</span>.node[<span class="code-keyword">this</span>.propertyName]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.resolvedProperty,r=<span class="code-number">0</span>,i=n.length;r!==i;++r)t[e++]=n[r]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t[e]=<span class="code-keyword">this</span>.resolvedProperty[<span class="code-keyword">this</span>.propertyIndex]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty.toArray(t,e)}],<span class="code-attr">SetterByBindingTypeAndVersioning</span>:[[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.targetObject[<span class="code-keyword">this</span>.propertyName]=t[e]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.targetObject[<span class="code-keyword">this</span>.propertyName]=t[e],<span class="code-keyword">this</span>.targetObject.needsUpdate=!<span class="code-number">0</span>},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.targetObject[<span class="code-keyword">this</span>.propertyName]=t[e],<span class="code-keyword">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class="code-number">0</span>}],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.resolvedProperty,r=<span class="code-number">0</span>,i=n.length;r!==i;++r)n[r]=t[e++]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.resolvedProperty,r=<span class="code-number">0</span>,i=n.length;r!==i;++r)n[r]=t[e++];<span class="code-keyword">this</span>.targetObject.needsUpdate=!<span class="code-number">0</span>},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.resolvedProperty,r=<span class="code-number">0</span>,i=n.length;r!==i;++r)n[r]=t[e++];<span class="code-keyword">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class="code-number">0</span>}],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty[<span class="code-keyword">this</span>.propertyIndex]=t[e]},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty[<span class="code-keyword">this</span>.propertyIndex]=t[e],<span class="code-keyword">this</span>.targetObject.needsUpdate=!<span class="code-number">0</span>},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty[<span class="code-keyword">this</span>.propertyIndex]=t[e],<span class="code-keyword">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class="code-number">0</span>}],[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty.fromArray(t,e)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty.fromArray(t,e),<span class="code-keyword">this</span>.targetObject.needsUpdate=!<span class="code-number">0</span>},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.resolvedProperty.fromArray(t,e),<span class="code-keyword">this</span>.targetObject.matrixWorldNeedsUpdate=!<span class="code-number">0</span>}]],<span class="code-attr">getValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.bind(),<span class="code-keyword">this</span>.getValue(t,e)},<span class="code-attr">setValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.bind(),<span class="code-keyword">this</span>.setValue(t,e)},<span class="code-attr">bind</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.node,e=<span class="code-keyword">this</span>.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;<span class="code-keyword">if</span>(t||(t=iu.findNode(<span class="code-keyword">this</span>.rootNode,e.nodeName)||<span class="code-keyword">this</span>.rootNode,<span class="code-keyword">this</span>.node=t),<span class="code-keyword">this</span>.getValue=<span class="code-keyword">this</span>._getValue_unavailable,<span class="code-keyword">this</span>.setValue=<span class="code-keyword">this</span>._setValue_unavailable,t){<span class="code-keyword">if</span>(n){<span class="code-keyword">var</span> a=e.objectIndex;<span class="code-keyword">switch</span>(n){<span class="code-keyword">case</span><span class="code-string">"materials"</span>:<span class="code-keyword">if</span>(!t.material)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to material as node does not have a material."</span>,<span class="code-keyword">this</span>);<span class="code-keyword">if</span>(!t.material.materials)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array."</span>,<span class="code-keyword">this</span>);t=t.material.materials;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"bones"</span>:<span class="code-keyword">if</span>(!t.skeleton)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton."</span>,<span class="code-keyword">this</span>);t=t.skeleton.bones;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;t.length;o++)<span class="code-keyword">if</span>(t[o].name===a){a=o;<span class="code-keyword">break</span>}<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t[n])<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to objectName of node undefined."</span>,<span class="code-keyword">this</span>);t=t[n]}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t[a])<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined."</span>,<span class="code-keyword">this</span>,t);t=t[a]}}<span class="code-keyword">var</span> s=t[r];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==s){<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>.Versioning.None;<span class="code-keyword">this</span>.targetObject=t,<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.needsUpdate?c=<span class="code-keyword">this</span>.Versioning.NeedsUpdate:<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.matrixWorldNeedsUpdate&amp;&amp;(c=<span class="code-keyword">this</span>.Versioning.MatrixWorldNeedsUpdate);<span class="code-keyword">var</span> l=<span class="code-keyword">this</span>.BindingType.Direct;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==i){<span class="code-keyword">if</span>(<span class="code-string">"morphTargetInfluences"</span>===r){<span class="code-keyword">if</span>(!t.geometry)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry."</span>,<span class="code-keyword">this</span>);<span class="code-keyword">if</span>(!t.geometry.isBufferGeometry)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead."</span>,<span class="code-keyword">this</span>);<span class="code-keyword">if</span>(!t.geometry.morphAttributes)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes."</span>,<span class="code-keyword">this</span>);<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.morphTargetDictionary[i]&amp;&amp;(i=t.morphTargetDictionary[i])}l=<span class="code-keyword">this</span>.BindingType.ArrayElement,<span class="code-keyword">this</span>.resolvedProperty=s,<span class="code-keyword">this</span>.propertyIndex=i}<span class="code-keyword">else</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==s.fromArray&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==s.toArray?(l=<span class="code-keyword">this</span>.BindingType.HasFromToArray,<span class="code-keyword">this</span>.resolvedProperty=s):<span class="code-built_in">Array</span>.isArray(s)?(l=<span class="code-keyword">this</span>.BindingType.EntireArray,<span class="code-keyword">this</span>.resolvedProperty=s):<span class="code-keyword">this</span>.propertyName=r;<span class="code-keyword">this</span>.getValue=<span class="code-keyword">this</span>.GetterByBindingType[l],<span class="code-keyword">this</span>.setValue=<span class="code-keyword">this</span>.SetterByBindingTypeAndVersioning[l][c]}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> u=e.nodeName;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Trying to update property for track: "</span>+u+<span class="code-string">"."</span>+r+<span class="code-string">" but it wasn't found."</span>,t)}}<span class="code-keyword">else</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.PropertyBinding: Trying to update node for track: "</span>+<span class="code-keyword">this</span>.path+<span class="code-string">" but it wasn't found."</span>)},<span class="code-attr">unbind</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.node=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.getValue=<span class="code-keyword">this</span>._getValue_unbound,<span class="code-keyword">this</span>.setValue=<span class="code-keyword">this</span>._setValue_unbound}}),<span class="code-built_in">Object</span>.assign(iu.prototype,{<span class="code-attr">_getValue_unbound</span>:iu.prototype.getValue,<span class="code-attr">_setValue_unbound</span>:iu.prototype.setValue}),<span class="code-built_in">Object</span>.assign(au.prototype,{<span class="code-attr">isAnimationObjectGroup</span>:!<span class="code-number">0</span>,<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._objects,e=<span class="code-keyword">this</span>._indicesByUUID,n=<span class="code-keyword">this</span>._paths,r=<span class="code-keyword">this</span>._parsedPaths,i=<span class="code-keyword">this</span>._bindings,a=i.length,o=<span class="code-keyword">void</span> <span class="code-number">0</span>,s=t.length,c=<span class="code-keyword">this</span>.nCachedObjects_,l=<span class="code-number">0</span>,u=<span class="code-built_in">arguments</span>.length;l!==u;++l){<span class="code-keyword">var</span> h=<span class="code-built_in">arguments</span>[l],d=h.uuid,p=e[d];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===p){p=s++,e[d]=p,t.push(h);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,m=a;f!==m;++f)i[f].push(<span class="code-keyword">new</span> iu(h,n[f],r[f]))}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(p&lt;c){o=t[p];<span class="code-keyword">var</span> v=--c,g=t[v];e[g.uuid]=p,t[p]=g,e[d]=v,t[v]=h;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> y=<span class="code-number">0</span>,x=a;y!==x;++y){<span class="code-keyword">var</span> _=i[y],b=_[v],w=_[p];_[p]=b,<span class="code-keyword">void</span> <span class="code-number">0</span>===w&amp;&amp;(w=<span class="code-keyword">new</span> iu(h,n[y],r[y])),_[v]=w}}<span class="code-keyword">else</span> t[p]!==o&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes."</span>)}<span class="code-keyword">this</span>.nCachedObjects_=c},<span class="code-attr">remove</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._objects,e=<span class="code-keyword">this</span>._indicesByUUID,n=<span class="code-keyword">this</span>._bindings,r=n.length,i=<span class="code-keyword">this</span>.nCachedObjects_,a=<span class="code-number">0</span>,o=<span class="code-built_in">arguments</span>.length;a!==o;++a){<span class="code-keyword">var</span> s=<span class="code-built_in">arguments</span>[a],c=s.uuid,l=e[c];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==l&amp;&amp;l&gt;=i){<span class="code-keyword">var</span> u=i++,h=t[u];e[h.uuid]=l,t[l]=h,e[c]=u,t[u]=s;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=r;d!==p;++d){<span class="code-keyword">var</span> f=n[d],m=f[u],v=f[l];f[l]=m,f[u]=v}}}<span class="code-keyword">this</span>.nCachedObjects_=i},<span class="code-attr">uncache</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._objects,e=<span class="code-keyword">this</span>._indicesByUUID,n=<span class="code-keyword">this</span>._bindings,r=n.length,i=<span class="code-keyword">this</span>.nCachedObjects_,a=t.length,o=<span class="code-number">0</span>,s=<span class="code-built_in">arguments</span>.length;o!==s;++o){<span class="code-keyword">var</span> c=<span class="code-built_in">arguments</span>[o],l=c.uuid,u=e[l];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==u)<span class="code-keyword">if</span>(<span class="code-keyword">delete</span> e[l],u&lt;i){<span class="code-keyword">var</span> h=--i,d=t[h],p=--a,f=t[p];e[d.uuid]=u,t[u]=d,e[f.uuid]=h,t[h]=f,t.pop();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">0</span>,v=r;m!==v;++m){<span class="code-keyword">var</span> g=n[m],y=g[h],x=g[p];g[u]=y,g[h]=x,g.pop()}}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> _=--a,b=t[_];_&gt;<span class="code-number">0</span>&amp;&amp;(e[b.uuid]=u),t[u]=b,t.pop();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w=<span class="code-number">0</span>,M=r;w!==M;++w){<span class="code-keyword">var</span> S=n[w];S[u]=S[_],S.pop()}}}<span class="code-keyword">this</span>.nCachedObjects_=i},<span class="code-attr">subscribe_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._bindingsIndicesByPath,r=n[t],i=<span class="code-keyword">this</span>._bindings;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==r)<span class="code-keyword">return</span> i[r];<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>._paths,o=<span class="code-keyword">this</span>._parsedPaths,s=<span class="code-keyword">this</span>._objects,c=s.length,l=<span class="code-keyword">this</span>.nCachedObjects_,u=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(c);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(u);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=l,d=s.length;h!==d;++h){<span class="code-keyword">var</span> p=s[h];u[h]=<span class="code-keyword">new</span> iu(p,t,e)}<span class="code-keyword">return</span> u},<span class="code-attr">unsubscribe_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._bindingsIndicesByPath,n=e[t];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==n){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._paths,i=<span class="code-keyword">this</span>._parsedPaths,a=<span class="code-keyword">this</span>._bindings,o=a.length<span class="code-number">-1</span>,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});<span class="code-keyword">var</span> ou=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-literal">null</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=e.blendMode),<span class="code-keyword">this</span>._mixer=t,<span class="code-keyword">this</span>._clip=e,<span class="code-keyword">this</span>._localRoot=n,<span class="code-keyword">this</span>.blendMode=r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.tracks,a=i.length,o=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(a),s={<span class="code-attr">endingStart</span>:H,<span class="code-attr">endingEnd</span>:H},c=<span class="code-number">0</span>;c!==a;++c){<span class="code-keyword">var</span> l=i[c].createInterpolant(<span class="code-literal">null</span>);o[c]=l,l.settings=s}<span class="code-keyword">this</span>._interpolantSettings=s,<span class="code-keyword">this</span>._interpolants=o,<span class="code-keyword">this</span>._propertyBindings=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(a),<span class="code-keyword">this</span>._cacheIndex=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._byClipCacheIndex=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._timeScaleInterpolant=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._weightInterpolant=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.loop=<span class="code-number">2201</span>,<span class="code-keyword">this</span>._loopCount=<span class="code-number">-1</span>,<span class="code-keyword">this</span>._startTime=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.time=<span class="code-number">0</span>,<span class="code-keyword">this</span>.timeScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>._effectiveTimeScale=<span class="code-number">1</span>,<span class="code-keyword">this</span>.weight=<span class="code-number">1</span>,<span class="code-keyword">this</span>._effectiveWeight=<span class="code-number">1</span>,<span class="code-keyword">this</span>.repetitions=<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>.paused=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.enabled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.clampWhenFinished=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.zeroSlopeAtStart=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.zeroSlopeAtEnd=!<span class="code-number">0</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._mixer._activateAction(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>},e.stop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._mixer._deactivateAction(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.reset()},e.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.paused=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.enabled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.time=<span class="code-number">0</span>,<span class="code-keyword">this</span>._loopCount=<span class="code-number">-1</span>,<span class="code-keyword">this</span>._startTime=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.stopFading().stopWarping()},e.isRunning=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.enabled&amp;&amp;!<span class="code-keyword">this</span>.paused&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>.timeScale&amp;&amp;<span class="code-literal">null</span>===<span class="code-keyword">this</span>._startTime&amp;&amp;<span class="code-keyword">this</span>._mixer._isActiveAction(<span class="code-keyword">this</span>)},e.isScheduled=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._mixer._isActiveAction(<span class="code-keyword">this</span>)},e.startAt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._startTime=t,<span class="code-keyword">this</span>},e.setLoop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loop=t,<span class="code-keyword">this</span>.repetitions=e,<span class="code-keyword">this</span>},e.setEffectiveWeight=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.weight=t,<span class="code-keyword">this</span>._effectiveWeight=<span class="code-keyword">this</span>.enabled?t:<span class="code-number">0</span>,<span class="code-keyword">this</span>.stopFading()},e.getEffectiveWeight=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._effectiveWeight},e.fadeIn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._scheduleFading(t,<span class="code-number">0</span>,<span class="code-number">1</span>)},e.fadeOut=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._scheduleFading(t,<span class="code-number">1</span>,<span class="code-number">0</span>)},e.crossFadeFrom=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">if</span>(t.fadeOut(e),<span class="code-keyword">this</span>.fadeIn(e),n){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(<span class="code-number">1</span>,a,e),<span class="code-keyword">this</span>.warp(o,<span class="code-number">1</span>,e)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.crossFadeTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> t.crossFadeFrom(<span class="code-keyword">this</span>,e,n)},e.stopFading=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._weightInterpolant;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==t&amp;&amp;(<span class="code-keyword">this</span>._weightInterpolant=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._mixer._takeBackControlInterpolant(t)),<span class="code-keyword">this</span>},e.setEffectiveTimeScale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.timeScale=t,<span class="code-keyword">this</span>._effectiveTimeScale=<span class="code-keyword">this</span>.paused?<span class="code-number">0</span>:t,<span class="code-keyword">this</span>.stopWarping()},e.getEffectiveTimeScale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._effectiveTimeScale},e.setDuration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.timeScale=<span class="code-keyword">this</span>._clip.duration/t,<span class="code-keyword">this</span>.stopWarping()},e.syncWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.time=t.time,<span class="code-keyword">this</span>.timeScale=t.timeScale,<span class="code-keyword">this</span>.stopWarping()},e.halt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.warp(<span class="code-keyword">this</span>._effectiveTimeScale,<span class="code-number">0</span>,t)},e.warp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._mixer,i=r.time,a=<span class="code-keyword">this</span>.timeScale,o=<span class="code-keyword">this</span>._timeScaleInterpolant;<span class="code-literal">null</span>===o&amp;&amp;(o=r._lendControlInterpolant(),<span class="code-keyword">this</span>._timeScaleInterpolant=o);<span class="code-keyword">var</span> s=o.parameterPositions,c=o.sampleValues;<span class="code-keyword">return</span> s[<span class="code-number">0</span>]=i,s[<span class="code-number">1</span>]=i+n,c[<span class="code-number">0</span>]=t/a,c[<span class="code-number">1</span>]=e/a,<span class="code-keyword">this</span>},e.stopWarping=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._timeScaleInterpolant;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==t&amp;&amp;(<span class="code-keyword">this</span>._timeScaleInterpolant=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._mixer._takeBackControlInterpolant(t)),<span class="code-keyword">this</span>},e.getMixer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._mixer},e.getClip=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._clip},e.getRoot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._localRoot||<span class="code-keyword">this</span>._mixer._root},e._update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.enabled){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>._startTime;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==i){<span class="code-keyword">var</span> a=(t-i)*n;<span class="code-keyword">if</span>(a&lt;<span class="code-number">0</span>||<span class="code-number">0</span>===n)<span class="code-keyword">return</span>;<span class="code-keyword">this</span>._startTime=<span class="code-literal">null</span>,e=n*a}e*=<span class="code-keyword">this</span>._updateTimeScale(t);<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>._updateTime(e),s=<span class="code-keyword">this</span>._updateWeight(t);<span class="code-keyword">if</span>(s&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>._interpolants,l=<span class="code-keyword">this</span>._propertyBindings;<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.blendMode){<span class="code-keyword">case</span> j:<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>,h=c.length;u!==h;++u)c[u].evaluate(o),l[u].accumulateAdditive(s);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> W:<span class="code-keyword">default</span>:<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=<span class="code-number">0</span>,p=c.length;d!==p;++d)c[d].evaluate(o),l[d].accumulate(r,s)}}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._updateWeight(t)},e._updateWeight=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.enabled){e=<span class="code-keyword">this</span>.weight;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._weightInterpolant;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==n){<span class="code-keyword">var</span> r=n.evaluate(t)[<span class="code-number">0</span>];e*=r,t&gt;n.parameterPositions[<span class="code-number">1</span>]&amp;&amp;(<span class="code-keyword">this</span>.stopFading(),<span class="code-number">0</span>===r&amp;&amp;(<span class="code-keyword">this</span>.enabled=!<span class="code-number">1</span>))}}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._effectiveWeight=e,e},e._updateTimeScale=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.paused){e=<span class="code-keyword">this</span>.timeScale;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._timeScaleInterpolant;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==n)e*=n.evaluate(t)[<span class="code-number">0</span>],t&gt;n.parameterPositions[<span class="code-number">1</span>]&amp;&amp;(<span class="code-keyword">this</span>.stopWarping(),<span class="code-number">0</span>===e?<span class="code-keyword">this</span>.paused=!<span class="code-number">0</span>:<span class="code-keyword">this</span>.timeScale=e)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._effectiveTimeScale=e,e},e._updateTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._clip.duration,n=<span class="code-keyword">this</span>.loop,r=<span class="code-keyword">this</span>.time+t,i=<span class="code-keyword">this</span>._loopCount,a=<span class="code-number">2202</span>===n;<span class="code-keyword">if</span>(<span class="code-number">0</span>===t)<span class="code-keyword">return</span><span class="code-number">-1</span>===i?r:a&amp;&amp;<span class="code-number">1</span>==(<span class="code-number">1</span>&amp;i)?e-r:r;<span class="code-keyword">if</span>(<span class="code-number">2200</span>===n){<span class="code-number">-1</span>===i&amp;&amp;(<span class="code-keyword">this</span>._loopCount=<span class="code-number">0</span>,<span class="code-keyword">this</span>._setEndings(!<span class="code-number">0</span>,!<span class="code-number">0</span>,!<span class="code-number">1</span>));t:{<span class="code-keyword">if</span>(r&gt;=e)r=e;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(r&lt;<span class="code-number">0</span>)){<span class="code-keyword">this</span>.time=r;<span class="code-keyword">break</span> t}r=<span class="code-number">0</span>}<span class="code-keyword">this</span>.clampWhenFinished?<span class="code-keyword">this</span>.paused=!<span class="code-number">0</span>:<span class="code-keyword">this</span>.enabled=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.time=r,<span class="code-keyword">this</span>._mixer.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"finished"</span>,<span class="code-attr">action</span>:<span class="code-keyword">this</span>,<span class="code-attr">direction</span>:t&lt;<span class="code-number">0</span>?<span class="code-number">-1</span>:<span class="code-number">1</span>})}}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-number">-1</span>===i&amp;&amp;(t&gt;=<span class="code-number">0</span>?(i=<span class="code-number">0</span>,<span class="code-keyword">this</span>._setEndings(!<span class="code-number">0</span>,<span class="code-number">0</span>===<span class="code-keyword">this</span>.repetitions,a)):<span class="code-keyword">this</span>._setEndings(<span class="code-number">0</span>===<span class="code-keyword">this</span>.repetitions,!<span class="code-number">0</span>,a)),r&gt;=e||r&lt;<span class="code-number">0</span>){<span class="code-keyword">var</span> o=<span class="code-built_in">Math</span>.floor(r/e);r-=e*o,i+=<span class="code-built_in">Math</span>.abs(o);<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.repetitions-i;<span class="code-keyword">if</span>(s&lt;=<span class="code-number">0</span>)<span class="code-keyword">this</span>.clampWhenFinished?<span class="code-keyword">this</span>.paused=!<span class="code-number">0</span>:<span class="code-keyword">this</span>.enabled=!<span class="code-number">1</span>,r=t&gt;<span class="code-number">0</span>?e:<span class="code-number">0</span>,<span class="code-keyword">this</span>.time=r,<span class="code-keyword">this</span>._mixer.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"finished"</span>,<span class="code-attr">action</span>:<span class="code-keyword">this</span>,<span class="code-attr">direction</span>:t&gt;<span class="code-number">0</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>});<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>===s){<span class="code-keyword">var</span> c=t&lt;<span class="code-number">0</span>;<span class="code-keyword">this</span>._setEndings(c,!c,a)}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._setEndings(!<span class="code-number">1</span>,!<span class="code-number">1</span>,a);<span class="code-keyword">this</span>._loopCount=i,<span class="code-keyword">this</span>.time=r,<span class="code-keyword">this</span>._mixer.dispatchEvent({<span class="code-attr">type</span>:<span class="code-string">"loop"</span>,<span class="code-attr">action</span>:<span class="code-keyword">this</span>,<span class="code-attr">loopDelta</span>:o})}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.time=r;<span class="code-keyword">if</span>(a&amp;&amp;<span class="code-number">1</span>==(<span class="code-number">1</span>&amp;i))<span class="code-keyword">return</span> e-r}<span class="code-keyword">return</span> r},e._setEndings=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._interpolantSettings;n?(r.endingStart=k,r.endingEnd=k):(r.endingStart=t?<span class="code-keyword">this</span>.zeroSlopeAtStart?k:H:V,r.endingEnd=e?<span class="code-keyword">this</span>.zeroSlopeAtEnd?k:H:V)},e._scheduleFading=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._mixer,i=r.time,a=<span class="code-keyword">this</span>._weightInterpolant;<span class="code-literal">null</span>===a&amp;&amp;(a=r._lendControlInterpolant(),<span class="code-keyword">this</span>._weightInterpolant=a);<span class="code-keyword">var</span> o=a.parameterPositions,s=a.sampleValues;<span class="code-keyword">return</span> o[<span class="code-number">0</span>]=i,s[<span class="code-number">0</span>]=e,o[<span class="code-number">1</span>]=i+t,s[<span class="code-number">1</span>]=n,<span class="code-keyword">this</span>},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">su</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._root=t,<span class="code-keyword">this</span>._initMemoryManager(),<span class="code-keyword">this</span>._accuIndex=<span class="code-number">0</span>,<span class="code-keyword">this</span>.time=<span class="code-number">0</span>,<span class="code-keyword">this</span>.timeScale=<span class="code-number">1</span>}su.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(rt.prototype),{<span class="code-attr">constructor</span>:su,<span class="code-attr">_bindAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=t._localRoot||<span class="code-keyword">this</span>._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,c=<span class="code-keyword">this</span>._bindingsByRootAndName,l=c[s];<span class="code-keyword">void</span> <span class="code-number">0</span>===l&amp;&amp;(l={},c[s]=l);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u!==i;++u){<span class="code-keyword">var</span> h=r[u],d=h.name,p=l[d];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==p)a[u]=p;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==(p=a[u])){<span class="code-literal">null</span>===p._cacheIndex&amp;&amp;(++p.referenceCount,<span class="code-keyword">this</span>._addInactiveBinding(p,s,d));<span class="code-keyword">continue</span>}<span class="code-keyword">var</span> f=e&amp;&amp;e._propertyBindings[u].binding.parsedPath;++(p=<span class="code-keyword">new</span> ql(iu.create(n,d,f),h.ValueTypeName,h.getValueSize())).referenceCount,<span class="code-keyword">this</span>._addInactiveBinding(p,s,d),a[u]=p}o[u].resultBuffer=p.buffer}},<span class="code-attr">_activateAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>._isActiveAction(t)){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t._cacheIndex){<span class="code-keyword">var</span> e=(t._localRoot||<span class="code-keyword">this</span>._root).uuid,n=t._clip.uuid,r=<span class="code-keyword">this</span>._actionsByClip[n];<span class="code-keyword">this</span>._bindAction(t,r&amp;&amp;r.knownActions[<span class="code-number">0</span>]),<span class="code-keyword">this</span>._addInactiveAction(t,n,e)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t._propertyBindings,a=<span class="code-number">0</span>,o=i.length;a!==o;++a){<span class="code-keyword">var</span> s=i[a];<span class="code-number">0</span>==s.useCount++&amp;&amp;(<span class="code-keyword">this</span>._lendBinding(s),s.saveOriginalState())}<span class="code-keyword">this</span>._lendAction(t)}},<span class="code-attr">_deactivateAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._isActiveAction(t)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t._propertyBindings,n=<span class="code-number">0</span>,r=e.length;n!==r;++n){<span class="code-keyword">var</span> i=e[n];<span class="code-number">0</span>==--i.useCount&amp;&amp;(i.restoreOriginalState(),<span class="code-keyword">this</span>._takeBackBinding(i))}<span class="code-keyword">this</span>._takeBackAction(t)}},<span class="code-attr">_initMemoryManager</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._actions=[],<span class="code-keyword">this</span>._nActiveActions=<span class="code-number">0</span>,<span class="code-keyword">this</span>._actionsByClip={},<span class="code-keyword">this</span>._bindings=[],<span class="code-keyword">this</span>._nActiveBindings=<span class="code-number">0</span>,<span class="code-keyword">this</span>._bindingsByRootAndName={},<span class="code-keyword">this</span>._controlInterpolants=[],<span class="code-keyword">this</span>._nActiveControlInterpolants=<span class="code-number">0</span>;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.stats={<span class="code-attr">actions</span>:{<span class="code-keyword">get</span> total(){<span class="code-keyword">return</span> t._actions.length},<span class="code-keyword">get</span> inUse(){<span class="code-keyword">return</span> t._nActiveActions}},<span class="code-attr">bindings</span>:{<span class="code-keyword">get</span> total(){<span class="code-keyword">return</span> t._bindings.length},<span class="code-keyword">get</span> inUse(){<span class="code-keyword">return</span> t._nActiveBindings}},<span class="code-attr">controlInterpolants</span>:{<span class="code-keyword">get</span> total(){<span class="code-keyword">return</span> t._controlInterpolants.length},<span class="code-keyword">get</span> inUse(){<span class="code-keyword">return</span> t._nActiveControlInterpolants}}}},<span class="code-attr">_isActiveAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t._cacheIndex;<span class="code-keyword">return</span> <span class="code-literal">null</span>!==e&amp;&amp;e&lt;<span class="code-keyword">this</span>._nActiveActions},<span class="code-attr">_addInactiveAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._actions,i=<span class="code-keyword">this</span>._actionsByClip,a=i[e];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===a)a={<span class="code-attr">knownActions</span>:[t],<span class="code-attr">actionByRoot</span>:{}},t._byClipCacheIndex=<span class="code-number">0</span>,i[e]=a;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},<span class="code-attr">_removeInactiveAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._actions,n=e[e.length<span class="code-number">-1</span>],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=<span class="code-literal">null</span>;<span class="code-keyword">var</span> i=t._clip.uuid,a=<span class="code-keyword">this</span>._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length<span class="code-number">-1</span>],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=<span class="code-literal">null</span>,<span class="code-keyword">delete</span> o.actionByRoot[(t._localRoot||<span class="code-keyword">this</span>._root).uuid],<span class="code-number">0</span>===s.length&amp;&amp;<span class="code-keyword">delete</span> a[i],<span class="code-keyword">this</span>._removeInactiveBindingsForAction(t)},<span class="code-attr">_removeInactiveBindingsForAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=t._propertyBindings,n=<span class="code-number">0</span>,r=e.length;n!==r;++n){<span class="code-keyword">var</span> i=e[n];<span class="code-number">0</span>==--i.referenceCount&amp;&amp;<span class="code-keyword">this</span>._removeInactiveBinding(i)}},<span class="code-attr">_lendAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._actions,n=t._cacheIndex,r=<span class="code-keyword">this</span>._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class="code-attr">_takeBackAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._actions,n=t._cacheIndex,r=--<span class="code-keyword">this</span>._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class="code-attr">_addInactiveBinding</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._bindingsByRootAndName,i=<span class="code-keyword">this</span>._bindings,a=r[e];<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a={},r[e]=a),a[n]=t,t._cacheIndex=i.length,i.push(t)},<span class="code-attr">_removeInactiveBinding</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=<span class="code-keyword">this</span>._bindingsByRootAndName,o=a[r],s=e[e.length<span class="code-number">-1</span>],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),<span class="code-keyword">delete</span> o[i],<span class="code-number">0</span>===<span class="code-built_in">Object</span>.keys(o).length&amp;&amp;<span class="code-keyword">delete</span> a[r]},<span class="code-attr">_lendBinding</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._bindings,n=t._cacheIndex,r=<span class="code-keyword">this</span>._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class="code-attr">_takeBackBinding</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._bindings,n=t._cacheIndex,r=--<span class="code-keyword">this</span>._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},<span class="code-attr">_lendControlInterpolant</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._controlInterpolants,e=<span class="code-keyword">this</span>._nActiveControlInterpolants++,n=t[e];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;((n=<span class="code-keyword">new</span> rc(<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">2</span>),<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">2</span>),<span class="code-number">1</span>,<span class="code-keyword">this</span>._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},<span class="code-attr">_takeBackControlInterpolant</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._controlInterpolants,n=t.__cacheIndex,r=--<span class="code-keyword">this</span>._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},<span class="code-attr">_controlInterpolantsResultBuffer</span>:<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">1</span>),<span class="code-attr">clipAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=e||<span class="code-keyword">this</span>._root,i=r.uuid,a=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t?pc.findByName(r,t):t,o=<span class="code-literal">null</span>!==a?a.uuid:t,s=<span class="code-keyword">this</span>._actionsByClip[o],c=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-literal">null</span>!==a?a.blendMode:W),<span class="code-keyword">void</span> <span class="code-number">0</span>!==s){<span class="code-keyword">var</span> l=s.actionByRoot[i];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==l&amp;&amp;l.blendMode===n)<span class="code-keyword">return</span> l;c=s.knownActions[<span class="code-number">0</span>],<span class="code-literal">null</span>===a&amp;&amp;(a=c._clip)}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===a)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> u=<span class="code-keyword">new</span> ou(<span class="code-keyword">this</span>,a,e,n);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._bindAction(u,c),<span class="code-keyword">this</span>._addInactiveAction(u,o,i),u},<span class="code-attr">existingAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=e||<span class="code-keyword">this</span>._root,r=n.uuid,i=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t?pc.findByName(n,t):t,a=i?i.uuid:t,o=<span class="code-keyword">this</span>._actionsByClip[a];<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==o&amp;&amp;o.actionByRoot[r]||<span class="code-literal">null</span>},<span class="code-attr">stopAllAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._actions,e=<span class="code-keyword">this</span>._nActiveActions<span class="code-number">-1</span>;e&gt;=<span class="code-number">0</span>;--e)t[e].stop();<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">update</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t*=<span class="code-keyword">this</span>.timeScale;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._actions,n=<span class="code-keyword">this</span>._nActiveActions,r=<span class="code-keyword">this</span>.time+=t,i=<span class="code-built_in">Math</span>.sign(t),a=<span class="code-keyword">this</span>._accuIndex^=<span class="code-number">1</span>,o=<span class="code-number">0</span>;o!==n;++o){e[o]._update(r,t,i,a)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>._bindings,c=<span class="code-keyword">this</span>._nActiveBindings,l=<span class="code-number">0</span>;l!==c;++l)s[l].apply(a);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">setTime</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.time=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-keyword">this</span>._actions.length;e++)<span class="code-keyword">this</span>._actions[e].time=<span class="code-number">0</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.update(t)},<span class="code-attr">getRoot</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._root},<span class="code-attr">uncacheClip</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._actions,n=t.uuid,r=<span class="code-keyword">this</span>._actionsByClip,i=r[n];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==i){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=i.knownActions,o=<span class="code-number">0</span>,s=a.length;o!==s;++o){<span class="code-keyword">var</span> c=a[o];<span class="code-keyword">this</span>._deactivateAction(c);<span class="code-keyword">var</span> l=c._cacheIndex,u=e[e.length<span class="code-number">-1</span>];c._cacheIndex=<span class="code-literal">null</span>,c._byClipCacheIndex=<span class="code-literal">null</span>,u._cacheIndex=l,e[l]=u,e.pop(),<span class="code-keyword">this</span>._removeInactiveBindingsForAction(c)}<span class="code-keyword">delete</span> r[n]}},<span class="code-attr">uncacheRoot</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.uuid,n=<span class="code-keyword">this</span>._actionsByClip;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> n){<span class="code-keyword">var</span> i=n[r].actionByRoot[e];<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;(<span class="code-keyword">this</span>._deactivateAction(i),<span class="code-keyword">this</span>._removeInactiveAction(i))}<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>._bindingsByRootAndName[e];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==a)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> a){<span class="code-keyword">var</span> s=a[o];s.restoreOriginalState(),<span class="code-keyword">this</span>._removeInactiveBinding(s)}},<span class="code-attr">uncacheAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.existingAction(t,e);<span class="code-literal">null</span>!==n&amp;&amp;(<span class="code-keyword">this</span>._deactivateAction(n),<span class="code-keyword">this</span>._removeInactiveAction(n))}});<span class="code-keyword">var</span> cu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t</span>)</span>{<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uniform: Type parameter is no longer needed."</span>),t=<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]),<span class="code-keyword">this</span>.value=t}<span class="code-keyword">return</span> t.prototype.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> t(<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.value.clone?<span class="code-keyword">this</span>.value:<span class="code-keyword">this</span>.value.clone())},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lu</span>(<span class="code-params">t,e,n</span>)</span>{da.call(<span class="code-keyword">this</span>,t,e),<span class="code-keyword">this</span>.meshPerAttribute=n||<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">uu</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">this</span>.buffer=t,<span class="code-keyword">this</span>.type=e,<span class="code-keyword">this</span>.itemSize=n,<span class="code-keyword">this</span>.elementSize=r,<span class="code-keyword">this</span>.count=i,<span class="code-keyword">this</span>.version=<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hu</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">this</span>.ray=<span class="code-keyword">new</span> Jt(t,e),<span class="code-keyword">this</span>.near=n||<span class="code-number">0</span>,<span class="code-keyword">this</span>.far=r||<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>.camera=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.layers=<span class="code-keyword">new</span> ce,<span class="code-keyword">this</span>.params={<span class="code-attr">Mesh</span>:{},<span class="code-attr">Line</span>:{<span class="code-attr">threshold</span>:<span class="code-number">1</span>},<span class="code-attr">LOD</span>:{},<span class="code-attr">Points</span>:{<span class="code-attr">threshold</span>:<span class="code-number">1</span>},<span class="code-attr">Sprite</span>:{}},<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>.params,{<span class="code-attr">PointCloud</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Raycaster: params.PointCloud has been renamed to params.Points."</span>),<span class="code-keyword">this</span>.Points}}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">du</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> t.distance-e.distance}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pu</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">if</span>(t.layers.test(e.layers)&amp;&amp;t.raycast(e,n),!<span class="code-number">0</span>===r)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.children,a=<span class="code-number">0</span>,o=i.length;a&lt;o;a++)pu(i[a],e,n,!<span class="code-number">0</span>)}lu.prototype=<span class="code-built_in">Object</span>.assign(<span class="code-built_in">Object</span>.create(da.prototype),{<span class="code-attr">constructor</span>:lu,<span class="code-attr">isInstancedInterleavedBuffer</span>:!<span class="code-number">0</span>,<span class="code-attr">copy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> da.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.meshPerAttribute=t.meshPerAttribute,<span class="code-keyword">this</span>},<span class="code-attr">clone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=da.prototype.clone.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.meshPerAttribute=<span class="code-keyword">this</span>.meshPerAttribute,e},<span class="code-attr">toJSON</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=da.prototype.toJSON.call(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> e.isInstancedInterleavedBuffer=!<span class="code-number">0</span>,e.meshPerAttribute=<span class="code-keyword">this</span>.meshPerAttribute,e}}),<span class="code-built_in">Object</span>.defineProperty(uu.prototype,<span class="code-string">"needsUpdate"</span>,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{!<span class="code-number">0</span>===t&amp;&amp;<span class="code-keyword">this</span>.version++}}),<span class="code-built_in">Object</span>.assign(uu.prototype,{<span class="code-attr">isGLBufferAttribute</span>:!<span class="code-number">0</span>,<span class="code-attr">setBuffer</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.buffer=t,<span class="code-keyword">this</span>},<span class="code-attr">setType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.type=t,<span class="code-keyword">this</span>.elementSize=e,<span class="code-keyword">this</span>},<span class="code-attr">setItemSize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.itemSize=t,<span class="code-keyword">this</span>},<span class="code-attr">setCount</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.count=t,<span class="code-keyword">this</span>}}),<span class="code-built_in">Object</span>.assign(hu.prototype,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.ray.set(t,e)},<span class="code-attr">setFromCamera</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{e&amp;&amp;e.isPerspectiveCamera?(<span class="code-keyword">this</span>.ray.origin.setFromMatrixPosition(e.matrixWorld),<span class="code-keyword">this</span>.ray.direction.set(t.x,t.y,<span class="code-number">.5</span>).unproject(e).sub(<span class="code-keyword">this</span>.ray.origin).normalize(),<span class="code-keyword">this</span>.camera=e):e&amp;&amp;e.isOrthographicCamera?(<span class="code-keyword">this</span>.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),<span class="code-keyword">this</span>.ray.direction.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>).transformDirection(e.matrixWorld),<span class="code-keyword">this</span>.camera=e):<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Raycaster: Unsupported camera type."</span>)},<span class="code-attr">intersectObject</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=n||[];<span class="code-keyword">return</span> pu(t,<span class="code-keyword">this</span>,r,e),r.sort(du),r},<span class="code-attr">intersectObjects</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=n||[];<span class="code-keyword">if</span>(!<span class="code-number">1</span>===<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Raycaster.intersectObjects: objects is not an Array."</span>),r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,a=t.length;i&lt;a;i++)pu(t[i],<span class="code-keyword">this</span>,r,e);<span class="code-keyword">return</span> r.sort(du),r}});<span class="code-keyword">var</span> fu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">0</span>),<span class="code-keyword">this</span>.radius=t,<span class="code-keyword">this</span>.phi=e,<span class="code-keyword">this</span>.theta=n,<span class="code-keyword">this</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=t,<span class="code-keyword">this</span>.phi=e,<span class="code-keyword">this</span>.theta=n,<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=t.radius,<span class="code-keyword">this</span>.phi=t.phi,<span class="code-keyword">this</span>.theta=t.theta,<span class="code-keyword">this</span>},e.makeSafe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">1e-6</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.phi=<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.PI-t,<span class="code-keyword">this</span>.phi)),<span class="code-keyword">this</span>},e.setFromVector3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromCartesianCoords(t.x,t.y,t.z)},e.setFromCartesianCoords=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=<span class="code-built_in">Math</span>.sqrt(t*t+e*e+n*n),<span class="code-number">0</span>===<span class="code-keyword">this</span>.radius?(<span class="code-keyword">this</span>.theta=<span class="code-number">0</span>,<span class="code-keyword">this</span>.phi=<span class="code-number">0</span>):(<span class="code-keyword">this</span>.theta=<span class="code-built_in">Math</span>.atan2(t,n),<span class="code-keyword">this</span>.phi=<span class="code-built_in">Math</span>.acos(st.clamp(e/<span class="code-keyword">this</span>.radius,<span class="code-number">-1</span>,<span class="code-number">1</span>))),<span class="code-keyword">this</span>},t}(),mu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-number">1</span>,<span class="code-keyword">this</span>.theta=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">0</span>,<span class="code-keyword">this</span>.y=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?n:<span class="code-number">0</span>,<span class="code-keyword">this</span>}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=t,<span class="code-keyword">this</span>.theta=e,<span class="code-keyword">this</span>.y=n,<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=t.radius,<span class="code-keyword">this</span>.theta=t.theta,<span class="code-keyword">this</span>.y=t.y,<span class="code-keyword">this</span>},e.setFromVector3=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setFromCartesianCoords(t.x,t.y,t.z)},e.setFromCartesianCoords=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.radius=<span class="code-built_in">Math</span>.sqrt(t*t+n*n),<span class="code-keyword">this</span>.theta=<span class="code-built_in">Math</span>.atan2(t,n),<span class="code-keyword">this</span>.y=e,<span class="code-keyword">this</span>},t}(),vu=<span class="code-keyword">new</span> pt,gu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"isBox2"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.min=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> pt(<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>),<span class="code-keyword">this</span>.max=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> pt(<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-number">-1</span>/<span class="code-number">0</span>)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t),<span class="code-keyword">this</span>.max.copy(e),<span class="code-keyword">this</span>},e.setFromPoints=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.makeEmpty();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>,n=t.length;e&lt;n;e++)<span class="code-keyword">this</span>.expandByPoint(t[e]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>},e.setFromCenterAndSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=vu.copy(e).multiplyScalar(<span class="code-number">.5</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t).sub(n),<span class="code-keyword">this</span>.max.copy(t).add(n),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.copy(t.min),<span class="code-keyword">this</span>.max.copy(t.max),<span class="code-keyword">this</span>},e.makeEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.x=<span class="code-keyword">this</span>.min.y=<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>.max.x=<span class="code-keyword">this</span>.max.y=<span class="code-number">-1</span>/<span class="code-number">0</span>,<span class="code-keyword">this</span>},e.isEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.max.x&lt;<span class="code-keyword">this</span>.min.x||<span class="code-keyword">this</span>.max.y&lt;<span class="code-keyword">this</span>.min.y},e.getCenter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .getCenter() target is now required"</span>),t=<span class="code-keyword">new</span> pt),<span class="code-keyword">this</span>.isEmpty()?t.set(<span class="code-number">0</span>,<span class="code-number">0</span>):t.addVectors(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max).multiplyScalar(<span class="code-number">.5</span>)},e.getSize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .getSize() target is now required"</span>),t=<span class="code-keyword">new</span> pt),<span class="code-keyword">this</span>.isEmpty()?t.set(<span class="code-number">0</span>,<span class="code-number">0</span>):t.subVectors(<span class="code-keyword">this</span>.max,<span class="code-keyword">this</span>.min)},e.expandByPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.min(t),<span class="code-keyword">this</span>.max.max(t),<span class="code-keyword">this</span>},e.expandByVector=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.sub(t),<span class="code-keyword">this</span>.max.add(t),<span class="code-keyword">this</span>},e.expandByScalar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.addScalar(-t),<span class="code-keyword">this</span>.max.addScalar(t),<span class="code-keyword">this</span>},e.containsPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(t.x&lt;<span class="code-keyword">this</span>.min.x||t.x&gt;<span class="code-keyword">this</span>.max.x||t.y&lt;<span class="code-keyword">this</span>.min.y||t.y&gt;<span class="code-keyword">this</span>.max.y)},e.containsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=<span class="code-keyword">this</span>.max.x&amp;&amp;<span class="code-keyword">this</span>.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=<span class="code-keyword">this</span>.max.y},e.getParameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .getParameter() target is now required"</span>),e=<span class="code-keyword">new</span> pt),e.set((t.x-<span class="code-keyword">this</span>.min.x)/(<span class="code-keyword">this</span>.max.x-<span class="code-keyword">this</span>.min.x),(t.y-<span class="code-keyword">this</span>.min.y)/(<span class="code-keyword">this</span>.max.y-<span class="code-keyword">this</span>.min.y))},e.intersectsBox=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!(t.max.x&lt;<span class="code-keyword">this</span>.min.x||t.min.x&gt;<span class="code-keyword">this</span>.max.x||t.max.y&lt;<span class="code-keyword">this</span>.min.y||t.min.y&gt;<span class="code-keyword">this</span>.max.y)},e.clampPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .clampPoint() target is now required"</span>),e=<span class="code-keyword">new</span> pt),e.copy(t).clamp(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max)},e.distanceToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> vu.copy(t).clamp(<span class="code-keyword">this</span>.min,<span class="code-keyword">this</span>.max).sub(t).length()},e.intersect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.max(t.min),<span class="code-keyword">this</span>.max.min(t.max),<span class="code-keyword">this</span>},e.union=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.min(t.min),<span class="code-keyword">this</span>.max.max(t.max),<span class="code-keyword">this</span>},e.translate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.min.add(t),<span class="code-keyword">this</span>.max.add(t),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.min.equals(<span class="code-keyword">this</span>.min)&amp;&amp;t.max.equals(<span class="code-keyword">this</span>.max)},t}(),yu=<span class="code-keyword">new</span> Mt,xu=<span class="code-keyword">new</span> Mt,_u=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">this</span>.start=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">new</span> Mt,<span class="code-keyword">this</span>.end=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-keyword">new</span> Mt}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start.copy(t),<span class="code-keyword">this</span>.end.copy(e),<span class="code-keyword">this</span>},e.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(<span class="code-keyword">new</span> <span class="code-keyword">this</span>.constructor).copy(<span class="code-keyword">this</span>)},e.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start.copy(t.start),<span class="code-keyword">this</span>.end.copy(t.end),<span class="code-keyword">this</span>},e.getCenter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line3: .getCenter() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),t.addVectors(<span class="code-keyword">this</span>.start,<span class="code-keyword">this</span>.end).multiplyScalar(<span class="code-number">.5</span>)},e.delta=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line3: .delta() target is now required"</span>),t=<span class="code-keyword">new</span> Mt),t.subVectors(<span class="code-keyword">this</span>.end,<span class="code-keyword">this</span>.start)},e.distanceSq=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start.distanceToSquared(<span class="code-keyword">this</span>.end)},e.distance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start.distanceTo(<span class="code-keyword">this</span>.end)},e.at=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line3: .at() target is now required"</span>),e=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.delta(e).multiplyScalar(t).add(<span class="code-keyword">this</span>.start)},e.closestPointToPointParameter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{yu.subVectors(t,<span class="code-keyword">this</span>.start),xu.subVectors(<span class="code-keyword">this</span>.end,<span class="code-keyword">this</span>.start);<span class="code-keyword">var</span> n=xu.dot(xu),r=xu.dot(yu)/n;<span class="code-keyword">return</span> e&amp;&amp;(r=st.clamp(r,<span class="code-number">0</span>,<span class="code-number">1</span>)),r},e.closestPointToPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.closestPointToPointParameter(t,e);<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line3: .closestPointToPoint() target is now required"</span>),n=<span class="code-keyword">new</span> Mt),<span class="code-keyword">this</span>.delta(n).multiplyScalar(r).add(<span class="code-keyword">this</span>.start)},e.applyMatrix4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.start.applyMatrix4(t),<span class="code-keyword">this</span>.end.applyMatrix4(t),<span class="code-keyword">this</span>},e.equals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.start.equals(<span class="code-keyword">this</span>.start)&amp;&amp;t.end.equals(<span class="code-keyword">this</span>.end)},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bu</span>(<span class="code-params">t</span>)</span>{we.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.material=t,<span class="code-keyword">this</span>.render=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-keyword">this</span>.hasPositions=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.hasNormals=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.hasColors=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.hasUvs=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.positionArray=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.normalArray=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.colorArray=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.uvArray=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.count=<span class="code-number">0</span>}bu.prototype=<span class="code-built_in">Object</span>.create(we.prototype),bu.prototype.constructor=bu,bu.prototype.isImmediateRenderObject=!<span class="code-number">0</span>;<span class="code-keyword">var</span> wu=<span class="code-keyword">new</span> Mt,Mu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;(r=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).light=e,r.light.updateMatrixWorld(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!<span class="code-number">1</span>,r.color=n;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> _n,a=[<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>],o=<span class="code-number">0</span>,s=<span class="code-number">1</span>;o&lt;<span class="code-number">32</span>;o++,s++){<span class="code-keyword">var</span> c=o/<span class="code-number">32</span>*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>,l=s/<span class="code-number">32</span>*<span class="code-built_in">Math</span>.PI*<span class="code-number">2</span>;a.push(<span class="code-built_in">Math</span>.cos(c),<span class="code-built_in">Math</span>.sin(c),<span class="code-number">1</span>,<span class="code-built_in">Math</span>.cos(l),<span class="code-built_in">Math</span>.sin(l),<span class="code-number">1</span>)}i.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>));<span class="code-keyword">var</span> u=<span class="code-keyword">new</span> Za({<span class="code-attr">fog</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span> r.cone=<span class="code-keyword">new</span> io(i,u),r.add(r.cone),r.update(),r}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.cone.geometry.dispose(),<span class="code-keyword">this</span>.cone.material.dispose()},n.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.light.updateMatrixWorld();<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.light.distance?<span class="code-keyword">this</span>.light.distance:<span class="code-number">1e3</span>,e=t*<span class="code-built_in">Math</span>.tan(<span class="code-keyword">this</span>.light.angle);<span class="code-keyword">this</span>.cone.scale.set(e,e,t),wu.setFromMatrixPosition(<span class="code-keyword">this</span>.light.target.matrixWorld),<span class="code-keyword">this</span>.cone.lookAt(wu),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.color?<span class="code-keyword">this</span>.cone.material.color.set(<span class="code-keyword">this</span>.color):<span class="code-keyword">this</span>.cone.material.color.copy(<span class="code-keyword">this</span>.light.color)},e}(we),Su=<span class="code-keyword">new</span> Mt,Tu=<span class="code-keyword">new</span> Qt,Eu=<span class="code-keyword">new</span> Qt,Au=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r=Lu(e),i=<span class="code-keyword">new</span> _n,a=[],o=[],s=<span class="code-keyword">new</span> We(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),c=<span class="code-keyword">new</span> We(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),l=<span class="code-number">0</span>;l&lt;r.length;l++){<span class="code-keyword">var</span> u=r[l];u.parent&amp;&amp;u.parent.isBone&amp;&amp;(a.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),a.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),o.push(s.r,s.g,s.b),o.push(c.r,c.g,c.b))}i.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>)),i.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">3</span>));<span class="code-keyword">var</span> h=<span class="code-keyword">new</span> Za({<span class="code-attr">vertexColors</span>:!<span class="code-number">0</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>,<span class="code-attr">transparent</span>:!<span class="code-number">0</span>});<span class="code-keyword">return</span>(n=t.call(<span class="code-keyword">this</span>,i,h)||<span class="code-keyword">this</span>).type=<span class="code-string">"SkeletonHelper"</span>,n.isSkeletonHelper=!<span class="code-number">0</span>,n.root=e,n.bones=r,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!<span class="code-number">1</span>,n}<span class="code-keyword">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.bones,r=<span class="code-keyword">this</span>.geometry,i=r.getAttribute(<span class="code-string">"position"</span>);Eu.copy(<span class="code-keyword">this</span>.root.matrixWorld).invert();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>,o=<span class="code-number">0</span>;a&lt;n.length;a++){<span class="code-keyword">var</span> s=n[a];s.parent&amp;&amp;s.parent.isBone&amp;&amp;(Tu.multiplyMatrices(Eu,s.matrixWorld),Su.setFromMatrixPosition(Tu),i.setXYZ(o,Su.x,Su.y,Su.z),Tu.multiplyMatrices(Eu,s.parent.matrixWorld),Su.setFromMatrixPosition(Tu),i.setXYZ(o+<span class="code-number">1</span>,Su.x,Su.y,Su.z),o+=<span class="code-number">2</span>)}r.getAttribute(<span class="code-string">"position"</span>).needsUpdate=!<span class="code-number">0</span>,t.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,e)},e}(io);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lu</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=[];t&amp;&amp;t.isBone&amp;&amp;e.push(t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.children.length;n++)e.push.apply(e,Lu(t.children[n]));<span class="code-keyword">return</span> e}<span class="code-keyword">var</span> Ru=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">var</span> i,a=<span class="code-keyword">new</span> Rs(n,<span class="code-number">4</span>,<span class="code-number">2</span>),o=<span class="code-keyword">new</span> Ye({<span class="code-attr">wireframe</span>:!<span class="code-number">0</span>,<span class="code-attr">fog</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span>(i=t.call(<span class="code-keyword">this</span>,a,o)||<span class="code-keyword">this</span>).light=e,i.light.updateMatrixWorld(),i.color=r,i.type=<span class="code-string">"PointLightHelper"</span>,i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!<span class="code-number">1</span>,i.update(),i}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.geometry.dispose(),<span class="code-keyword">this</span>.material.dispose()},n.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.color?<span class="code-keyword">this</span>.material.color.set(<span class="code-keyword">this</span>.color):<span class="code-keyword">this</span>.material.color.copy(<span class="code-keyword">this</span>.light.color)},e}(Un),Cu=<span class="code-keyword">new</span> Mt,Pu=<span class="code-keyword">new</span> We,Iu=<span class="code-keyword">new</span> We,Nu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">var</span> i;(i=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!<span class="code-number">1</span>,i.color=r;<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> xs(n);a.rotateY(<span class="code-number">.5</span>*<span class="code-built_in">Math</span>.PI),i.material=<span class="code-keyword">new</span> Ye({<span class="code-attr">wireframe</span>:!<span class="code-number">0</span>,<span class="code-attr">fog</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}),<span class="code-keyword">void</span> <span class="code-number">0</span>===i.color&amp;&amp;(i.material.vertexColors=!<span class="code-number">0</span>);<span class="code-keyword">var</span> o=a.getAttribute(<span class="code-string">"position"</span>),s=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">3</span>*o.count);<span class="code-keyword">return</span> a.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> Qe(s,<span class="code-number">3</span>)),i.add(<span class="code-keyword">new</span> Un(a,i.material)),i.update(),i}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.children[<span class="code-number">0</span>].geometry.dispose(),<span class="code-keyword">this</span>.children[<span class="code-number">0</span>].material.dispose()},n.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.children[<span class="code-number">0</span>];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.color)<span class="code-keyword">this</span>.material.color.set(<span class="code-keyword">this</span>.color);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> e=t.geometry.getAttribute(<span class="code-string">"color"</span>);Pu.copy(<span class="code-keyword">this</span>.light.color),Iu.copy(<span class="code-keyword">this</span>.light.groundColor);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,r=e.count;n&lt;r;n++){<span class="code-keyword">var</span> i=n&lt;r/<span class="code-number">2</span>?Pu:Iu;e.setXYZ(n,i.r,i.g,i.b)}e.needsUpdate=!<span class="code-number">0</span>}t.lookAt(Cu.setFromMatrixPosition(<span class="code-keyword">this</span>.light.matrixWorld).negate())},e}(we),Du=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">10</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">10</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">4473924</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">8947848</span>),r=<span class="code-keyword">new</span> We(r),i=<span class="code-keyword">new</span> We(i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=n/<span class="code-number">2</span>,s=e/n,c=e/<span class="code-number">2</span>,l=[],u=[],h=<span class="code-number">0</span>,d=<span class="code-number">0</span>,p=-c;h&lt;=n;h++,p+=s){l.push(-c,<span class="code-number">0</span>,p,c,<span class="code-number">0</span>,p),l.push(p,<span class="code-number">0</span>,-c,p,<span class="code-number">0</span>,c);<span class="code-keyword">var</span> f=h===o?r:i;f.toArray(u,d),d+=<span class="code-number">3</span>,f.toArray(u,d),d+=<span class="code-number">3</span>,f.toArray(u,d),d+=<span class="code-number">3</span>,f.toArray(u,d),d+=<span class="code-number">3</span>}<span class="code-keyword">var</span> m=<span class="code-keyword">new</span> _n;m.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">3</span>)),m.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> sn(u,<span class="code-number">3</span>));<span class="code-keyword">var</span> v=<span class="code-keyword">new</span> Za({<span class="code-attr">vertexColors</span>:!<span class="code-number">0</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span>(a=t.call(<span class="code-keyword">this</span>,m,v)||<span class="code-keyword">this</span>).type=<span class="code-string">"GridHelper"</span>,a}<span class="code-keyword">return</span> ut(e,t),e}(io),Ou=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">10</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">16</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">8</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">64</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">4473924</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">8947848</span>),a=<span class="code-keyword">new</span> We(a),o=<span class="code-keyword">new</span> We(o);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=[],l=[],u=<span class="code-number">0</span>;u&lt;=n;u++){<span class="code-keyword">var</span> h=u/n*(<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),d=<span class="code-built_in">Math</span>.sin(h)*e,p=<span class="code-built_in">Math</span>.cos(h)*e;c.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),c.push(d,<span class="code-number">0</span>,p);<span class="code-keyword">var</span> f=<span class="code-number">1</span>&amp;u?a:o;l.push(f.r,f.g,f.b),l.push(f.r,f.g,f.b)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=<span class="code-number">0</span>;m&lt;=r;m++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=<span class="code-number">1</span>&amp;m?a:o,g=e-e/r*m,y=<span class="code-number">0</span>;y&lt;i;y++){<span class="code-keyword">var</span> x=y/i*(<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),_=<span class="code-built_in">Math</span>.sin(x)*g,b=<span class="code-built_in">Math</span>.cos(x)*g;c.push(_,<span class="code-number">0</span>,b),l.push(v.r,v.g,v.b),x=(y+<span class="code-number">1</span>)/i*(<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI),_=<span class="code-built_in">Math</span>.sin(x)*g,b=<span class="code-built_in">Math</span>.cos(x)*g,c.push(_,<span class="code-number">0</span>,b),l.push(v.r,v.g,v.b)}<span class="code-keyword">var</span> w=<span class="code-keyword">new</span> _n;w.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(c,<span class="code-number">3</span>)),w.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> sn(l,<span class="code-number">3</span>));<span class="code-keyword">var</span> M=<span class="code-keyword">new</span> Za({<span class="code-attr">vertexColors</span>:!<span class="code-number">0</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span>(s=t.call(<span class="code-keyword">this</span>,w,M)||<span class="code-keyword">this</span>).type=<span class="code-string">"PolarGridHelper"</span>,s}<span class="code-keyword">return</span> ut(e,t),e}(io),Bu=<span class="code-keyword">new</span> Mt,zu=<span class="code-keyword">new</span> Mt,Uu=<span class="code-keyword">new</span> Mt,Fu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">var</span> i;(i=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!<span class="code-number">1</span>,i.color=r,<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>);<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> _n;a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([-n,n,<span class="code-number">0</span>,n,n,<span class="code-number">0</span>,n,-n,<span class="code-number">0</span>,-n,-n,<span class="code-number">0</span>,-n,n,<span class="code-number">0</span>],<span class="code-number">3</span>));<span class="code-keyword">var</span> o=<span class="code-keyword">new</span> Za({<span class="code-attr">fog</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span> i.lightPlane=<span class="code-keyword">new</span> eo(a,o),i.add(i.lightPlane),(a=<span class="code-keyword">new</span> _n).setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>],<span class="code-number">3</span>)),i.targetLine=<span class="code-keyword">new</span> eo(a,o),i.add(i.targetLine),i.update(),i}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.lightPlane.geometry.dispose(),<span class="code-keyword">this</span>.lightPlane.material.dispose(),<span class="code-keyword">this</span>.targetLine.geometry.dispose(),<span class="code-keyword">this</span>.targetLine.material.dispose()},n.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Bu.setFromMatrixPosition(<span class="code-keyword">this</span>.light.matrixWorld),zu.setFromMatrixPosition(<span class="code-keyword">this</span>.light.target.matrixWorld),Uu.subVectors(zu,Bu),<span class="code-keyword">this</span>.lightPlane.lookAt(zu),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.color?(<span class="code-keyword">this</span>.lightPlane.material.color.set(<span class="code-keyword">this</span>.color),<span class="code-keyword">this</span>.targetLine.material.color.set(<span class="code-keyword">this</span>.color)):(<span class="code-keyword">this</span>.lightPlane.material.color.copy(<span class="code-keyword">this</span>.light.color),<span class="code-keyword">this</span>.targetLine.material.color.copy(<span class="code-keyword">this</span>.light.color)),<span class="code-keyword">this</span>.targetLine.lookAt(zu),<span class="code-keyword">this</span>.targetLine.scale.z=Uu.length()},e}(we),Gu=<span class="code-keyword">new</span> Mt,Hu=<span class="code-keyword">new</span> qn,ku=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n,r=<span class="code-keyword">new</span> _n,i=<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:<span class="code-number">16777215</span>,<span class="code-attr">vertexColors</span>:!<span class="code-number">0</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}),a=[],o=[],s={},c=<span class="code-keyword">new</span> We(<span class="code-number">16755200</span>),l=<span class="code-keyword">new</span> We(<span class="code-number">16711680</span>),u=<span class="code-keyword">new</span> We(<span class="code-number">43775</span>),h=<span class="code-keyword">new</span> We(<span class="code-number">16777215</span>),d=<span class="code-keyword">new</span> We(<span class="code-number">3355443</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params">t,e,n</span>)</span>{f(t,n),f(e,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params">t,e</span>)</span>{a.push(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>),o.push(e.r,e.g,e.b),<span class="code-keyword">void</span> <span class="code-number">0</span>===s[t]&amp;&amp;(s[t]=[]),s[t].push(a.length/<span class="code-number">3</span><span class="code-number">-1</span>)}<span class="code-keyword">return</span> p(<span class="code-string">"n1"</span>,<span class="code-string">"n2"</span>,c),p(<span class="code-string">"n2"</span>,<span class="code-string">"n4"</span>,c),p(<span class="code-string">"n4"</span>,<span class="code-string">"n3"</span>,c),p(<span class="code-string">"n3"</span>,<span class="code-string">"n1"</span>,c),p(<span class="code-string">"f1"</span>,<span class="code-string">"f2"</span>,c),p(<span class="code-string">"f2"</span>,<span class="code-string">"f4"</span>,c),p(<span class="code-string">"f4"</span>,<span class="code-string">"f3"</span>,c),p(<span class="code-string">"f3"</span>,<span class="code-string">"f1"</span>,c),p(<span class="code-string">"n1"</span>,<span class="code-string">"f1"</span>,c),p(<span class="code-string">"n2"</span>,<span class="code-string">"f2"</span>,c),p(<span class="code-string">"n3"</span>,<span class="code-string">"f3"</span>,c),p(<span class="code-string">"n4"</span>,<span class="code-string">"f4"</span>,c),p(<span class="code-string">"p"</span>,<span class="code-string">"n1"</span>,l),p(<span class="code-string">"p"</span>,<span class="code-string">"n2"</span>,l),p(<span class="code-string">"p"</span>,<span class="code-string">"n3"</span>,l),p(<span class="code-string">"p"</span>,<span class="code-string">"n4"</span>,l),p(<span class="code-string">"u1"</span>,<span class="code-string">"u2"</span>,u),p(<span class="code-string">"u2"</span>,<span class="code-string">"u3"</span>,u),p(<span class="code-string">"u3"</span>,<span class="code-string">"u1"</span>,u),p(<span class="code-string">"c"</span>,<span class="code-string">"t"</span>,h),p(<span class="code-string">"p"</span>,<span class="code-string">"c"</span>,d),p(<span class="code-string">"cn1"</span>,<span class="code-string">"cn2"</span>,d),p(<span class="code-string">"cn3"</span>,<span class="code-string">"cn4"</span>,d),p(<span class="code-string">"cf1"</span>,<span class="code-string">"cf2"</span>,d),p(<span class="code-string">"cf3"</span>,<span class="code-string">"cf4"</span>,d),r.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(a,<span class="code-number">3</span>)),r.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> sn(o,<span class="code-number">3</span>)),(n=t.call(<span class="code-keyword">this</span>,r,i)||<span class="code-keyword">this</span>).type=<span class="code-string">"CameraHelper"</span>,n.camera=e,n.camera.updateProjectionMatrix&amp;&amp;n.camera.updateProjectionMatrix(),n.matrix=e.matrixWorld,n.matrixAutoUpdate=!<span class="code-number">1</span>,n.pointMap=s,n.update(),n}<span class="code-keyword">return</span> ut(e,t),e.prototype.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.geometry,e=<span class="code-keyword">this</span>.pointMap;Hu.projectionMatrixInverse.copy(<span class="code-keyword">this</span>.camera.projectionMatrixInverse),Vu(<span class="code-string">"c"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"t"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"n1"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"n2"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"n3"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"n4"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"f1"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"f2"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"f3"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"f4"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"u1"</span>,e,t,Hu,<span class="code-number">.7</span>,<span class="code-number">1.1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"u2"</span>,e,t,Hu,<span class="code-number">-.7</span>,<span class="code-number">1.1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"u3"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"cf1"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"cf2"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"cf3"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"cf4"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),Vu(<span class="code-string">"cn1"</span>,e,t,Hu,<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"cn2"</span>,e,t,Hu,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"cn3"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>),Vu(<span class="code-string">"cn4"</span>,e,t,Hu,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>),t.getAttribute(<span class="code-string">"position"</span>).needsUpdate=!<span class="code-number">0</span>},e}(io);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vu</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{Gu.set(i,a,o).unproject(r);<span class="code-keyword">var</span> s=e[t];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==s)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=n.getAttribute(<span class="code-string">"position"</span>),l=<span class="code-number">0</span>,u=s.length;l&lt;u;l++)c.setXYZ(s[l],Gu.x,Gu.y,Gu.z)}<span class="code-keyword">var</span> Wu,ju,qu,Xu=<span class="code-keyword">new</span> Et,Yu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">16776960</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">Uint16Array</span>([<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">2</span>,<span class="code-number">2</span>,<span class="code-number">3</span>,<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">5</span>,<span class="code-number">5</span>,<span class="code-number">6</span>,<span class="code-number">6</span>,<span class="code-number">7</span>,<span class="code-number">7</span>,<span class="code-number">4</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">2</span>,<span class="code-number">6</span>,<span class="code-number">3</span>,<span class="code-number">7</span>]),a=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">24</span>),o=<span class="code-keyword">new</span> _n;<span class="code-keyword">return</span> o.setIndex(<span class="code-keyword">new</span> Qe(i,<span class="code-number">1</span>)),o.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> Qe(a,<span class="code-number">3</span>)),(r=t.call(<span class="code-keyword">this</span>,o,<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:n,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}))||<span class="code-keyword">this</span>).object=e,r.type=<span class="code-string">"BoxHelper"</span>,r.matrixAutoUpdate=!<span class="code-number">1</span>,r.update(),r}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BoxHelper: .update() has no longer arguments."</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.object&amp;&amp;Xu.setFromObject(<span class="code-keyword">this</span>.object),!Xu.isEmpty()){<span class="code-keyword">var</span> e=Xu.min,n=Xu.max,r=<span class="code-keyword">this</span>.geometry.attributes.position,i=r.array;i[<span class="code-number">0</span>]=n.x,i[<span class="code-number">1</span>]=n.y,i[<span class="code-number">2</span>]=n.z,i[<span class="code-number">3</span>]=e.x,i[<span class="code-number">4</span>]=n.y,i[<span class="code-number">5</span>]=n.z,i[<span class="code-number">6</span>]=e.x,i[<span class="code-number">7</span>]=e.y,i[<span class="code-number">8</span>]=n.z,i[<span class="code-number">9</span>]=n.x,i[<span class="code-number">10</span>]=e.y,i[<span class="code-number">11</span>]=n.z,i[<span class="code-number">12</span>]=n.x,i[<span class="code-number">13</span>]=n.y,i[<span class="code-number">14</span>]=e.z,i[<span class="code-number">15</span>]=e.x,i[<span class="code-number">16</span>]=n.y,i[<span class="code-number">17</span>]=e.z,i[<span class="code-number">18</span>]=e.x,i[<span class="code-number">19</span>]=e.y,i[<span class="code-number">20</span>]=e.z,i[<span class="code-number">21</span>]=n.x,i[<span class="code-number">22</span>]=e.y,i[<span class="code-number">23</span>]=e.z,r.needsUpdate=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.geometry.computeBoundingSphere()}},n.setFromObject=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.object=t,<span class="code-keyword">this</span>.update(),<span class="code-keyword">this</span>},n.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> io.prototype.copy.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.object=t.object,<span class="code-keyword">this</span>},e}(io),Zu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">16776960</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">Uint16Array</span>([<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">2</span>,<span class="code-number">2</span>,<span class="code-number">3</span>,<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">5</span>,<span class="code-number">5</span>,<span class="code-number">6</span>,<span class="code-number">6</span>,<span class="code-number">7</span>,<span class="code-number">7</span>,<span class="code-number">4</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">2</span>,<span class="code-number">6</span>,<span class="code-number">3</span>,<span class="code-number">7</span>]),a=<span class="code-keyword">new</span> _n;<span class="code-keyword">return</span> a.setIndex(<span class="code-keyword">new</span> Qe(i,<span class="code-number">1</span>)),a.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>],<span class="code-number">3</span>)),(r=t.call(<span class="code-keyword">this</span>,a,<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:n,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}))||<span class="code-keyword">this</span>).box=e,r.type=<span class="code-string">"Box3Helper"</span>,r.geometry.computeBoundingSphere(),r}<span class="code-keyword">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.box;n.isEmpty()||(n.getCenter(<span class="code-keyword">this</span>.position),n.getSize(<span class="code-keyword">this</span>.scale),<span class="code-keyword">this</span>.scale.multiplyScalar(<span class="code-number">.5</span>),t.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,e))},e}(io),Ju=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">16776960</span>);<span class="code-keyword">var</span> a=r,o=<span class="code-keyword">new</span> _n;o.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>],<span class="code-number">3</span>)),o.computeBoundingSphere(),(i=t.call(<span class="code-keyword">this</span>,o,<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:a,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}))||<span class="code-keyword">this</span>).type=<span class="code-string">"PlaneHelper"</span>,i.plane=e,i.size=n;<span class="code-keyword">var</span> s=<span class="code-keyword">new</span> _n;<span class="code-keyword">return</span> s.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>],<span class="code-number">3</span>)),s.computeBoundingSphere(),i.add(<span class="code-keyword">new</span> Un(s,<span class="code-keyword">new</span> Ye({<span class="code-attr">color</span>:a,<span class="code-attr">opacity</span>:<span class="code-number">.2</span>,<span class="code-attr">transparent</span>:!<span class="code-number">0</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>}))),i}<span class="code-keyword">return</span> ut(e,t),e.prototype.updateMatrixWorld=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=-<span class="code-keyword">this</span>.plane.constant;<span class="code-built_in">Math</span>.abs(n)&lt;<span class="code-number">1e-8</span>&amp;&amp;(n=<span class="code-number">1e-8</span>),<span class="code-keyword">this</span>.scale.set(<span class="code-number">.5</span>*<span class="code-keyword">this</span>.size,<span class="code-number">.5</span>*<span class="code-keyword">this</span>.size,n),<span class="code-keyword">this</span>.children[<span class="code-number">0</span>].material.side=n&lt;<span class="code-number">0</span>?<span class="code-number">1</span>:<span class="code-number">0</span>,<span class="code-keyword">this</span>.lookAt(<span class="code-keyword">this</span>.plane.normal),t.prototype.updateMatrixWorld.call(<span class="code-keyword">this</span>,e)},e}(eo),Qu=<span class="code-keyword">new</span> Mt,Ku=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">return</span>(s=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).type=<span class="code-string">"ArrowHelper"</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>)),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>)),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">16776960</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;(a=<span class="code-number">.2</span>*r),<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=<span class="code-number">.2</span>*a),<span class="code-keyword">void</span> <span class="code-number">0</span>===Wu&amp;&amp;((Wu=<span class="code-keyword">new</span> _n).setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>],<span class="code-number">3</span>)),(ju=<span class="code-keyword">new</span> Eo(<span class="code-number">0</span>,<span class="code-number">.5</span>,<span class="code-number">1</span>,<span class="code-number">5</span>,<span class="code-number">1</span>)).translate(<span class="code-number">0</span>,<span class="code-number">-.5</span>,<span class="code-number">0</span>)),s.position.copy(n),s.line=<span class="code-keyword">new</span> eo(Wu,<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:i,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>})),s.line.matrixAutoUpdate=!<span class="code-number">1</span>,s.add(s.line),s.cone=<span class="code-keyword">new</span> Un(ju,<span class="code-keyword">new</span> Ye({<span class="code-attr">color</span>:i,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>})),s.cone.matrixAutoUpdate=!<span class="code-number">1</span>,s.add(s.cone),s.setDirection(e),s.setLength(r,a,o),s}ut(e,t);<span class="code-keyword">var</span> n=e.prototype;<span class="code-keyword">return</span> n.setDirection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t.y&gt;<span class="code-number">.99999</span>)<span class="code-keyword">this</span>.quaternion.set(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.y&lt;<span class="code-number">-.99999</span>)<span class="code-keyword">this</span>.quaternion.set(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>);<span class="code-keyword">else</span>{Qu.set(t.z,<span class="code-number">0</span>,-t.x).normalize();<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.acos(t.y);<span class="code-keyword">this</span>.quaternion.setFromAxisAngle(Qu,e)}},n.setLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">.2</span>*t),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">.2</span>*e),<span class="code-keyword">this</span>.line.scale.set(<span class="code-number">1</span>,<span class="code-built_in">Math</span>.max(<span class="code-number">1e-4</span>,t-e),<span class="code-number">1</span>),<span class="code-keyword">this</span>.line.updateMatrix(),<span class="code-keyword">this</span>.cone.scale.set(n,e,n),<span class="code-keyword">this</span>.cone.position.y=t,<span class="code-keyword">this</span>.cone.updateMatrix()},n.setColor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.line.material.color.set(t),<span class="code-keyword">this</span>.cone.material.color.set(t)},n.copy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.prototype.copy.call(<span class="code-keyword">this</span>,e,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.line.copy(e.line),<span class="code-keyword">this</span>.cone.copy(e.cone),<span class="code-keyword">this</span>},e}(we),$u=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">1</span>);<span class="code-keyword">var</span> r=[<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e],i=<span class="code-keyword">new</span> _n;i.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> sn(r,<span class="code-number">3</span>)),i.setAttribute(<span class="code-string">"color"</span>,<span class="code-keyword">new</span> sn([<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">.6</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">.6</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">.6</span>,<span class="code-number">1</span>],<span class="code-number">3</span>));<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> Za({<span class="code-attr">vertexColors</span>:!<span class="code-number">0</span>,<span class="code-attr">toneMapped</span>:!<span class="code-number">1</span>});<span class="code-keyword">return</span>(n=t.call(<span class="code-keyword">this</span>,i,a)||<span class="code-keyword">this</span>).type=<span class="code-string">"AxesHelper"</span>,n}<span class="code-keyword">return</span> ut(e,t),e}(io),th=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">1</span>),eh=<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(th.buffer),nh={<span class="code-attr">toHalfFloat</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{th[<span class="code-number">0</span>]=t;<span class="code-keyword">var</span> e=eh[<span class="code-number">0</span>],n=e&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">32768</span>,r=e&gt;&gt;<span class="code-number">12</span>&amp;<span class="code-number">2047</span>,i=e&gt;&gt;<span class="code-number">23</span>&amp;<span class="code-number">255</span>;<span class="code-keyword">return</span> i&lt;<span class="code-number">103</span>?n:i&gt;<span class="code-number">142</span>?(n|=<span class="code-number">31744</span>,n|=(<span class="code-number">255</span>==i?<span class="code-number">0</span>:<span class="code-number">1</span>)&amp;&amp;<span class="code-number">8388607</span>&amp;e):i&lt;<span class="code-number">113</span>?n|=((r|=<span class="code-number">2048</span>)&gt;&gt;<span class="code-number">114</span>-i)+(r&gt;&gt;<span class="code-number">113</span>-i&amp;<span class="code-number">1</span>):(n|=i<span class="code-number">-112</span>&lt;&lt;<span class="code-number">10</span>|r&gt;&gt;<span class="code-number">1</span>,n+=<span class="code-number">1</span>&amp;r)}},rh=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">8</span>),ih=[<span class="code-number">.125</span>,<span class="code-number">.215</span>,<span class="code-number">.35</span>,<span class="code-number">.446</span>,<span class="code-number">.526</span>,<span class="code-number">.582</span>],ah=<span class="code-number">5</span>+ih.length,oh=<span class="code-number">20</span>,sh=((qu={})[<span class="code-number">3e3</span>]=<span class="code-number">0</span>,qu[<span class="code-number">3001</span>]=<span class="code-number">1</span>,qu[<span class="code-number">3002</span>]=<span class="code-number">2</span>,qu[<span class="code-number">3004</span>]=<span class="code-number">3</span>,qu[<span class="code-number">3005</span>]=<span class="code-number">4</span>,qu[<span class="code-number">3006</span>]=<span class="code-number">5</span>,qu[<span class="code-number">3007</span>]=<span class="code-number">6</span>,qu),ch=<span class="code-keyword">new</span> rl,lh=xh(),uh=lh._lodPlanes,hh=lh._sizeLods,dh=lh._sigmas,ph=<span class="code-literal">null</span>,fh=(<span class="code-number">1</span>+<span class="code-built_in">Math</span>.sqrt(<span class="code-number">5</span>))/<span class="code-number">2</span>,mh=<span class="code-number">1</span>/fh,vh=[<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,fh,mh),<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,fh,-mh),<span class="code-keyword">new</span> Mt(mh,<span class="code-number">0</span>,fh),<span class="code-keyword">new</span> Mt(-mh,<span class="code-number">0</span>,fh),<span class="code-keyword">new</span> Mt(fh,mh,<span class="code-number">0</span>),<span class="code-keyword">new</span> Mt(-fh,mh,<span class="code-number">0</span>)],gh=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e,n,r;<span class="code-keyword">this</span>._renderer=t,<span class="code-keyword">this</span>._pingPongRenderTarget=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._blurMaterial=(e=oh,n=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(e),r=<span class="code-keyword">new</span> Mt(<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Ws({<span class="code-attr">name</span>:<span class="code-string">"SphericalGaussianBlur"</span>,<span class="code-attr">defines</span>:{<span class="code-attr">n</span>:e},<span class="code-attr">uniforms</span>:{<span class="code-attr">envMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">samples</span>:{<span class="code-attr">value</span>:<span class="code-number">1</span>},<span class="code-attr">weights</span>:{<span class="code-attr">value</span>:n},<span class="code-attr">latitudinal</span>:{<span class="code-attr">value</span>:!<span class="code-number">1</span>},<span class="code-attr">dTheta</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">mipInt</span>:{<span class="code-attr">value</span>:<span class="code-number">0</span>},<span class="code-attr">poleAxis</span>:{<span class="code-attr">value</span>:r},<span class="code-attr">inputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]},<span class="code-attr">outputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]}},<span class="code-attr">vertexShader</span>:<span class="code-string">"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"</span>,<span class="code-attr">fragmentShader</span>:<span class="code-string">"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include &lt;encodings_pars_fragment&gt;\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include &lt;cube_uv_reflection_fragment&gt;\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i &lt; n; i++ ) {\n\n\t\t\t\t\tif ( i &gt;= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"</span>,<span class="code-attr">blending</span>:<span class="code-number">0</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>})),<span class="code-keyword">this</span>._equirectShader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._cubemapShader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._compileMaterial(<span class="code-keyword">this</span>._blurMaterial)}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.fromScene=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">.1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">100</span>),ph=<span class="code-keyword">this</span>._renderer.getRenderTarget();<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>._allocateTargets();<span class="code-keyword">return</span> <span class="code-keyword">this</span>._sceneToCubeUV(t,n,r,i),e&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>._blur(i,<span class="code-number">0</span>,<span class="code-number">0</span>,e),<span class="code-keyword">this</span>._applyPMREM(i),<span class="code-keyword">this</span>._cleanup(i),i},e.fromEquirectangular=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._fromTexture(t)},e.fromCubemap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._fromTexture(t)},e.compileCubemapShader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>._cubemapShader&amp;&amp;(<span class="code-keyword">this</span>._cubemapShader=Mh(),<span class="code-keyword">this</span>._compileMaterial(<span class="code-keyword">this</span>._cubemapShader))},e.compileEquirectangularShader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===<span class="code-keyword">this</span>._equirectShader&amp;&amp;(<span class="code-keyword">this</span>._equirectShader=wh(),<span class="code-keyword">this</span>._compileMaterial(<span class="code-keyword">this</span>._equirectShader))},e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._blurMaterial.dispose(),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._cubemapShader&amp;&amp;<span class="code-keyword">this</span>._cubemapShader.dispose(),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._equirectShader&amp;&amp;<span class="code-keyword">this</span>._equirectShader.dispose();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;uh.length;t++)uh[t].dispose()},e._cleanup=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._pingPongRenderTarget.dispose(),<span class="code-keyword">this</span>._renderer.setRenderTarget(ph),t.scissorTest=!<span class="code-number">1</span>,bh(t,<span class="code-number">0</span>,<span class="code-number">0</span>,t.width,t.height)},e._fromTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{ph=<span class="code-keyword">this</span>._renderer.getRenderTarget();<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._allocateTargets(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._textureToCubeUV(t,e),<span class="code-keyword">this</span>._applyPMREM(e),<span class="code-keyword">this</span>._cleanup(e),e},e._allocateTargets=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e={<span class="code-attr">magFilter</span>:d,<span class="code-attr">minFilter</span>:d,<span class="code-attr">generateMipmaps</span>:!<span class="code-number">1</span>,<span class="code-attr">type</span>:y,<span class="code-attr">format</span>:<span class="code-number">1023</span>,<span class="code-attr">encoding</span>:yh(t)?t.encoding:Z,<span class="code-attr">depthBuffer</span>:!<span class="code-number">1</span>},n=_h(e);<span class="code-keyword">return</span> n.depthBuffer=!t,<span class="code-keyword">this</span>._pingPongRenderTarget=_h(e),n},e._compileMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> Un(uh[<span class="code-number">0</span>],t);<span class="code-keyword">this</span>._renderer.compile(e,ch)},e._sceneToCubeUV=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Xn(<span class="code-number">90</span>,<span class="code-number">1</span>,e,n),a=[<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>],o=[<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>,<span class="code-number">-1</span>],s=<span class="code-keyword">this</span>._renderer,c=s.outputEncoding,l=s.toneMapping,u=s.getClearColor(),h=s.getClearAlpha();s.toneMapping=<span class="code-number">0</span>,s.outputEncoding=q;<span class="code-keyword">var</span> d=t.background;<span class="code-keyword">if</span>(d&amp;&amp;d.isColor){d.convertSRGBToLinear();<span class="code-keyword">var</span> p=<span class="code-built_in">Math</span>.max(d.r,d.g,d.b),f=<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(<span class="code-built_in">Math</span>.ceil(<span class="code-built_in">Math</span>.log2(p)),<span class="code-number">-128</span>),<span class="code-number">127</span>);d=d.multiplyScalar(<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,-f));<span class="code-keyword">var</span> m=(f+<span class="code-number">128</span>)/<span class="code-number">255</span>;s.setClearColor(d,m),t.background=<span class="code-literal">null</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=<span class="code-number">0</span>;v&lt;<span class="code-number">6</span>;v++){<span class="code-keyword">var</span> g=v%<span class="code-number">3</span>;<span class="code-number">0</span>==g?(i.up.set(<span class="code-number">0</span>,a[v],<span class="code-number">0</span>),i.lookAt(o[v],<span class="code-number">0</span>,<span class="code-number">0</span>)):<span class="code-number">1</span>==g?(i.up.set(<span class="code-number">0</span>,<span class="code-number">0</span>,a[v]),i.lookAt(<span class="code-number">0</span>,o[v],<span class="code-number">0</span>)):(i.up.set(<span class="code-number">0</span>,a[v],<span class="code-number">0</span>),i.lookAt(<span class="code-number">0</span>,<span class="code-number">0</span>,o[v])),bh(r,g*rh,v&gt;<span class="code-number">2</span>?rh:<span class="code-number">0</span>,rh,rh),s.setRenderTarget(r),s.render(t,i)}s.toneMapping=l,s.outputEncoding=c,s.setClearColor(u,h)},e._textureToCubeUV=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._renderer;t.isCubeTexture?<span class="code-literal">null</span>==<span class="code-keyword">this</span>._cubemapShader&amp;&amp;(<span class="code-keyword">this</span>._cubemapShader=Mh()):<span class="code-literal">null</span>==<span class="code-keyword">this</span>._equirectShader&amp;&amp;(<span class="code-keyword">this</span>._equirectShader=wh());<span class="code-keyword">var</span> r=t.isCubeTexture?<span class="code-keyword">this</span>._cubemapShader:<span class="code-keyword">this</span>._equirectShader,i=<span class="code-keyword">new</span> Un(uh[<span class="code-number">0</span>],r),a=r.uniforms;a.envMap.value=t,t.isCubeTexture||a.texelSize.value.set(<span class="code-number">1</span>/t.image.width,<span class="code-number">1</span>/t.image.height),a.inputEncoding.value=sh[t.encoding],a.outputEncoding.value=sh[e.texture.encoding],bh(e,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">3</span>*rh,<span class="code-number">2</span>*rh),n.setRenderTarget(e),n.render(i,ch)},e._applyPMREM=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._renderer,n=e.autoClear;e.autoClear=!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">1</span>;r&lt;ah;r++){<span class="code-keyword">var</span> i=<span class="code-built_in">Math</span>.sqrt(dh[r]*dh[r]-dh[r<span class="code-number">-1</span>]*dh[r<span class="code-number">-1</span>]),a=vh[(r<span class="code-number">-1</span>)%vh.length];<span class="code-keyword">this</span>._blur(t,r<span class="code-number">-1</span>,r,i,a)}e.autoClear=n},e._blur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>._pingPongRenderTarget;<span class="code-keyword">this</span>._halfBlur(t,a,e,n,r,<span class="code-string">"latitudinal"</span>,i),<span class="code-keyword">this</span>._halfBlur(a,t,n,n,r,<span class="code-string">"longitudinal"</span>,i)},e._halfBlur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>._renderer,c=<span class="code-keyword">this</span>._blurMaterial;<span class="code-string">"latitudinal"</span>!==a&amp;&amp;<span class="code-string">"longitudinal"</span>!==a&amp;&amp;<span class="code-built_in">console</span>.error(<span class="code-string">"blur direction must be either latitudinal or longitudinal!"</span>);<span class="code-keyword">var</span> l=<span class="code-keyword">new</span> Un(uh[r],c),u=c.uniforms,h=hh[n]<span class="code-number">-1</span>,d=<span class="code-built_in">isFinite</span>(i)?<span class="code-built_in">Math</span>.PI/(<span class="code-number">2</span>*h):<span class="code-number">2</span>*<span class="code-built_in">Math</span>.PI/<span class="code-number">39</span>,p=i/d,f=<span class="code-built_in">isFinite</span>(i)?<span class="code-number">1</span>+<span class="code-built_in">Math</span>.floor(<span class="code-number">3</span>*p):oh;f&gt;oh&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"sigmaRadians, "</span>+i+<span class="code-string">", is too large and will clip, as it requested "</span>+f+<span class="code-string">" samples when the maximum is set to "</span>+oh);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=[],v=<span class="code-number">0</span>,g=<span class="code-number">0</span>;g&lt;oh;++g){<span class="code-keyword">var</span> y=g/p,x=<span class="code-built_in">Math</span>.exp(-y*y/<span class="code-number">2</span>);m.push(x),<span class="code-number">0</span>==g?v+=x:g&lt;f&amp;&amp;(v+=<span class="code-number">2</span>*x)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> _=<span class="code-number">0</span>;_&lt;m.length;_++)m[_]=m[_]/v;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value=<span class="code-string">"latitudinal"</span>===a,o&amp;&amp;(u.poleAxis.value=o),u.dTheta.value=d,u.mipInt.value=<span class="code-number">8</span>-n,u.inputEncoding.value=sh[t.texture.encoding],u.outputEncoding.value=sh[t.texture.encoding];<span class="code-keyword">var</span> b=hh[r];bh(e,<span class="code-number">3</span>*<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,rh<span class="code-number">-2</span>*b),(<span class="code-number">0</span>===r?<span class="code-number">0</span>:<span class="code-number">2</span>*rh)+<span class="code-number">2</span>*b*(r&gt;<span class="code-number">4</span>?r<span class="code-number">-8</span>+<span class="code-number">4</span>:<span class="code-number">0</span>),<span class="code-number">3</span>*b,<span class="code-number">2</span>*b),s.setRenderTarget(e),s.render(l,ch)},t}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yh</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;t.type===y&amp;&amp;(t.encoding===q||t.encoding===X||t.encoding===Y)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xh</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],e=[],n=[],r=<span class="code-number">8</span>,i=<span class="code-number">0</span>;i&lt;ah;i++){<span class="code-keyword">var</span> a=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,r);e.push(a);<span class="code-keyword">var</span> o=<span class="code-number">1</span>/a;i&gt;<span class="code-number">4</span>?o=ih[i<span class="code-number">-8</span>+<span class="code-number">4</span><span class="code-number">-1</span>]:<span class="code-number">0</span>==i&amp;&amp;(o=<span class="code-number">0</span>),n.push(o);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">1</span>/(a<span class="code-number">-1</span>),c=-s/<span class="code-number">2</span>,l=<span class="code-number">1</span>+s/<span class="code-number">2</span>,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">108</span>),d=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">72</span>),p=<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>(<span class="code-number">36</span>),f=<span class="code-number">0</span>;f&lt;<span class="code-number">6</span>;f++){<span class="code-keyword">var</span> m=f%<span class="code-number">3</span>*<span class="code-number">2</span>/<span class="code-number">3</span><span class="code-number">-1</span>,v=f&gt;<span class="code-number">2</span>?<span class="code-number">0</span>:<span class="code-number">-1</span>,g=[m,v,<span class="code-number">0</span>,m+<span class="code-number">2</span>/<span class="code-number">3</span>,v,<span class="code-number">0</span>,m+<span class="code-number">2</span>/<span class="code-number">3</span>,v+<span class="code-number">1</span>,<span class="code-number">0</span>,m,v,<span class="code-number">0</span>,m+<span class="code-number">2</span>/<span class="code-number">3</span>,v+<span class="code-number">1</span>,<span class="code-number">0</span>,m,v+<span class="code-number">1</span>,<span class="code-number">0</span>];h.set(g,<span class="code-number">18</span>*f),d.set(u,<span class="code-number">12</span>*f);<span class="code-keyword">var</span> y=[f,f,f,f,f,f];p.set(y,<span class="code-number">6</span>*f)}<span class="code-keyword">var</span> x=<span class="code-keyword">new</span> _n;x.setAttribute(<span class="code-string">"position"</span>,<span class="code-keyword">new</span> Qe(h,<span class="code-number">3</span>)),x.setAttribute(<span class="code-string">"uv"</span>,<span class="code-keyword">new</span> Qe(d,<span class="code-number">2</span>)),x.setAttribute(<span class="code-string">"faceIndex"</span>,<span class="code-keyword">new</span> Qe(p,<span class="code-number">1</span>)),t.push(x),r&gt;<span class="code-number">4</span>&amp;&amp;r--}<span class="code-keyword">return</span>{<span class="code-attr">_lodPlanes</span>:t,<span class="code-attr">_sizeLods</span>:e,<span class="code-attr">_sigmas</span>:n}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_h</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> _t(<span class="code-number">3</span>*rh,<span class="code-number">3</span>*rh,t);<span class="code-keyword">return</span> e.texture.mapping=s,e.texture.name=<span class="code-string">"PMREM.cubeUv"</span>,e.scissorTest=!<span class="code-number">0</span>,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bh</span>(<span class="code-params">t,e,n,r,i</span>)</span>{t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wh</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Ws({<span class="code-attr">name</span>:<span class="code-string">"EquirectangularToCubeUV"</span>,<span class="code-attr">uniforms</span>:{<span class="code-attr">envMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">texelSize</span>:{<span class="code-attr">value</span>:<span class="code-keyword">new</span> pt(<span class="code-number">1</span>,<span class="code-number">1</span>)},<span class="code-attr">inputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]},<span class="code-attr">outputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]}},<span class="code-attr">vertexShader</span>:<span class="code-string">"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"</span>,<span class="code-attr">fragmentShader</span>:<span class="code-string">"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include &lt;encodings_pars_fragment&gt;\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include &lt;common&gt;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"</span>,<span class="code-attr">blending</span>:<span class="code-number">0</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mh</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Ws({<span class="code-attr">name</span>:<span class="code-string">"CubemapToCubeUV"</span>,<span class="code-attr">uniforms</span>:{<span class="code-attr">envMap</span>:{<span class="code-attr">value</span>:<span class="code-literal">null</span>},<span class="code-attr">inputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]},<span class="code-attr">outputEncoding</span>:{<span class="code-attr">value</span>:sh[<span class="code-number">3e3</span>]}},<span class="code-attr">vertexShader</span>:<span class="code-string">"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"</span>,<span class="code-attr">fragmentShader</span>:<span class="code-string">"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include &lt;encodings_pars_fragment&gt;\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"</span>,<span class="code-attr">blending</span>:<span class="code-number">0</span>,<span class="code-attr">depthTest</span>:!<span class="code-number">1</span>,<span class="code-attr">depthWrite</span>:!<span class="code-number">1</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Sh</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."</span>),Oc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.type=<span class="code-string">"catmullrom"</span>,<span class="code-keyword">this</span>.closed=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Th</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."</span>),Oc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.type=<span class="code-string">"catmullrom"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Eh</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."</span>),Oc.call(<span class="code-keyword">this</span>,t),<span class="code-keyword">this</span>.type=<span class="code-string">"catmullrom"</span>}Ac.create=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.log(<span class="code-string">"THREE.Curve.create() has been deprecated"</span>),t.prototype=<span class="code-built_in">Object</span>.create(Ac.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},<span class="code-built_in">Object</span>.assign(Xc.prototype,{<span class="code-attr">createPointsGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getPoints(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.createGeometry(e)},<span class="code-attr">createSpacedPointsGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getSpacedPoints(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.createGeometry(e)},<span class="code-attr">createGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> wo,n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> i=t[n];e.vertices.push(<span class="code-keyword">new</span> Mt(i.x,i.y,i.z||<span class="code-number">0</span>))}<span class="code-keyword">return</span> e}}),<span class="code-built_in">Object</span>.assign(Yc.prototype,{<span class="code-attr">fromPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Path: .fromPoints() has been renamed to .setFromPoints()."</span>),<span class="code-keyword">this</span>.setFromPoints(t)}}),Sh.prototype=<span class="code-built_in">Object</span>.create(Oc.prototype),Th.prototype=<span class="code-built_in">Object</span>.create(Oc.prototype),Eh.prototype=<span class="code-built_in">Object</span>.create(Oc.prototype),<span class="code-built_in">Object</span>.assign(Eh.prototype,{<span class="code-attr">initFromArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Spline: .initFromArray() has been removed."</span>)},<span class="code-attr">getControlPointsArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Spline: .getControlPointsArray() has been removed."</span>)},<span class="code-attr">reparametrizeByArcLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Spline: .reparametrizeByArcLength() has been removed."</span>)}}),Du.prototype.setColors=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead."</span>)},Au.prototype.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SkeletonHelper: update() no longer needs to be called."</span>)},<span class="code-built_in">Object</span>.assign(yc.prototype,{<span class="code-attr">extractUrlBase</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."</span>),hl.extractUrlBase(t)}}),yc.Handlers={<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead."</span>)},<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead."</span>)}},<span class="code-built_in">Object</span>.assign(gu.prototype,{<span class="code-attr">center</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .center() has been renamed to .getCenter()."</span>),<span class="code-keyword">this</span>.getCenter(t)},<span class="code-attr">empty</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .empty() has been renamed to .isEmpty()."</span>),<span class="code-keyword">this</span>.isEmpty()},<span class="code-attr">isIntersectionBox</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."</span>),<span class="code-keyword">this</span>.intersectsBox(t)},<span class="code-attr">size</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box2: .size() has been renamed to .getSize()."</span>),<span class="code-keyword">this</span>.getSize(t)}}),<span class="code-built_in">Object</span>.assign(Et.prototype,{<span class="code-attr">center</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .center() has been renamed to .getCenter()."</span>),<span class="code-keyword">this</span>.getCenter(t)},<span class="code-attr">empty</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .empty() has been renamed to .isEmpty()."</span>),<span class="code-keyword">this</span>.isEmpty()},<span class="code-attr">isIntersectionBox</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."</span>),<span class="code-keyword">this</span>.intersectsBox(t)},<span class="code-attr">isIntersectionSphere</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."</span>),<span class="code-keyword">this</span>.intersectsSphere(t)},<span class="code-attr">size</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Box3: .size() has been renamed to .getSize()."</span>),<span class="code-keyword">this</span>.getSize(t)}}),<span class="code-built_in">Object</span>.assign(kt.prototype,{<span class="code-attr">empty</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Sphere: .empty() has been renamed to .isEmpty()."</span>),<span class="code-keyword">this</span>.isEmpty()}}),er.prototype.setFromMatrix=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."</span>),<span class="code-keyword">this</span>.setFromProjectionMatrix(t)},_u.prototype.center=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Line3: .center() has been renamed to .getCenter()."</span>),<span class="code-keyword">this</span>.getCenter(t)},<span class="code-built_in">Object</span>.assign(st,{<span class="code-attr">random16</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Math: .random16() has been deprecated. Use Math.random() instead."</span>),<span class="code-built_in">Math</span>.random()},<span class="code-attr">nearestPowerOfTwo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."</span>),st.floorPowerOfTwo(t)},<span class="code-attr">nextPowerOfTwo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."</span>),st.ceilPowerOfTwo(t)}}),<span class="code-built_in">Object</span>.assign(ft.prototype,{<span class="code-attr">flattenToArrayOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."</span>),<span class="code-keyword">this</span>.toArray(t,e)},<span class="code-attr">multiplyVector3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."</span>),t.applyMatrix3(<span class="code-keyword">this</span>)},<span class="code-attr">multiplyVector3Array</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix3: .multiplyVector3Array() has been removed."</span>)},<span class="code-attr">applyToBufferAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."</span>),t.applyMatrix3(<span class="code-keyword">this</span>)},<span class="code-attr">applyToVector3Array</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix3: .applyToVector3Array() has been removed."</span>)},<span class="code-attr">getInverse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."</span>),<span class="code-keyword">this</span>.copy(t).invert()}}),<span class="code-built_in">Object</span>.assign(Qt.prototype,{<span class="code-attr">extractPosition</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."</span>),<span class="code-keyword">this</span>.copyPosition(t)},<span class="code-attr">flattenToArrayOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."</span>),<span class="code-keyword">this</span>.toArray(t,e)},<span class="code-attr">getPosition</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."</span>),(<span class="code-keyword">new</span> Mt).setFromMatrixColumn(<span class="code-keyword">this</span>,<span class="code-number">3</span>)},<span class="code-attr">setRotationFromQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."</span>),<span class="code-keyword">this</span>.makeRotationFromQuaternion(t)},<span class="code-attr">multiplyToArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .multiplyToArray() has been removed."</span>)},<span class="code-attr">multiplyVector3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."</span>),t.applyMatrix4(<span class="code-keyword">this</span>)},<span class="code-attr">multiplyVector4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."</span>),t.applyMatrix4(<span class="code-keyword">this</span>)},<span class="code-attr">multiplyVector3Array</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .multiplyVector3Array() has been removed."</span>)},<span class="code-attr">rotateAxis</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."</span>),t.transformDirection(<span class="code-keyword">this</span>)},<span class="code-attr">crossVector</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."</span>),t.applyMatrix4(<span class="code-keyword">this</span>)},<span class="code-attr">translate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .translate() has been removed."</span>)},<span class="code-attr">rotateX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .rotateX() has been removed."</span>)},<span class="code-attr">rotateY</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .rotateY() has been removed."</span>)},<span class="code-attr">rotateZ</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .rotateZ() has been removed."</span>)},<span class="code-attr">rotateByAxis</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .rotateByAxis() has been removed."</span>)},<span class="code-attr">applyToBufferAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."</span>),t.applyMatrix4(<span class="code-keyword">this</span>)},<span class="code-attr">applyToVector3Array</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Matrix4: .applyToVector3Array() has been removed."</span>)},<span class="code-attr">makeFrustum</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."</span>),<span class="code-keyword">this</span>.makePerspective(t,e,r,n,i,a)},<span class="code-attr">getInverse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."</span>),<span class="code-keyword">this</span>.copy(t).invert()}}),Ee.prototype.isIntersectionLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."</span>),<span class="code-keyword">this</span>.intersectsLine(t)},<span class="code-built_in">Object</span>.assign(wt.prototype,{<span class="code-attr">multiplyVector3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."</span>),t.applyQuaternion(<span class="code-keyword">this</span>)},<span class="code-attr">inverse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Quaternion: .inverse() has been renamed to invert()."</span>),<span class="code-keyword">this</span>.invert()}}),<span class="code-built_in">Object</span>.assign(Jt.prototype,{<span class="code-attr">isIntersectionBox</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."</span>),<span class="code-keyword">this</span>.intersectsBox(t)},<span class="code-attr">isIntersectionPlane</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."</span>),<span class="code-keyword">this</span>.intersectsPlane(t)},<span class="code-attr">isIntersectionSphere</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."</span>),<span class="code-keyword">this</span>.intersectsSphere(t)}}),<span class="code-built_in">Object</span>.assign(ze.prototype,{<span class="code-attr">area</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .area() has been renamed to .getArea()."</span>),<span class="code-keyword">this</span>.getArea()},<span class="code-attr">barycoordFromPoint</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."</span>),<span class="code-keyword">this</span>.getBarycoord(t,e)},<span class="code-attr">midpoint</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."</span>),<span class="code-keyword">this</span>.getMidpoint(t)},<span class="code-attr">normal</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .normal() has been renamed to .getNormal()."</span>),<span class="code-keyword">this</span>.getNormal(t)},<span class="code-attr">plane</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .plane() has been renamed to .getPlane()."</span>),<span class="code-keyword">this</span>.getPlane(t)}}),<span class="code-built_in">Object</span>.assign(ze,{<span class="code-attr">barycoordFromPoint</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."</span>),ze.getBarycoord(t,e,n,r,i)},<span class="code-attr">normal</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Triangle: .normal() has been renamed to .getNormal()."</span>),ze.getNormal(t,e,n,r)}}),<span class="code-built_in">Object</span>.assign(Zc.prototype,{<span class="code-attr">extractAllPoints</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."</span>),<span class="code-keyword">this</span>.extractPoints(t)},<span class="code-attr">extrude</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."</span>),<span class="code-keyword">new</span> fs(<span class="code-keyword">this</span>,t)},<span class="code-attr">makeGeometry</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."</span>),<span class="code-keyword">new</span> Ls(<span class="code-keyword">this</span>,t)}}),<span class="code-built_in">Object</span>.assign(pt.prototype,{<span class="code-attr">fromAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.fromBufferAttribute(t,e,n)},<span class="code-attr">distanceToManhattan</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."</span>),<span class="code-keyword">this</span>.manhattanDistanceTo(t)},<span class="code-attr">lengthManhattan</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."</span>),<span class="code-keyword">this</span>.manhattanLength()}}),<span class="code-built_in">Object</span>.assign(Mt.prototype,{<span class="code-attr">setEulerFromRotationMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead."</span>)},<span class="code-attr">setEulerFromQuaternion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead."</span>)},<span class="code-attr">getPositionFromMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."</span>),<span class="code-keyword">this</span>.setFromMatrixPosition(t)},<span class="code-attr">getScaleFromMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."</span>),<span class="code-keyword">this</span>.setFromMatrixScale(t)},<span class="code-attr">getColumnFromMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."</span>),<span class="code-keyword">this</span>.setFromMatrixColumn(e,t)},<span class="code-attr">applyProjection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."</span>),<span class="code-keyword">this</span>.applyMatrix4(t)},<span class="code-attr">fromAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.fromBufferAttribute(t,e,n)},<span class="code-attr">distanceToManhattan</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."</span>),<span class="code-keyword">this</span>.manhattanDistanceTo(t)},<span class="code-attr">lengthManhattan</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."</span>),<span class="code-keyword">this</span>.manhattanLength()}}),<span class="code-built_in">Object</span>.assign(xt.prototype,{<span class="code-attr">fromAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."</span>),<span class="code-keyword">this</span>.fromBufferAttribute(t,e,n)},<span class="code-attr">lengthManhattan</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."</span>),<span class="code-keyword">this</span>.manhattanLength()}}),<span class="code-built_in">Object</span>.assign(wo.prototype,{<span class="code-attr">computeTangents</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Geometry: .computeTangents() has been removed."</span>)},<span class="code-attr">computeLineDistances</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead."</span>)},<span class="code-attr">applyMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."</span>),<span class="code-keyword">this</span>.applyMatrix4(t)}}),<span class="code-built_in">Object</span>.assign(we.prototype,{<span class="code-attr">getChildByName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."</span>),<span class="code-keyword">this</span>.getObjectByName(t)},<span class="code-attr">renderDepth</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead."</span>)},<span class="code-attr">translate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."</span>),<span class="code-keyword">this</span>.translateOnAxis(e,t)},<span class="code-attr">getWorldRotation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead."</span>)},<span class="code-attr">applyMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."</span>),<span class="code-keyword">this</span>.applyMatrix4(t)}}),<span class="code-built_in">Object</span>.defineProperties(we.prototype,{<span class="code-attr">eulerOrder</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .eulerOrder is now .rotation.order."</span>),<span class="code-keyword">this</span>.rotation.order},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .eulerOrder is now .rotation.order."</span>),<span class="code-keyword">this</span>.rotation.order=t}},<span class="code-attr">useQuaternion</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."</span>)}}}),<span class="code-built_in">Object</span>.assign(Un.prototype,{<span class="code-attr">setDrawMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary."</span>)}}),<span class="code-built_in">Object</span>.defineProperties(Un.prototype,{<span class="code-attr">drawMode</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."</span>),<span class="code-number">0</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary."</span>)}}}),<span class="code-built_in">Object</span>.defineProperties(Ua.prototype,{<span class="code-attr">objects</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.LOD: .objects has been renamed to .levels."</span>),<span class="code-keyword">this</span>.levels}}}),<span class="code-built_in">Object</span>.defineProperty(Va.prototype,<span class="code-string">"useVertexTexture"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Skeleton: useVertexTexture has been removed."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Skeleton: useVertexTexture has been removed."</span>)}}),Fa.prototype.initBones=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SkinnedMesh: initBones() has been removed."</span>)},<span class="code-built_in">Object</span>.defineProperty(Ac.prototype,<span class="code-string">"__arcLengthDivisions"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."</span>),<span class="code-keyword">this</span>.arcLengthDivisions},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."</span>),<span class="code-keyword">this</span>.arcLengthDivisions=t}}),Xn.prototype.setLens=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(<span class="code-keyword">this</span>.filmGauge=e),<span class="code-keyword">this</span>.setFocalLength(t)},<span class="code-built_in">Object</span>.defineProperties(Jc.prototype,{<span class="code-attr">onlyShadow</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .onlyShadow has been removed."</span>)}},<span class="code-attr">shadowCameraFov</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraFov is now .shadow.camera.fov."</span>),<span class="code-keyword">this</span>.shadow.camera.fov=t}},<span class="code-attr">shadowCameraLeft</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraLeft is now .shadow.camera.left."</span>),<span class="code-keyword">this</span>.shadow.camera.left=t}},<span class="code-attr">shadowCameraRight</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraRight is now .shadow.camera.right."</span>),<span class="code-keyword">this</span>.shadow.camera.right=t}},<span class="code-attr">shadowCameraTop</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraTop is now .shadow.camera.top."</span>),<span class="code-keyword">this</span>.shadow.camera.top=t}},<span class="code-attr">shadowCameraBottom</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."</span>),<span class="code-keyword">this</span>.shadow.camera.bottom=t}},<span class="code-attr">shadowCameraNear</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraNear is now .shadow.camera.near."</span>),<span class="code-keyword">this</span>.shadow.camera.near=t}},<span class="code-attr">shadowCameraFar</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraFar is now .shadow.camera.far."</span>),<span class="code-keyword">this</span>.shadow.camera.far=t}},<span class="code-attr">shadowCameraVisible</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead."</span>)}},<span class="code-attr">shadowBias</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowBias is now .shadow.bias."</span>),<span class="code-keyword">this</span>.shadow.bias=t}},<span class="code-attr">shadowDarkness</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowDarkness has been removed."</span>)}},<span class="code-attr">shadowMapWidth</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."</span>),<span class="code-keyword">this</span>.shadow.mapSize.width=t}},<span class="code-attr">shadowMapHeight</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."</span>),<span class="code-keyword">this</span>.shadow.mapSize.height=t}}}),<span class="code-built_in">Object</span>.defineProperties(Qe.prototype,{<span class="code-attr">length</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute: .length has been deprecated. Use .count instead."</span>),<span class="code-keyword">this</span>.array.length}},<span class="code-attr">dynamic</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."</span>),<span class="code-keyword">this</span>.usage===et},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."</span>),<span class="code-keyword">this</span>.setUsage(et)}}}),<span class="code-built_in">Object</span>.assign(Qe.prototype,{<span class="code-attr">setDynamic</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."</span>),<span class="code-keyword">this</span>.setUsage(!<span class="code-number">0</span>===t?et:tt),<span class="code-keyword">this</span>},<span class="code-attr">copyIndicesArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.BufferAttribute: .copyIndicesArray() has been removed."</span>)},<span class="code-attr">setArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers"</span>)}}),<span class="code-built_in">Object</span>.assign(_n.prototype,{<span class="code-attr">addIndex</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."</span>),<span class="code-keyword">this</span>.setIndex(t)},<span class="code-attr">addAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."</span>),e&amp;&amp;e.isBufferAttribute||e&amp;&amp;e.isInterleavedBufferAttribute?<span class="code-string">"index"</span>===t?(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."</span>),<span class="code-keyword">this</span>.setIndex(e),<span class="code-keyword">this</span>):<span class="code-keyword">this</span>.setAttribute(t,e):(<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."</span>),<span class="code-keyword">this</span>.setAttribute(t,<span class="code-keyword">new</span> Qe(<span class="code-built_in">arguments</span>[<span class="code-number">1</span>],<span class="code-built_in">arguments</span>[<span class="code-number">2</span>])))},<span class="code-attr">addDrawCall</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."</span>),<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .addDrawCall() is now .addGroup()."</span>),<span class="code-keyword">this</span>.addGroup(t,e)},<span class="code-attr">clearDrawCalls</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."</span>),<span class="code-keyword">this</span>.clearGroups()},<span class="code-attr">computeTangents</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .computeTangents() has been removed."</span>)},<span class="code-attr">computeOffsets</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .computeOffsets() has been removed."</span>)},<span class="code-attr">removeAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."</span>),<span class="code-keyword">this</span>.deleteAttribute(t)},<span class="code-attr">applyMatrix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."</span>),<span class="code-keyword">this</span>.applyMatrix4(t)}}),<span class="code-built_in">Object</span>.defineProperties(_n.prototype,{<span class="code-attr">drawcalls</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.error(<span class="code-string">"THREE.BufferGeometry: .drawcalls has been renamed to .groups."</span>),<span class="code-keyword">this</span>.groups}},<span class="code-attr">offsets</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BufferGeometry: .offsets has been renamed to .groups."</span>),<span class="code-keyword">this</span>.groups}}}),<span class="code-built_in">Object</span>.defineProperties(dl.prototype,{<span class="code-attr">maxInstancedCount</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."</span>),<span class="code-keyword">this</span>.instanceCount},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."</span>),<span class="code-keyword">this</span>.instanceCount=t}}}),<span class="code-built_in">Object</span>.defineProperties(hu.prototype,{<span class="code-attr">linePrecision</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."</span>),<span class="code-keyword">this</span>.params.Line.threshold},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."</span>),<span class="code-keyword">this</span>.params.Line.threshold=t}}}),<span class="code-built_in">Object</span>.defineProperties(da.prototype,{<span class="code-attr">dynamic</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."</span>),<span class="code-keyword">this</span>.usage===et},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."</span>),<span class="code-keyword">this</span>.setUsage(t)}}}),<span class="code-built_in">Object</span>.assign(da.prototype,{<span class="code-attr">setDynamic</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."</span>),<span class="code-keyword">this</span>.setUsage(!<span class="code-number">0</span>===t?et:tt),<span class="code-keyword">this</span>},<span class="code-attr">setArray</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers"</span>)}}),<span class="code-built_in">Object</span>.assign(ds.prototype,{<span class="code-attr">getArrays</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ExtrudeBufferGeometry: .getArrays() has been removed."</span>)},<span class="code-attr">addShapeList</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed."</span>)},<span class="code-attr">addShape</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ExtrudeBufferGeometry: .addShape() has been removed."</span>)}}),<span class="code-built_in">Object</span>.assign(ha.prototype,{<span class="code-attr">dispose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.Scene: .dispose() has been removed."</span>)}}),<span class="code-built_in">Object</span>.defineProperties(cu.prototype,{<span class="code-attr">dynamic</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead."</span>)}},<span class="code-attr">onUpdate</span>:{<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."</span>),<span class="code-keyword">this</span>}}}),<span class="code-built_in">Object</span>.defineProperties(Xe.prototype,{<span class="code-attr">wrapAround</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: .wrapAround has been removed."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: .wrapAround has been removed."</span>)}},<span class="code-attr">overdraw</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: .overdraw has been removed."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: .overdraw has been removed."</span>)}},<span class="code-attr">wrapRGB</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Material: .wrapRGB has been removed."</span>),<span class="code-keyword">new</span> We}},<span class="code-attr">shading</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": .shading has been removed. Use the boolean .flatShading instead."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": .shading has been removed. Use the boolean .flatShading instead."</span>),<span class="code-keyword">this</span>.flatShading=<span class="code-number">1</span>===t}},<span class="code-attr">stencilMask</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": .stencilMask has been removed. Use .stencilFuncMask instead."</span>),<span class="code-keyword">this</span>.stencilFuncMask},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE."</span>+<span class="code-keyword">this</span>.type+<span class="code-string">": .stencilMask has been removed. Use .stencilFuncMask instead."</span>),<span class="code-keyword">this</span>.stencilFuncMask=t}}}),<span class="code-built_in">Object</span>.defineProperties(Xs.prototype,{<span class="code-attr">metal</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."</span>),!<span class="code-number">1</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead"</span>)}}}),<span class="code-built_in">Object</span>.defineProperties(qs.prototype,{<span class="code-attr">transparency</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."</span>),<span class="code-keyword">this</span>.transmission},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."</span>),<span class="code-keyword">this</span>.transmission=t}}}),<span class="code-built_in">Object</span>.defineProperties(jn.prototype,{<span class="code-attr">derivatives</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."</span>),<span class="code-keyword">this</span>.extensions.derivatives},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."</span>),<span class="code-keyword">this</span>.extensions.derivatives=t}}}),<span class="code-built_in">Object</span>.assign(sa.prototype,{<span class="code-attr">clearTarget</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."</span>),<span class="code-keyword">this</span>.setRenderTarget(t),<span class="code-keyword">this</span>.clear(e,n,r)},<span class="code-attr">animate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."</span>),<span class="code-keyword">this</span>.setAnimationLoop(t)},<span class="code-attr">getCurrentRenderTarget</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."</span>),<span class="code-keyword">this</span>.getRenderTarget()},<span class="code-attr">getMaxAnisotropy</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."</span>),<span class="code-keyword">this</span>.capabilities.getMaxAnisotropy()},<span class="code-attr">getPrecision</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."</span>),<span class="code-keyword">this</span>.capabilities.precision},<span class="code-attr">resetGLState</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .resetGLState() is now .state.reset()."</span>),<span class="code-keyword">this</span>.state.reset()},<span class="code-attr">supportsFloatTextures</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"OES_texture_float"</span>)},<span class="code-attr">supportsHalfFloatTextures</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"OES_texture_half_float"</span>)},<span class="code-attr">supportsStandardDerivatives</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"OES_standard_derivatives"</span>)},<span class="code-attr">supportsCompressedTextureS3TC</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"WEBGL_compressed_texture_s3tc"</span>)},<span class="code-attr">supportsCompressedTexturePVRTC</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"WEBGL_compressed_texture_pvrtc"</span>)},<span class="code-attr">supportsBlendMinMax</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"EXT_blend_minmax"</span>)},<span class="code-attr">supportsVertexTextures</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."</span>),<span class="code-keyword">this</span>.capabilities.vertexTextures},<span class="code-attr">supportsInstancedArrays</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."</span>),<span class="code-keyword">this</span>.extensions.get(<span class="code-string">"ANGLE_instanced_arrays"</span>)},<span class="code-attr">enableScissorTest</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."</span>),<span class="code-keyword">this</span>.setScissorTest(t)},<span class="code-attr">initMaterial</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .initMaterial() has been removed."</span>)},<span class="code-attr">addPrePlugin</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .addPrePlugin() has been removed."</span>)},<span class="code-attr">addPostPlugin</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .addPostPlugin() has been removed."</span>)},<span class="code-attr">updateShadowMap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .updateShadowMap() has been removed."</span>)},<span class="code-attr">setFaceCulling</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .setFaceCulling() has been removed."</span>)},<span class="code-attr">allocTextureUnit</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .allocTextureUnit() has been removed."</span>)},<span class="code-attr">setTexture</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .setTexture() has been removed."</span>)},<span class="code-attr">setTexture2D</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .setTexture2D() has been removed."</span>)},<span class="code-attr">setTextureCube</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .setTextureCube() has been removed."</span>)},<span class="code-attr">getActiveMipMapLevel</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."</span>),<span class="code-keyword">this</span>.getActiveMipmapLevel()}}),<span class="code-built_in">Object</span>.defineProperties(sa.prototype,{<span class="code-attr">shadowMapEnabled</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.shadowMap.enabled},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."</span>),<span class="code-keyword">this</span>.shadowMap.enabled=t}},<span class="code-attr">shadowMapType</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.shadowMap.type},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."</span>),<span class="code-keyword">this</span>.shadowMap.type=t}},<span class="code-attr">shadowMapCullFace</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead."</span>)}},<span class="code-attr">context</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."</span>),<span class="code-keyword">this</span>.getContext()}},<span class="code-attr">vr</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .vr has been renamed to .xr"</span>),<span class="code-keyword">this</span>.xr}},<span class="code-attr">gammaInput</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."</span>),!<span class="code-number">1</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."</span>)}},<span class="code-attr">gammaOutput</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."</span>),!<span class="code-number">1</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."</span>),<span class="code-keyword">this</span>.outputEncoding=!<span class="code-number">0</span>===t?X:q}},<span class="code-attr">toneMappingWhitePoint</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."</span>),<span class="code-number">1</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."</span>)}}}),<span class="code-built_in">Object</span>.defineProperties(Ki.prototype,{<span class="code-attr">cullFace</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead."</span>)}},<span class="code-attr">renderReverseSided</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead."</span>)}},<span class="code-attr">renderSingleSided</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead."</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead."</span>)}}}),<span class="code-built_in">Object</span>.defineProperties(_t.prototype,{<span class="code-attr">wrapS</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."</span>),<span class="code-keyword">this</span>.texture.wrapS},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."</span>),<span class="code-keyword">this</span>.texture.wrapS=t}},<span class="code-attr">wrapT</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."</span>),<span class="code-keyword">this</span>.texture.wrapT},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."</span>),<span class="code-keyword">this</span>.texture.wrapT=t}},<span class="code-attr">magFilter</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."</span>),<span class="code-keyword">this</span>.texture.magFilter},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."</span>),<span class="code-keyword">this</span>.texture.magFilter=t}},<span class="code-attr">minFilter</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."</span>),<span class="code-keyword">this</span>.texture.minFilter},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."</span>),<span class="code-keyword">this</span>.texture.minFilter=t}},<span class="code-attr">anisotropy</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."</span>),<span class="code-keyword">this</span>.texture.anisotropy},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."</span>),<span class="code-keyword">this</span>.texture.anisotropy=t}},<span class="code-attr">offset</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .offset is now .texture.offset."</span>),<span class="code-keyword">this</span>.texture.offset},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .offset is now .texture.offset."</span>),<span class="code-keyword">this</span>.texture.offset=t}},<span class="code-attr">repeat</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .repeat is now .texture.repeat."</span>),<span class="code-keyword">this</span>.texture.repeat},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .repeat is now .texture.repeat."</span>),<span class="code-keyword">this</span>.texture.repeat=t}},<span class="code-attr">format</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .format is now .texture.format."</span>),<span class="code-keyword">this</span>.texture.format},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .format is now .texture.format."</span>),<span class="code-keyword">this</span>.texture.format=t}},<span class="code-attr">type</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .type is now .texture.type."</span>),<span class="code-keyword">this</span>.texture.type},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .type is now .texture.type."</span>),<span class="code-keyword">this</span>.texture.type=t}},<span class="code-attr">generateMipmaps</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."</span>),<span class="code-keyword">this</span>.texture.generateMipmaps},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."</span>),<span class="code-keyword">this</span>.texture.generateMipmaps=t}}}),<span class="code-built_in">Object</span>.defineProperties(Fl.prototype,{<span class="code-attr">load</span>:{<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead."</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">return</span>(<span class="code-keyword">new</span> El).load(t,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e.setBuffer(t)})),<span class="code-keyword">this</span>}},<span class="code-attr">startTime</span>:{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Audio: .startTime is now .play( delay )."</span>)}}}),jl.prototype.getData=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.AudioAnalyser: .getData() is now .getFrequencyData()."</span>),<span class="code-keyword">this</span>.getFrequencyData()},Zn.prototype.updateCubeMap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.CubeCamera: .updateCubeMap() is now .update()."</span>),<span class="code-keyword">this</span>.update(t,e)},Zn.prototype.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.CubeCamera: .clear() is now .renderTarget.clear()."</span>),<span class="code-keyword">this</span>.renderTarget.clear(t,e,n,r)};<span class="code-keyword">var</span> Ah={<span class="code-attr">merge</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."</span>),e.isMesh&amp;&amp;(e.matrixAutoUpdate&amp;&amp;e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},<span class="code-attr">center</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."</span>),t.center()}};mt.crossOrigin=<span class="code-keyword">void</span> <span class="code-number">0</span>,mt.loadTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead."</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Ec;i.setCrossOrigin(<span class="code-keyword">this</span>.crossOrigin);<span class="code-keyword">var</span> a=i.load(t,n,<span class="code-keyword">void</span> <span class="code-number">0</span>,r);<span class="code-keyword">return</span> e&amp;&amp;(a.mapping=e),a},mt.loadTextureCube=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r</span>)</span>{<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead."</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Sc;i.setCrossOrigin(<span class="code-keyword">this</span>.crossOrigin);<span class="code-keyword">var</span> a=i.load(t,n,<span class="code-keyword">void</span> <span class="code-number">0</span>,r);<span class="code-keyword">return</span> e&amp;&amp;(a.mapping=e),a},mt.loadCompressedTexture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead."</span>)},mt.loadCompressedTextureCube=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead."</span>)};<span class="code-keyword">var</span> Lh={<span class="code-attr">createMultiMaterialObject</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js"</span>)},<span class="code-attr">detach</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js"</span>)},<span class="code-attr">attach</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js"</span>)}};<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> __THREE_DEVTOOLS__&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(<span class="code-keyword">new</span> CustomEvent(<span class="code-string">"register"</span>,{<span class="code-attr">detail</span>:{<span class="code-attr">revision</span>:<span class="code-string">"123"</span>}})),t.ACESFilmicToneMapping=<span class="code-number">4</span>,t.AddEquation=e,t.AddOperation=<span class="code-number">2</span>,t.AdditiveAnimationBlendMode=j,t.AdditiveBlending=<span class="code-number">2</span>,t.AlphaFormat=<span class="code-number">1021</span>,t.AlwaysDepth=<span class="code-number">1</span>,t.AlwaysStencilFunc=<span class="code-number">519</span>,t.AmbientLight=ol,t.AmbientLightProbe=Ll,t.AnimationClip=pc,t.AnimationLoader=bc,t.AnimationMixer=su,t.AnimationObjectGroup=au,t.AnimationUtils=tc,t.ArcCurve=Rc,t.ArrayCamera=na,t.ArrowHelper=Ku,t.Audio=Fl,t.AudioAnalyser=jl,t.AudioContext=Tl,t.AudioListener=Ul,t.AudioLoader=El,t.AxesHelper=$u,t.AxisHelper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.AxisHelper has been renamed to THREE.AxesHelper."</span>),<span class="code-keyword">new</span> $u(t)},t.BackSide=<span class="code-number">1</span>,t.BasicDepthPacking=<span class="code-number">3200</span>,t.BasicShadowMap=<span class="code-number">0</span>,t.BinaryTextureLoader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."</span>),<span class="code-keyword">new</span> Tc(t)},t.Bone=Ga,t.BooleanKeyframeTrack=oc,t.BoundingBoxHelper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."</span>),<span class="code-keyword">new</span> Yu(t,e)},t.Box2=gu,t.Box3=Et,t.Box3Helper=Zu,t.BoxBufferGeometry=Hn,t.BoxGeometry=Mo,t.BoxHelper=Yu,t.BufferAttribute=Qe,t.BufferGeometry=_n,t.BufferGeometryLoader=fl,t.ByteType=<span class="code-number">1010</span>,t.Cache=mc,t.Camera=qn,t.CameraHelper=ku,t.CanvasRenderer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.CanvasRenderer has been removed"</span>)},t.CanvasTexture=vo,t.CatmullRomCurve3=Oc,t.CineonToneMapping=<span class="code-number">3</span>,t.CircleBufferGeometry=So,t.CircleGeometry=To,t.ClampToEdgeWrapping=u,t.Clock=Il,t.ClosedSplineCurve3=Sh,t.Color=We,t.ColorKeyframeTrack=sc,t.CompressedTexture=mo,t.CompressedTextureLoader=wc,t.ConeBufferGeometry=Ro,t.ConeGeometry=Lo,t.CubeCamera=Zn,t.CubeGeometry=Mo,t.CubeReflectionMapping=r,t.CubeRefractionMapping=i,t.CubeTexture=Jn,t.CubeTextureLoader=Sc,t.CubeUVReflectionMapping=s,t.CubeUVRefractionMapping=c,t.CubicBezierCurve=Fc,t.CubicBezierCurve3=Gc,t.CubicInterpolant=nc,t.CullFaceBack=<span class="code-number">1</span>,t.CullFaceFront=<span class="code-number">2</span>,t.CullFaceFrontBack=<span class="code-number">3</span>,t.CullFaceNone=<span class="code-number">0</span>,t.Curve=Ac,t.CurvePath=Xc,t.CustomBlending=<span class="code-number">5</span>,t.CustomToneMapping=<span class="code-number">5</span>,t.CylinderBufferGeometry=Eo,t.CylinderGeometry=Ao,t.Cylindrical=mu,t.DataTexture=Kn,t.DataTexture2DArray=wr,t.DataTexture3D=Mr,t.DataTextureLoader=Tc,t.DataUtils=nh,t.DecrementStencilOp=<span class="code-number">7683</span>,t.DecrementWrapStencilOp=<span class="code-number">34056</span>,t.DefaultLoadingManager=gc,t.DepthFormat=E,t.DepthStencilFormat=A,t.DepthTexture=go,t.DirectionalLight=al,t.DirectionalLightHelper=Fu,t.DiscreteInterpolant=ic,t.DodecahedronBufferGeometry=Po,t.DodecahedronGeometry=Io,t.DoubleSide=<span class="code-number">2</span>,t.DstAlphaFactor=<span class="code-number">206</span>,t.DstColorFactor=<span class="code-number">208</span>,t.DynamicBufferAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."</span>),<span class="code-keyword">new</span> Qe(t,e).setUsage(et)},t.DynamicCopyUsage=<span class="code-number">35050</span>,t.DynamicDrawUsage=et,t.DynamicReadUsage=<span class="code-number">35049</span>,t.EdgesGeometry=zo,t.EdgesHelper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."</span>),<span class="code-keyword">new</span> io(<span class="code-keyword">new</span> zo(t.geometry),<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">16777215</span>}))},t.EllipseCurve=Lc,t.EqualDepth=<span class="code-number">4</span>,t.EqualStencilFunc=<span class="code-number">514</span>,t.EquirectangularReflectionMapping=a,t.EquirectangularRefractionMapping=o,t.Euler=ae,t.EventDispatcher=rt,t.ExtrudeBufferGeometry=ds,t.ExtrudeGeometry=fs,t.Face3=je,t.Face4=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n,r,i,a,o</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Face4 has been removed. A THREE.Face3 will be created instead."</span>),<span class="code-keyword">new</span> je(t,e,n,i,a,o)},t.FaceColors=<span class="code-number">1</span>,t.FileLoader=_c,t.FlatShading=<span class="code-number">1</span>,t.Float16BufferAttribute=on,t.Float32Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."</span>),<span class="code-keyword">new</span> sn(t,e)},t.Float32BufferAttribute=sn,t.Float64Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."</span>),<span class="code-keyword">new</span> cn(t,e)},t.Float64BufferAttribute=cn,t.FloatType=b,t.Fog=ua,t.FogExp2=la,t.Font=wl,t.FontLoader=Sl,t.FrontSide=<span class="code-number">0</span>,t.Frustum=er,t.GLBufferAttribute=uu,t.GLSL1=<span class="code-string">"100"</span>,t.GLSL3=nt,t.GammaEncoding=Y,t.Geometry=wo,t.GeometryUtils=Ah,t.GreaterDepth=<span class="code-number">6</span>,t.GreaterEqualDepth=<span class="code-number">5</span>,t.GreaterEqualStencilFunc=<span class="code-number">518</span>,t.GreaterStencilFunc=<span class="code-number">516</span>,t.GridHelper=Du,t.Group=ra,t.HalfFloatType=w,t.HemisphereLight=Qc,t.HemisphereLightHelper=Nu,t.HemisphereLightProbe=Al,t.IcosahedronBufferGeometry=ms,t.IcosahedronGeometry=vs,t.ImageBitmapLoader=_l,t.ImageLoader=Mc,t.ImageUtils=mt,t.ImmediateRenderObject=bu,t.IncrementStencilOp=<span class="code-number">7682</span>,t.IncrementWrapStencilOp=<span class="code-number">34055</span>,t.InstancedBufferAttribute=pl,t.InstancedBufferGeometry=dl,t.InstancedInterleavedBuffer=lu,t.InstancedMesh=Ya,t.Int16Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."</span>),<span class="code-keyword">new</span> en(t,e)},t.Int16BufferAttribute=en,t.Int32Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."</span>),<span class="code-keyword">new</span> rn(t,e)},t.Int32BufferAttribute=rn,t.Int8Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."</span>),<span class="code-keyword">new</span> Ke(t,e)},t.Int8BufferAttribute=Ke,t.IntType=<span class="code-number">1013</span>,t.InterleavedBuffer=da,t.InterleavedBufferAttribute=ma,t.Interpolant=ec,t.InterpolateDiscrete=U,t.InterpolateLinear=F,t.InterpolateSmooth=G,t.InvertStencilOp=<span class="code-number">5386</span>,t.JSONLoader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.JSONLoader has been removed."</span>)},t.KeepStencilOp=$,t.KeyframeTrack=ac,t.LOD=Ua,t.LatheBufferGeometry=gs,t.LatheGeometry=ys,t.Layers=ce,t.LensFlare=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">console</span>.error(<span class="code-string">"THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js"</span>)},t.LessDepth=<span class="code-number">2</span>,t.LessEqualDepth=<span class="code-number">3</span>,t.LessEqualStencilFunc=<span class="code-number">515</span>,t.LessStencilFunc=<span class="code-number">513</span>,t.Light=Jc,t.LightProbe=ll,t.Line=eo,t.Line3=_u,t.LineBasicMaterial=Za,t.LineCurve=Hc,t.LineCurve3=kc,t.LineDashedMaterial=Ks,t.LineLoop=ao,t.LinePieces=<span class="code-number">1</span>,t.LineSegments=io,t.LineStrip=<span class="code-number">0</span>,t.LinearEncoding=q,t.LinearFilter=m,t.LinearInterpolant=rc,t.LinearMipMapLinearFilter=<span class="code-number">1008</span>,t.LinearMipMapNearestFilter=<span class="code-number">1007</span>,t.LinearMipmapLinearFilter=g,t.LinearMipmapNearestFilter=v,t.LinearToneMapping=<span class="code-number">1</span>,t.Loader=yc,t.LoaderUtils=hl,t.LoadingManager=vc,t.LogLuvEncoding=<span class="code-number">3003</span>,t.LoopOnce=<span class="code-number">2200</span>,t.LoopPingPong=<span class="code-number">2202</span>,t.LoopRepeat=<span class="code-number">2201</span>,t.LuminanceAlphaFormat=<span class="code-number">1025</span>,t.LuminanceFormat=<span class="code-number">1024</span>,t.MOUSE={<span class="code-attr">LEFT</span>:<span class="code-number">0</span>,<span class="code-attr">MIDDLE</span>:<span class="code-number">1</span>,<span class="code-attr">RIGHT</span>:<span class="code-number">2</span>,<span class="code-attr">ROTATE</span>:<span class="code-number">0</span>,<span class="code-attr">DOLLY</span>:<span class="code-number">1</span>,<span class="code-attr">PAN</span>:<span class="code-number">2</span>},t.Material=Xe,t.MaterialLoader=ul,t.Math=st,t.MathUtils=st,t.Matrix3=ft,t.Matrix4=Qt,t.MaxEquation=<span class="code-number">104</span>,t.Mesh=Un,t.MeshBasicMaterial=Ye,t.MeshDepthMaterial=Ji,t.MeshDistanceMaterial=Qi,t.MeshFaceMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MeshFaceMaterial has been removed. Use an Array instead."</span>),t},t.MeshLambertMaterial=Js,t.MeshMatcapMaterial=Qs,t.MeshNormalMaterial=Zs,t.MeshPhongMaterial=Xs,t.MeshPhysicalMaterial=qs,t.MeshStandardMaterial=js,t.MeshToonMaterial=Ys,t.MinEquation=<span class="code-number">103</span>,t.MirroredRepeatWrapping=h,t.MixOperation=<span class="code-number">1</span>,t.MultiMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=[]),<span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.MultiMaterial has been removed. Use an Array instead."</span>),t.isMultiMaterial=!<span class="code-number">0</span>,t.materials=t,t.clone=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.slice()},t},t.MultiplyBlending=<span class="code-number">4</span>,t.MultiplyOperation=<span class="code-number">0</span>,t.NearestFilter=d,t.NearestMipMapLinearFilter=<span class="code-number">1005</span>,t.NearestMipMapNearestFilter=<span class="code-number">1004</span>,t.NearestMipmapLinearFilter=f,t.NearestMipmapNearestFilter=p,t.NeverDepth=<span class="code-number">0</span>,t.NeverStencilFunc=<span class="code-number">512</span>,t.NoBlending=<span class="code-number">0</span>,t.NoColors=<span class="code-number">0</span>,t.NoToneMapping=<span class="code-number">0</span>,t.NormalAnimationBlendMode=W,t.NormalBlending=<span class="code-number">1</span>,t.NotEqualDepth=<span class="code-number">7</span>,t.NotEqualStencilFunc=<span class="code-number">517</span>,t.NumberKeyframeTrack=cc,t.Object3D=we,t.ObjectLoader=vl,t.ObjectSpaceNormalMap=<span class="code-number">1</span>,t.OctahedronBufferGeometry=xs,t.OctahedronGeometry=_s,t.OneFactor=<span class="code-number">201</span>,t.OneMinusDstAlphaFactor=<span class="code-number">207</span>,t.OneMinusDstColorFactor=<span class="code-number">209</span>,t.OneMinusSrcAlphaFactor=<span class="code-number">205</span>,t.OneMinusSrcColorFactor=<span class="code-number">203</span>,t.OrthographicCamera=rl,t.PCFShadowMap=<span class="code-number">1</span>,t.PCFSoftShadowMap=<span class="code-number">2</span>,t.PMREMGenerator=gh,t.ParametricBufferGeometry=bs,t.ParametricGeometry=ws,t.Particle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Particle has been renamed to THREE.Sprite."</span>),<span class="code-keyword">new</span> Ra(t)},t.ParticleBasicMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."</span>),<span class="code-keyword">new</span> oo(t)},t.ParticleSystem=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ParticleSystem has been renamed to THREE.Points."</span>),<span class="code-keyword">new</span> ho(t,e)},t.ParticleSystemMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."</span>),<span class="code-keyword">new</span> oo(t)},t.Path=Yc,t.PerspectiveCamera=Xn,t.Plane=Ee,t.PlaneBufferGeometry=ir,t.PlaneGeometry=Ms,t.PlaneHelper=Ju,t.PointCloud=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.PointCloud has been renamed to THREE.Points."</span>),<span class="code-keyword">new</span> ho(t,e)},t.PointCloudMaterial=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."</span>),<span class="code-keyword">new</span> oo(t)},t.PointLight=nl,t.PointLightHelper=Ru,t.Points=ho,t.PointsMaterial=oo,t.PolarGridHelper=Ou,t.PolyhedronBufferGeometry=Co,t.PolyhedronGeometry=Ss,t.PositionalAudio=Wl,t.PropertyBinding=iu,t.PropertyMixer=ql,t.QuadraticBezierCurve=Vc,t.QuadraticBezierCurve3=Wc,t.Quaternion=wt,t.QuaternionKeyframeTrack=uc,t.QuaternionLinearInterpolant=lc,t.REVISION=<span class="code-string">"123"</span>,t.RGBADepthPacking=<span class="code-number">3201</span>,t.RGBAFormat=T,t.RGBAIntegerFormat=<span class="code-number">1033</span>,t.RGBA_ASTC_10x10_Format=<span class="code-number">37819</span>,t.RGBA_ASTC_10x5_Format=<span class="code-number">37816</span>,t.RGBA_ASTC_10x6_Format=<span class="code-number">37817</span>,t.RGBA_ASTC_10x8_Format=<span class="code-number">37818</span>,t.RGBA_ASTC_12x10_Format=<span class="code-number">37820</span>,t.RGBA_ASTC_12x12_Format=<span class="code-number">37821</span>,t.RGBA_ASTC_4x4_Format=<span class="code-number">37808</span>,t.RGBA_ASTC_5x4_Format=<span class="code-number">37809</span>,t.RGBA_ASTC_5x5_Format=<span class="code-number">37810</span>,t.RGBA_ASTC_6x5_Format=<span class="code-number">37811</span>,t.RGBA_ASTC_6x6_Format=<span class="code-number">37812</span>,t.RGBA_ASTC_8x5_Format=<span class="code-number">37813</span>,t.RGBA_ASTC_8x6_Format=<span class="code-number">37814</span>,t.RGBA_ASTC_8x8_Format=<span class="code-number">37815</span>,t.RGBA_BPTC_Format=<span class="code-number">36492</span>,t.RGBA_ETC2_EAC_Format=z,t.RGBA_PVRTC_2BPPV1_Format=O,t.RGBA_PVRTC_4BPPV1_Format=D,t.RGBA_S3TC_DXT1_Format=R,t.RGBA_S3TC_DXT3_Format=C,t.RGBA_S3TC_DXT5_Format=P,t.RGBDEncoding=K,t.RGBEEncoding=Z,t.RGBEFormat=<span class="code-number">1023</span>,t.RGBFormat=S,t.RGBIntegerFormat=<span class="code-number">1032</span>,t.RGBM16Encoding=Q,t.RGBM7Encoding=J,t.RGB_ETC1_Format=<span class="code-number">36196</span>,t.RGB_ETC2_Format=B,t.RGB_PVRTC_2BPPV1_Format=N,t.RGB_PVRTC_4BPPV1_Format=I,t.RGB_S3TC_DXT1_Format=L,t.RGFormat=<span class="code-number">1030</span>,t.RGIntegerFormat=<span class="code-number">1031</span>,t.RawShaderMaterial=Ws,t.Ray=Jt,t.Raycaster=hu,t.RectAreaLight=sl,t.RedFormat=<span class="code-number">1028</span>,t.RedIntegerFormat=<span class="code-number">1029</span>,t.ReinhardToneMapping=<span class="code-number">2</span>,t.RepeatWrapping=l,t.ReplaceStencilOp=<span class="code-number">7681</span>,t.ReverseSubtractEquation=<span class="code-number">102</span>,t.RingBufferGeometry=Ts,t.RingGeometry=Es,t.SRGB8_ALPHA8_ASTC_10x10_Format=<span class="code-number">37851</span>,t.SRGB8_ALPHA8_ASTC_10x5_Format=<span class="code-number">37848</span>,t.SRGB8_ALPHA8_ASTC_10x6_Format=<span class="code-number">37849</span>,t.SRGB8_ALPHA8_ASTC_10x8_Format=<span class="code-number">37850</span>,t.SRGB8_ALPHA8_ASTC_12x10_Format=<span class="code-number">37852</span>,t.SRGB8_ALPHA8_ASTC_12x12_Format=<span class="code-number">37853</span>,t.SRGB8_ALPHA8_ASTC_4x4_Format=<span class="code-number">37840</span>,t.SRGB8_ALPHA8_ASTC_5x4_Format=<span class="code-number">37841</span>,t.SRGB8_ALPHA8_ASTC_5x5_Format=<span class="code-number">37842</span>,t.SRGB8_ALPHA8_ASTC_6x5_Format=<span class="code-number">37843</span>,t.SRGB8_ALPHA8_ASTC_6x6_Format=<span class="code-number">37844</span>,t.SRGB8_ALPHA8_ASTC_8x5_Format=<span class="code-number">37845</span>,t.SRGB8_ALPHA8_ASTC_8x6_Format=<span class="code-number">37846</span>,t.SRGB8_ALPHA8_ASTC_8x8_Format=<span class="code-number">37847</span>,t.Scene=ha,t.SceneUtils=Lh,t.ShaderChunk=ar,t.ShaderLib=sr,t.ShaderMaterial=jn,t.ShadowMaterial=Vs,t.Shape=Zc,t.ShapeBufferGeometry=As,t.ShapeGeometry=Ls,t.ShapePath=bl,t.ShapeUtils=ls,t.ShortType=<span class="code-number">1011</span>,t.Skeleton=Va,t.SkeletonHelper=Au,t.SkinnedMesh=Fa,t.SmoothShading=<span class="code-number">2</span>,t.Sphere=kt,t.SphereBufferGeometry=Rs,t.SphereGeometry=Cs,t.Spherical=fu,t.SphericalHarmonics3=cl,t.Spline=Eh,t.SplineCurve=jc,t.SplineCurve3=Th,t.SpotLight=tl,t.SpotLightHelper=Mu,t.Sprite=Ra,t.SpriteMaterial=va,t.SrcAlphaFactor=<span class="code-number">204</span>,t.SrcAlphaSaturateFactor=<span class="code-number">210</span>,t.SrcColorFactor=<span class="code-number">202</span>,t.StaticCopyUsage=<span class="code-number">35046</span>,t.StaticDrawUsage=tt,t.StaticReadUsage=<span class="code-number">35045</span>,t.StereoCamera=Pl,t.StreamCopyUsage=<span class="code-number">35042</span>,t.StreamDrawUsage=<span class="code-number">35040</span>,t.StreamReadUsage=<span class="code-number">35041</span>,t.StringKeyframeTrack=hc,t.SubtractEquation=<span class="code-number">101</span>,t.SubtractiveBlending=<span class="code-number">3</span>,t.TOUCH={<span class="code-attr">ROTATE</span>:<span class="code-number">0</span>,<span class="code-attr">PAN</span>:<span class="code-number">1</span>,<span class="code-attr">DOLLY_PAN</span>:<span class="code-number">2</span>,<span class="code-attr">DOLLY_ROTATE</span>:<span class="code-number">3</span>},t.TangentSpaceNormalMap=<span class="code-number">0</span>,t.TetrahedronBufferGeometry=Ps,t.TetrahedronGeometry=Is,t.TextBufferGeometry=Ns,t.TextGeometry=Ds,t.Texture=gt,t.TextureLoader=Ec,t.TorusBufferGeometry=Os,t.TorusGeometry=Bs,t.TorusKnotBufferGeometry=zs,t.TorusKnotGeometry=Us,t.Triangle=ze,t.TriangleFanDrawMode=<span class="code-number">2</span>,t.TriangleStripDrawMode=<span class="code-number">1</span>,t.TrianglesDrawMode=<span class="code-number">0</span>,t.TubeBufferGeometry=Fs,t.TubeGeometry=Gs,t.UVMapping=n,t.Uint16Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."</span>),<span class="code-keyword">new</span> nn(t,e)},t.Uint16BufferAttribute=nn,t.Uint32Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."</span>),<span class="code-keyword">new</span> an(t,e)},t.Uint32BufferAttribute=an,t.Uint8Attribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."</span>),<span class="code-keyword">new</span> $e(t,e)},t.Uint8BufferAttribute=$e,t.Uint8ClampedAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."</span>),<span class="code-keyword">new</span> tn(t,e)},t.Uint8ClampedBufferAttribute=tn,t.Uniform=cu,t.UniformsLib=or,t.UniformsUtils=Wn,t.UnsignedByteType=y,t.UnsignedInt248Type=M,t.UnsignedIntType=_,t.UnsignedShort4444Type=<span class="code-number">1017</span>,t.UnsignedShort5551Type=<span class="code-number">1018</span>,t.UnsignedShort565Type=<span class="code-number">1019</span>,t.UnsignedShortType=x,t.VSMShadowMap=<span class="code-number">3</span>,t.Vector2=pt,t.Vector3=Mt,t.Vector4=xt,t.VectorKeyframeTrack=dc,t.Vertex=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.Vertex has been removed. Use THREE.Vector3 instead."</span>),<span class="code-keyword">new</span> Mt(t,e,n)},t.VertexColors=<span class="code-number">2</span>,t.VideoTexture=fo,t.WebGL1Renderer=ca,t.WebGLCubeRenderTarget=Qn,t.WebGLMultisampleRenderTarget=bt,t.WebGLRenderTarget=_t,t.WebGLRenderTargetCube=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."</span>),<span class="code-keyword">new</span> Qn(t,n)},t.WebGLRenderer=sa,t.WebGLUtils=ea,t.WireframeGeometry=Hs,t.WireframeHelper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."</span>),<span class="code-keyword">new</span> io(<span class="code-keyword">new</span> Hs(t.geometry),<span class="code-keyword">new</span> Za({<span class="code-attr">color</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>!==e?e:<span class="code-number">16777215</span>}))},t.WrapAroundEnding=V,t.XHRLoader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">console</span>.warn(<span class="code-string">"THREE.XHRLoader has been renamed to THREE.FileLoader."</span>),<span class="code-keyword">new</span> _c(t)},t.ZeroCurvatureEnding=H,t.ZeroFactor=<span class="code-number">200</span>,t.ZeroSlopeEnding=k,t.ZeroStencilOp=<span class="code-number">0</span>,t.sRGBEncoding=X,<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>})}));
</code></td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->b5d1b223</span></p><p><span> <!-- -->2020<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(l,t,c){function k(){k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a};return k.apply(this,arguments)}function F(a,b){if(null==a)return{};var c={},e=Object.keys(a),f;for(f=0;f<e.length;f++){var h=e[f];0<=b.indexOf(h)||(c[h]=a[h])}return c}function G(a,b){b||(b=a.slice(0));a.raw=b;return a}function H(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function v(a,b){return b={exports:{}},a(b,b.exports),b.exports}function I(){}function J(){}function K(a){var b,d=a.children;a=a.css;return c.jsx("div",{css:k((b={border:"1px solid #dfe2e5",borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},d)}function L(a){var b,d=a.children;a=a.css;return c.jsx("div",{css:k((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,
margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},d)}function M(a){return a&&a.map(function(a,c){return l.createElement(a.tag,r({key:c},a.attr),M(a.child))})}function w(a){return function(b){return l.createElement(fa,r({attr:r({},a.attr)},b),M(a.child))}}function fa(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var d=b.className;a.className&&(d=(d?d+" ":
"")+a.className);var h=a.attr,p=a.title,u=ha(a,["attr","title"]);return l.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,u,{className:d,style:r({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),p&&l.createElement("title",null,p),a.children)};return void 0!==N?l.createElement(N.Consumer,null,function(a){return b(a)}):b(O)}function x(a,b){var d=b.css;b=F(b,["css"]);return c.jsx(a,k({css:k({},d,{verticalAlign:"text-bottom"})},
b))}function ia(a){return x(P,a)}function ja(a){return x(Q,a)}function ka(a){return x(R,a)}function la(a){return x(S,a)}function ma(a){return x(T,a)}function na(a){var b=a.path,d=a.details,e=Object.keys(d).reduce(function(a,b){var c=a.subdirs,e=a.files;b=d[b];"directory"===b.type?c.push(b):"file"===b.type&&e.push(b);return a},{subdirs:[],files:[]});a=e.subdirs;e=e.files;a.sort(U("path"));e.sort(U("path"));var f=[];"/"!==b&&f.push(c.jsx("tr",{key:".."},c.jsx("td",{css:C}),c.jsx("td",{css:n},c.jsx("a",
{title:"Parent directory",href:"../",css:D},"..")),c.jsx("td",{css:n}),c.jsx("td",{css:E})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var d=a+"/";f.push(c.jsx("tr",{key:a},c.jsx("td",{css:C},c.jsx(ka,null)),c.jsx("td",{css:n},c.jsx("a",{title:a,href:d,css:D},a)),c.jsx("td",{css:n},"-"),c.jsx("td",{css:E},"-")))});e.forEach(function(a){var d=a.size,e=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);f.push(c.jsx("tr",{key:a},c.jsx("td",{css:C},"text/plain"===e||"text/markdown"===
e?c.jsx(ia,null):c.jsx(ja,null)),c.jsx("td",{css:n},c.jsx("a",{title:a,href:a,css:D},a)),c.jsx("td",{css:n},V(d)),c.jsx("td",{css:E},e)))});var h=[];0<e.length&&h.push(e.length+" file"+(1===e.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(K,null,c.jsx(L,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(y,null,"Icon")),c.jsx("th",null,c.jsx(y,null,"Name")),c.jsx("th",null,c.jsx(y,null,"Size")),c.jsx("th",null,c.jsx(y,null,"Content Type")))),c.jsx("tbody",null,f)))}function oa(a){a=a.split("/");return a[a.length-1]}function pa(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:oa(a.path),src:b}))}function qa(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var d=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+d,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,d)),c.jsx("td",{id:"LC"+d,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function ra(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function sa(a){var b=a.packageName,d=a.packageVersion,e=a.path;a=a.details;var f=a.highlights,h=a.uri,p=a.language;return c.jsx(K,null,c.jsx(L,null,c.jsx("span",null,V(a.size)),c.jsx("span",null,p),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+d+e,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),f?c.jsx(qa,{highlights:f}):h?c.jsx(pa,{path:e,uri:h}):c.jsx(ra,null))}function W(){var a=G(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
W=function(){return a};return a}function X(){var a=G(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
X=function(){return a};return a}function Y(a){var b=a.css;a=F(a,["css"]);return c.jsx("a",k({},a,{css:k({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function ta(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function ua(a){var b=a.packageName,d=a.packageVersion,e=a.availableVersions;a=a.filename;var f=[];if("/"===
a)f.push(b);else{var h="/browse/"+b+"@"+d;f.push(c.jsx(Y,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;f.push(c.jsx(Y,{href:h+"/"},a))});f.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,f.map(function(a,
b,d){return c.jsx(l.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===d.length-1?c.jsx("strong",null,a):a)}))),c.jsx(va,{packageVersion:d,availableVersions:e,onChange:function(a){window.location.href=window.location.href.replace("@"+d,"@"+a)}}))}function va(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function wa(a){var b=a.packageName,d=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(na,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(sa,{packageName:b,packageVersion:d,path:a.path,details:a.details}):null}var Z="default"in l?l["default"]:l;t=t&&t.hasOwnProperty("default")?t["default"]:t;var xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},aa=v(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case f:switch(a=a.type,a){case q:case g:case p:case l:case u:case z:return a;
default:switch(a=a&&a.$$typeof,a){case m:case A:case k:return a;default:return b}}case n:case B:case h:return b}}}function e(a){return c(a)===g}Object.defineProperty(b,"__esModule",{value:!0});var f=(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,p=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,k=a?Symbol.for("react.provider"):60109,m=a?Symbol.for("react.context"):
60110,q=a?Symbol.for("react.async_mode"):60111,g=a?Symbol.for("react.concurrent_mode"):60111,A=a?Symbol.for("react.forward_ref"):60112,z=a?Symbol.for("react.suspense"):60113,B=a?Symbol.for("react.memo"):60115,n=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=q;b.ConcurrentMode=g;b.ContextConsumer=m;b.ContextProvider=k;b.Element=f;b.ForwardRef=A;b.Fragment=p;b.Lazy=n;b.Memo=B;b.Portal=h;b.Profiler=l;b.StrictMode=u;b.Suspense=z;b.isValidElementType=function(a){return"string"===typeof a||"function"===
typeof a||a===p||a===g||a===l||a===u||a===z||"object"===typeof a&&null!==a&&(a.$$typeof===n||a.$$typeof===B||a.$$typeof===k||a.$$typeof===m||a.$$typeof===A)};b.isAsyncMode=function(a){return e(a)||c(a)===q};b.isConcurrentMode=e;b.isContextConsumer=function(a){return c(a)===m};b.isContextProvider=function(a){return c(a)===k};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===f};b.isForwardRef=function(a){return c(a)===A};b.isFragment=function(a){return c(a)===p};b.isLazy=function(a){return c(a)===
n};b.isMemo=function(a){return c(a)===B};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===l};b.isStrictMode=function(a){return c(a)===u};b.isSuspense=function(a){return c(a)===z}});H(aa);var ya=v(function(a,b){});H(ya);v(function(a){a.exports=aa});(function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;
var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(e){return!1}})();Function.call.bind(Object.prototype.hasOwnProperty);J.resetWarningCache=I;var za=function(){function a(a,b,c,d,l,k){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==k)throw a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),
a.name="Invariant Violation",a;}function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:J,resetWarningCache:I};return c.PropTypes=c};v(function(a){a.exports=za()});var Aa=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a},Ba=
{border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute"},y=function(a){return Z.createElement("div",Aa({style:Ba},a))},ba=v(function(a){(function(b,c){a.exports=c()})(xa,function(){function a(a){if(!a)return!0;if(!f(a)||0!==a.length)for(var b in a)if(n.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===k.call(a)}function e(a){return"string"===typeof a||"[object String]"===k.call(a)}function f(a){return"object"===
typeof a&&"number"===typeof a.length&&"[object Array]"===k.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function p(b,g,d,f){c(g)&&(g=[g]);if(a(g))return b;if(e(g))return p(b,g.split("."),d,f);var q=h(g[0]);if(1===g.length)return g=b[q],void 0!==g&&f||(b[q]=d),g;void 0===b[q]&&(c(q)?b[q]=[]:b[q]={});return p(b[q],g.slice(1),d,f)}function l(b,d){c(d)&&(d=[d]);if(!a(b)){if(a(d))return b;if(e(d))return l(b,d.split("."));var g=h(d[0]),q=b[g];if(1===d.length)void 0!==q&&(f(b)?b.splice(g,
1):delete b[g]);else if(void 0!==b[g])return l(b[g],d.slice(1));return b}}var k=Object.prototype.toString,n=Object.prototype.hasOwnProperty,m={ensureExists:function(a,b,c){return p(a,b,c,!0)},set:function(a,b,c,d){return p(a,b,c,d)},insert:function(a,b,c,d){var e=m.get(a,b);d=~~d;f(e)||(e=[],m.set(a,b,e));e.splice(d,0,c)},empty:function(b,d){if(a(d))return b;if(!a(b)){var g,h;if(!(g=m.get(b,d)))return b;if(e(g))return m.set(b,d,"");if("boolean"===typeof g||"[object Boolean]"===k.call(g))return m.set(b,
d,!1);if(c(g))return m.set(b,d,0);if(f(g))g.length=0;else if("object"===typeof g&&"[object Object]"===k.call(g))for(h in g)n.call(g,h)&&delete g[h];else return m.set(b,d,null)}},push:function(a,b){var c=m.get(a,b);f(c)||(c=[],m.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=m.get(a,b[e])))return d;return c},get:function(b,d,f){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return f;if(e(d))return m.get(b,d.split("."),
f);var g=h(d[0]);return 1===d.length?void 0===b[g]?f:b[g]:m.get(b[g],d.slice(1),f)},del:function(a,b){return l(a,b)}};return m})});var ca=function(a){return function(b){return typeof b===a}};var Ca=function(a,b){var c=1,e=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,d){var f;b=e(a,ba.get(b,a));d=e(a,ba.get(d,a));b<d&&(f=-1);b>d&&(f=1);b===d&&(f=0);return f*c}};var U=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ca("string")),c=a.filter(ca("function"))[0];
return function(a,d){for(var e=b.length,f=0,k=0;0===f&&k<e;)f=Ca(b[k],c)(a,d),k++;return f}};let da="B kB MB GB TB PB EB ZB YB".split(" "),ea=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var V=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let e=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ea(a,b.locale),e+a+" B";c=Math.min(Math.floor(Math.log10(a)/
3),da.length-1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ea(a,b.locale);return e+a+" "+da[c]},O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N=l.createContext&&l.createContext(O),r=window&&window.__assign||function(){r=Object.assign||function(a){for(var b,c=1,e=arguments.length;c<e;c++){b=arguments[c];for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f])}return a};return r.apply(this,arguments)},ha=window&&window.__rest||function(a,b){var c={},e;for(e in a)Object.prototype.hasOwnProperty.call(a,
e)&&0>b.indexOf(e)&&(c[e]=a[e]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var f=0;for(e=Object.getOwnPropertySymbols(a);f<e.length;f++)0>b.indexOf(e[f])&&(c[e[f]]=a[e[f]])}return c},Q=function(a){return w({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};
Q.displayName="GoFileCode";var R=function(a){return w({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};R.displayName="GoFileDirectory";var P=function(a){return w({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};
P.displayName="GoFile";var T=function(a){return w({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
T.displayName="FaGithub";var S=function(a){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
S.displayName="FaTwitter";var D={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},n={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},C=k({},n,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),E=k({},n,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}}),Da=c.css(X(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ea=c.css(W());t.hydrate(Z.createElement(function(a){var b=a.packageName,d=a.packageVersion,e=a.availableVersions;e=void 0===e?[]:e;var f=a.filename;a=a.target;return c.jsx(l.Fragment,null,c.jsx(c.Global,{styles:Da}),c.jsx(c.Global,{styles:Ea}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},
c.jsx(ta,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(ua,{packageName:b,packageVersion:d,availableVersions:e,filename:f})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(wa,{packageName:b,packageVersion:d,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",
justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","b5d1b223")),c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(la,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(ma,null))))))},window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>